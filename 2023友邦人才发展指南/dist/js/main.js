var $jscomp=$jscomp||{},$jscomp$lookupPolyfilledValue=($jscomp.scope={},$jscomp.arrayIteratorImpl=function(t){var i=0;return function(){return i<t.length?{done:!1,value:t[i++]}:{done:!0}}},$jscomp.arrayIterator=function(t){return{next:$jscomp.arrayIteratorImpl(t)}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,i,e){return t!=Array.prototype&&t!=Object.prototype&&(t[i]=e.value),t},$jscomp.getGlobal=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var i=0;i<t.length;++i){var e=t[i];if(e&&e.Math==Math)return e}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE,$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$",function(t,i){var e=$jscomp.propertyToPolyfillSymbol[i];return null!=e&&void 0!==(e=t[e])?e:t[i]}),UserGroups=($jscomp.polyfill=function(t,i,e,o){i&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(t,i,e,o):$jscomp.polyfillUnisolated(t,i,e,o))},$jscomp.polyfillUnisolated=function(t,i,e,o){for(e=$jscomp.global,t=t.split("."),o=0;o<t.length-1;o++){var s=t[o];if(!(s in e))return;e=e[s]}(i=i(o=e[t=t[t.length-1]]))!=o&&null!=i&&$jscomp.defineProperty(e,t,{configurable:!0,writable:!0,value:i})},$jscomp.polyfillIsolated=function(t,i,e,o){var s=t.split(".");t=1===s.length,o=s[0],o=!t&&o in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var n=0;n<s.length-1;n++){var a=s[n];if(!(a in o))return;o=o[a]}s=s[s.length-1],null!=(i=i(e=$jscomp.IS_SYMBOL_NATIVE&&"es6"===e?o[s]:null))&&(t?$jscomp.defineProperty($jscomp.polyfills,s,{configurable:!0,writable:!0,value:i}):i!==e&&(void 0===$jscomp.propertyToPolyfillSymbol[s]&&(e=1e9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[s]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(s):$jscomp.POLYFILL_PREFIX+e+"$"+s),$jscomp.defineProperty(o,$jscomp.propertyToPolyfillSymbol[s],{configurable:!0,writable:!0,value:i})))},$jscomp.initSymbol=function(){},$jscomp.polyfill("Symbol",function(t){var i,e,o,s;return t||((i=function(t,i){this.$jscomp$symbol$id_=t,$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:i})}).prototype.toString=function(){return this.$jscomp$symbol$id_},e="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",o=0,s=function(t){if(this instanceof s)throw new TypeError("Symbol is not a constructor");return new i(e+(t||"")+"_"+o++,t)})},"es6","es3"),$jscomp.polyfill("Symbol.iterator",function(t){if(!t){t=Symbol("Symbol.iterator");for(var i="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),e=0;e<i.length;e++){var o=$jscomp.global[i[e]];"function"==typeof o&&"function"!=typeof o.prototype[t]&&$jscomp.defineProperty(o.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}}return t},"es6","es3"),$jscomp.iteratorPrototype=function(t){return(t={next:t})[Symbol.iterator]=function(){return this},t},$jscomp.underscoreProtoCanBeSet=function(){var t={};try{return t.__proto__={a:!0},t.a}catch(t){}return!1},$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(t,i){if(t.__proto__=i,t.__proto__!==i)throw new TypeError(t+" is not extensible");return t}:null,$jscomp.makeIterator=function(t){var i="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return i?i.call(t):$jscomp.arrayIterator(t)},$jscomp.generator={},$jscomp.generator.ensureIteratorResultIsObject_=function(t){if(!(t instanceof Object))throw new TypeError("Iterator result "+t+" is not an object")},$jscomp.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1},$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},$jscomp.generator.Context.prototype.next_=function(t){this.yieldResult=t},$jscomp.generator.Context.prototype.throw_=function(t){this.abruptCompletion_={exception:t,isException:!0},this.jumpToErrorHandler_()},$jscomp.generator.Context.prototype.return=function(t){this.abruptCompletion_={return:t},this.nextAddress=this.finallyAddress_},$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(t){this.abruptCompletion_={jumpTo:t},this.nextAddress=this.finallyAddress_},$jscomp.generator.Context.prototype.yield=function(t,i){return this.nextAddress=i,{value:t}},$jscomp.generator.Context.prototype.yieldAll=function(t,i){var e=(t=$jscomp.makeIterator(t)).next();if($jscomp.generator.ensureIteratorResultIsObject_(e),!e.done)return this.yieldAllIterator_=t,this.yield(e.value,i);this.yieldResult=e.value,this.nextAddress=i},$jscomp.generator.Context.prototype.jumpTo=function(t){this.nextAddress=t},$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(t,i){this.catchAddress_=t,null!=i&&(this.finallyAddress_=i)},$jscomp.generator.Context.prototype.setFinallyBlock=function(t){this.catchAddress_=0,this.finallyAddress_=t||0},$jscomp.generator.Context.prototype.leaveTryBlock=function(t,i){this.nextAddress=t,this.catchAddress_=i||0},$jscomp.generator.Context.prototype.enterCatchBlock=function(t){return this.catchAddress_=t||0,t=this.abruptCompletion_.exception,this.abruptCompletion_=null,t},$jscomp.generator.Context.prototype.enterFinallyBlock=function(t,i,e){e?this.finallyContexts_[e]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=t||0,this.finallyAddress_=i||0},$jscomp.generator.Context.prototype.leaveFinallyBlock=function(t,i){if(i=this.finallyContexts_.splice(i||0)[0],i=this.abruptCompletion_=this.abruptCompletion_||i){if(i.isException)return this.jumpToErrorHandler_();null!=i.jumpTo&&this.finallyAddress_<i.jumpTo?(this.nextAddress=i.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=t},$jscomp.generator.Context.prototype.forIn=function(t){return new $jscomp.generator.Context.PropertyIterator(t)},$jscomp.generator.Context.PropertyIterator=function(t){for(var i in this.object_=t,this.properties_=[],t)this.properties_.push(i);this.properties_.reverse()},$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var t=this.properties_.pop();if(t in this.object_)return t}return null},$jscomp.generator.Engine_=function(t){this.context_=new $jscomp.generator.Context,this.program_=t},$jscomp.generator.Engine_.prototype.next_=function(t){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,t,this.context_.next_):(this.context_.next_(t),this.nextStep_())},$jscomp.generator.Engine_.prototype.return_=function(t){this.context_.start_();var i=this.context_.yieldAllIterator_;return i?this.yieldAllStep_("return"in i?i.return:function(t){return{value:t,done:!0}},t,this.context_.return):(this.context_.return(t),this.nextStep_())},$jscomp.generator.Engine_.prototype.throw_=function(t){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,t,this.context_.next_):(this.context_.throw_(t),this.nextStep_())},$jscomp.generator.Engine_.prototype.yieldAllStep_=function(t,i,e){try{var o=t.call(this.context_.yieldAllIterator_,i);if($jscomp.generator.ensureIteratorResultIsObject_(o),!o.done)return this.context_.stop_(),o;var s=o.value}catch(t){return this.context_.yieldAllIterator_=null,this.context_.throw_(t),this.nextStep_()}return this.context_.yieldAllIterator_=null,e.call(this.context_,s),this.nextStep_()},$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var t=this.program_(this.context_);if(t)return this.context_.stop_(),{value:t.value,done:!1}}catch(t){this.context_.yieldResult=void 0,this.context_.throw_(t)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(t=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,t.isException)throw t.exception;return{value:t.return,done:!0}}return{value:void 0,done:!0}},$jscomp.generator.Generator_=function(i){this.next=function(t){return i.next_(t)},this.throw=function(t){return i.throw_(t)},this.return=function(t){return i.return_(t)},this[Symbol.iterator]=function(){return this}},$jscomp.generator.createGenerator=function(t,i){return i=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(i)),$jscomp.setPrototypeOf&&t.prototype&&$jscomp.setPrototypeOf(i,t.prototype),i},$jscomp.asyncExecutePromiseGenerator=function(i){function s(t){return i.next(t)}function n(t){return i.throw(t)}return new Promise(function(e,o){!function t(i){i.done?e(i.value):Promise.resolve(i.value).then(s,n).then(t,o)}(i.next())})},$jscomp.asyncExecutePromiseGeneratorFunction=function(t){return $jscomp.asyncExecutePromiseGenerator(t())},$jscomp.asyncExecutePromiseGeneratorProgram=function(t){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(t)))},$jscomp.polyfill("Promise",function(t){function i(){this.batch_=null}function a(e){return e instanceof h?e:new h(function(t,i){t(e)})}if(t&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&void 0===$jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return t;i.prototype.asyncExecute=function(t){var i;null==this.batch_&&(this.batch_=[],(i=this).asyncExecuteFunction(function(){i.executeBatch_()})),this.batch_.push(t)};function h(t){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[],this.isRejectionHandled_=!1;var i=this.createResolveAndReject_();try{t(i.resolve,i.reject)}catch(t){i.reject(t)}}var e=$jscomp.global.setTimeout,s=(i.prototype.asyncExecuteFunction=function(t){e(t,0)},i.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var t=this.batch_;this.batch_=[];for(var i=0;i<t.length;++i){var e=t[i];t[i]=null;try{e()}catch(t){this.asyncThrow_(t)}}}this.batch_=null},i.prototype.asyncThrow_=function(t){this.asyncExecuteFunction(function(){throw t})},h.prototype.createResolveAndReject_=function(){function t(i){return function(t){o||(o=!0,i.call(e,t))}}var e=this,o=!1;return{resolve:t(this.resolveTo_),reject:t(this.reject_)}},h.prototype.resolveTo_=function(t){if(t===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof h)this.settleSameAsPromise_(t);else{switch(typeof t){case"object":var i=null!=t;break;case"function":i=!0;break;default:i=!1}i?this.resolveToNonPromiseObj_(t):this.fulfill_(t)}},h.prototype.resolveToNonPromiseObj_=function(t){var i=void 0;try{i=t.then}catch(t){return void this.reject_(t)}"function"==typeof i?this.settleSameAsThenable_(i,t):this.fulfill_(t)},h.prototype.reject_=function(t){this.settle_(2,t)},h.prototype.fulfill_=function(t){this.settle_(1,t)},h.prototype.settle_=function(t,i){if(0!=this.state_)throw Error("Cannot settle("+t+", "+i+"): Promise already settled in state"+this.state_);this.state_=t,this.result_=i,2===this.state_&&this.scheduleUnhandledRejectionCheck_(),this.executeOnSettledCallbacks_()},h.prototype.scheduleUnhandledRejectionCheck_=function(){var i=this;e(function(){var t;i.notifyUnhandledRejection_()&&void 0!==(t=$jscomp.global.console)&&t.error(i.result_)},1)},h.prototype.notifyUnhandledRejection_=function(){var t,i,e;return!this.isRejectionHandled_&&(t=$jscomp.global.CustomEvent,i=$jscomp.global.Event,void 0===(e=$jscomp.global.dispatchEvent)||("function"==typeof t?t=new t("unhandledrejection",{cancelable:!0}):"function"==typeof i?t=new i("unhandledrejection",{cancelable:!0}):(t=$jscomp.global.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,t),t.promise=this,t.reason=this.result_,e(t)))},h.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var t=0;t<this.onSettledCallbacks_.length;++t)s.asyncExecute(this.onSettledCallbacks_[t]);this.onSettledCallbacks_=null}},new i);return h.prototype.settleSameAsPromise_=function(t){var i=this.createResolveAndReject_();t.callWhenSettled_(i.resolve,i.reject)},h.prototype.settleSameAsThenable_=function(t,i){var e=this.createResolveAndReject_();try{t.call(i,e.resolve,e.reject)}catch(t){e.reject(t)}},h.prototype.then=function(t,i){function e(i,t){return"function"==typeof i?function(t){try{o(i(t))}catch(t){s(t)}}:t}var o,s,n=new h(function(t,i){o=t,s=i});return this.callWhenSettled_(e(t,o),e(i,s)),n},h.prototype.catch=function(t){return this.then(void 0,t)},h.prototype.callWhenSettled_=function(t,i){function e(){switch(o.state_){case 1:t(o.result_);break;case 2:i(o.result_);break;default:throw Error("Unexpected state: "+o.state_)}}var o=this;null==this.onSettledCallbacks_?s.asyncExecute(e):this.onSettledCallbacks_.push(e),this.isRejectionHandled_=!0},h.resolve=a,h.reject=function(e){return new h(function(t,i){i(e)})},h.race=function(s){return new h(function(t,i){for(var e=$jscomp.makeIterator(s),o=e.next();!o.done;o=e.next())a(o.value).callWhenSettled_(t,i)})},h.all=function(t){var i=$jscomp.makeIterator(t),n=i.next();return n.done?a([]):new h(function(e,t){for(var o=[],s=0;o.push(void 0),s++,a(n.value).callWhenSettled_(function(i){return function(t){o[i]=t,0==--s&&e(o)}}(o.length-1),t),!(n=i.next()).done;);})},h},"es6","es3"),$jscomp.iteratorFromArray=function(i,e){i instanceof String&&(i+="");var o=0,s=!1,t={next:function(){var t;return!s&&o<i.length?(t=o++,{value:e(t,i[t]),done:!1}):{done:s=!0,value:void 0}}};return t[Symbol.iterator]=function(){return t},t},$jscomp.polyfill("Array.prototype.keys",function(t){return t||function(){return $jscomp.iteratorFromArray(this,function(t){return t})}},"es6","es3"),$jscomp.findInternal=function(t,i,e){for(var o=(t=t instanceof String?String(t):t).length,s=0;s<o;s++){var n=t[s];if(i.call(e,n,s,t))return{i:s,v:n}}return{i:-1,v:void 0}},$jscomp.polyfill("Array.prototype.find",function(t){return t||function(t,i){return $jscomp.findInternal(this,t,i).v}},"es6","es3"),$jscomp.checkStringArgs=function(t,i,e){if(null==t)throw new TypeError("The 'this' value for String.prototype."+e+" must not be null or undefined");if(i instanceof RegExp)throw new TypeError("First argument to String.prototype."+e+" must not be a regular expression");return t+""},$jscomp.polyfill("String.prototype.endsWith",function(t){return t||function(t,i){var e=$jscomp.checkStringArgs(this,t,"endsWith");t+="",void 0===i&&(i=e.length),i=Math.max(0,Math.min(0|i,e.length));for(var o=t.length;0<o&&0<i;)if(e[--i]!=t[--o])return!1;return o<=0}},"es6","es3"),$jscomp.polyfill("Array.prototype.fill",function(t){return t||function(t,i,e){var o=this.length||0;for(i<0&&(i=Math.max(0,o+i)),(null==e||o<e)&&(e=o),(e=Number(e))<0&&(e=Math.max(0,o+e)),i=Number(i||0);i<e;i++)this[i]=t;return this}},"es6","es3"),$jscomp.typedArrayFill=function(t){return t||Array.prototype.fill},$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("String.prototype.startsWith",function(t){return t||function(t,i){var e=$jscomp.checkStringArgs(this,t,"startsWith"),o=e.length,s=(t+="").length;i=Math.max(0,Math.min(0|i,e.length));for(var n=0;n<s&&i<o;)if(e[i++]!=t[n++])return!1;return s<=n}},"es6","es3"),$jscomp.polyfill("Array.from",function(t){return t||function(t,i,e){i=null!=i?i:function(t){return t};var o=[],s="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];if("function"==typeof s){t=s.call(t);for(var n=0;!(s=t.next()).done;)o.push(i.call(e,s.value,n++))}else for(s=t.length,n=0;n<s;n++)o.push(i.call(e,t[n],n));return o}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(t){return t||function(t){var i=$jscomp.checkStringArgs(this,null,"repeat");if(t<0||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var e="";t;)1&t&&(e+=i),(t>>>=1)&&(i+=i);return e}},"es6","es3"),$jscomp.polyfill("Array.prototype.flat",function(t){return t||function(t){t=void 0===t?1:t;for(var i=[],e=0;e<this.length;e++){var o=this[e];Array.isArray(o)&&0<t?(o=Array.prototype.flat.call(o,t-1),i.push.apply(i,o)):i.push(o)}return i}},"es9","es5"),"Chinese"),isFirefox=((this||(0,eval)("(this)")).bdor=[],!function(t){function i(t){var i;return null==(t=o.match(t))||0==t.length||(i=(t=t[0]).indexOf("/"),""==(t=t.substring(i+1,t.length)))?0:parseInt(t)}function e(t){return null==(t=o.match(t))||0==t.length||null==(t=t[0].replace("_",".").match(/\d+\.?\d?/))||0==t.length||""==(t=t[0])?0:parseFloat(t)}var o=navigator.userAgent.toLowerCase();if(t.browser={},t.browser.webkit=/webkit/.test(o),t.browser.mozilla=/firefox/.test(o),t.browser.firefox=t.browser.mozilla,t.browser.msie=/msie/.test(o)||/trident/.test(o)||/edge/.test(o),t.browser.edge=/edge/.test(o),t.browser.opera=/opera/.test(o)||/opr/.test(o),t.browser.chrome=/chrome/.test(o)&&!t.browser.opera&&!t.browser.edge,t.browser.uc=/ucbrowser/.test(o),t.browser.safari=/safari/.test(o)&&!t.browser.chrome&&!t.browser.uc&&!t.browser.opera,t.browser.wechat=/micromessenger/.test(o),t.browser.version=0,bdor[1]="p",t.browser.firefox&&(t.browser.version=i(/firefox\/\d+/)),t.browser.msie&&(null==(n=o.match(/msie\s?\d+\.0/))?null!=(n=o.match(/trident\/\d+\.0/))&&0<n.length?(n=n[0],n=parseInt(n.replace("trident/","")),t.browser.version=n+4):null!=(n=o.match(/edge\/\d+\.0/))&&0<n.length&&(n=n[0],n=parseInt(n.replace("edge/","")),t.browser.version=n):(n=parseInt(n[0].replace("msie","")),t.browser.version=n)),t.browser.opera&&(t.browser.version=i(/opera\/\d+/)||i(/opr\/\d+/)),t.browser.chrome&&(t.browser.version=i(/chrome\/\d+/)),t.browser.uc&&(t.browser.version=i(/ucbrowser\/\d+/)),t.browser.safari&&(t.browser.version=i(/safari\/\d+/)),null==t.browser.device){t.browser.DEVICE_PC=0,t.browser.DEVICE_PAD=1,t.browser.DEVICE_PHONE=2;var s=/pad/.test(o)||/ipod/.test(o),n=/iphone/.test(o),a=/wpdesktop/.test(o)||/windows phone/.test(o),h=/blackberry/.test(o),r=/mobile/.test(o)||/phone/.test(o),g=/heytapbrowser/.test(o);if(-1<o.indexOf("macintosh")){s=!0;try{document.createEvent("TouchEvent")}catch(t){s=!1}}t.browser.device=t.browser.DEVICE_PC,s?t.browser.device=t.browser.DEVICE_PAD:(n||a||h||r||g)&&(t.browser.device=t.browser.DEVICE_PHONE)}null==t.browser.app&&(t.browser.app=/android-app/.test(o)),null==t.browser.prefix&&(t.browser.prefix="",1==t.browser.webkit&&(t.browser.prefix="-webkit-"),1==t.browser.mozilla&&(t.browser.prefix="-moz-"),1==t.browser.opera&&(t.browser.prefix="-webkit-"),1==t.browser.uc&&(t.browser.prefix="-webkit-"),1==t.browser.msie)&&(t.browser.prefix="-ms-"),null==t.system&&(t.system={name:"",version:0},t.system.WINDOWS="Windows",t.system.WP="WinPhone",t.system.WP_DESKTOP="WinPhoneDesktop",t.system.MAC="Mac OS",t.system.IOS="iPhone OS",t.system.LINUX="Linux",t.system.ANDROID="Android",t.system.BLACKBERRY="BlackBerry",/windows/.test(o)&&(t.system.name=t.system.WINDOWS,t.system.version=e(/windows nt\s?\d+\.?\d?/)),/windows phone/.test(o)&&(t.system.name=t.system.WP,t.system.version=e(/windows phone\s?\d+\.?\d?/)),/wpdesktop/.test(o)&&(t.system.name=t.system.WP_DESKTOP,t.system.version=e(/wpdesktop\s?\d+\.?\d?/)),t.system.name!=t.system.WP&&((/iphone/.test(o)||/ipad/.test(o))&&(t.system.name=t.system.IOS,t.system.version=e(/os\s?\d+_?\d?/)),/macintosh/.test(o)&&s&&(t.system.name=t.system.IOS,t.system.version=e(/version\/\s?\d+_?\d?/)),/android/.test(o))&&(t.system.name=t.system.ANDROID,t.system.version=e(/android\s?\d+\.?\d?/)),/mac/.test(o)&&t.browser.system!=t.browser.IOS&&(t.system.name=t.system.MAC,t.system.version=e(/os x\s?\d+\.?\d?/)),/linux/.test(o)&&!/android/.test(o)&&(t.system.name=t.system.LINUX),/blackberry/.test(o))&&(t.system.name=t.system.BLACKBERRY,t.system.version=e(/blackberry\s?\d+/))}(jQuery),function(){return $.browser.firefox}),isIE=function(){return $.browser.msie},isIE8=function(){return $.browser.msie&&8==$.browser.version},isIE9=function(){return $.browser.msie&&9==$.browser.version},isIE11=function(){return $.browser.msie&&11==$.browser.version},isBelowIE11=function(){return $.browser.msie&&$.browser.version<11},isPad=function(){return $.browser.device==$.browser.DEVICE_PAD||$.browser.device==$.browser.DEVICE_PC&&$.system.name==$.system.ANDROID},isIpad=function(){var t=navigator.userAgent.toLowerCase();return 0<t.indexOf("ipad")&&0<t.indexOf("safari")},isPC=function(){return $.browser.device==$.browser.DEVICE_PC},isIpod=function(){return 0<navigator.userAgent.toLowerCase().indexOf("ipod")},isIphone=function(){return 0<navigator.userAgent.toLowerCase().indexOf("iphone")},isIphoneXor11=function(){return isIphone()&&(812==screen.height&&375==screen.width||896==screen.height&&414==screen.width||12<=$.system.version)},isNokiaPhone=function(){var t=navigator.userAgent.toLowerCase();return 0<t.indexOf("msie")&&0<t.indexOf("wpdesktop")},isAndroid=function(){var t=navigator.userAgent.toLowerCase();return-1<t.indexOf("android")||-1<t.indexOf("adr")},isPhone=function(){var t=window.location.search;return $.browser.device==$.browser.DEVICE_PHONE||0<=t.toLowerCase().indexOf("phone=true")||0<=t.toLowerCase().indexOf("phonebook=true")},isAndroidWeChat=function(){return $.system.name==$.system.ANDROID&&$.browser.chrome&&$.browser.version<40},isWeChat=function(){return $.browser.wechat},isAndroidDefault=function(){return $.system.name==$.system.ANDROID&&$.browser.safari},isPhoneBook=function(){var t;return!($.system.name!=$.system.ANDROID||!$.browser.uc)||(t=window.location.search,!!((isPhone()||isPad())&&$.system.name==$.system.ANDROID&&parseInt($.system.version)<4||0<=t.toLowerCase().indexOf("phonebook=true")||(isPhone()||isPad())&&"slide"==bookConfig.FlipStyle.toLowerCase()))},isHigherThanIOS8=function(){return $.system.name==$.system.IOS&&8<=$.system.version},isInTheFrame=function(){return window.top!=window};function isBelowIE9(){return!!$.browser.msie&&$.browser.version<9}function isBelowIE8(){return!!$.browser.msie&&$.browser.version<8}function isBelowIE10(){return!!$.browser.msie&&$.browser.version<10}var global=function(){return this||(0,eval)("(this)")}(),virtual_function=function(){};function getPackageByName(t){if(null==t||""==t)return global;var i=global;t=t.split(".");for(var e=0;e<t.length;e++){var o=t[e];i[o]||(i[o]={IS_PACKAGE_OBJECT:!0}),i=i[o]}return i}function getClassByFullName(t){var i;return(-1==t.indexOf(".")?global:(t=(i=t.split(".")).pop(),getPackageByName(i=i.join("."))))[t]}function classof(t,i){if(t){var e,o=["webkitStorageInfo","webkitIndexedDB"];for(e in i="string"==typeof(i=i||global)?getPackageByName(i):i)try{if(!(-1<o.indexOf(e))&&i[e]instanceof Function)try{if(t instanceof i[e])return e}catch(t){}}catch(t){}for(e in i)try{if("object"==typeof i[e]&&i[e].IS_PACKAGE_OBJECT){var s=classof(t,i[e]);if(""!=s)return e+"."+s}}catch(t){}}return""}function nameof(t,i){if(t){var e,o=["webkitStorageInfo","webkitIndexedDB"];for(e in i="string"==typeof(i=i||global)?getPackageByName(i):i)try{if(!(-1<o.indexOf(e))&&i[e]==t)return e}catch(t){}for(e in i)try{if("object"==typeof i[e]&&i[e].IS_PACKAGE_OBJECT){var s=nameof(t,i[e]);if(""!=s)return e+"."+s}}catch(t){}}return""}function Class(t,i){if("string"==typeof t)return(s=getPackageByName(i.Package))[t]=Class(i),s[t];function e(){if(this.Import){"string"==typeof this.Import&&(this.Import=[this.Import]);for(var t=0;t<this.Import.length;t++){var i=this.Import[t],e=getPackageByName(i);if(e instanceof Function)this[i.split(".").pop()]=e;else for(var o in e)e[o]instanceof Function&&(this[o]=e[o])}}if((e=getPackageByName(this.Package))!=global)for(o in e)this.getClassName()!=o&&e[o]instanceof Function&&(this[o]=e[o]);this.create&&this.create instanceof Function&&this.create.apply(this,arguments)}var o;if((e.prototype=t||{}).getClassName=function(){return o=o||nameof(e,this.Package)},e.prototype.getClass=function(){return e},null!=(t=e.prototype.statics)){for(var s in t)null==e[s]&&(e[s]=t[s]);delete e.prototype.statics}return e}Function.prototype.extend=function(t){if(!t)return this;if("string"==typeof t)if(-1<t.indexOf(".")){if(!(t=getClassByFullName(t)))return this}else{var i=this.prototype.Package,e=t;if(!(t=getClassByFullName(t=i&&""!=i?i+"."+e:t))&&!(t=getClassByFullName(e)))return this}if(t instanceof Function){for(var o in t)null==this[o]&&(this[o]=t[o]);for(o in t.prototype)null==this.prototype[o]?t.prototype[o]==virtual_function?console&&console.error&&console.error("virtual function [%s] must be override.",o):this.prototype[o]=t.prototype[o]:(e=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,this.prototype[o]instanceof Function&&t.prototype[o]instanceof Function&&e.test(this.prototype[o])&&(this.prototype[o]=function(e,o){return function(){var t=this._super,i=(this._super=e,o.apply(this,arguments));return this._super=t,i}}(t.prototype[o],this.prototype[o])));return this}return"object"!=typeof t?this:this.extend(Class(t))},Function.prototype.expand=function(t,i){if("object"==typeof t){null==i&&(i=!1);var e=t.statics;if(e&&"object"==typeof e){for(var o in e)!i&&null!=this[o]||(this[o]=e[o]);delete t.statics}for(o in t)!i&&null!=this.prototype[o]||(this.prototype[o]=t[o]);return this}};var Instance={copy:function(t){if(!t||"object"!=typeof t)return t;var i={};for(property in t instanceof Array&&(i=[]),t)i[property]="object"==typeof t[property]?Instance.copy(t[property]):t[property];return i},create:function(t,i){i=i||[];var e=t;if(!(e="string"==typeof t?getClassByFullName(e):e))return null;t=e.prototype.create,e.prototype.create=function(){};var o=new e;return e.prototype.create=t,o.create&&o.create instanceof Function&&o.create.apply(o,i),o},JSON:function(t){if(void 0===t)return"undefined";if(null===t)return"null";if(t instanceof Array){var i=[];i.push("[");for(var e=0;e<t.length;e++)i.push(Instance.JSON(t[e])),i.push(", ");return 1<i.length&&i.pop(),i.push("]"),i.join("")}if(t instanceof Function)return t;if("string"==typeof t)return'"'+(t=(t=(t=t.toString()).replaceAll("\\","\\\\",!0)).replaceAll('"','\\"',!0))+'"';if("number"==typeof t)return Number(t).toString();if("boolean"==typeof t)return(!!t).toString();if("object"==typeof t){for(e in(i=[]).push("{"),t){var o='"'+e+'":'+Instance.JSON(t[e]);i.push(o),i.push(", ")}return 1<i.length&&i.pop(),i.push("}"),i.join("")}},parse:function(b,c){return b&&"undefined"!=b&&"null"!=b&&""!=b?eval("("+b+")"):c}},ColorTable=(Object.create=Object.create||function(){function i(){}return function(t){if(1!=arguments.length)throw Error("Object.create implementation only accepts one parameter.");return i.prototype=t,new i}}(),Object.keys=Object.keys||function(t){if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var i,e=[];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e},!function(){for(var s=0,t=["webkit","moz"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var i=(new Date).getTime(),e=Math.max(0,16.7-(i-s)),o=window.setTimeout(function(){t(i+e)},e);return s=i+e,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),global.isBelowIE9()||!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.ClipboardJS=i():t.ClipboardJS=i()}(this,function(){return e=[function(t,i,e){var o;e=[t,e(7)],void 0!==(i="function"==typeof(o=function(t,i){var e=i&&i.__esModule?i:{default:i},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function o(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(t,i,e){return i&&o(t.prototype,i),e&&o(t,e),t}}();i=function(){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.resolveOptions(t);this.initSelection()}return s(i,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action;this.container=t.container;this.emitter=t.emitter;this.target=t.target;this.text=t.text;this.trigger=t.trigger;this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,i="rtl"==document.documentElement.getAttribute("dir");this.removeFake();this.fakeHandlerCallback=function(){return t.removeFake()};this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0;this.fakeElem=document.createElement("textarea");this.fakeElem.style.fontSize="12pt";this.fakeElem.style.border="0";this.fakeElem.style.padding="0";this.fakeElem.style.margin="0";this.fakeElem.style.position="absolute";this.fakeElem.style[i?"right":"left"]="-9999px";this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px";this.fakeElem.setAttribute("readonly","");this.fakeElem.value=this.text;this.container.appendChild(this.fakeElem);this.selectedText=(0,e.default)(this.fakeElem);this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null);this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,e.default)(this.target);this.copyText()}},{key:"copyText",value:function(){var i=void 0;try{i=document.execCommand(this.action)}catch(t){i=!1}this.handleResult(i)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus();window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){if(this._action=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy","copy"!==this._action&&"cut"!==this._action)throw Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":o(t))||1!==t.nodeType)throw Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),i}(),t.exports=i})?o.apply(i,e):o)&&(t.exports=i)},function(t,i,e){var g=e(6),l=e(5);t.exports=function(t,i,e){if(!t&&!i&&!e)throw Error("Missing required arguments");if(!g.string(i))throw new TypeError("Second argument must be a String");if(!g.fn(e))throw new TypeError("Third argument must be a Function");if(g.node(t))return s=i,n=e,(o=t).addEventListener(s,n),{destroy:function(){o.removeEventListener(s,n)}};var o,s,n,a,h,r;if(g.nodeList(t))return a=t,h=i,r=e,Array.prototype.forEach.call(a,function(t){t.addEventListener(h,r)}),{destroy:function(){Array.prototype.forEach.call(a,function(t){t.removeEventListener(h,r)})}};if(g.string(t))return l(document.body,t,i,e);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(t,i){function e(){}e.prototype={on:function(t,i,e){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:i,ctx:e}),this},once:function(t,i,e){function o(){s.off(t,o),i.apply(e,arguments)}var s=this;return o._=i,this.on(t,o,e)},emit:function(t){for(var i=[].slice.call(arguments,1),e=((this.e||(this.e={}))[t]||[]).slice(),o=0,s=e.length;o<s;o++)e[o].fn.apply(e[o].ctx,i);return this},off:function(t,i){var e=this.e||(this.e={}),o=e[t],s=[];if(o&&i)for(var n=0,a=o.length;n<a;n++)o[n].fn!==i&&o[n].fn._!==i&&s.push(o[n]);return s.length?e[t]=s:delete e[t],this}},t.exports=e},function(t,i,e){var o;e=[t,e(0),e(2),e(1)],void 0!==(i="function"==typeof(o=function(t,i,e,o){function s(t){return t&&t.__esModule?t:{default:t}}function n(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}function a(t,i){t="data-clipboard-"+t;if(i.hasAttribute(t))return i.getAttribute(t)}var h=s(i),r=(i=s(e),s(o)),g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(){function o(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(t,i,e){return i&&o(t.prototype,i),e&&o(t,e),t}}();o=function(t){function o(t,i){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");var e=(o.__proto__||Object.getPrototypeOf(o)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!=typeof e&&"function"!=typeof e?this:e;return e.resolveOptions(i),e.listenClick(t),e}return n(o,t),l(o,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction;this.target="function"==typeof t.target?t.target:this.defaultTarget;this.text="function"==typeof t.text?t.text:this.defaultText;this.container="object"===g(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var i=this;this.listener=(0,r.default)(t,"click",function(t){return i.onClick(t)})}},{key:"onClick",value:function(t){t=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null);this.clipboardAction=new h.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(t){return a("action",t)}},{key:"defaultTarget",value:function(t){if(t=a("target",t))return document.querySelector(t)}},{key:"defaultText",value:function(t){return a("text",t)}},{key:"destroy",value:function(){this.listener.destroy();this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],i=!!document.queryCommandSupported;return("string"==typeof t?[t]:t).forEach(function(t){i=i&&!!document.queryCommandSupported(t)}),i}}]),o}(i.default),t.exports=o})?o.apply(i,e):o)&&(t.exports=i)},function(t,i){"undefined"==typeof Element||Element.prototype.matches||((i=Element.prototype).matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector),t.exports=function(t,i){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(i))return t;t=t.parentNode}}},function(t,i,e){function n(t,i,e,o,s){var n=function(i,e,t,o){return function(t){t.delegateTarget=a(t.target,e),t.delegateTarget&&o.call(i,t)}}.apply(this,arguments);return t.addEventListener(e,n,s),{destroy:function(){t.removeEventListener(e,n,s)}}}var a=e(4);t.exports=function(t,i,e,o,s){return"function"==typeof t.addEventListener?n.apply(null,arguments):"function"==typeof e?n.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return n(t,i,e,o,s)}))}},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var i=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===i||"[object HTMLCollection]"===i)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,i){t.exports=function(t){var i,e;return t="SELECT"===t.nodeName?(t.focus(),t.value):"INPUT"===t.nodeName||"TEXTAREA"===t.nodeName?((i=t.hasAttribute("readonly"))||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),i||t.removeAttribute("readonly"),t.value):(t.hasAttribute("contenteditable")&&t.focus(),i=window.getSelection(),(e=document.createRange()).selectNodeContents(t),i.removeAllRanges(),i.addRange(e),i.toString())}}],s={},o.m=e,o.c=s,o.i=function(t){return t},o.d=function(t,i,e){o.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:e})},o.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(i,"a",i),i},o.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},o.p="",o(o.s=3);function o(t){var i;return(s[t]||(i=s[t]={i:t,l:!1,exports:{}},e[t].call(i.exports,i,i.exports,o),i.l=!0,i)).exports}var e,s}),{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff0",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdC",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",value:function(t){return t&&"string"==typeof t&&this[t.toLowerCase()]||t}}),Color=(Function.expand({bind:function(t){var i=this;return function(){return i.apply(t,arguments)}},delay:function(t,i,e){return"object"!=typeof t&&(e=i,i=t,t=global),i=i||1,e=e||[],setTimeout(function(){this.apply(t,e)}.bind(this),i)},interval:function(t,i,e){"object"!=typeof t&&(e=i,i=t,t=global),i=i||1,e=e||[];var o=this;return{intervalId:setInterval(function(){this.apply(t,e)}.bind(this),i),stop:function(){clearInterval(this.intervalId),this.intervalId=void 0},isRunning:function(){return null!=this.intervalId},start:function(){this.intervalId=setInterval(function(){o.apply(t,e)},i)}}},animation:function(t,i){"object"!=typeof t&&(i=t,t=global);var e={stopFlag:!1,stop:function(){this.stopFlag=!0}},o=this,s=0,n=Math.ceil(i/16.7),a=function(){!0!==e.stopFlag&&(s++,!1!==o.apply(t,[s,n]))&&(s<n||null==i)&&window.requestAnimationFrame(a)};return a(),e},once:function(t,i){t=t||global,this.executed||(this.executed=!1),this.executed||(this.apply(t,i),this.executed=!0)}}),String.expand({trim:function(){return this.replace(/(^\s*)|(\s*$)/g,"")},replaceAll:function(t,i,e){if(null==e&&(e=!1),!t||!i)return this;if(RegExp&&!e)return this.replace(new RegExp(t,"g"),i);var o=this.indexOf(t);e=[];for(var s=this;-1!=o;){o+=t.length;var n=s.substring(0,o),s=s.substring(o),n=n.replace(t,i);e.push(n),o=s.indexOf(t)}return""!==s&&e.push(s),e.join("")},subBetween:function(t,i){var e,o;return null==t||null==i||(e=this.length,-1==(o=this.indexOf(t)))||(o+=t.length,-1==(t=this.substring(o,e).indexOf(i)))?"":this.substring(o,t+o)},isUrl:function(){var t;return!(""==this.trim()||!RegExp||!(t=this.toLowerCase()).match(/(((ht|f)tp(s?)):\/\/)?(www\.)?([\w\-]+\.)+\w+[\/\w]*/gi)&&!t.match(/((((ht|f)tp(s?)):\/\/)|(www\.))([\w\-]+\.)+\w+[\/\w]*/gi))},isEmail:function(){return""!=this&&!!this.toLowerCase().match(/^([A-Za-z0-9])(\w)+@(\w)+(\.)(com|com\.cn|net|cn|net\.cn|org|biz|info|gov|gov\.cn|edu|edu\.cn)/)},toArray:function(t){return this.split(t=t||"")},reverse:function(){var t=this.split("");return t.reverse(),t.join("")},equals:function(t){return this.trim()==t.trim()},equalsIgnoreCase:function(t){return this.toLowerCase().trim()==t.toLowerCase().trim()},like:function(t){if(!t)return!1;t=this.toLowerCase().trim();var i=this.toLowerCase().trim();return-1<t.indexOf(i)||-1<i.indexOf(t)},contains:function(t){return-1<this.indexOf(t)},startsWith:function(t){return""!==t&&this.substr(0,t.length)===t},endsWith:function(t){return""!==t&&this.substr(this.length-t.length,t.length)===t},isEnglish:function(){return/[\x00-\xff]/.test(this)},overflow:function(t){var i;return null!=t&&(i=2,/[^\x00-\xff]/.test(this)&&(t=Math.floor(t/2),i=Math.floor(i/2)),this.length-t>i)?this.substr(0,t)+"...":this.toString()},remove:function(t){var i;return"string"!=typeof t||!t||(i=this.indexOf(t))<0?this:(t=t.length,this.substring(0,i)+this.substring(i+t,this.length)+"")},removeStartFrom:function(t){if("string"==typeof t&&t)return(t=this.indexOf(t))<0?this:this.substring(0,t)+""},cycleToLength:function(t){if(!isNaN(t)){for(var i=parseInt(t/this.length),e=this;0<i;)e+=this,i--;return e.substring(0,t)}},firstUpperCase:function(){return this.length<1?this:this.substring(0,1).toUpperCase()+this.substring(1)},firstLowerCase:function(){return this.length<1?this:this.substring(0,1).toLowerCase()+this.substring(1)},extract:function(){if(0==this.length||0==arguments.length)return[];for(var t=[],i=this.toString(),e=0;e<i.length;){for(var o=!1,s=0;s<arguments.length;s++){var n=arguments[s];if(i.substr(e,n.length)==n){t.push(n),e+=n.length,o=!0;break}}o||e++}return t},addUrlParameter:function(t){var i=this.toString();return t=t.param,"string"!=typeof i?i:0<=i.indexOf("?")?i+"&"+t:i+"?"+t},statics:{format:function(){if(0==arguments.length)return"";if(1==arguments.length)return arguments[0];for(var t=(e=arguments[0]).extract("%s","%d","%f","%b","%o"),i=1;i<arguments.length;i++){var e,o=arguments[i],s=t[i-1];"%s"==s&&(e="string"==typeof o?e.replace("%s",o):e.replace("%s","")),"%d"==s&&(e="number"==typeof(o=isNaN(o)?0:o)&&-1==Number(o).toString().indexOf(".")?e.replace("%d",o+""):e.replace("%d","")),"%f"==s&&(e="number"==typeof(o=isNaN(o)?0:o)?e.replace("%f",o+""):e.replace("%f","")),"%b"==s&&(e="boolean"==typeof(o=!!o)?e.replace("%b",o+""):e.replace("%b","")),"%o"==s&&(e="object"==typeof o?e.replace("%o",Instance.JSON(o)):e.replace("%o",""))}return e},toUtf8:function(t){if(!t)return"";for(var i=[],e=t.length,o=0;o<e;o++){var s=t.charCodeAt(o);0<s&&s<=127?i.push(t.charAt(o)):128<=s&&s<=2047?i.push(String.fromCharCode(192|s>>6&31),String.fromCharCode(128|63&s)):2048<=s&&s<=65535&&i.push(String.fromCharCode(224|s>>12&15),String.fromCharCode(128|s>>6&63),String.fromCharCode(128|63&s))}return i.join("")},parseUtf8:function(t){if(!t)return"";for(var i=[],e=t.length,o=0;o<e;o++){var s,n=[];n.push(t.charCodeAt(o)),0==(n[0]>>7&255)?i.push(t.charAt(o)):6==(n[0]>>5&255)?(n.push(t.charCodeAt(++o)),(s=[]).push(31&n[0]),s.push(63&n[1]),i.push(String.fromCharCode(s[0]<<6|s[1]))):14==(n[0]>>4&255)&&(n.push(t.charCodeAt(++o)),n.push(t.charCodeAt(++o)),(s=[]).push(n[0]<<4|n[1]>>2&15),s.push((3&n[1])<<6|63&n[2]),i.push(String.fromCharCode(s[0]<<8|s[1])))}return i.join("")}}}),Array.expand({remove:function(t){return!(isNaN(t)||t>this.length)&&this.splice(t,1)[0]},indexOf:function(t){for(var i=0;i<this.length;i++)if(this[i]===t)return i;return-1},removeElement:function(t){-1<(t=this.indexOf(t))&&this.remove(t)},lastIndexOf:function(t){for(var i=-1,e=0;e<this.length;e++)this[e]===t&&(i=e);return i},statics:{isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)}},clone:function(){for(var t=[],i=0;i<this.length;i++)t.push(this[i]);return t},increasing:function(){return this.sort(function(t,i){return t-i})},diminishing:function(){return this.sort(function(t,i){return i-t})}}),Date.expand({format:function(t,i){i=i||!0;var e,o={"y+":this.getYear(),"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(e in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+e+")").test(t)&&(t=!0===i?t.replace(RegExp.$1,o[e]):t.replace(RegExp.$1,1==RegExp.$1.length?o[e]:("00"+o[e]).substr((""+o[e]).length)));return t},statics:{now:function(){return(new Date).getTime()}}}),Number.expand({statics:{between:function(t,i,e){var o;return isNaN(t)||isNaN(i)||isNaN(e)||(o=Math.min(i,e),(i=Math.max(i,e))<(t=t<o?o:t)&&(t=i)),t},isBetween:function(t,i,e){var o;return!(isNaN(i)||isNaN(e)||isNaN(t))&&(o=Math.max(i,e),t>=Math.min(i,e))&&t<=o},fixed:function(t,i){return isNaN(t)?t:(isNaN(i)&&(i=0),i=Math.pow(10,i),Math.round(t*i)/i)},decimals:function(t){var i;return isNaN(t)?-1:-1==(i=(t=Number(t).toString()).indexOf("."))?0:t.length-i-1},random:function(t,i,e){if(isNaN(t)||isNaN(i))return 0;null==e&&Number.decimals(t)==Number.decimals(i)&&(e=Number.decimals(t));var o=Math.min(t,i);return t=o+(Math.max(t,i)-o)*Math.random(),!e||e<0||isNaN(e)?Math.floor(t):Number.fixed(t,e)}}}),function(t){return t&&"object"==typeof t&&t.toString&&(t=t.toString()),{value:ColorTable.value(t),toString:function(){function t(t,i,e){if(t.length<e&&t.length>i)for(;t.length<e;)t="0"+t;return t}var i=this.value;if("string"==typeof(i=i||0)){if(0==i.indexOf("#"))return i;if(0==i.indexOf("0x"))return i.replace("0x","#")}return i=t(i=8<(i=(i=(i=parseInt(i))<0?Number(0):i).toString(16)).length?i.substr(0,8):i,6,8),"#"+(i=t(i,0,6))},valueOf:toString,split:function(){var t={r:0,g:0,b:0,a:255};if(!this.value)return t;var i="FF";switch((o=this.toString()).length){case 9:var i=o.substr(1,2),t=o.substr(3,2),e=o.substr(5,2),o=o.substr(7,2);break;case 7:t=o.substr(1,2),e=o.substr(3,2),o=o.substr(5,2);break;case 4:t=o.substr(1,1),e=o.substr(2,1),o=o.substr(3,1),t+=t,e+=e,o+=o;break;default:return t}return{r:parseInt(t,16),g:parseInt(e,16),b:parseInt(o,16),a:parseInt(i,16)}},add:function(t){var i="object"==typeof t?t:{r:t,g:t,b:t,a:1},e=this.split(),o=(t=Number.between(e.r+i.r,0,255).toString(16).toUpperCase(),Number.between(e.g+i.g,0,255).toString(16).toUpperCase()),i=Number.between(e.b+i.b,0,255).toString(16).toUpperCase(),e=Number(e.a).toString(16).toUpperCase();return t=t.length<=1?"0"+t:t,o=o.length<=1?"0"+o:o,i=i.length<=1?"0"+i:i,"FF"==(e=e.length<=1?"0"+e:e)?"#"+t+o+i:"#"+e+t+o+i},reduce:function(t){return this.add("object"==typeof t?t:{r:-t,g:-t,b:-t,a:1})},rgba:function(t){var i=this.split();return 1<(t=null==t||""===t?i.a:parseFloat(t))&&(t=Number.fixed(t/255,2)),String.format("rgba(%d,%d,%d,%f)",i.r,i.g,i.b,t)},equals:function(t){return this.toString()==Color(t).toString()},difference:function(t){var i=this.split();return t=Color(t).split(),{r:Math.abs(i.r-t.r),g:Math.abs(i.g-t.g),b:Math.abs(i.b-t.b),a:Math.abs(i.a-t.a)}},reverse:function(){var t=this.split(),i=Number.between(255-t.r,0,255).toString(16).toUpperCase(),e=Number.between(255-t.g,0,255).toString(16).toUpperCase(),o=Number.between(255-t.b,0,255).toString(16).toUpperCase(),t=Number(t.a).toString(16).toUpperCase(),i=i.length<=1?"0"+i:i,e=e.length<=1?"0"+e:e,o=o.length<=1?"0"+o:o;return"FF"==(t=t.length<=1?"0"+t:t)?"#"+i+e+o:"#"+t+i+e+o}}});function colorSplit(t){return Color(t).split()}function colorAdd(t,i){return Color(t).add(i)}function colorDiv(t,i){return Color(t).reduce(i)}function equals(t,i){return Math.abs(t-i)<1e-7}var Point=function(t,i){return{x:t,y:i,isNearTo:function(t,i){return!!t&&(null==i&&(i=5),Math.abs(this.x-t.x)<i)&&Math.abs(this.y-t.y)<i},equals:function(t){return!!t&&equals(this.x,t.x)&&equals(this.y,t.y)},toString:function(){return"("+this.x+","+this.y+")"},clone:function(){return Point(this.x,this.y)},getX:function(){return this.x},getY:function(){return this.y},isNaP:function(){return isNaN(this.x)||isNaN(this.y)}}};function getImageConfig(t,i,e,o){var s,n;return t&&null!=i&&null!=e?(t=t[0]?t[0]:t).complete?(s=t.naturalWidth,n=t.naturalHeight,(o?getCoverSize:getContainSize)(s,n,i,e)):void $(t).on("load",function(){return s=t.naturalWidth,n=t.naturalHeight,(o?getCoverSize:getContainSize)(s,n,i,e)}.bind(this)):null}function getContainSize(t,i,e,o){var s,n;return o=e/o<t/i?(i=t<e?(n=i,(e-(s=t))/2):(n=(s=e)/t*i,0),(o-n)/2):i<o?(n=i,i=(e-(s=t))/2,(o-n)/2):(i=(e-(s=(n=o)/i*t))/2,0),{scale:s/t,width:s,height:n,left:i,top:o}}function getContainSizeRate(t,i,e,o){return{scale:(t=getContainSize(t,i,e,o)).scale,width:t.width/e,height:t.height/o,left:t.left/e,top:t.left/o}}function getCoverSize(t,i,e,o){var s,n;return o=e/o<t/i?(n=(s=e)/t*i,i=0,(o-n)/2):(i=(e-(s=(n=o)/i*t))/2,0),{scale:t/s,width:s,height:n,left:i,top:o}}function getInverseItem(t,i,e){var o,s=(t=JSON.parse(JSON.stringify(t))).location;return window.articleConfig&&window.articleConfig.hotArea&&(o=window.articleConfig.hotArea,t.overColor=o.overColor,t.downColor=o.downColor,t.outColor=o.outColor,t.overAlpha=o.overAlpha,t.downAlpha=o.downAlpha,t.outAlpha=o.outAlpha),(s.pageWidth>i||s.pageHeight>e)&&(e=(1-(i=getContainSizeRate(s.pageWidth,s.pageHeight,i,e)).height)/2,t.location.x=t.location.x*i.width+(1-i.width)/2,t.location.y=t.location.y*i.height+e,t.location.width*=i.width,t.location.height*=i.height),t}function getOffset(t){for(var i=t.target,e=0,o=0;i;)e+=i.offsetLeft,o+=i.offsetTop,i=i.offsetParent;return{X:window.pageXOffset+t.clientX-e,Y:window.pageYOffset+t.clientY-o}}function getPositionFromEvt(t){return{x:((t=t.originalEvent&&t.originalEvent.changedTouches?t.originalEvent.changedTouches:t.changedTouches||[t])[0].pageX||t[0].clientX)+(document.documentElement.scrollLeft||document.body.scrollLeft),y:(t[0].pageY||t[0].clientY)+(document.documentElement.scrollTop||document.body.scrollTop)}}function getDeString(t){return"[object String]"!==Object.prototype.toString.call(t)||t.match(/^[\[\{]/)||(t=window.Module._DeString(window.allocateUTF8(t)),t=window.UTF8ToString(t)),t}function parsHexToNormalString(t){for(var i="";2<=t.length;)i+=String.fromCharCode(parseInt(t.substring(0,2),16)),t=t.substring(2,t.length);return i}function parseHexString(t){for(var i=[];2<=t.length;)i.push(parseInt(t.substring(0,2),16)),t=t.substring(2,t.length);return i}function byteArray2String(t){for(var i="",e=0;e<t.length;e++)i+=String.fromCharCode(t[e]);return i}function rc4(t,i){for(var e=[],o=[],s=0;s<256;s++)o[e[s]=s]=t.charCodeAt(s%t.length);for(s=t=0;s<256;s++){t=t+e[s]+o[s]&255;var n=e[s];e[s]=e[t],e[t]=n}for(n="",s=t=o=0;s<i.length;s++){var a=e[o=o+1&255],h=(e[o]=e[t=t+e[o]&255],e[t]=a,a=e[o]+e[t]&255,i.charCodeAt(s));h^=e[a],n+=String.fromCharCode(h)}return n}function QR8bitByte(t){this.mode=QRMode.MODE_8BIT_BYTE,this.data=t}function QRCode(t,i){this.typeNumber=t,this.errorCorrectLevel=i,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Point.NaP=function(){return Point(Number.NaN,Number.NaN)},$.browser.mozilla&&(HTMLElement.prototype.__defineGetter__("innerText",function(){return this.textContent}),HTMLElement.prototype.__defineSetter__("innerText",function(t){this.textContent=t})),jQuery(document).ready(function(){window.setTimeout(function(){window.hint=new Hint},10)}),Class("Hint",{create:function(){this.$text=$("<p id='hint' class='hint'><span></span></p>"),$("body").append(this.$text)},text:function(t){this.$text.find("span").html(t),this.animateShow(),this.delay&&window.clearTimeout(this.delay),this.delay=window.setTimeout(function(){this.animateHide(),this.delay=null}.bind(this),2e3)},animateShow:function(){this.$text.css({opacity:1,display:"block"})},animateHide:function(){this.$text.animate({opacity:"0"},1e3,function(){this.$text.hide()}.bind(this))}}),bdor[30]=function(t,i){return bdor[t]-i},Class("RangeSlider",{create:function(t,i){this.slider=t,this.min=0,this.max=i.max||1,isNaN(this.max)&&(this.max=100),this.onChange=i.onChange,this.init(),null==i.range||isNaN(i.range)?(this.currentRange=0,this.setRange(0)):(this.currentRange=i.range,this.setRange(i.range))},init:function(){this.slider_total=$('<div class="slider-total"></div>'),this.slider_range=$('<div class="slider-range"></div>'),this.slider_hander=$('<div class="slider-handle"></div>'),this.slider_range.css("pointer-events","none"),this.slider_hander.css("pointer-events","none"),this.slider.append(this.slider_total),this.slider.append(this.slider_range),this.slider.append(this.slider_hander),this.initEvents()},initEvents:function(){this.isMouseDown=!1,this.slider_total.bind(_event._down,function(t){return this.isMouseDown=!0,t=isTouch?(t.originalEvent||t).changedTouches:[t],this.onChangeRange(t),!1}.bind(this)),this.slider_total.bind(_event._move,function(t){if(this.isMouseDown)return t=isTouch?(t.originalEvent||t).changedTouches:[t],this.onChangeRange(t),!1}.bind(this)),this.slider_total.bind(_event._up,function(t){return this.isMouseDown=!1}.bind(this)),this.slider_total.bind(_event._leave,function(t){this.isMouseDown=!1}.bind(this)),this.slider_hander.bind(_event._down,function(t){return t=isTouch?(t.originalEvent||t).changedTouches:[t],this.onChangeRange(t),!1}.bind(this))},setMax:function(t){this.max=t},setRange:function(t){var e,o;null!=t&&(this.range=parseFloat(t),this.animation&&this.animation.stop(),e=this.currentRange,o=this.range,this.animation=function(t,i){this.currentRange=$.easing.swing(null,t,e,o-e,i),this.moveToRange(this.currentRange),this.currentRange==this.range&&this.animation&&this.animation.stop()}.animation(this,200))},onChangeRange:virtual_function,moveToRange:virtual_function}),Class("VerticalSlider",{onChangeRange:function(t){var i,e;null!=(t=t[0])&&(i=$(t.target),null==(e=t.offsetY)&&(e=t.pageY-i.offset().top),t=(i.height()-e)/this.slider_total.height()*this.max,this.setRange(t),this.onChange)&&this.onChange(t)},moveToRange:function(t){this.slider_total.offset(),this.slider.offset();var i=parseInt(this.slider_range.css("bottom").replace("px","")),e=this.slider_hander.width(),o=this.slider_total.height()-e;t=Math.floor(t*o/this.max),e=(t=Math.min(t,o))+e/2,this.slider_hander.css({bottom:t+i}),this.slider_range.css({height:e})}}).extend("RangeSlider"),Class("HorizontalSlider",{onChangeRange:function(t){var i,e;null!=(t=t[0])&&(i=$(t.target),t=(e=null==(e=t.offsetX)?t.pageX-i.offset().left:e)/this.slider_total.width()*this.max,this.setRange(t),this.onChange)&&this.onChange(t)},moveToRange:function(t){var i=this.slider_total.offset().left-this.slider.offset().left,e=(parseInt(this.slider_range.css("bottom").replace("px","")),this.slider_hander.width()),o=this.slider_total.width()-e;t=Math.floor(t*o/this.max),e=(t=Math.min(t,o))+e/2,this.slider_hander.css({left:t+i}),this.slider_range.css({width:e})}}).extend("RangeSlider"),jQuery.fn.slider=function(t){if(t)return this.empty(),new("horizontal"==t.direction?HorizontalSlider:VerticalSlider)(this,t)},!function(t){function r(t){this.message=t}var i="object"==typeof exports&&exports,e="object"==typeof module&&module&&module.exports==i&&module,o="object"==typeof global&&global,s=(o.global!==o&&o.window!==o||(t=o),(r.prototype=Error()).name="InvalidCharacterError",{encode:function(t){if(t=String(t),/[^\0-\xFF]/.test(t))throw new r("The string to be encoded contains characters outside of the Latin1 range.");for(var i,e,o,s=t.length%3,n="",a=-1,h=t.length-s;++a<h;)i=t.charCodeAt(a)<<16,e=t.charCodeAt(++a)<<8,o=t.charCodeAt(++a),n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((i=i+e+o)>>18&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>6&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&i);return 2==s?(i=t.charCodeAt(a)<<8,e=t.charCodeAt(++a),n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((i+=e)>>10)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>4&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i<<2&63)+"="):1==s&&(i=t.charCodeAt(a),n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>2)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i<<4&63)+"=="),n},decode:function(t){for(var i,e,o=(t=String(t)).length,s=0,n="",a=-1;++a<o;)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(a)),i=s%4?64*i+e:e,s++%4&&(n+=String.fromCharCode(255&i>>(-2*s&6)));return n},version:"0.1.0"});if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return s});else if(i&&!i.nodeType)if(e)e.exports=s;else for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n]);else t.base64=s}(this),String.prototype.MD5=function(t){function h(t,i){var e=2147483648&t,o=2147483648&i,s=1073741824&t,n=1073741824&i;return t=(1073741823&t)+(1073741823&i),s&n?2147483648^t^e^o:s|n?1073741824&t?3221225472^t^e^o:1073741824^t^e^o:t^e^o}function i(t,i,e,o,s,n,a){return t=h(t,h(h(i&e|~i&o,s),a)),h(t<<n|t>>>32-n,i)}function e(t,i,e,o,s,n,a){return t=h(t,h(h(i&o|e&~o,s),a)),h(t<<n|t>>>32-n,i)}function o(t,i,e,o,s,n,a){return t=h(t,h(h(i^e^o,s),a)),h(t<<n|t>>>32-n,i)}function s(t,i,e,o,s,n,a){return t=h(t,h(h(e^(i|~o),s),a)),h(t<<n|t>>>32-n,i)}function n(t){for(var i="",e=0;e<=3;e++){var o=t>>>8*e&255;i+=(o="0"+o.toString(16)).substr(o.length-2,2)}return i}for(var a=function(t){for(var i,e=t.length,o=e+8,s=16*((o-o%64)/64+1),n=Array(s-1),a=0;a<e;)i=a%4*8,n[o=(a-a%4)/4]|=t.charCodeAt(a)<<i,a++;return n[o=(a-a%4)/4]|=128<<a%4*8,n[s-2]=e<<3,n[s-1]=e>>>29,n}(this),r=1732584193,g=4023233417,l=2562383102,d=271733878,c=0;c<a.length;c+=16){var p=r,u=g,f=l,m=d,r=i(r,g,l,d,a[c+0],7,3614090360),d=i(d,r,g,l,a[c+1],12,3905402710),l=i(l,d,r,g,a[c+2],17,606105819),g=i(g,l,d,r,a[c+3],22,3250441966);r=i(r,g,l,d,a[c+4],7,4118548399),d=i(d,r,g,l,a[c+5],12,1200080426),l=i(l,d,r,g,a[c+6],17,2821735955),g=i(g,l,d,r,a[c+7],22,4249261313),r=i(r,g,l,d,a[c+8],7,1770035416),d=i(d,r,g,l,a[c+9],12,2336552879),l=i(l,d,r,g,a[c+10],17,4294925233),g=i(g,l,d,r,a[c+11],22,2304563134),r=i(r,g,l,d,a[c+12],7,1804603682),d=i(d,r,g,l,a[c+13],12,4254626195),l=i(l,d,r,g,a[c+14],17,2792965006),r=e(r,g=i(g,l,d,r,a[c+15],22,1236535329),l,d,a[c+1],5,4129170786),d=e(d,r,g,l,a[c+6],9,3225465664),l=e(l,d,r,g,a[c+11],14,643717713),g=e(g,l,d,r,a[c+0],20,3921069994),r=e(r,g,l,d,a[c+5],5,3593408605),d=e(d,r,g,l,a[c+10],9,38016083),l=e(l,d,r,g,a[c+15],14,3634488961),g=e(g,l,d,r,a[c+4],20,3889429448),r=e(r,g,l,d,a[c+9],5,568446438),d=e(d,r,g,l,a[c+14],9,3275163606),l=e(l,d,r,g,a[c+3],14,4107603335),g=e(g,l,d,r,a[c+8],20,1163531501),r=e(r,g,l,d,a[c+13],5,2850285829),d=e(d,r,g,l,a[c+2],9,4243563512),l=e(l,d,r,g,a[c+7],14,1735328473),r=o(r,g=e(g,l,d,r,a[c+12],20,2368359562),l,d,a[c+5],4,4294588738),d=o(d,r,g,l,a[c+8],11,2272392833),l=o(l,d,r,g,a[c+11],16,1839030562),g=o(g,l,d,r,a[c+14],23,4259657740),r=o(r,g,l,d,a[c+1],4,2763975236),d=o(d,r,g,l,a[c+4],11,1272893353),l=o(l,d,r,g,a[c+7],16,4139469664),g=o(g,l,d,r,a[c+10],23,3200236656),r=o(r,g,l,d,a[c+13],4,681279174),d=o(d,r,g,l,a[c+0],11,3936430074),l=o(l,d,r,g,a[c+3],16,3572445317),g=o(g,l,d,r,a[c+6],23,76029189),r=o(r,g,l,d,a[c+9],4,3654602809),d=o(d,r,g,l,a[c+12],11,3873151461),l=o(l,d,r,g,a[c+15],16,530742520),r=s(r,g=o(g,l,d,r,a[c+2],23,3299628645),l,d,a[c+0],6,4096336452),d=s(d,r,g,l,a[c+7],10,1126891415),l=s(l,d,r,g,a[c+14],15,2878612391),g=s(g,l,d,r,a[c+5],21,4237533241),r=s(r,g,l,d,a[c+12],6,1700485571),d=s(d,r,g,l,a[c+3],10,2399980690),l=s(l,d,r,g,a[c+10],15,4293915773),g=s(g,l,d,r,a[c+1],21,2240044497),r=s(r,g,l,d,a[c+8],6,1873313359),d=s(d,r,g,l,a[c+15],10,4264355552),l=s(l,d,r,g,a[c+6],15,2734768916),g=s(g,l,d,r,a[c+13],21,1309151649),r=s(r,g,l,d,a[c+4],6,4149444226),d=s(d,r,g,l,a[c+11],10,3174756917),l=s(l,d,r,g,a[c+2],15,718787259),g=s(g,l,d,r,a[c+9],21,3951481745),r=h(r,p),g=h(g,u),l=h(l,f),d=h(d,m)}return 32==t?n(r)+n(g)+n(l)+n(d):n(g)+n(l)},QR8bitByte.prototype={getLength:function(t){return this.data.length},write:function(t){for(var i=0;i<this.data.length;i++)t.put(this.data.charCodeAt(i),8)}},QRCode.prototype={addData:function(t){t=new QR8bitByte(t),this.dataList.push(t),this.dataCache=null},isDark:function(t,i){if(t<0||this.moduleCount<=t||i<0||this.moduleCount<=i)throw Error(t+","+i);return this.modules[t][i]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){for(var t=1;t<40;t++){for(var i=QRRSBlock.getRSBlocks(t,this.errorCorrectLevel),e=new QRBitBuffer,o=0,s=0;s<i.length;s++)o+=i[s].dataCount;for(s=0;s<this.dataList.length;s++)i=this.dataList[s],e.put(i.mode,4),e.put(i.getLength(),QRUtil.getLengthInBits(i.mode,t)),i.write(e);if(e.getLengthInBits()<=8*o)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,i){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++){this.modules[e]=Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[e][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,i),7<=this.typeNumber&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=QRCode.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,i)},setupPositionProbePattern:function(t,i){for(var e=-1;e<=7;e++)if(!(t+e<=-1||this.moduleCount<=t+e))for(var o=-1;o<=7;o++)i+o<=-1||this.moduleCount<=i+o||(this.modules[t+e][i+o]=0<=e&&e<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==e||6==e)||2<=e&&e<=4&&2<=o&&o<=4)},getBestMaskPattern:function(){for(var t=0,i=0,e=0;e<8;e++){this.makeImpl(!0,e);var o=QRUtil.getLostPoint(this);(0==e||o<t)&&(t=o,i=e)}return i},createMovieClip:function(t,i,e){for(t=t.createEmptyMovieClip(i,e),this.make(),i=0;i<this.modules.length;i++){e=+i;for(var o=0;o<this.modules[i].length;o++){var s=+o;this.modules[i][o]&&(t.beginFill(0,100),t.moveTo(s,e),t.lineTo(1+s,e),t.lineTo(1+s,e+1),t.lineTo(s,e+1),t.endFill())}}return t},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=0==t%2);for(t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=0==t%2)},setupPositionAdjustPattern:function(){for(var t=QRUtil.getPatternPosition(this.typeNumber),i=0;i<t.length;i++)for(var e=0;e<t.length;e++){var o=t[i],s=t[e];if(null==this.modules[o][s])for(var n=-2;n<=2;n++)for(var a=-2;a<=2;a++)this.modules[o+n][s+a]=-2==n||2==n||-2==a||2==a||0==n&&0==a}},setupTypeNumber:function(t){for(var i=QRUtil.getBCHTypeNumber(this.typeNumber),e=0;e<18;e++){var o=!t&&1==(i>>e&1);this.modules[Math.floor(e/3)][e%3+this.moduleCount-8-3]=o}for(e=0;e<18;e++)o=!t&&1==(i>>e&1),this.modules[e%3+this.moduleCount-8-3][Math.floor(e/3)]=o},setupTypeInfo:function(t,i){i=QRUtil.getBCHTypeInfo(this.errorCorrectLevel<<3|i);for(var e=0;e<15;e++){var o=!t&&1==(i>>e&1);e<6?this.modules[e][8]=o:e<8?this.modules[e+1][8]=o:this.modules[this.moduleCount-15+e][8]=o}for(e=0;e<15;e++)o=!t&&1==(i>>e&1),e<8?this.modules[8][this.moduleCount-e-1]=o:e<9?this.modules[8][15-e-1+1]=o:this.modules[8][15-e-1]=o;this.modules[this.moduleCount-8][8]=!t},mapData:function(t,i){for(var e=-1,o=this.moduleCount-1,s=7,n=0,a=this.moduleCount-1;0<a;a-=2)for(6==a&&a--;;){for(var h,r=0;r<2;r++)null==this.modules[o][a-r]&&(h=!1,n<t.length&&(h=1==(t[n]>>>s&1)),QRUtil.getMask(i,o,a-r)&&(h=!h),this.modules[o][a-r]=h,-1==--s)&&(n++,s=7);if((o+=e)<0||this.moduleCount<=o){o-=e,e=-e;break}}}},QRCode.PAD0=236,QRCode.PAD1=17,QRCode.createData=function(t,i,e){i=QRRSBlock.getRSBlocks(t,i);for(var o=new QRBitBuffer,s=0;s<e.length;s++){var n=e[s];o.put(n.mode,4),o.put(n.getLength(),QRUtil.getLengthInBits(n.mode,t)),n.write(o)}for(s=t=0;s<i.length;s++)t+=i[s].dataCount;if(o.getLengthInBits()>8*t)throw Error("code length overflow. ("+o.getLengthInBits()+">"+8*t+")");for(o.getLengthInBits()+4<=8*t&&o.put(0,4);0!=o.getLengthInBits()%8;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*t)&&(o.put(QRCode.PAD0,8),!(o.getLengthInBits()>=8*t));)o.put(QRCode.PAD1,8);return QRCode.createBytes(o,i)},QRCode.createBytes=function(t,i){for(var e=0,o=0,s=0,n=Array(i.length),a=Array(i.length),h=0;h<i.length;h++){var r=i[h].dataCount,g=i[h].totalCount-r,o=Math.max(o,r),s=Math.max(s,g);n[h]=Array(r);for(var l=0;l<n[h].length;l++)n[h][l]=255&t.buffer[l+e];for(e+=r,l=QRUtil.getErrorCorrectPolynomial(g),r=new QRPolynomial(n[h],l.getLength()-1).mod(l),a[h]=Array(l.getLength()-1),l=0;l<a[h].length;l++)g=l+r.getLength()-a[h].length,a[h][l]=0<=g?r.get(g):0}for(l=h=0;l<i.length;l++)h+=i[l].totalCount;for(t=Array(h),l=e=0;l<o;l++)for(h=0;h<i.length;h++)l<n[h].length&&(t[e++]=n[h][l]);for(l=0;l<s;l++)for(h=0;h<i.length;h++)l<a[h].length&&(t[e++]=a[h][l]);return t};for(var QRMode={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},QRErrorCorrectLevel={L:1,M:0,Q:3,H:2},QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var i=t<<10;0<=QRUtil.getBCHDigit(i)-QRUtil.getBCHDigit(QRUtil.G15);)i^=QRUtil.G15<<QRUtil.getBCHDigit(i)-QRUtil.getBCHDigit(QRUtil.G15);return(t<<10|i)^QRUtil.G15_MASK},getBCHTypeNumber:function(t){for(var i=t<<12;0<=QRUtil.getBCHDigit(i)-QRUtil.getBCHDigit(QRUtil.G18);)i^=QRUtil.G18<<QRUtil.getBCHDigit(i)-QRUtil.getBCHDigit(QRUtil.G18);return t<<12|i},getBCHDigit:function(t){for(var i=0;0!=t;)i++,t>>>=1;return i},getPatternPosition:function(t){return QRUtil.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,i,e){switch(t){case QRMaskPattern.PATTERN000:return 0==(i+e)%2;case QRMaskPattern.PATTERN001:return 0==i%2;case QRMaskPattern.PATTERN010:return 0==e%3;case QRMaskPattern.PATTERN011:return 0==(i+e)%3;case QRMaskPattern.PATTERN100:return 0==(Math.floor(i/2)+Math.floor(e/3))%2;case QRMaskPattern.PATTERN101:return 0==i*e%2+i*e%3;case QRMaskPattern.PATTERN110:return 0==(i*e%2+i*e%3)%2;case QRMaskPattern.PATTERN111:return 0==(i*e%3+(i+e)%2)%2;default:throw Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var i=new QRPolynomial([1],0),e=0;e<t;e++)i=i.multiply(new QRPolynomial([1,QRMath.gexp(e)],0));return i},getLengthInBits:function(t,i){if(1<=i&&i<10)switch(t){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:case QRMode.MODE_KANJI:return 8;default:throw Error("mode:"+t)}else if(i<27)switch(t){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw Error("mode:"+t)}else{if(!(i<41))throw Error("type:"+i);switch(t){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw Error("mode:"+t)}}},getLostPoint:function(t){for(var i=t.getModuleCount(),e=0,o=0;o<i;o++)for(var s=0;s<i;s++){for(var n=0,a=t.isDark(o,s),h=-1;h<=1;h++)if(!(o+h<0||i<=o+h))for(var r=-1;r<=1;r++)s+r<0||i<=s+r||0==h&&0==r||a!=t.isDark(o+h,s+r)||n++;5<n&&(e+=3+n-5)}for(o=0;o<i-1;o++)for(s=0;s<i-1;s++)n=0,t.isDark(o,s)&&n++,t.isDark(o+1,s)&&n++,t.isDark(o,s+1)&&n++,t.isDark(o+1,s+1)&&n++,0!=n&&4!=n||(e+=3);for(o=0;o<i;o++)for(s=0;s<i-6;s++)t.isDark(o,s)&&!t.isDark(o,s+1)&&t.isDark(o,s+2)&&t.isDark(o,s+3)&&t.isDark(o,s+4)&&!t.isDark(o,s+5)&&t.isDark(o,s+6)&&(e+=40);for(s=0;s<i;s++)for(o=0;o<i-6;o++)t.isDark(o,s)&&!t.isDark(o+1,s)&&t.isDark(o+2,s)&&t.isDark(o+3,s)&&t.isDark(o+4,s)&&!t.isDark(o+5,s)&&t.isDark(o+6,s)&&(e+=40);for(s=n=0;s<i;s++)for(o=0;o<i;o++)t.isDark(o,s)&&n++;return e+Math.abs(100*n/i/i-50)/5*10}},QRMath={glog:function(t){if(t<1)throw Error("glog("+t+")");return QRMath.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;256<=t;)t-=255;return QRMath.EXP_TABLE[t]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},i=0;i<8;i++)QRMath.EXP_TABLE[i]=1<<i;for(i=8;i<256;i++)QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];for(i=0;i<255;i++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;function QRPolynomial(t,i){if(null==t.length)throw Error(t.length+"/"+i);for(var e=0;e<t.length&&0==t[e];)e++;for(this.num=Array(t.length-e+i),i=0;i<t.length-e;i++)this.num[i]=t[i+e]}function QRRSBlock(t,i){this.totalCount=t,this.dataCount=i}function QRBitBuffer(){this.buffer=[],this.length=0}QRPolynomial.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var i=Array(this.getLength()+t.getLength()-1),e=0;e<this.getLength();e++)for(var o=0;o<t.getLength();o++)i[e+o]^=QRMath.gexp(QRMath.glog(this.get(e))+QRMath.glog(t.get(o)));return new QRPolynomial(i,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var i=QRMath.glog(this.get(0))-QRMath.glog(t.get(0)),e=Array(this.getLength()),o=0;o<this.getLength();o++)e[o]=this.get(o);for(o=0;o<t.getLength();o++)e[o]^=QRMath.gexp(QRMath.glog(t.get(o))+i);return new QRPolynomial(e,0).mod(t)}},QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],QRRSBlock.getRSBlocks=function(t,i){var e=QRRSBlock.getRsBlockTable(t,i);if(null==e)throw Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+i);t=e.length/3,i=[];for(var o=0;o<t;o++)for(var s=e[3*o],n=e[3*o+1],a=e[3*o+2],h=0;h<s;h++)i.push(new QRRSBlock(n,a));return i},QRRSBlock.getRsBlockTable=function(t,i){switch(i){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+3]}},QRBitBuffer.prototype={get:function(t){return 1==(this.buffer[Math.floor(t/8)]>>>7-t%8&1)},put:function(t,i){for(var e=0;e<i;e++)this.putBit(1==(t>>>i-e-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),t&&(this.buffer[i]|=128>>>this.length%8),this.length++}},!function(g){g.fn.qrcode=function(h){"string"==typeof h&&(h={text:h}),h=g.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:QRErrorCorrectLevel.H,background:"#ffffff",foreground:"#000000"},h);function r(){var t=new QRCode(h.typeNumber,h.correctLevel),i=(t.addData(h.text),t.make(),document.createElement("canvas"));i.width=h.width,i.height=h.height;for(var e=i.getContext("2d"),o=h.width/t.getModuleCount(),s=h.height/t.getModuleCount(),n=0;n<t.getModuleCount();n++)for(var a=0;a<t.getModuleCount();a++)e.fillStyle=t.isDark(n,a)?h.foreground:h.background,e.fillRect(Math.round(a*o),Math.round(n*s),Math.ceil((a+1)*o)-Math.floor(a*o),Math.ceil((n+1)*o)-Math.floor(n*o));return i}return this.each(function(){if("canvas"!=h.render||global.isIE8()){if("image"!=h.render||global.isIE8()){var t=new QRCode(h.typeNumber,h.correctLevel);t.addData(h.text),t.make();for(var i=g("<table></table>").css("width",h.width+"px").css("height",h.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",h.background),e=h.width/t.getModuleCount(),o=h.height/t.getModuleCount(),s=0;s<t.getModuleCount();s++)for(var n=g("<tr></tr>").css("height",o+"px").appendTo(i),a=0;a<t.getModuleCount();a++)g("<td></td>").css("width",e+"px").css("background-color",t.isDark(s,a)?h.foreground:h.background).appendTo(n)}else t=r(),(i=new Image).src=t.toDataURL("image/png");t=i}else t=r();jQuery(t).appendTo(this)})}}(jQuery),!function(s,H,g){function D(t,i,e){return setTimeout(z(t,e),i)}function e(t,i,e){return Array.isArray(t)&&(n(t,e[i],e),1)}function n(t,i,e){if(t)if(t.forEach)t.forEach(i,e);else if(t.length!==g)for(o=0;o<t.length;)i.call(e,t[o],o,t),o++;else for(var o in t)t.hasOwnProperty(o)&&i.call(e,t[o],o,t)}function O(e,t,i){var o="DEPRECATED METHOD: "+t+"\n"+i+" AT \n";return function(){var t=(t=Error("get-stack-trace"))&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=s.console&&(s.console.warn||s.console.log);return i&&i.call(s.console,o,t),e.apply(this,arguments)}}function t(t,i,e){var o=i.prototype;(i=t.prototype=Object.create(o)).constructor=t,i._super=o,e&&v(i,e)}function z(t,i){return function(){return t.apply(i,arguments)}}function N(t,i){return typeof t==lt?t.apply(i&&i[0]||g,i):t}function i(i,t,e){n(a(t),function(t){void 0!==window.addEventListener?i.addEventListener(t,e,!1):i.attachEvent(t,e)})}function o(i,t,e){n(a(t),function(t){void 0!==window.removeEventListener?i.removeEventListener(t,e,!1):i.detachEvent(t,e)})}function U(t,i){for(;t;){if(t==i)return!0;t=t.parentNode}return!1}function a(t){return t.trim().split(/\s+/g)}function h(t,i,e){if(t.indexOf&&!e)return t.indexOf(i);for(var o=0;o<t.length;){if(e&&t[o][e]==i||!e&&t[o]===i)return o;o++}return-1}function r(t){return Array.prototype.slice.call(t,0)}function V(t,e,i){for(var o=[],s=[],n=0;n<t.length;){var a=e?t[n][e]:t[n];h(s,a)<0&&o.push(t[n]),s[n]=a,n++}return o=i?e?o.sort(function(t,i){return t[e]>i[e]}):o.sort():o}function l(t,i){if(i&&i[0]){for(var e,o=i[0].toUpperCase()+i.slice(1),s=0;s<rt.length;){if((e=(e=rt[s])?e+o:i)in t)return e;s++}return g}}function Y(t){return(t=t.ownerDocument||t).defaultView||t.parentWindow||s}function d(i,t){var e=this;this.manager=i,this.callback=t,this.element=i.element,this.target=i.options.inputTarget,this.domHandler=function(t){N(i.options.enable,[i])&&e.handler(t)},this.init()}function Z(t,i,e){var o=e.pointers.length,s=e.changedPointers.length,n=i&k&&0==o-s,o=i&(y|B)&&0==o-s,s=(e.isFirst=!!n,e.isFinal=!!o,n&&(t.session={}),e.eventType=i,i=t.session,o=(n=e.pointers).length,i.firstInput||(i.firstInput=j(e)),1<o&&!i.firstMultiple?i.firstMultiple=j(e):1===o&&(i.firstMultiple=!1),i.firstInput),a=((o=i.firstMultiple)||s).center,h=e.center=G(n),r=(e.timeStamp=dt(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=X(a,h),e.distance=c(a,h),s=e.center,a=i.offsetDelta||{},h=i.prevDelta||{},i.prevInput||{});e.eventType!==k&&r.eventType!==y||(h=i.prevDelta={x:r.deltaX||0,y:r.deltaY||0},a=i.offsetDelta={x:s.x,y:s.y}),e.deltaX=h.x+(s.x-a.x),e.deltaY=h.y+(s.y-a.y),e.offsetDirection=Q(e.deltaX,e.deltaY),a=e.deltaTime,s=e.deltaX/a||0,a=e.deltaY/a||0,e.overallVelocityX=s,e.overallVelocityY=a,e.overallVelocity=x(s)>x(a)?s:a,s=o?(s=o.pointers,c(n[0],n[1],E)/c(s[0],s[1],E)):1,e.scale=s,n=o?(o=o.pointers,X(n[1],n[0],E)+X(o[1],o[0],E)):0,e.rotation=n,e.maxPointers=!i.prevInput||e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers,a=i.lastInterval||e,n=e.timeStamp-a.timeStamp,e.eventType!=B&&(At<n||a.velocity===g)?(s=e.deltaX-a.deltaX,o=r=(a=e.deltaY-a.deltaY)/n||0,h=x(n=h=s/n||0)>x(r)?h:r,s=Q(s,a),i.lastInterval=e):(h=a.velocity,n=a.velocityX,o=a.velocityY,s=a.direction),e.velocity=h,e.velocityX=n,e.velocityY=o,e.direction=s,i=t.element,U(e.srcEvent.target,i)&&(i=e.srcEvent.target),e.target=i,t.emit("hammer.input",e),t.recognize(e),t.session.prevInput=e}function j(t){for(var i=[],e=0;e<t.pointers.length;)i[e]={clientX:w(t.pointers[e].clientX),clientY:w(t.pointers[e].clientY)},e++;return{timeStamp:dt(),pointers:i,center:G(i),deltaX:t.deltaX,deltaY:t.deltaY}}function G(t){var i=t.length;if(1===i)return{x:w(t[0].clientX),y:w(t[0].clientY)};for(var e=0,o=0,s=0;s<i;)e+=t[s].clientX,o+=t[s].clientY,s++;return{x:w(e/i),y:w(o/i)}}function Q(t,i){return t===i?P:x(t)>=x(i)?t<0?S:T:i<0?W:L}function c(t,i,e){var o=i[(e=e||It)[0]]-t[e[0]];return t=i[e[1]]-t[e[1]],Math.sqrt(o*o+t*t)}function X(t,i,e){return e=e||It,180*Math.atan2(i[e[1]]-t[e[1]],i[e[0]]-t[e[0]])/Math.PI}function p(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,d.apply(this,arguments)}function J(){this.evEl=kt,this.evWin=yt,d.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function q(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,d.apply(this,arguments)}function u(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},d.apply(this,arguments)}function K(){d.apply(this,arguments);var t=z(this.handler,this);this.touch=new u(this.manager,t),this.mouse=new p(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function _(t){var i,e;(t=t.changedPointers[0]).identifier===this.primaryTouch&&(i={x:t.clientX,y:t.clientY},this.lastTouches.push(i),e=this.lastTouches,setTimeout(function(){var t=e.indexOf(i);-1<t&&e.splice(t,1)},2500))}function $(t,i){this.manager=t,this.set(i)}function f(t){this.options=v({},this.defaults,t||{}),this.id=ut++,this.manager=null,t=this.options.enable,this.options.enable=t===g||t,this.state=1,this.simultaneous={},this.requireFail=[]}function tt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function it(t){return t==L?"down":t==W?"up":t==S?"left":t==T?"right":""}function m(t,i){return(i=i.manager)?i.get(t):t}function C(){f.apply(this,arguments)}function A(){C.apply(this,arguments),this.pY=this.pX=null}function et(){C.apply(this,arguments)}function ot(){f.apply(this,arguments),this._input=this._timer=null}function st(){C.apply(this,arguments)}function nt(){C.apply(this,arguments)}function b(){f.apply(this,arguments),this.pCenter=this.pTime=!1,this._input=this._timer=null,this.count=0}function I(t,i){var e=(i=i||{}).recognizers;return i.recognizers=e===g?I.defaults.preset:e,new at(t,i)}function at(t,i){this.options=v({},I.defaults,i||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=new((i=this).options.inputClass||(mt?J:Ct?u:ft?K:p))(i,Z),this.touchAction=new $(this,this.options.touchAction),ht(this,!0),n(this.options.recognizers,function(t){var i=this.add(new t[0](t[1]));t[2]&&i.recognizeWith(t[2]),t[3]&&i.requireFailure(t[3])},this)}function ht(t,e){var o=t.element;o.style&&n(t.options.cssProps,function(t,i){o.style[l(o.style,i)]=e?t:""})}var rt=" webkit Moz MS ms o".split(" "),gt=H.createElement("div"),lt="function",w=Math.round,x=Math.abs,dt=Date.now,v="function"!=typeof Object.assign?function(t){if(t===g||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),e=1;e<arguments.length;e++){var o=arguments[e];if(o!==g&&null!==o)for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])}return i}:Object.assign,ct=O(function(t,i,e){for(var o=Object.keys(i),s=0;s<o.length;)e&&t[o[s]]!==g||(t[o[s]]=i[o[s]]),s++;return t},"extend","Use `assign`."),pt=O(function(t,i){return ct(t,i,!0)},"merge","Use `assign`."),ut=1,ft="ontouchstart"in s,mt=l(s,"PointerEvent")!==g,Ct=ft&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),At=25,k=1,y=4,B=8,P=1,S=2,T=4,W=8,L=16,M=S|T,R=W|L,bt=M|R,It=["x","y"],E=["clientX","clientY"],wt=(d.prototype={handler:function(){},init:function(){this.evEl&&i(this.element,this.evEl,this.domHandler),this.evTarget&&i(this.target,this.evTarget,this.domHandler),this.evWin&&i(Y(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&o(this.element,this.evEl,this.domHandler),this.evTarget&&o(this.target,this.evTarget,this.domHandler),this.evWin&&o(Y(this.element),this.evWin,this.domHandler)}},{mousedown:k,mousemove:2,mouseup:y}),xt=(t(p,d,{handler:function(t){var i=wt[t.type];i&k&&0===t.button&&(this.pressed=!0),2&i&&1!==t.which&&(i=y),this.pressed&&(i&y&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}}),{pointerdown:k,pointermove:2,pointerup:y,pointercancel:B,pointerout:B}),vt={2:"touch",3:"pen",4:"mouse",5:"kinect"},kt="pointerdown",yt="pointermove pointerup pointercancel",Bt=(s.MSPointerEvent&&!s.PointerEvent&&(kt="MSPointerDown",yt="MSPointerMove MSPointerUp MSPointerCancel"),t(J,d,{handler:function(t){var i=this.store,e=!1,o=t.type.toLowerCase().replace("ms",""),o=xt[o],s=vt[t.pointerType]||t.pointerType,n="touch"==s,a=h(i,t.pointerId,"pointerId");o&k&&(0===t.button||n)?a<0&&(i.push(t),a=i.length-1):o&(y|B)&&(e=!0),a<0||(i[a]=t,this.callback(this.manager,o,{pointers:i,changedPointers:[t],pointerType:s,srcEvent:t}),e&&i.splice(a,1))}}),{touchstart:k,touchmove:2,touchend:y,touchcancel:B}),Pt=(t(q,d,{handler:function(t){var i,e,o=Bt[t.type];o===k&&(this.started=!0),this.started&&(i=r(t.touches),e=r(t.changedTouches),e=[i=o&(y|B)?V(i.concat(e),"identifier",!0):i,e],o&(y|B)&&0==e[0].length-e[1].length&&(this.started=!1),this.callback(this.manager,o,{pointers:e[0],changedPointers:e[1],pointerType:"touch",srcEvent:t}))}}),{touchstart:k,touchmove:2,touchend:y,touchcancel:B}),St=(t(u,d,{handler:function(t){var i=Pt[t.type],e=function(t,i){var e=r(t.touches),o=this.targetIds;if(i&(2|k)&&1===e.length)return o[e[0].identifier]=!0,[e,e];t=r(t.changedTouches);var s=[],n=this.target,a=e.filter(function(t){return U(t.target,n)});if(i===k)for(e=0;e<a.length;)o[a[e].identifier]=!0,e++;for(e=0;e<t.length;)o[t[e].identifier]&&s.push(t[e]),i&(y|B)&&delete o[t[e].identifier],e++;return s.length?[V(a.concat(s),"identifier",!0),s]:void 0}.call(this,t,i);e&&this.callback(this.manager,i,{pointers:e[0],changedPointers:e[1],pointerType:"touch",srcEvent:t})}}),t(K,d,{handler:function(t,i,e){var o="touch"==e.pointerType;if(!((s="mouse"==e.pointerType)&&e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents)){if(o)i&k?(this.primaryTouch=e.changedPointers[0].identifier,_.call(this,e)):i&(y|B)&&_.call(this,e);else{if(o=s)t:{for(var o=e.srcEvent.clientX,s=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var a=this.lastTouches[n],h=Math.abs(s-a.y);if(Math.abs(o-a.x)<=25&&h<=25){o=!0;break t}}o=!1}if(o)return}this.callback(t,i,e)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}}),l(gt.style,"touchAction")),Tt=St!==g,Wt="manipulation",F="none",Lt="pan-x",Mt="pan-y";$.prototype={set:function(t){"compute"==t&&(t=this.compute()),Tt&&this.manager.element.style&&(this.manager.element.style[St]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t,i,e,o=[];return n(this.manager.recognizers,function(t){N(t.options.enable,[t])&&(o=o.concat(t.getTouchAction()))}),-1<(t=o.join(" ")).indexOf(F)||(i=-1<t.indexOf(Lt),e=-1<t.indexOf(Mt),i&&e)?F:i||e?i?Lt:Mt:-1<t.indexOf(Wt)?Wt:"auto"},preventDefaults:function(t){if(!Tt){var i=t.srcEvent,e=t.offsetDirection;if(!this.manager.session.prevented){i.preventDefault();var o=-1<(n=this.actions).indexOf(F),s=-1<n.indexOf(Mt),n=-1<n.indexOf(Lt);if(o){var a=t.distance<2,h=t.deltaTime<250;if(1===t.pointers.length&&a&&h)return}return n&&s?void 0:o||s&&e&M||n&&e&R?this.preventSrc(i):void 0}}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};f.prototype={defaults:{},set:function(t){return v(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){var i;return e(t,"recognizeWith",this)||(i=this.simultaneous)[(t=m(t,this)).id]||(i[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return e(t,"dropRecognizeWith",this)||(t=m(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){var i;return e(t,"requireFailure",this)||-1===h(i=this.requireFail,t=m(t,this))&&(i.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){return e(t,"dropRequireFailure",this)||(t=m(t,this),-1<(t=h(this.requireFail,t))&&this.requireFail.splice(t,1)),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(i){function t(t){e.manager.emit(t,i)}var e=this,o=this.state;o<8&&t(e.options.event+tt(o)),t(e.options.event),i.additionalEvent&&t(i.additionalEvent),8<=o&&t(e.options.event+tt(o))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=32)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){return t=v({},t),N(this.options.enable,[this,t])?(56&this.state&&(this.state=1),this.state=this.process(t),void(30&this.state&&this.tryEmit(t))):(this.reset(),void(this.state=32))},process:function(t){},getTouchAction:function(){},reset:function(){}},t(C,f,{defaults:{pointers:1},attrTest:function(t){var i=this.options.pointers;return 0===i||t.pointers.length===i},process:function(t){var i=this.state,e=t.eventType,o=6&i;return t=this.attrTest(t),o&&(e&B||!t)?16|i:o||t?e&y?8|i:2&i?4|i:2:32}}),t(A,C,{defaults:{event:"pan",threshold:10,pointers:1,direction:bt},getTouchAction:function(){var t=this.options.direction,i=[];return t&M&&i.push(Mt),t&R&&i.push(Lt),i},directionTest:function(t){var i=this.options,e=!0,o=t.distance,s=t.direction,n=t.deltaX,a=t.deltaY;return s&i.direction||(o=i.direction&M?(s=0===n?P:n<0?S:T,e=n!=this.pX,Math.abs(t.deltaX)):(s=0===a?P:a<0?W:L,e=a!=this.pY,Math.abs(t.deltaY))),t.direction=s,e&&o>i.threshold&&s&i.direction},attrTest:function(t){return C.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var i=it(t.direction);i&&(t.additionalEvent=this.options.event+i),this._super.emit.call(this,t)}}),t(et,C,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[F]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),t(ot,f,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var i=this.options,e=t.pointers.length===i.pointers,o=t.distance<i.threshold,s=t.deltaTime>i.time;if(this._input=t,!o||!e||t.eventType&(y|B)&&!s)this.reset();else if(t.eventType&k)this.reset(),this._timer=D(function(){this.state=8,this.tryEmit()},i.time,this);else if(t.eventType&y)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&y?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=dt(),this.manager.emit(this.options.event,this._input)))}}),t(st,C,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[F]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),t(nt,C,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:M|R,pointers:1},getTouchAction:function(){return A.prototype.getTouchAction.call(this)},attrTest:function(t){var i,e=this.options.direction;return e&(M|R)?i=t.overallVelocity:e&M?i=t.overallVelocityX:e&R&&(i=t.overallVelocityY),this._super.attrTest.call(this,t)&&e&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&x(i)>this.options.velocity&&t.eventType&y},emit:function(t){var i=it(t.offsetDirection);i&&this.manager.emit(this.options.event+i,t),this.manager.emit(this.options.event,t)}}),t(b,f,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Wt]},process:function(t){var i=this.options,e=t.pointers.length===i.pointers,o=t.distance<i.threshold,s=t.deltaTime<i.time;if(this.reset(),t.eventType&k&&0===this.count)return this.failTimeout();if(o&&s&&e){if(t.eventType!=y)return this.failTimeout();if(e=!this.pTime||t.timeStamp-this.pTime<i.interval,o=!this.pCenter||c(this.pCenter,t.center)<i.posThreshold,this.pTime=t.timeStamp,this.pCenter=t.center,o&&e?this.count+=1:this.count=1,this._input=t,0==this.count%i.taps)return this.hasRequireFailures()?(this._timer=D(function(){this.state=8,this.tryEmit()},i.interval,this),2):8}return 32},failTimeout:function(){return this._timer=D(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),I.VERSION="2.0.7",I.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[st,{enable:!1}],[et,{enable:!1},["rotate"]],[nt,{direction:M}],[A,{direction:M},["swipe"]],[b],[b,{event:"doubletap",taps:2},["tap"]],[ot]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},at.prototype={set:function(t){return v(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(t);var e=this.recognizers,o=i.curRecognizer;(!o||8&o.state)&&(o=i.curRecognizer=null);for(var s=0;s<e.length;){var n=e[s];2===i.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&14&n.state&&(o=i.curRecognizer=n),s++}}},get:function(t){if(t instanceof f)return t;for(var i=this.recognizers,e=0;e<i.length;e++)if(i[e].options.event==t)return i[e];return null},add:function(t){var i;return e(t,"add",this)?this:((i=this.get(t.options.event))&&this.remove(i),this.recognizers.push(t),(t.manager=this).touchAction.update(),t)},remove:function(t){var i;return e(t,"remove",this)||(t=this.get(t))&&-1!==(t=h(i=this.recognizers,t))&&(i.splice(t,1),this.touchAction.update()),this},on:function(t,i){var e=this.handlers;return n(a(t),function(t){e[t]=e[t]||[],e[t].push(i)}),this},off:function(t,i){var e=this.handlers;return n(a(t),function(t){i?e[t]&&e[t].splice(h(e[t],i),1):delete e[t]}),this},emit:function(t,i){this.options.domEvents&&(e=t,o=i,(s=H.createEvent("Event")).initEvent(e,!0,!0),(s.gesture=o).target.dispatchEvent(s));var e,o,s,n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length)for(i.type=t,i.preventDefault=function(){i.srcEvent.preventDefault()},t=0;t<n.length;)n[t](i),t++},destroy:function(){this.element&&ht(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},v(I,{INPUT_START:k,INPUT_MOVE:2,INPUT_END:y,INPUT_CANCEL:B,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:P,DIRECTION_LEFT:S,DIRECTION_RIGHT:T,DIRECTION_UP:W,DIRECTION_DOWN:L,DIRECTION_HORIZONTAL:M,DIRECTION_VERTICAL:R,DIRECTION_ALL:bt,Manager:at,Input:d,TouchAction:$,TouchInput:u,MouseInput:p,PointerEventInput:J,TouchMouseInput:K,SingleTouchInput:q,Recognizer:f,AttrRecognizer:C,Tap:b,Pan:A,Swipe:nt,Pinch:et,Rotate:st,Press:ot,on:i,off:o,each:n,merge:pt,extend:ct,assign:v,inherit:t,bindFn:z,prefixed:l}),(void 0!==s?s:"undefined"!=typeof self?self:{}).Hammer=I,"function"==typeof define&&define.amd?define(function(){return I}):"undefined"!=typeof module&&module.exports?module.exports=I:s.Hammer=I}(window,document),jQuery.fn.IEZoom=function(t){this.options=t,this.middleScale=3,this.maxScale=6,this.side=t.side,this.parameters={width:$(this).width()||0,height:$(this).height()||0,naturalWidth:$(this).width()||0,naturalHeight:$(this).height()||0,left:parseInt($(this).css("left"))||0,top:parseInt($(this).css("top"))||0,naturalLeft:parseInt($(this).css("left"))||0,naturalTop:parseInt($(this).css("top"))||0,scale:1,rotate:0,toScale:1,tran:{x:0,y:0},origin:{x:50,y:50},zoomFlag:!1,zoomming:!1,zoonOut:!1,resize:!1,eventCancel:!1},this.onPan=function(t){!this.parameters.resize&&!this.parameters.eventCancel&&!this.parameters.zoomming&&t&&t.pointers&&1==t.pointers.length&&(this.swipeInterval&&this.swipeInterval.stop(),this.animateInterval&&this.animateInterval.stop(),this.parameters.zoomFlag)&&(this.panForMove(this,t.deltaX,t.deltaY,!0),this.options)&&this.options.onPan&&this.options.onPan()},this.onDoubleTap=function(t){var i;BookInfo.getBook().status_resize||BookInfo.getBook().flipping||(BookInfo.getBook().endFlip(),global.windowTapInterval&&window.clearTimeout(global.windowTapInterval),this.parameters.resize)||this.parameters.eventCancel||this.parameters.zoomming||(this.status_zoom=!0,this.parameters.zoomFlag?this.parameters.zoomFlag&&(i=this.parameters.naturalWidth/this.parameters.width,this.parameters.zoomOut=!0,this.animateToScale(this,i,t)):(this.zoomIn(this),this.parameters.zoomOut=!1,this.animateToScale(this,this.middleScale,t)))},this.zoomIn=function(t){t.parameters.left=parseInt($(t).css("left")),t.parameters.top=parseInt($(t).css("top")),t.parameters.naturalLeft=t.parameters.left,t.parameters.naturalTop=t.parameters.top,t.parameters.width=$(t).width(),t.parameters.height=$(t).height(),t.parameters.naturalWidth=$(t).width(),t.parameters.naturalHeight=$(t).height(),t.parameters.zoomFlag=!0,t.parameters.zoomOut=!1,t.options&&t.options.zoomIn&&t.options.zoomIn()},this.zoomOut=function(t){t.swipeInterval&&t.swipeInterval.stop(),t.animateInterval&&t.animateInterval.stop(),t.parameters.zoomFlag=!1,t.parameters.zoomOut=!0,t.parameters.toScale=1,t.parameters.scale=1,t.options&&t.options.zoomOut&&t.options.zoomOut()},this.animateToScale=function(o,s,t){var n,a,h,r,g;o.parameters.eventCancel||o.parameters.zoomming||(o.options&&o.options.zoomStart&&o.options.zoomStart(),o.parameters.zoomming=!0,g=r=h=a=n=0,o.animateInterval=function(t,i){n=$.easing.swing(null,h,o.parameters.width,o.parameters.width*(s-1),20),a=$.easing.swing(null,h,o.parameters.height,o.parameters.height*(s-1),20),r=$.easing.swing(null,h,o.parameters.left,o.parameters.naturalLeft+50*(o.parameters.naturalWidth-o.parameters.width*s)/100-o.parameters.left,20),g=$.easing.swing(null,h,o.parameters.top,o.parameters.naturalTop+50*(o.parameters.naturalHeight-o.parameters.height*s)/100-o.parameters.top,20),o.css({width:n+"px",height:a+"px",left:r+"px",top:g+"px"});for(var e=0;e<o.side.pageArray.length;e++)o.side.pageArray[e]&&o.side.pageArray[e].onResize(n/2,a);if(20<=++h||i<=t){for(o.animateInterval.stop(),o.parameters.left=o.parameters.naturalLeft+50*(o.parameters.naturalWidth-o.parameters.width*s)/100,o.parameters.top=o.parameters.naturalTop+50*(o.parameters.naturalHeight-o.parameters.height*s)/100,o.parameters.width*=s,o.parameters.height*=s,o.css({width:o.parameters.width+"px",height:o.parameters.height+"px",left:o.parameters.left+"px",top:o.parameters.top+"px"}),e=0;e<o.side.pageArray.length;e++)o.side.pageArray[e]&&o.side.pageArray[e].onResize(o.parameters.width/2,o.parameters.height);o.parameters.zoomming=!1,o.parameters.width*o.parameters.scale/o.parameters.naturalWidth<=1&&o.zoomOut(o)}}.animation(this,320))};var i=!(this.panForMove=function(t,i,e,o){t.css({left:t.parameters.left+i+"px",top:t.parameters.top+e+"px"})}),e=0,o=0;bookConfig.SupportOperatePageZoom&&this.dblclick(function(t){t.pointers=[{pageX:t.pageX,pageY:t.pageY}],this.onDoubleTap(t)}.bind(this)),this.bind(_event._down,function(t){i=!0,e=t.pageX,o=t.pageY}.bind(this)),this.bind(_event._move,function(t){t.pointers=[{pageX:t.pageX,pageY:t.pageY}],i&&(t.deltaX=t.pageX-e,t.deltaY=t.pageY-o,this.onPan(t))}.bind(this)),this.bind(_event._end,function(t){i=!1,this.parameters.left+=t.pageX-e,this.parameters.top+=t.pageY-o}.bind(this))},jQuery.fn.zoom=function(t,i){this.options=t,this.isBook=i,this.parameters={width:$(this).width()||0,height:$(this).height()||0,naturalWidth:$(this).width()||0,naturalHeight:$(this).height()||0,left:+$(this).offset().left||0,top:+$(this).offset().top||0,toScale:1,scale:1,rotate:0,tran:{x:0,y:0},origin:{x:50,y:50},zoomFlag:!1,zoomming:!1,zoomOut:!1,resize:!1,eventCancel:!1,zoomDelay:!1,onPan:!1,onSwipe:!1,onDoubleTap:!1,onPinch:!1,zoomArea:{left:0,top:0,right:0,bottom:0}},this.onPan=function(t){var i;!this.parameters.resize&&!this.parameters.eventCancel&&!this.parameters.zoomming&&t&&t.pointers&&1==t.pointers.length&&(this.swipeInterval&&this.swipeInterval.stop(),this.animateInterval&&this.animateInterval.stop(),this.parameters.zoomFlag)&&("panstart"==t.type&&(this.parameters.onPan=!0),i=this.getDelta(t),i=this.panForMove(this,i.deltaX,i.deltaY,!0),this.options&&this.options.onPan&&this.options.onPan(),"panend"!=t.type&&"pancancel"!=t.type||(this.parameters.onPan=!1,this.setZoomParameters(this,i),this.restrictInBoundary(this)))},this.onSwipe=function(t){var i,e,s,n;this.parameters.resize||this.parameters.eventCancel||this.parameters.zoomming||(this.parameters.zoomFlag?(i=this.parameters.tran,(e=this.tranLimit(this,this.parameters.scale,this.parameters.tran)).x==parseInt(i.x)&&e.y==parseInt(i.y)&&(this.animateInterval&&this.animateInterval.stop(),this.swipeInterval&&this.swipeInterval.stop(),n=s=0,t=this.getVelocity(t),s=t.velocityX,n=t.velocityY,this.swipeInterval=function(t,i){var e=this.parameters.tran,o=this.tranLimit(this,this.parameters.scale,this.parameters.tran);(o.x!=parseInt(e.x)||o.y!=parseInt(e.y)||(e=this.panForMove(this,s*(e=(i-t)/i)*16.7,n*e*16.7,!0),this.setZoomParameters(this,e),i<=t))&&(this.swipeInterval.stop(),this.restrictInBoundary(this))}.animation(this,320))):(t=this.getDirection(t),this.options&&this.options.swipeend&&this.options.swipeend(t)))},this.getDirection=function(t){var i,e=bookConfig.upsideOnMobile();return t.direction&Hammer.DIRECTION_RIGHT&&!e&&(i="right"),t.direction&Hammer.DIRECTION_LEFT&&!e&&(i="left"),t.direction&Hammer.DIRECTION_UP&&!e&&(i="up"),t.direction&Hammer.DIRECTION_DOWN&&!e&&(i="down"),t.direction&Hammer.DIRECTION_RIGHT&&e&&(i="down"),t.direction&Hammer.DIRECTION_LEFT&&e&&(i="up"),t.direction&Hammer.DIRECTION_UP&&e&&(i="left"),i=t.direction&Hammer.DIRECTION_DOWN&&e?"right":i},this.getVelocity=function(t){var i=0,e=0,o=bookConfig.upsideOnMobile();return 0==t.velocityX||o||(i=t.velocityX),0==t.velocityY||o||(e=t.velocityY),{velocityX:i=0!=t.velocityX&&o?t.velocityY:i,velocityY:e=0!=t.velocityY&&o?-t.velocityX:e}},this.getDelta=function(t){var i=0,e=0,o=bookConfig.upsideOnMobile();return 0==t.deltaX||o||(i=t.deltaX),0==t.deltaY||o||(e=t.deltaY),{deltaX:i=0!=t.deltaX&&o?t.deltaY:i,deltaY:e=0!=t.deltaY&&o?-t.deltaX:e}},this.onDoubleTap=function(t){var i;BookInfo.getBook().status_resize||BookInfo.getBook().flipping||(BookInfo.getBook().endFlip(),global.windowTapInterval&&window.clearTimeout(global.windowTapInterval),this.parameters.resize)||this.parameters.zoomming||(BookInfo.getBook().unSelect(),this.status_zoom=!0,this.parameters.zoomFlag?this.parameters.zoomFlag&&(this.beforeZoomOut(this),BookEvent.trigger("zoomOut",["double tap",BookInfo.getCurrentPages().join("-")]),i=this.parameters.naturalWidth/this.parameters.width,this.parameters.zoomOut=!0,this.animateToScale(this,i,t)):(BookEvent.trigger("zoomIn",["double tap",BookInfo.getCurrentPages().join("-")]),this.zoomIn(this),this.parameters.origin=this.mathOrigin(this,t),this.originObj(this,this.parameters.origin),this.parameters.zoomOut=!1,this.animateToScale(this,this.middleScale,t)))},this.onPinch=function(t){var i;"pinchstart"==t.type&&(this.pinchStart=!0),this.parameters.resize||this.parameters.zoomming||!this.parameters.zoomFlag&&t.scale<=1||!t||!t.pointers||(BookInfo.getBook().unSelect(),this.animateInterval&&this.animateInterval.stop(),this.swipeInterval&&this.swipeInterval.stop(),i=function(){this.pinchStart=!1,this.parameters.zoomFlag||(this.parameters.zoomOut=!1,this.zoomIn(this)),BookEvent.trigger("zoomIn",["pinch",BookInfo.getCurrentPages().join("-")]),this.scale=this.parameters.toScale,this.parameters.origin=this.mathOrigin(this,t),this.originObj(this,this.parameters.origin),this.pinchMoveIn(this,parseFloat(this.scale)*parseFloat(t.scale),t,this.parameters.origin)}.bind(this),"pinchstart"==t.type&&(this.parameters.onPinch=!0,i(t)),"pinchend"==t.type&&(this.parameters.scale=this.parameters.toScale,this.parameters.onPinch=!1,this.exceedScale(this,t),this.pinchStart=!1),"pinchmove"==t.type&&(this.pinchStart&&i(t),this.pinchMoveIn(this,parseFloat(this.scale)*parseFloat(t.scale),t,this.parameters.origin)),"pinchcancel"==t.type&&(this.parameters.scale=this.parameters.toScale,this.parameters.onPinch=!1,this.exceedScale(this,t),this.pinchStart=!1))},this.exceedScale=function(t,i){var e=t.parameters.width*t.parameters.toScale/t.parameters.naturalWidth,o=t.parameters.width*t.parameters.toScale,s=t.parameters.height*t.parameters.toScale,n=t.parameters.naturalWidth*t.maxScale/t.parameters.width,a=t.parameters.naturalWidth/t.parameters.width,h=t.parameters.toScale;e>t.maxScale&&(h=n),(e<1||o<windowWidth&&s<windowHeight)&&(t.parameters.zoomOut=!0,h=a),t.animateToScale(t,h,i)},this.zoomIn=function(t){var i=this.getBookOffset($(t));t.parameters.tran=getTransform(t[0]),t.parameters.left=i.left-t.parameters.tran.x,t.parameters.top=i.top-t.parameters.tran.y,t.parameters.width=$(t).width(),t.parameters.height=$(t).height(),t.parameters.naturalWidth=$(t).width(),t.parameters.naturalHeight=$(t).height(),t.setZoomSize(),t.parameters.zoomFlag=!0,t.parameters.zoomOut=!1,t.options&&t.options.zoomIn&&t.options.zoomIn()},this.beforeZoomOut=function(t){t.options&&t.options.beforeZoomOut&&t.options.beforeZoomOut()},this.zoomOut=function(t){t.swipeInterval&&t.swipeInterval.stop(),t.animateInterval&&t.animateInterval.stop(),t.parameters.zoomFlag=!1,t.parameters.zoomOut=!0,t.parameters.toScale=1,t.parameters.scale=1,t.options&&t.options.zoomOut&&t.options.zoomOut()},this.tranLimit=function(t,i,e){if(e){var o;if(t.parameters.zoomOut)return(e={x:0,y:0}).x=t.parameters.width*(i-1)*t.parameters.origin.x/100,e.y=t.parameters.height*(i-1)*t.parameters.origin.y/100,(bookType==BookType.normal_book||bookType==BookType.catalog_book)&&bookConfig.retainBookCenter&&t.isBook&&1==(o=BookInfo.getCurrentPages()).length&&(!BookInfo.isLeftPage(o[0],!0)&&bookConfig.FlipDirection&&(e.y-=t.parameters.height*i/4),BookInfo.isLeftPage(o[0],!0)&&bookConfig.FlipDirection&&(e.y+=t.parameters.height*i/4),BookInfo.isLeftPage(o[0],!0)||bookConfig.FlipDirection||(e.x-=t.parameters.width*i/4),BookInfo.isLeftPage(o[0],!0))&&!bookConfig.FlipDirection&&(e.x+=t.parameters.width*i/4),e;t.parameters.origin||(t.parameters.origin={x:0,y:0}),o=e.x,e=e.y;var s,n=t.parameters.width,a=t.parameters.height,h=t.parameters.left-t.parameters.origin.x*(i-1)*n/100,r=t.parameters.top-t.parameters.origin.y*(i-1)*a/100,g=i*n,l=i*a;return h=windowWidth<g?(s=windowWidth-g-h+n*i*t.parameters.zoomArea.right/100,-h-n*i*t.parameters.zoomArea.left/100):(s=-h-n*i*t.parameters.zoomArea.left/100,windowWidth-g-h+n*i*t.parameters.zoomArea.right/100),t=windowHeight<l?(n=windowHeight-l-r+a*i*t.parameters.zoomArea.bottom/100,-r-a*i*t.parameters.zoomArea.top/100):(n=-r-a*i*t.parameters.zoomArea.top/100,windowHeight-l-r+a*i*t.parameters.zoomArea.bottom/100),o=Number.between(o,s,h),e=Number.between(e,n,t),{x:parseInt(o),y:parseInt(e)}}},this.pinchMoveIn=function(t,i,e){var o;!t.parameters.eventCancel&&!t.parameters.zoomming&&e&&e.pointers&&2==e.pointers.length&&((o={}).scale=i,o.tran=t.mathTran(t,e,t.parameters.origin),t.transformSetting(t,o),t.parameters.toScale=i)},this.mathTran=function(t,i,e){if(!i||!i.pointers||i.pointers.length<=0||!e)return{x:0,y:0};i=this.getPageXY(i),pageX=i.pageX,pageY=i.pageY;var o=t.parameters.width,s=(i=t.parameters.height,t.parameters.left);return t=t.parameters.top,s=(e.x*o/100+s).toFixed(2),e=(e.y*i/100+t).toFixed(2),tranX=pageX-parseFloat(s),tranY=pageY-parseFloat(e),{x:parseFloat(tranX.toFixed(2)),y:parseFloat(tranY.toFixed(2))}},this.mathOrigin=function(t,i){if(!i||!i.pointers||i.pointers.length<=0)return{x:50,y:50};i=this.getPageXY(i),pageX=i.pageX,pageY=i.pageY;var e=t.parameters.width,o=(i=t.parameters.height,this.getBookOffset(t)),e=(pageX-parseInt(o.left))/(e*t.parameters.scale);return t=(pageY-parseInt(o.top))/(i*t.parameters.scale),{x:(100*e).toFixed(2),y:(100*t).toFixed(2)}},this.getPageXY=function(t){var i,e,o=bookConfig.upsideOnMobile();return 1==t.pointers.length&&(i=t.pointers[0].pageX,e=t.pointers[0].pageY),1<t.pointers.length&&(i=(t.pointers[0].pageX+t.pointers[1].pageX)/2,e=(t.pointers[0].pageY+t.pointers[1].pageY)/2),o?{pageX:e,pageY:windowHeight-i}:{pageX:i,pageY:e}},this.getBookOffset=function(t){if(t)return t=t.offset(),bookConfig.upsideOnMobile()?{left:t.top,top:t.left}:{left:t.left,top:t.top}},this.restrictInBoundary=function(s,n){var t,i,a,h,r;s.parameters.eventCancel||s.parameters.zoomming||(t=s.parameters.tran,(i=this.tranLimit(s,s.parameters.scale,t)).x==parseInt(t.x)&&i.y==parseInt(t.y))||(s.animateInterval&&s.animateInterval.stop(),r=h=a=0,i.x!=t.x&&(a=i.x-t.x),i.y!=t.y&&(h=i.y-t.y),s.animateInterval=function(t,i){var e=$.easing.easeOutBack(null,r,0,a,20),o=$.easing.easeOutBack(null,r,0,h,20);0<r&&(e-=$.easing.easeOutBack(null,r-1,0,a,20),o-=$.easing.easeOutBack(null,r-1,0,h,20)),e=s.panForMove(s,e,o),s.setZoomParameters(s,e),(20<=++r||i<=t)&&(s.animateInterval.stop(),BookInfo.getBook().bookAttachments&&BookInfo.getBook().bookAttachments.Items.find("ZoomMap").each(function(t){t.refreshArea()}),n)&&"function"==typeof n&&n()}.animation(this,320))},this.transformSetting=function(t,i){t.setZoomParameters(t,i),i=transformCSS(i),t.css(i)},this.panForMove=function(t,i,e,o){var s=(s=t.parameters?t.parameters.tran:{x:0,y:0})||{x:0,y:0};return(o=t.parameters?t.parameters.scale:1)||0==o||(o=1),i=parseInt(s.x+i),e=parseInt(s.y+e),i=transformCSS({tran:e={x:i,y:e},scale:o}),t.css(i),{tran:e,scale:o}},this.originObj=function(t,i){t.css({"-webkit-transform-origin":i.x+"% "+i.y+"%","-moz-transform-origin":i.x+"% "+i.y+"%","-ms-transform-origin":i.x+"% "+i.y+"%","-o-transform-origin":i.x+"% "+i.y+"%"})},this.setZoomParameters=function(i,e){function o(t){return null!=t}function t(t){return(o(e[t])&&!isNaN(e[t])?e:i.parameters)[t]}function s(t){return(o(e[t])?e:i.parameters)[t]}i&&i.parameters&&e&&(i.parameters={width:t("width"),height:t("height"),naturalWidth:t("naturalWidth"),naturalHeight:t("naturalHeight"),left:t("left"),top:t("top"),scale:t("scale"),rotate:t("rotate"),toScale:t("toScale"),tran:s("tran"),origin:s("origin"),zoomFlag:s("zoomFlag"),zoomming:s("zoomming"),zoomOut:s("zoomOut"),resize:s("resize"),eventCancel:s("eventCancel"),zoomArea:s("zoomArea"),zoomDelay:s("zoomDelay"),onPan:s("onPan"),onSwipe:s("onSwipe"),onDoubleTap:s("onDoubleTap"),onPinch:s("onPinch")})},this.animateToTransform=function(t,i,e){var o,s;this.parameters.eventCancel||this.parameters.zoomming||(this.options&&this.options.zoomStart&&this.options.zoomStart(),this.parameters.zoomming=!0,o=this.getBookOffset($(this)),this.parameters.tran=getTransform(this[0]),this.parameters.left=o.left-this.parameters.tran.x,this.parameters.top=o.top-this.parameters.tran.y,this.parameters.width=$(this).width(),this.parameters.height=$(this).height(),this.parameters.naturalWidth=$(this).width(),this.parameters.naturalHeight=$(this).height(),this.setZoomSize(),(s={}).origin=this.parameters.origin,s.scale=t,s.tran=i,s.origin=e,this.zoomTran=s,i=transformCSS(s),this.originObj(this,s.origin),animateOnce(this,i,300,function(){getTransform(this[0]),this.transformSetting(this,s),this.parameters.scale=t,this.parameters.toScale=t,this.parameters.zoomming=!1,this.options.onZoomed&&this.options.onZoomed(s)}.bind(this),"%stransform","cubic-bezier(0.2150, 0.610, 0.3550, 1)"))},this.animateToScale=function(t,i,e,o){var s;t.parameters.eventCancel||t.parameters.zoomming||(t.options&&t.options.zoomStart&&t.options.zoomStart(),t.parameters.zoomming=!0,(s={}).origin=t.parameters.origin,s.scale=i,s.tran=this.mathTran(t,e,s.origin),s.tran=this.tranLimit(t,i,s.tran),this.zoomTran=s,this.animation(t,i,s,o))},this.animation=function(s,n,a,t){console.log("animation start");var i=transformCSS(a);s.originObj(s,a.origin),animateOnce(s,i,null==t?600:t,function(){console.log("animation end"),getTransform(s[0]),s.transformSetting(s,a),s.parameters.scale=n,s.parameters.toScale=n,s.parameters.zoomming=!1;var t=(s.parameters.width*s.parameters.toScale).toFixed(2),i=(s.parameters.height*s.parameters.toScale).toFixed(2),e=s.parameters.naturalWidth,o=s.parameters.naturalHeight;Number.isBetween(t,e-1,e+1)||Number.isBetween(i,o-1,o+1)?(s.timeout&&(s.timeout=void 0,window.clearTimeout(s.timeout)),s.parameters.zoomDelay=!1,s.options.onZoomed&&s.options.onZoomed(s.zoomTran),s.zoomOut(s)):s.options.onZoomed&&s.options.onZoomed(s.zoomTran)}.bind(s),"%stransform","cubic-bezier(0.2150, 0.610, 0.3550, 1)")},this.delayExecuteOnZoomed=function(t){t.timeout=window.setTimeout(function(){!t.parameters.zoomFlag||t.parameters.onPinch||t.parameters.zoomming||t.options.onZoomed(t.zoomTran),t.parameters.zoomDelay=!1,window.clearTimeout(t.timeout),t.timeout=void 0},3e3)},this.registerParamers=function(t){t&&(null!=t.width&&(this.parameters.width=t.width),null!=t.height&&(this.parameters.height=t.height),null!=t.left&&(this.parameters.left=t.left),null!=t.top&&(this.parameters.top=t.top),null!=t.scale&&(this.parameters.scale=t.scale),null!=t.tran&&(this.parameters.tran=t.tran),null!=t.origin)&&(this.parameters.origin=t.origin)},this.setZoomSize=function(){var t,i,e,o=$(this).width(),s=$(this).height(),n=bookConfig.largePageHeight/bookConfig.largePageWidth,a=bookConfig.middleZoomWidth,h=a*n,r=getPageSize(BookInfo.getCurrentPageIndex(),"normal",bookConfig.totalPageCount);r&&1<r.length?1<=n?(i=(t=findCloseNum(r,1350))/n,e=(r=r[r.length-1])/n):(t=(i=findCloseNum(r,1350))*n,r=(e=r[r.length-1])*n):(i=(t=1350)/n,e=(r=2050)/n),bookConfig.FlipDirection?(n=a/o,this.middleScale=Math.max(i/o,n,2),this.maxScale=Math.max(e/o,n,4)):(n=h/s,this.middleScale=Math.max(t/s,n,2),this.maxScale=Math.max(r/s,n,4))},(t=new Hammer.Manager($(this)[0])).add(new Hammer.Pan),t.add(new Hammer.Swipe({velocity:.15}).recognizeWith(t.get("pan"))),t.on("panstart panmove panend pancancel",this.onPan.bind(this)),t.on("swipe swipeup",this.onSwipe.bind(this)),bookConfig.SupportOperatePageZoom&&(t.add(new Hammer.Pinch),isPhone()||isPad()?t.add(new Hammer.Tap({event:"doubletap",taps:2,interval:400,posThreshold:30})):t.add(new Hammer.Tap({event:"doubletap",taps:2})),t.on("pinchstart pinchmove pinchcancel pinchend",this.onPinch.bind(this)),!isAndroidWeChat())&&t.on("doubletap",this.onDoubleTap.bind(this)),this.setZoomSize()},Class("VideoSkin",{create:function(t,i){this.content=t,this.video=t.find("video:first"),this.html_video=i||this.video[0],this.initPlayer(),this.initControlBar(),this.initSkin(),this.initEvents(),this.onResize()},initPlayer:function(){this.player=this.html_video;var t=this.video.find("source:first");t&&((t=t.attr("src")).endsWith(".flv")||t.endsWith(".f4v"))&&this.content.html('<video class="video-js vjs-default-skin" preload="auto" width="100%" height="100%" data-setup=\'{}\'><source src='+t+" type='video/x-flv'></video>")},initControlBar:function(){this.content.addClass("video-player"),this.controlBar=$('<div class="video-controls slider-action"></div>'),this.controlBorder=$('<div class="control-border"></div>'),this.content.append(this.controlBar),this.controlBar.append(this.controlBorder),this.btnPlay=$('<div class="video-play"></div>'),this.bevel1=$('<div class="bevel"></div>'),this.video_timer=$('<div class="video-timer">00:00</div>'),this.video_seek=$('<div class="video-seek"></div>'),this.bevel2=$('<div class="bevel"></div>'),this.volume_seek=$('<div class="volume-seek"></div>'),this.btnVolume=$('<div class="volume-button"></div>'),this.btnFullscreen=$('<div class="player-fullscreen"></div>'),this.controlBar.append(this.btnPlay),this.controlBar.append(this.bevel1),this.controlBar.append(this.btnFullscreen),this.controlBar.append(this.video_timer),this.controlBar.append(this.video_seek),this.controlBar.append(this.bevel2),this.controlBar.append(this.volume_seek),this.controlBar.append(this.btnVolume),this.createVideoSeekSlider(),this.createVolumeSeekSlider(),this.btnCenter=$('<div class="video-center-button"></div>'),this.content.append(this.btnCenter)},createVideoSeekSlider:function(){var t=(t=this.html_video.$media[0].duration)||100;this.video_seek_slider=this.video_seek.slider({range:0,max:t,direction:"horizontal",onChange:function(t){try{this.html_video.$media[0].currentTime=parseFloat(t)}catch(t){}}.bind(this)})},createVolumeSeekSlider:function(){this.volume_value=1,this.volume_seek_slider=this.volume_seek.slider({range:1,max:1,direction:"vertical",onChange:function(t){t=parseFloat(t);try{equals(this.volume_value=t,0)?(this.html_video.$media[0].muted=!0,this.btnVolume.addClass("volume-mute")):(this.html_video.$media[0].muted=!1,this.btnVolume.removeClass("volume-mute")),this.html_video.$media[0].volume=t}catch(t){}}.bind(this)})},initEvents:function(){this.initControlBarEvents(),this.initPlayEvents(),this.initVolumeEvents(),this.initFullscreenEvents()},initPrompt:function(t){if(t&&t.length){var i=this.html_video.$media[0].duration;this.video_seek.width();for(var e=0;e<t.length;e++){var o=$("<p title='"+t[e].text+"' style='top:1px;left:"+t[e].time/i*100+"%;z-index:2;background:#fff;width:5px;height:5px;border-radius:50%;position:absolute;'></p>");this.video_seek.append(o),this.promptEvent(o,t[e].time)}}},promptEvent:function(i,e){i.bind("mouseenter",function(t){i.css({background:"#2CA8D5"})}.bind(this)),i.bind("mouseleave",function(t){i.css({background:"#fff"})}.bind(this)),i.bind("click",function(t){this.html_video.$media[0].currentTime=e}.bind(this))},initControlBarEvents:function(){var t=function(){var t="visible";1==this.html_video.$media[0].paused&&(t="hidden"),this.controlBar.css({visibility:t,opacity:1})}.bind(this),i=function(){this.controlBar.css({visibility:"hidden",opacity:0})}.bind(this);$.browser.device==$.browser.DEVICE_PC?(this.video.bind(_event._enter,t),this.video.bind(_event._leave,i),this.controlBar.bind(_event._enter,t),this.controlBar.bind(_event._leave,i)):(this.video.bind(_event._down,function(){t(),this.hideControlbarFlag=!1}.bind(this)),this.video.bind(_event._move,function(){t(),this.hideControlbarFlag=!1}.bind(this)),this.video.bind(_event._up,function(){this.hideControlbarFlag=!0,function(){1==this.hideControlbarFlag&&i()}.delay(this,5e3)}.bind(this)))},initPlayEvents:function(){function t(t){return t=(t=this.content.find("source").attr("src"))?t.slice(t.lastIndexOf("/")+1):"",0==this.html_video.$media[0].paused?(bookConfig.googleAnalyticsID&&gtag("event","pause",{event_category:"Video",event_label:"Page"+BookInfo.getCurrentPages()[0]+" "+t}),this.pause()):(bookConfig.googleAnalyticsID&&gtag("event","play",{event_category:"Video",event_label:"Page"+BookInfo.getCurrentPages()[0]+" "+t}),this.play(),this.controlBar.css({visibility:"visible",opacity:1})),!1}var i=(new Date).getTime();this.video.bind(_event._click,t.bind(this)),this.btnPlay.bind(_event._click,t.bind(this)),this.btnCenter&&this.btnCenter.bind(_event._click,t.bind(this)),this.video.bind("play",function(){i=(new Date).getTime(),BookEvent.trigger("playMedia",["play",BookInfo.getCurrentPageIndex(),this.html_video.$media[0].currentSrc,"Video",0]),this.btnPlay.addClass("paused-button"),this.btnCenter&&this.btnCenter.css("display","none")}.bind(this)),this.video.bind("pause",function(){BookEvent.trigger("playMedia",["pause",BookInfo.getCurrentPageIndex(),this.html_video.$media[0].currentSrc,"Video",(new Date).getTime()-i]),this.btnPlay.removeClass("paused-button"),this.btnCenter&&this.btnCenter.css("display","block")}.bind(this)),this.video.bind("ended",function(){this.btnPlay.removeClass("paused-button"),this.btnCenter&&this.btnCenter.css("display","block")}.bind(this)),this.video.bind("timeupdate",function(){var t=this.html_video.$media[0].currentTime,i=(i=this.html_video.$media[0].duration)||100;this.video_seek_slider&&(this.video_seek_slider.setMax(i),this.video_seek_slider.setRange(t)),this.video_timer.text(this.timeFormat(t))}.bind(this))},initVolumeEvents:function(){this.btnVolume.bind(_event._click,function(){return 1==this.html_video.$media[0].muted?(this.html_video.$media[0].muted=!1,this.volume_seek_slider.setRange(this.volume_value),this.btnVolume.removeClass("volume-mute")):(this.html_video.$media[0].muted=!0,this.volume_seek_slider.setRange(0),this.btnVolume.addClass("volume-mute")),!1}.bind(this)),this.btnVolume.bind("mouseenter",function(t){t=(t=isTouch?(t.originalEvent||t).changedTouches:[t])[0].pageX-t[0].offsetX-this.controlBar.offset().left,t+=(this.btnVolume.width()-this.volume_seek.width())/2,this.volume_seek.css({left:t+"px"}),this.volume_seek.css({visibility:"visible",opacity:"1"})}.bind(this)),this.btnVolume.bind("mouseleave",function(){this.volume_seek.css({visibility:"hidden",opacity:"0"})}.bind(this)),this.volume_seek.bind("mouseenter",function(){this.volume_seek.css({visibility:"visible",opacity:"1"})}.bind(this)),this.volume_seek.bind("mouseleave",function(){this.volume_seek.css({visibility:"hidden",opacity:"0"})}.bind(this))},initFullscreenEvents:function(){this.btnFullscreen.bind(_event._click,function(){return fullScreenApi.supportsFullScreen?fullScreenApi.isFullScreen()?fullScreenApi.cancelFullScreen():$.browser.safari?this.initSafariFullscreen(this.html_video.$media[0]):fullScreenApi.requestFullScreen(this.html_video.$media[0]):this.html_video.$media[0].webkitSupportsFullscreen?this.html_video.$media[0].webkitEnterFullscreen():alert(getLanguage("proFullScreenWarn","Current browser does not support full-screen,Please use Chrome for best results")),!1}.bind(this)),this.video.bind(fullScreenApi.fullScreenEventName,function(){fullScreenApi.isFullScreen()?(this.html_video.play(),this.btnFullscreen.addClass("player-exit-fullscreen")):this.btnFullscreen.removeClass("player-exit-fullscreen")}.bind(this))},initSafariFullscreen:function(e){this.appendDomToDocument('<video controlslist="nodownload" preload="auto" webkit-playsinline="true" playsinline="true" class="safari-fullscreen-video" controls></video>',"safari-fullscreen-video"),!window.playBackgroundSound&&window.currentMedia&&(window.currentMedia.pauseMedia(),window.currentMedia=null);var o=document.getElementsByClassName("safari-fullscreen-video");o[0].webkitRequestFullscreen(),o[0].src=e.children[0].src,o[0].load(),o[0].volume=e.volume,o[0].addEventListener("canplay",function t(i){o[0].play(),o[0].addEventListener("play",function t(i){o[0].currentTime=e.currentTime,o[0].removeEventListener(i.type,t)}),o[0].removeEventListener(i.type,t)}),this.safariFullscreenEvent(o[0],e)},appendDomToDocument:function(t,i){0===document.getElementsByClassName(i).length&&(t=document.createRange().createContextualFragment(t),document.body.appendChild(t))},safariFullscreenEvent:function(e,o){var s=!1;e.addEventListener("enterpictureinpicture",function t(i){s=!0,o.currentTime=e.currentTime,o.volume=e.volume,e.paused?o.play():o.pause(),e.removeEventListener(i.type,t)}),e.addEventListener("leavepictureinpicture",function t(i){s=!1,o.currentTime=e.currentTime,o.volume=e.volume,e.paused?o.pause():o.play(),e.removeEventListener(i.type,t),e.remove()}),document.addEventListener("webkitfullscreenchange",function t(i){!e||document.webkitIsFullScreen||s||(o.currentTime=e.currentTime,o.volume=e.volume,e.paused?o.pause():o.play(),e.remove(),document.removeEventListener(i.type,t))})},timeFormat:function(t){var i=Math.floor(t/60)<10?"0"+Math.floor(t/60):Math.floor(t/60);return i+":"+(Math.floor(t-60*i)<10?"0"+Math.floor(t-60*i):Math.floor(t-60*i))},initSkin:virtual_function,onResize:function(){var t=(t=this.controlBar.width())||this.content.width(),i=Math.max(0,t-this.seekWidth);i<=0?this.video_seek.css({display:"none"}):(this.video_seek.css({width:i,display:"block"}),this.video_seek_slider.setRange(this.html_video.$media[0].currentTime)),i=this.btnVolume.position().left+this.controlBar.position().left+(this.btnVolume.width()-this.volume_seek.width())/2,t<this.volumeWidth?(this.bevel2.css({display:"none"}),this.btnVolume.css({display:"none"}),this.volume_seek.css({left:"-45px"}),t<this.fullscreenWidth?this.btnFullscreen.css({display:"none"}):this.btnFullscreen.css({display:"block"})):(this.btnVolume.css({display:"block"}),this.btnFullscreen.css({display:"block"}),this.volume_seek.css({left:i+"px"})),1==this.html_video.$media[0].muted?this.volume_seek_slider.setRange(0):this.volume_seek_slider.setRange(this.volume_value)},play:function(){this.player&&this.player.play()},pause:function(){this.player&&this.player.pause()},stop:function(){this.player&&(this.pause(),this.player.setCurrentTime(0))}}),Class("RoundVideoSkin",{create:function(t,i){this.seekWidth=195,this.volumeWidth=170,this.fullscreenWidth=60,this._super(t,i)},onResize:function(){this._super(),(this.controlBar.width()||this.content.width())<100?this.video_timer.css("display","none"):this.video_timer.css("display","block")},initSkin:function(){this.content.addClass("round")}}).extend("VideoSkin"),Class("ClassicVideoSkin",{create:function(t,i){this.seekWidth=195,this.volumeWidth=135,this.fullscreenWidth=70,this.initEventMonitor(),this._super(t,i),this.btnCenter&&this.btnCenter.css("display","none")},initSkin:function(){this.content.addClass("classic")},initEventMonitor:function(){this.eventTime;var t=function(){null==this.eventTime?t.stop():5e3<new Date-this.eventTime&&(this.controlBar.css({visibility:"hidden",opacity:0}),t.stop())}.interval(this,300);this.keeyWatchEvent=function(){$.browser.device!=$.browser.DEVICE_PC&&(this.eventTime=new Date,t.isRunning()||t.start())}.bind(this)},initControlBarEvents:function(){var t=function(){this.controlBar.css({visibility:"visible",opacity:1})}.bind(this),i=function(){this.controlBar.css({visibility:"hidden",opacity:0})}.bind(this);$.browser.device==$.browser.DEVICE_PC?(this.video.bind(_event._enter,t),this.video.bind(_event._leave,i),this.controlBar.bind(_event._enter,t),this.controlBar.bind(_event._leave,i)):(this.video.bind(_event._down,function(){t(),this.keeyWatchEvent()}.bind(this)),this.video.bind(_event._move,function(){t(),this.keeyWatchEvent()}.bind(this)),this.video.bind(_event._up,this.keeyWatchEvent)),t()},initPlayEvents:function(){function t(t){return 0==this.html_video.$media[0].paused?this.pause():(this.play(),this.controlBar.css({visibility:"visible",opacity:1})),this.keeyWatchEvent(),!1}this.video.bind(_event._click,t.bind(this)),this.btnPlay.bind(_event._click,t.bind(this));var i=(new Date).getTime();this.video.bind("play",function(){i=(new Date).getTime(),BookEvent.trigger("playMedia",["play",BookInfo.getCurrentPageIndex(),this.html_video.$media[0].currentSrc,"Video",0]),this.btnPlay.addClass("paused-button")}.bind(this)),this.video.bind("pause",function(){BookEvent.trigger("playMedia",["pause",BookInfo.getCurrentPageIndex(),this.html_video.$media[0].currentSrc,"Video",(new Date).getTime()-i]),this.btnPlay.removeClass("paused-button")}.bind(this)),this.video.bind("ended",function(){this.btnPlay.removeClass("paused-button")}.bind(this)),this.video.bind("timeupdate",function(){var t=this.html_video.$media[0].currentTime,i=(i=this.html_video.$media[0].duration)||100;this.video_seek_slider&&(this.video_seek_slider.setMax(i),this.video_seek_slider.setRange(t)),this.video_timer.text(this.timeFormat(t))}.bind(this))},onResize:function(){this._super(),this.controlBar.width()||this.content.width()}}).extend("VideoSkin"),Class("SmallBlackVideoSkin",{create:function(t,i){this.seekWidth=145,this.volumeWidth=110,this.fullscreenWidth=60,this._super(t,i)},initSkin:function(){this.content.addClass("smallblack")}}).extend("VideoSkin"),Class("AudioSkin",{create:function(t,i,e){this.content=t,this.audio=t.find("audio:first"),this.html_audio=e||this.audio[0],this.resources=i,this.audioIndex=0,this.init(),this.initSkin(),this.initEvents(),this.onResize(),0<this.resources.length&&this.changeMusic(0)},init:function(){this.content.addClass("audio-player"),this.btnPlay=$('<div class="audio-play slider-action"></div>'),this.btnBack=$('<div class="back_button slider-action"></div>'),this.btnForward=$('<div class="forward_button slider-action"></div>'),this.volume_seek=$('<div class="volume-seek slider-action"></div>'),this.btnVolume=$('<div class="volume-button slider-action"></div>'),this.btnVolumeUp=$('<div class="volume-up-button slider-action"></div>'),this.btnVolumeDown=$('<div class="volume-down-button slider-action"></div>'),this.audio_timer=$('<div class="audio-timer">00:00/00:00</div>'),this.audio_seek=$('<div class="audio-seek slider-action"></div>'),this.audio_name=$('<div class="audio-file"></div>'),this.content.append(this.btnPlay),this.content.append(this.btnBack),this.content.append(this.btnForward),this.content.append(this.volume_seek),this.content.append(this.btnVolume),this.content.append(this.btnVolumeUp),this.content.append(this.btnVolumeDown),this.content.append(this.audio_timer),this.content.append(this.audio_seek),this.content.append(this.audio_name),this.createAudioSeekSlider(),this.createVolumeSeekSlider()},createAudioSeekSlider:function(){var t=(t=this.html_audio.$media[0].duration)||100;this.audio_seek_slider=this.audio_seek.slider({range:0,max:t,direction:"horizontal",onChange:function(t){try{this.html_audio.setCurrentTime(parseFloat(t))}catch(t){}}.bind(this)})},createVolumeSeekSlider:function(){this.volume_value=1,this.volume_seek_slider=this.volume_seek.slider({range:1,max:1,direction:this.volumeDirection,onChange:function(t){t=parseFloat(t);try{0==(this.volume_value=t)?(this.html_audio.$media[0].muted=!0,this.volume_btn.addClass("volume-mute")):(this.html_audio.$media[0].muted=!1,this.html_audio.$media[0].volume=t,this.volume_btn.removeClass("volume-mute"))}catch(t){}}.bind(this)})},initEvents:function(){this.initPlayEvents(),this.initVolumeEvents()},initPlayEvents:function(){var t=(new Date).getTime();this.btnPlay.bind(_event._click,function(t){if(this.resources[0])return t=this.resources[0].slice(this.resources[0].lastIndexOf("/")+1),0==this.html_audio.$media[0].paused?(bookConfig.googleAnalyticsID&&gtag("event","pause",{event_category:"audio",event_label:"Page"+BookInfo.getCurrentPages()[0]+" "+t}),this.html_audio.pause()):(bookConfig.googleAnalyticsID&&gtag("event","play",{event_category:"audio",event_label:"Page"+BookInfo.getCurrentPages()[0]+" "+t}),this.html_audio.play()),!1}.bind(this)),this.audio.bind("play",function(){t=(new Date).getTime(),this.btnPlay.addClass("paused-button"),BookEvent.trigger("playMedia",["play",BookInfo.getCurrentPageIndex(),this.resources[this.audioIndex],"Audio",0])}.bind(this)),this.audio.bind("pause",function(){this.btnPlay.removeClass("paused-button"),BookEvent.trigger("playMedia",["pause",BookInfo.getCurrentPageIndex(),this.resources[this.audioIndex],"Audio",(new Date).getTime()-t])}.bind(this)),this.audio.bind("ended",function(){this.btnPlay.removeClass("paused-button"),this.audioIndex<this.resources.length-1&&this.changeMusicByStep(1)}.bind(this)),this.btnBack.bind(_event._click,function(t){return this.changeMusicByStep(-1),!1}.bind(this)),this.btnForward.bind(_event._click,function(t){return this.changeMusicByStep(1),!1}.bind(this)),this.audio.bind("timeupdate",function(){var t=this.html_audio.$media[0].currentTime,i=this.html_audio.$media[0].duration;this.audio_seek_slider.setMax(i),this.audio_seek_slider.setRange(t),this.audio_timer.text(this.timeFormat(t)+"/"+this.timeFormat(i))}.bind(this))},changeMusicByStep:function(t){0!=this.resources.length&&((t=this.audioIndex+t)<0&&(t+=this.resources.length),t%=this.resources.length,this.changeMusic(t),this.html_audio.play())},changeMusic:function(t){this.audioIndex=t,t=this.resources[t],this.html_audio.$media[0].src=t,this.audio_name.text(this.getAudioTitle(t))},getAudioTitle:function(t){var i;return""==t?"":(i=-1==t.indexOf("\\")?t.lastIndexOf("/"):t.lastIndexOf("\\"),iNameEnd=t.lastIndexOf("."),fileTitle=t.substr(i+1,iNameEnd-i-1))},initVolumeEvents:function(){this.btnVolume.bind(_event._click,function(t){return 1==this.html_audio.$media[0].muted?(this.html_audio.$media[0].muted=!1,this.volume_seek_slider.setRange(this.volume_value),this.btnVolume.removeClass("volume-mute")):(this.html_audio.$media[0].muted=!0,this.volume_seek_slider.setRange(0),this.btnVolume.addClass("volume-mute")),!1}.bind(this)),this.btnVolumeUp.bind(_event._click,function(){this.changeVolumeByStep(.1)}.bind(this)),this.btnVolumeDown.bind(_event._click,function(){this.changeVolumeByStep(-.1)}.bind(this))},changeVolumeByStep:function(t){this.volume_value=this.html_audio.$media[0].volume+t,this.volume_value=Math.max(0,this.volume_value),this.volume_value=Math.min(1,this.volume_value),this.html_audio.$media[0].volume=this.volume_value},timeFormat:function(t){var i=Math.floor(t/60)<10?"0"+Math.floor(t/60):Math.floor(t/60);return i+":"+(Math.floor(t-60*i)<10?"0"+Math.floor(t-60*i):Math.floor(t-60*i))},initSkin:virtual_function,onResize:function(){var t;this.audioSeek&&(t=parseInt(this.content.width()),(t=Math.max(0,t-this.audioSeek))<=0?this.audio_seek.css({display:"none"}):(this.audio_seek.css({width:t,display:"block"}),this.audio_seek_slider.setRange(this.html_audio.$media[0].currentTime))),0==this.html_audio.$media[0].muted?this.volume_seek_slider.setRange(this.volume_value):this.volume_seek_slider.setRange(0),null!=(t=this.volumeWidth)&&(this.content.width()<t?(this.btnVolume.css({display:"none"}),this.volume_seek.css({display:"none"})):(this.btnVolume.css({display:"block"}),this.volume_seek.css({display:"block"})))},refreshSeek:function(){this.audio_seek_slider.setRange(this.html_audio.$media[0].currentTime),0==this.html_audio.$media[0].muted?this.volume_seek_slider.setRange(this.volume_value):this.volume_seek_slider.setRange(0)}}),Class("AudioListSkin",{init:function(){this._super(),this.btnList=$("<div class='list-button'></div>"),this.pnlListBackground=$("<div class='list-panel-bk'></div>"),this.pnlList=$("<div class='list-panel'></div>"),this.content.append(this.btnList),this.content.append(this.pnlListBackground),this.pnlListBackground.append(this.pnlList),this.addAudioItems(),this.listVisible=!1,this.items[0]&&this.items[0].addClass("selected"),1==this.resources.length&&(this.btnList.css("display","none"),this.pnlListBackground.css("display","none"))},addAudioItems:function(){this.items=[];for(var t=0;t<this.resources.length;t++){var i=(o=this.resources[t]).lastIndexOf("/")+1,e=o.lastIndexOf("."),o=o.substring(i,e);this.items[t]=$("<div class='list-item'></div>"),this.items[t].text(o),this.pnlList.append(this.items[t])}},initEvents:function(){this._super(),this.initListEvents()},initListEvents:function(){this.btnList.bind(_event._click,function(){return this.listVisible?this.hideListPanel():this.showListPanel(),this.listVisible=!this.listVisible,!1}.bind(this));for(var t=0;t<this.items.length;t++){var i=function(t,i){return function(){t.changeMusic(i),t.html_audio.play()}}(this,t);this.items[t].bind(_event._click,i)}},showListPanel:function(){this.pnlListBackground.css("display","block")},hideListPanel:function(){this.pnlListBackground.css("display","none")},changeMusic:function(t){if(this._super(t),this.items)for(var i=0;i<this.resources.length&&this.items[i];i++)i==t?this.items[i].addClass("selected"):this.items[i].removeClass("selected")},initSkin:virtual_function}).extend("AudioSkin"),Class("DefaultAudioSkin",{create:function(t,i,e){this.volumeDirection="horizontal",this.audioSeek=20,this.volumeWidth=170,this._super(t,i,e)},initSkin:function(){this.content.addClass("default")}}).extend("AudioSkin"),Class("AdvancedAudioSkin",{create:function(t,i,e){this.volumeDirection="horizontal",this._super(t,i,e)},initSkin:function(){this.content.addClass("advanced")}}).extend("AudioListSkin"),Class("WaveAudioSkin",{create:function(t,i,e){this.volumeDirection="horizontal",this.audioSeek=125,this._super(t,i,e)},initSkin:function(){this.content.addClass("wave")},onResize:function(){this._super();var t=this.content.height();if(this.pnlListBackground.css("height",t-44+"px"),t=this.pnlList.width()-20,this.items)for(var i=0;i<this.items.length;i++)this.items[i]&&this.items[i].css("width",t+"px")}}).extend("AudioListSkin"),Class("GlassAudioSkin",{create:function(t,i,e){this.volumeDirection="horizontal",this._super(t,i,e)},initSkin:function(){this.content.addClass("glass")}}).extend("AudioListSkin"),Class("SimpleAudioSkin",{create:function(t,i,e){this.volumeDirection="horizontal",this._super(t,i,e)},initSkin:function(){this.content.addClass("simple")}}).extend("AudioSkin"),Class("EnjoyAudioSkin",{create:function(t,i,e){this.volumeDirection="horizontal",this._super(t,i,e)},initSkin:function(){this.content.addClass("enjoy")}}).extend("AudioSkin"),Class("DecentAudioSkin",{create:function(t,i,e){this.volumeDirection="vertical",this._super(t,i,e)},initSkin:function(){this.content.addClass("decent")}}).extend("AudioSkin"),Class("TreeAudioSkin",{create:function(t,i,e){this.volumeDirection="horizontal",this._super(t,i,e)},initSkin:function(){this.content.addClass("tree")}}).extend("AudioSkin"),Class("ChristmasAudioSkin",{create:function(t,i,e){this.volumeDirection="vertical",this._super(t,i,e)},initSkin:function(){this.content.addClass("christmas")}}).extend("AudioSkin"),Class("TurnonoffAudioSkin",{create:function(t,i,e){this.volumeDirection="horizontal",this._super(t,i,e)},init:function(){this._super(),this.volume_status=$("<div class='volume-status'>Music On</div>"),this.content.append(this.volume_status)},initPlayEvents:function(){this._super(),this.volume_status.bind(_event._click,function(t){return 0==this.html_audio.$media[0].paused?this.html_audio.pause():this.html_audio.play(),!1}.bind(this)),this.audio.bind("play",function(){this.volume_status.text("Music Off")}.bind(this)),this.audio.bind("pause",function(){this.volume_status.text("Music On")}.bind(this))},initSkin:function(){this.content.addClass("turnonoff")}}).extend("AudioSkin"),Class("FadeAudioSkin",{create:function(t,i,e){this.volumeDirection="horizontal",this._super(t,i,e)},initSkin:function(){this.content.addClass("fade")}}).extend("AudioSkin"),Class("BackgroundAudioSkin",{create:function(t,i,e){this.volumeDirection="horizontal",this._super(t,i,e)},initSkin:function(){this.content.addClass("background")}}).extend("AudioSkin"),Class("Skin1AudioSkin",{create:function(t,i,e){this.volumeDirection="horizontal",this.audioSeek=130,this._super(t,i,e)},initSkin:function(){this.content.addClass("skin1")}}).extend("AudioSkin"),Class("Skin2AudioSkin",{create:function(t,i,e){this.volumeDirection="horizontal",this.audioSeek=80,this._super(t,i,e)},initSkin:function(){this.content.addClass("skin2")}}).extend("AudioSkin"),bdor[7]="m",!function(t){t.fn.addVideoSkin=function(t,i){switch(t){case"round":t=new RoundVideoSkin(this,i);break;case"classic":t=new ClassicVideoSkin(this,i);break;case"smallblack":t=new SmallBlackVideoSkin(this,i);break;default:t=new ClassicVideoSkin(this,i)}return t},bdor.i=function(t){return bdor[t]},bdor.f="f",t.fn.addAudioSkin=function(t,i){var e=null;return e=(e=(t=global[t.firstUpperCase()+"AudioSkin"])?new t(this,this.audioResources,i):e)||new DefaultAudioSkin(this,this.audioResources,i)},this.skin=this.bdor}(jQuery);var audioThemeNames={GlassAudioPlayer:"",SimpleAudioPlayer:"",StandardAudioPlayer:"",StandardAudioPlayer02:"",StandardAudioPlayer03:"",StandardAudioPlayer04:"",StandardAudioPlayer05:"",StandardAudioPlayer06:""},phoneIconInfo=(bdor[8]="o",!function(o,s,t){var a=!0;try{var i=t.description||new t("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(t){i="Unavailable"}var e=i.match(/\d+/g)||[0];o[s]={available:0<e[0],activeX:t&&!t.name,version:{original:i,array:e,string:e.join("."),major:parseInt(e[0],10)||0,minor:parseInt(e[1],10)||0,release:parseInt(e[2],10)||0},hasVersion:function(t){return t=/string|number/.test(typeof t)?t.toString().split("."):/object/.test(typeof t)?[t.major,t.minor]:t||[0,0],function t(i,e){var o=(i[0]||0)-(e[0]||0);return 0<o||!o&&0<i.length&&t(i.slice(1),e.slice(1))}(e,t)},encodeParams:!0,expressInstall:"expressInstall.swf",expressInstallIsActive:!1,create:function(t){if(!t.swf||this.expressInstallIsActive||!this.available&&!t.hasVersionFail)return!1;if(!this.hasVersion(t.hasVersion||1)){if(this.expressInstallIsActive=!0,"function"==typeof t.hasVersionFail&&!t.hasVersionFail.apply(t))return!1;t={swf:t.expressInstall||this.expressInstall,height:137,width:214,flashvars:{MMredirectURL:location.href,MMplayerType:this.activeX?"ActiveX":"PlugIn",MMdoctitle:document.title.slice(0,47)+" - Flash Player Installation"}}}attrs={data:t.swf,type:"application/x-shockwave-flash",id:t.id||"flash_"+Math.floor(999999999*Math.random()),width:t.width||320,height:t.height||180,style:t.style||""},a=void 0!==t.useEncode?t.useEncode:this.encodeParams,t.movie=t.swf,t.wmode=t.wmode||"opaque",delete t.fallback,delete t.hasVersion,delete t.hasVersionFail,delete t.height,delete t.id,delete t.swf,delete t.useEncode,delete t.width;var i,e=document.createElement("div"),o=attrs,s=[];for(i in o)o[i]&&s.push([i,'="',o[i],'"'].join(""));for(n in o=s.join(" "),s=[],t)s.push(['<param name="',n,'" value="',function t(i){if("object"!=typeof i)return i;var e,o=[];for(e in i){var s="object"==typeof i[e]?t(i[e]):[e,a?encodeURI(i[e]):i[e]].join("=");o.push(s)}return o.join("&")}(t[n]),'" />'].join(""));var n=s.join("");return e.innerHTML=["<object ",o,">",n,"</object>"].join(""),e.firstChild}},o.fn[s]=function(e){var t=this.find("object").andSelf().filter("object");return/string|object/.test(typeof e)&&this.each(function(){var t,i=o(this);(e="object"==typeof e?e:{swf:e}).fallback=this,(t=o[s].create(e))&&(i.children().remove(),i.html(t))}),"function"==typeof e&&t.each(function(){var t=this;t.jsInteractionTimeoutMs=t.jsInteractionTimeoutMs||0,t.jsInteractionTimeoutMs<660&&(t.clientWidth||t.clientHeight?e.call(t):setTimeout(function(){o(t)[s](e)},t.jsInteractionTimeoutMs+66))}),t}}(jQuery,"flash",navigator.plugins["Shockwave Flash"]||window.ActiveXObject),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,i,e,o,s){return jQuery.easing[jQuery.easing.def](t,i,e,o,s)},easeInQuad:function(t,i,e,o,s){return o*(i/=s)*i+e},easeOutQuad:function(t,i,e,o,s){return-o*(i/=s)*(i-2)+e},easeInOutQuad:function(t,i,e,o,s){return(i/=s/2)<1?o/2*i*i+e:-o/2*(--i*(i-2)-1)+e},easeInCubic:function(t,i,e,o,s){return o*(i/=s)*i*i+e},easeOutCubic:function(t,i,e,o,s){return o*((i=i/s-1)*i*i+1)+e},easeInOutCubic:function(t,i,e,o,s){return(i/=s/2)<1?o/2*i*i*i+e:o/2*((i-=2)*i*i+2)+e},easeInQuart:function(t,i,e,o,s){return o*(i/=s)*i*i*i+e},easeOutQuart:function(t,i,e,o,s){return-o*((i=i/s-1)*i*i*i-1)+e},easeInOutQuart:function(t,i,e,o,s){return(i/=s/2)<1?o/2*i*i*i*i+e:-o/2*((i-=2)*i*i*i-2)+e},easeInQuint:function(t,i,e,o,s){return o*(i/=s)*i*i*i*i+e},easeOutQuint:function(t,i,e,o,s){return o*((i=i/s-1)*i*i*i*i+1)+e},easeInOutQuint:function(t,i,e,o,s){return(i/=s/2)<1?o/2*i*i*i*i*i+e:o/2*((i-=2)*i*i*i*i+2)+e},easeInSine:function(t,i,e,o,s){return-o*Math.cos(i/s*(Math.PI/2))+o+e},easeOutSine:function(t,i,e,o,s){return o*Math.sin(i/s*(Math.PI/2))+e},easeInOutSine:function(t,i,e,o,s){return-o/2*(Math.cos(Math.PI*i/s)-1)+e},easeInExpo:function(t,i,e,o,s){return 0==i?e:o*Math.pow(2,10*(i/s-1))+e},easeOutExpo:function(t,i,e,o,s){return i==s?e+o:o*(1-Math.pow(2,-10*i/s))+e},easeInOutExpo:function(t,i,e,o,s){return 0==i?e:i==s?e+o:(i/=s/2)<1?o/2*Math.pow(2,10*(i-1))+e:o/2*(2-Math.pow(2,-10*--i))+e},easeInCirc:function(t,i,e,o,s){return-o*(Math.sqrt(1-(i/=s)*i)-1)+e},easeOutCirc:function(t,i,e,o,s){return o*Math.sqrt(1-(i=i/s-1)*i)+e},easeInOutCirc:function(t,i,e,o,s){return(i/=s/2)<1?-o/2*(Math.sqrt(1-i*i)-1)+e:o/2*(Math.sqrt(1-(i-=2)*i)+1)+e},easeInElastic:function(t,i,e,o,s){var n=o;return(t=0)==i?e:1==(i/=s)?e+o:(t=t||.3*s,o=n<Math.abs(o)?(n=o,t/4):t/(2*Math.PI)*Math.asin(o/n),-(n*Math.pow(2,10*--i)*Math.sin(2*(i*s-o)*Math.PI/t))+e)},easeOutElastic:function(t,i,e,o,s){var n=0,a=o;return 0==i?e:1==(i/=s)?e+o:(n=n||.3*s,t=a<Math.abs(o)?(a=o,n/4):n/(2*Math.PI)*Math.asin(o/a),a*Math.pow(2,-10*i)*Math.sin(2*(i*s-t)*Math.PI/n)+o+e)},easeInOutElastic:function(t,i,e,o,s){var n=0,a=o;return 0==i?e:2==(i/=s/2)?e+o:(n=n||.3*s*1.5,t=a<Math.abs(o)?(a=o,n/4):n/(2*Math.PI)*Math.asin(o/a),i<1?-.5*a*Math.pow(2,10*--i)*Math.sin(2*(i*s-t)*Math.PI/n)+e:a*Math.pow(2,-10*--i)*Math.sin(2*(i*s-t)*Math.PI/n)*.5+o+e)},easeInBack:function(t,i,e,o,s,n){return o*(i/=s)*i*(((n=null==n?1.70158:n)+1)*i-n)+e},easeOutBack:function(t,i,e,o,s,n){return o*((i=i/s-1)*i*(((n=null==n?1.70158:n)+1)*i+n)+1)+e},easeInOutBack:function(t,i,e,o,s,n){return null==n&&(n=1.70158),(i/=s/2)<1?o/2*i*i*((1+(n*=1.525))*i-n)+e:o/2*((i-=2)*i*((1+(n*=1.525))*i+n)+2)+e},easeInBounce:function(t,i,e,o,s){return o-jQuery.easing.easeOutBounce(t,s-i,0,o,s)+e},easeOutBounce:function(t,i,e,o,s){return(i/=s)<1/2.75?7.5625*o*i*i+e:i<2/2.75?o*(7.5625*(i-=1.5/2.75)*i+.75)+e:i<2.5/2.75?o*(7.5625*(i-=2.25/2.75)*i+.9375)+e:o*(7.5625*(i-=2.625/2.75)*i+.984375)+e},easeInOutBounce:function(t,i,e,o,s){return i<s/2?.5*jQuery.easing.easeInBounce(t,2*i,0,o,s)+e:.5*jQuery.easing.easeOutBounce(t,2*i-s,0,o,s)+.5*o+e}}),!function(o){function s(){++t>=n.length&&(a(h),a=function(){})}var n=[],a=function(){},t=0,h=[];o.fn.loader=function(t,i,e){for(t&&o.extend(n,t),"function"==typeof i&&(a=i),t=0;t<n.length;t++)!function(t){var i=new Image;o(i).on("load",function(){h.push({url:t,img:i}),s()}).on("error",function(){h.push(i),s()}).attr("src",t)}(n[t])}}(jQuery),{width:600,height:1e3,iconInfo:[{id:"next",position:{x:96,y:193},width:48,height:48},{id:"prev",position:{x:10,y:193},width:48,height:48},{id:"search",position:{x:178,y:18},width:48,height:48},{id:"searchButton",position:{x:540,y:630},width:35,height:35},{id:"tableOfContent",position:{x:255,y:21},width:48,height:48},{id:"ZoomIn",position:{x:19,y:106},width:48,height:48},{id:"addBookmark",position:{x:542,y:17},width:48,height:48},{id:"bookmark",position:{x:483,y:17},width:48,height:48},{id:"miBookmark",position:{x:552,y:284},width:32,height:32},{id:"miBookmark_close",position:{x:402,y:429},width:40,height:40},{id:"miBookmark_close_enter",position:{x:462,y:429},width:40,height:40},{id:"thumbnails",position:{x:19,y:18},width:48,height:48},{id:"moreBar",position:{x:97,y:19},width:48,height:48},{id:"miSearch",position:{x:20,y:284},width:32,height:32},{id:"miTableOfContent",position:{x:373,y:284},width:32,height:32},{id:"sharethis",position:{x:87,y:284},width:32,height:32},{id:"home",position:{x:495,y:284},width:32,height:32},{id:"facebook",position:{x:20,y:412},width:65,height:65},{id:"twitter",position:{x:92,y:412},width:65,height:65},{id:"google",position:{x:164,y:412},width:65,height:65},{id:"addthis",position:{x:309,y:412},width:65,height:65},{id:"linkedin",position:{x:236,y:412},width:65,height:65},{id:"share_more",position:{x:308,y:412},width:65,height:65},{id:"reddit",position:{x:192,y:610},width:65,height:65},{id:"digg",position:{x:265,y:610},width:65,height:65},{id:"email",position:{x:340,y:610},width:65,height:65},{id:"collapsed",position:{x:406,y:348},width:24,height:24},{id:"expanded",position:{x:449,y:351},width:24,height:24},{id:"download",position:{x:158,y:284},width:32,height:32},{id:"print",position:{x:305,y:283},width:32,height:32},{id:"autoPlay",position:{x:184,y:104},width:48,height:48},{id:"stopAutoPlay",position:{x:258,y:104},width:48,height:48},{id:"shoppingCart",position:{x:407,y:104},width:48,height:48},{id:"instructions",position:{x:419,y:620},width:48,height:48},{id:"annotation",position:{x:482,y:620},width:48,height:48},{id:"goBtn",position:{x:338,y:110},width:48,height:48},{id:"forward",position:{x:482,y:620},width:48,height:48},{id:"backward",position:{x:482,y:620},width:48,height:48},{id:"languageChange",position:{x:232,y:284},width:32,height:32},{id:"setting",position:{x:437,y:282},width:32,height:32},{id:"soundOn",position:{x:197,y:535},width:45,height:45},{id:"soundOff",position:{x:197,y:535},width:45,height:45},{id:"First",position:{x:194,y:194},width:45,height:45},{id:"prev",position:{x:291,y:194},width:45,height:45},{id:"next",position:{x:383,y:194},width:45,height:45},{id:"Last",position:{x:475,y:194},width:45,height:45},{id:"choosed",position:{x:356,y:346},width:28,height:28},{id:"unchoosed",position:{x:297,y:346},width:28,height:28},{id:"gotoPage",position:{x:414,y:20},width:48,height:48},{id:"ZoomOut",position:{x:101,y:107},width:48,height:48},{id:"passward",position:{x:8,y:547},width:170,height:170},{id:"fullScreen",position:{x:482,y:104},width:48,height:48},{id:"exitFullScreen",position:{x:540,y:104},width:48,height:48},{id:"firstBtn",position:{x:194,y:190},width:45,height:45},{id:"prevBtn",position:{x:291,y:190},width:45,height:45},{id:"nextBtn",position:{x:383,y:190},width:45,height:45},{id:"lastBtn",position:{x:475,y:190},width:45,height:45},{id:"backwardBtn",position:{x:494,y:344},width:45,height:45},{id:"forwardBtn",position:{x:548,y:344},width:45,height:45}]}),catalogIconInfo={width:520,height:220,iconInfo:[{id:"background",position:{x:3,y:9},width:420,height:50},{id:"thumb",position:{x:144,y:143},width:38,height:38},{id:"thumb_down",position:{x:144,y:179},width:38,height:38},{id:"share",position:{x:213,y:143},width:38,height:38},{id:"share_down",position:{x:213,y:179},width:38,height:38},{id:"search",position:{x:179,y:143},width:38,height:38},{id:"search_down",position:{x:179,y:179},width:38,height:38},{id:"more",position:{x:252,y:143},width:38,height:38},{id:"more_down",position:{x:252,y:179},width:38,height:38},{id:"prev",position:{x:240,y:66},width:38,height:38},{id:"next",position:{x:288,y:66},width:38,height:38},{id:"prev_down",position:{x:240,y:106},width:38,height:38},{id:"next_down",position:{x:288,y:106},width:38,height:38},{id:"fullScreen",position:{x:290,y:143},width:38,height:38},{id:"fullScreen_down",position:{x:290,y:179},width:38,height:38},{id:"exitFullScreen",position:{x:328,y:143},width:38,height:38},{id:"exitFullScreen_down",position:{x:328,y:179},width:38,height:38}]},hddr=(jQuery.fn.loading=function(t,i){this.initLoadingHtml=function(t){this.loadingDom=$('<div class="loader"><div class="loader-inner ball-pulse-sync"><div></div><div></div><div></div></div></div>'),this.append(this.loadingDom)}.bind(this),this.createLoading=function(t){this.initLoadingHtml(t)}.bind(this),this.finishedLoading=function(){this.hideLoading()}.bind(this),this.initLoading=function(){}.bind(this),this.showLoading=function(){this.loadingDom&&this.loadingDom.show()}.bind(this),this.hideLoading=function(){this.loadingDom&&this.loadingDom.remove()}.bind(this),this.createLoading(t)},!function(l){function a(){return Hammer.HAS_TOUCHEVENTS&&navigator.userAgent.match(Hammer.MOBILE_REGEX)}function t(t){this.theButton=t,this.eventSource=t[0],a()?(t.bind("touchstart",this.mouseDown.bind(this)),t.bind("touchend",this.mouseUp.bind(this))):(t.bind("mouseenter",this.mouseEnter.bind(this)),t.bind("mouseleave",this.mouseLeave.bind(this)),t.bind("blur",this.mouseLeave.bind(this)),t.bind("mousedown",this.mouseDown.bind(this)),t.bind("mouseup",this.mouseUp.bind(this)))}function i(t,i){this.eventSource=t[0],this.origPicture=t[0].src;var e=this.origPicture.lastIndexOf("."),o=this.origPicture.substr(0,e),e=this.origPicture.substring(e);this.pictureDown=i||o+"_down"+e,a()?(t.bind("touchstart",this.mouseOver.bind(this)),t.bind("touchend",this.mouseLeave.bind(this))):(t.bind("mouseenter",this.mouseOver.bind(this)),t.bind("mousedown",this.mouseDown.bind(this)),t.bind("mouseup",this.mouseUp.bind(this)),t.bind("mouseleave",this.mouseLeave.bind(this)),t.bind("blur",this.mouseLeave.bind(this)))}function e(t,i){this.eventSource=t[0],this.origPicture=t[0].src;var e=this.origPicture.lastIndexOf("."),o=this.origPicture.substr(0,e),e=this.origPicture.substring(e);this.pictureDown=i||o+"_down"+e,a()?(t.bind("touchstart",this.mouseOver.bind(this)),t.bind("touchend",this.mouseUp.bind(this))):(t.bind("mouseenter",this.mouseOver.bind(this)),t.bind("mousedown",this.mouseDown.bind(this)),t.bind("mouseup",this.mouseUp.bind(this)),t.bind("mouseleave",this.mouseUp.bind(this)))}function o(t){this.theButton=t,this.eventSource=t[0];var i=this.theButton.css("top");this.iOrigTop=parseInt(i.replace("px","")),this.iJumpTop=this.iOrigTop-5,t.bind("mouseenter",this.MouseEnter.bind(this)),t.bind("mouseleave",this.MouseLeave.bind(this))}bdor[3]="f",t.prototype.mouseEnter=function(){this.setAlpha(80)},t.prototype.mouseLeave=function(){this.setAlpha(100)},t.prototype.mouseDown=function(){this.setAlpha(60)},t.prototype.mouseUp=function(){this.setAlpha(80)},t.prototype.setAlpha=function(t){this.theButton.css("opacity",(t=100<=(t=t<0?0:t)?100:t)/100)},l.fn.asButton=function(){return new t(this),this},bdor[4]="h",i.prototype.mouseOver=function(){this.eventSource.src=this.pictureDown},i.prototype.mouseDown=function(){l(this.eventSource).css("opacity",.8)},i.prototype.mouseUp=function(){l(this.eventSource).css("opacity",1)},i.prototype.mouseLeave=function(){this.eventSource.src=this.origPicture},l.fn.asImageButton=function(t){return new i(this,t),this},bdor[10]="l",e.prototype.mouseOver=function(){this.eventSource.src=this.pictureDown},e.prototype.mouseDown=function(){this.eventSource.src=this.pictureDown},e.prototype.mouseUp=function(){var t=this;window.setTimeout(function(){t.eventSource.src=t.origPicture},100)},l.fn.asImageChangeButton=function(){return new e(this),this};function s(t){this.theButton=t,this.eventSource=t[0];var i=this.theButton.css("top");this.iOrigTop=parseInt(i.replace("px","")),i=this.theButton.css("left"),this.iOrigLeft=parseInt(i.replace("px","")),this.iZoomTop=this.iOrigTop-3,this.iZoomLeft=this.iOrigLeft-1,t.bind("mouseenter",this.MouseEnter.bind(this)),t.bind("mouseleave",this.MouseLeave.bind(this))}function n(t){this.theButton=t,this.eventSource=t[0];var i=this.theButton.css("top");this.iOrigTop=parseInt(i.replace("px","")),i=this.theButton.css("left"),this.iOrigLeft=parseInt(i.replace("px","")),this.iZoomTop=this.iOrigTop-1,this.iZoomLeft=this.iOrigLeft-1,t.bind("mouseenter",this.MouseEnter.bind(this)),t.bind("mouseleave",this.MouseLeave.bind(this))}o.prototype.MouseEnter=function(){this.theButton.animate({top:this.iJumpTop},50)},o.prototype.MouseLeave=function(){this.theButton.animate({top:this.iOrigTop},50)},l.fn.mouseEnterJump=function(){return new o(this),this},l.fn.mouseOverCursor=function(){return new h(this),this};var h=function(t){t.bind("mouseover",function(){t.css({cursor:"pointer"})})},r=(s.prototype.MouseDown=function(){this.theButton.css({left:this.iZoomLeft+"px",top:this.iZoomTop+"px","-webkit-transform":"scale(1.1)","-moz-transform":"scale(1.1)",transform:"scale(1.1)","-ms-transform":"scale(1.1)","-o-transform":"scale(1.1)"})},s.prototype.MouseEnter=function(){this.theButton.css({left:this.iZoomLeft+"px",top:this.iZoomTop+"px","-webkit-transform":"scale(1.2)","-moz-transform":"scale(1.2)",transform:"scale(1.2)","-ms-transform":"scale(1.2)","-o-transform":"scale(1.2)"})},s.prototype.MouseLeave=function(){this.theButton.css({left:this.iOrigLeft+"px",top:this.iOrigTop+"px","-webkit-transform":"scale(1)","-moz-transform":"scale(1)",transform:"scale(1)","-ms-transform":"scale(1)","-o-transform":"scale(1)"})},n.prototype.MouseEnter=function(){this.theButton.css({"-webkit-transform":"scale(1.1)","-moz-transform":"scale(1.1)",transform:"scale(1.1)","-ms-transform":"scale(1.1)","-o-transform":"scale(1.1)"})},n.prototype.MouseLeave=function(){this.theButton.css({"-webkit-transform":"scale(1)","-moz-transform":"scale(1)",transform:"scale(1)","-ms-transform":"scale(1)","-o-transform":"scale(1)"})},l.fn.mouseEnterZoom=function(){return new n(this),this},l.fn.mouseEnterUp=function(){return new r(this),this},function(t){this.theButton=t,this.eventSource=t[0];var i=this.theButton.css("bottom");this.iOrigTop=parseInt(i.replace("px","")),i=this.theButton.css("left"),this.iOrigLeft=parseInt(i.replace("px","")),this.iZoomTop=this.iOrigTop-1,this.iZoomLeft=this.iOrigLeft-1,t.bind("mouseenter",this.MouseEnter.bind(this)),t.bind("mouseleave",this.MouseLeave.bind(this))});r.prototype.MouseEnter=function(){this.theButton.css({bottom:this.iZoomTop+"px","-webkit-transform":"scale(1.1)","-moz-transform":"scale(1.1)",transform:"scale(1.1)","-ms-transform":"scale(1.1)","-o-transform":"scale(1.1)"})},r.prototype.MouseLeave=function(){this.theButton.css({bottom:this.iOrigTop+"px","-webkit-transform":"scale(1)","-moz-transform":"scale(1)",transform:"scale(1)","-ms-transform":"scale(1)","-o-transform":"scale(1)"})},l.fn.mouseZoomUp=function(){return new s(this),this},l.fn.mouseEnterLight=function(t){t=t||"#EEEEEE";var i=this;return this.bind(_event._enter,function(){i.css({background:t})}),this.bind(_event._down,function(){i.css({background:t})}),a()?this.bind(_event._end,function(){i.css({background:"transparent"})}):this.bind(_event._end,function(){i.css({background:t})}),this.bind(_event._leave,function(){i.css({background:"transparent"})}),this},l.fn.mouseEnterShine=function(t,i,e){var o=this,s=colorDiv(t,10);return this.bind(_event._enter,function(){o.css({background:s}),o.css({border:""}),o.css({"border-left":"1px solid "+e,"border-top":"1px solid "+e}),o.css({"border-right":"1px solid "+i,"border-bottom":"1px solid "+i})}),this.bind(_event._down,function(){o.css({background:s}),o.css({border:""}),o.css({"border-left":"1px solid "+i,"border-top":"1px solid "+i}),o.css({"border-right":"1px solid "+e,"border-bottom":"1px solid "+e})}),a()?this.bind(_event._end,function(){o.css({background:"transparent"}),o.css({border:""})}):this.bind(_event._end,function(){o.css({background:s}),o.css({border:""}),o.css({"border-left":"1px solid "+e,"border-top":"1px solid "+e}),o.css({"border-right":"1px solid "+i,"border-bottom":"1px solid "+i})}),this.bind(_event._leave,function(){o.css({background:"transparent"}),o.css({border:""})}),this},l.fn.mouseEnterGradient=function(t,i,e){var o=this,s=colorAdd(t,75),n="-webkit-gradient(linear,left top,left bottom,color-stop(0,"+s+"),color-stop(0.19,"+colorAdd(s,2)+"),color-stop(0.35,"+colorAdd(s,28)+"),color-stop(0.55, "+colorAdd(s,6)+"),color-stop(0.75,"+colorAdd(s,4)+"),color-stop(0.85,"+colorAdd(s,2)+"),color-stop(1, "+s+"))";return this.bind(_event._enter,function(){o.css("background",n),o.css({border:""}),o.css({"border-left":"1px solid "+e,"border-top":"1px solid "+e}),o.css({"border-right":"1px solid "+i,"border-bottom":"1px solid "+i})}),this.bind(_event._down,function(){o.setGradient(s,!1),o.css({border:""}),o.css({"border-left":"1px solid "+i,"border-top":"1px solid "+i}),o.css({"border-right":"1px solid "+e,"border-bottom":"1px solid "+e})}),a()?this.bind(_event._end,function(){o.css({background:"transparent"}),o.css({border:""})}):this.bind(_event._end,function(){o.css("background",n),o[0].style.removeAttribute&&o[0].style.removeAttribute("filter"),o.css({border:""}),o.css({"border-left":"1px solid "+e,"border-top":"1px solid "+e}),o.css({"border-right":"1px solid "+i,"border-bottom":"1px solid "+i})}),this.bind(_event._leave,function(){o[0].style.removeAttribute&&o[0].style.removeAttribute("filter"),o.css({background:"transparent"}),o.css({border:""})}),this},l.fn.dragToMove=function(e,o,s){var n=!1,a=0,h=0,r=0,g=0;l(this).bind(_event._down,function(t){var i=l(this)[0];i.setCapture?i.setCapture():window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),t=isTouch?t.originalEvent.changedTouches:[t],n=!0,a=t[0].pageX,h=t[0].pageY,r=l(e).offset().left,g=l(e).offset().top}),l(this).bind(_event._end,function(t){(t=l(this)[0]).releaseCapture?t.releaseCapture():window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),n=!1}),l(this).bind(_event._move,function(t){var i;t=isTouch?t.originalEvent.touches:[t],n&&(i=r+(t[0].pageX-a),t=g+(t[0].pageY-h),null!=o&&(i=Math.max(o.x,i),i=Math.min(o.y,i)),null!=s&&(t=Math.max(s.x,t),t=Math.min(s.y,t)),l(e).css({left:i+"px",top:t+"px"}))}),l(this).bind("mouseleave",function(){return n=!1})},l.fn.slideFlipButtonShine=function(t){l(this).bind(_event._over,function(){l(this).css({cursor:"pointer"})}),l(this).bind(_event._enter,function(){l(this).css({background:"#000000"})}),l(this).bind(_event._leave,function(){l(this).css({background:"#888888"})})},bdor[31]=function(t,i){return bdor[t]-bdor[i]},l.fn.slideZoomButtonShine=function(t){l(this).bind(_event._enter,function(){l(this).css({cursor:"pointer"}),l(this).css({background:"#555555"})}),l(this).bind(_event._leave,function(){l(this).css({background:""})})},l.fn.mouseEnterChange=function(i,e,o){var s=this;return this.bind(_event._enter,function(){var t=l("<img src='"+o+"'>");s.empty().append(t),s.css({background:e}),s.changeButtonColor(i)}),this.bind(_event._end,function(){var t=l("<img src='"+o+"'>");s.empty().append(t),s.css({background:"transparent"}),s.changeButtonColor(e)}),this.bind(_event._leave,function(){var t=l("<img src='"+o+"'>");s.empty().append(t),s.css({background:"transparent"}),s.changeButtonColor(e)}),this},l.fn.clickExceptMove=function(i){var e=!1,o=!1,s=new Point(0,0);this.bind(_event._down,function(t){t=isTouch?t.originalEvent.touches:[t],o=!(e=!0),s.x=t[0].pageX,s.y=t[0].pageY,1<t.length&&(e=!1)}),this.bind(_event._move,function(t){t=isTouch?t.originalEvent.touches:[t],o=!(Math.abs(t[0].pageX-s.x)<=1&&Math.abs(t[0].pageY-s.y)<=1)}),this.bind(_event._end,function(t){e&&!o&&i(),o=e=!1})},l.fn.enterToChange=function(i,e,o,s,n){var a=this.children();this.bind(_event._down,function(t){a.cssSprite(i,e+"_down",o,s,n)}),this.bind(_event._enter,function(t){a.cssSprite(i,e+"_down",o,s,n)}),this.bind(_event._leave,function(t){a.cssSprite(i,e,o,s,n)})},l.fn.addCssSprite=function(t,i,e,o,s){var n=l("<div></div>");n.cssSprite(t,i,e,o,s),this.append(n)},l.fn.changeCssSprite=function(t,i,e,o,s){this.children().cssSprite(t,i,e,o,s)},l.fn.cssSprite=function(t,i,e,o,s){if(s.iconInfo){for(var n=0,a=0;a<s.iconInfo.length;a++)if(s.iconInfo[a].id==i){n=a;break}i=s.iconInfo[n].position;var h=s.width,a=s.height;e=e*h/s.iconInfo[n].width,o=o*a/s.iconInfo[n].height,s=-i.x*e/h,n=-i.y*o/a,this.css({"background-image":"url("+t+")","background-repeat":"no-repeat","background-position":s+"px "+n+"px","-webkit-background-size":o=e+"px "+o+"px","-o-background-size":o,"background-size":o})}},bdor[6]="l"}(jQuery),[]),flipping=(jQuery.fn.drag=function(t){this.options=t||{},this.parameters={reference:this.options.reference||$("body"),direction:this.options.direction||"both",callback:this.options.callback||void 0},this.create=function(){this.initEvent()}.bind(this),this.initEvent=function(){var t=new Hammer.Manager(this[0]);t.add(new Hammer.Pan),t.add((new Hammer.Swipe).recognizeWith(t.get("pan"))),t.on("panstart panmove panend pancancel",this.onPan.bind(this))}.bind(this),this.onPan=function(t){t&&t.pointers&&1==t.pointers.length&&(this.animateInterval&&this.animateInterval.stop(),"panstart"==t.type&&(this.onPanStart=!0,$(this).css({cursor:"move"}),$(this).find(".form_title")[0]&&$(this).find(".form_title").css({cursor:"move"}),this.startX=this.getLeft(),this.startY=this.getTop()),this.onPanStart)&&(this.moveTo(this.startX+t.deltaX,this.startY+t.deltaY),"panend"==t.type||"pancancel"==t.type)&&(this.restrictInBoundary(),$(this).css({cursor:"default"}),$(this).find(".form_title")[0]&&$(this).find(".form_title").css({cursor:"default"}),this.parameters.callback&&this.parameters.callback(t),this.onPanStart=!1)}.bind(this),this.getLeft=function(){return parseInt($(this).css("left"))}.bind(this),this.getTop=function(){return parseInt($(this).css("top"))}.bind(this),this.moveTo=function(t,i){var e=this.offset(),o=this.getLeft(),s=this.getTop(),n=t-o,a=i-s,h=this.parameters.reference.width(),r=this.parameters.reference.height(),g=this.parameters.reference.offset().left,l=this.parameters.reference.offset().top;switch(e.left+n+this.width()>h+g&&(t=h+g-e.left-this.width()+o),e.top+a+this.height()>r+l&&(i=r+l-e.top-this.height()+s),e.left+n<g&&(t=g-e.left+o),e.top+a<l&&(i=l-e.top+s),this.parameters.direction){case"horizontal":$(this).css({left:t+"px"});break;case"vertical":$(this).css({top:i+"px"});break;case"both":$(this).css({left:t+"px",top:i+"px"})}}.bind(this),this.restrictInBoundary=function(){}.bind(this),this.create()},jQuery.fn.rolling=function(t,i){this.create=function(t,i){this.swiper=this.find(".swiper"),this.EVENT_CANCEL=!1,this.direction=i,this.swiper.css(i,0),this.initEvent(),this.refreshData()}.bind(this),this.refreshData=function(){this.items=this.find(".item"),this.dots=this.find(".dots"),this.items&&0!=this.items.length&&(this.stageWidth=$(this).width(),this.stageHeight=$(this).height(),"top"==i||"bottom"==i?(this.totalLength=this.swiper.height(),this.stageLength=this.stageHeight,this.itemLength=this.items[0].offsetHeight):(this.totalLength=this.swiper.width(),this.stageLength=this.stageWidth,this.itemLength=this.items[0].offsetWidth),this.refreshSwiper(),this.totalLength<=this.stageLength?(this.dots.hide(),this.EVENT_CANCEL=!0):(this.dots.show(),this.EVENT_CANCEL=!1),this.initDotsEvent())}.bind(this),this.refreshSwiper=function(){var t=this.getCurrentLength(),t=Math.max(this.stageLength-this.totalLength,t);t=Math.min(0,t),this.moveTo(t)}.bind(this),this.initEvent=function(){$(this).bind("mousedown touchstart",this.onDown);var t=new Hammer.Manager(this.swiper[0]);t.add(new Hammer.Pan),t.add((new Hammer.Swipe).recognizeWith(t.get("pan"))),t.on("panstart panmove panend pancancel",this.onPan),t.on("swipe",this.onSwipe),this.bind("mousewheel",this.onMouseWheel),this.bind("pointerdown",function(t){t.stopPropagation()})}.bind(this),this.initDotsEvent=function(){for(var t=this,i=this.dots.length,e=0;e<i;e++){var o=this.dots[e];$(o).attr("index",e),$(o).onTap(function(){t.animateToItem(this.index)})}}.bind(this),this.onDown=function(t){this.EVENT_CANCEL||t.stopPropagation()}.bind(this),this.onPan=function(t){if(!this.EVENT_CANCEL&&t&&t.pointers&&1==t.pointers.length){this.animateInterval&&this.animateInterval.stop(),"panstart"==t.type&&(this.startLength=this.getCurrentLength());var i=0;switch(this.direction){case"left":i=t.deltaX;break;case"right":i=-t.deltaX;break;case"top":i=t.deltaY;break;case"bottom":i=-t.deltaY}this.moveTo(this.startLength+i),"panend"!=t.type&&"pancancel"!=t.type||this.restrictInBoundary()}}.bind(this),this.onSwipe=function(t){if(!this.EVENT_CANCEL){this.animateInterval&&this.animateInterval.stop();var i=0;switch(this.direction){case"left":i=t.velocityX;break;case"right":i=-t.velocityX;break;case"top":i=t.velocityY;break;case"bottom":i=-t.velocityY}0<i?this.animateToNextItem():this.animateToPrevItem()}}.bind(this),this.onMouseWheel=function(t){this.EVENT_CANCEL||(t=t.originalEvent,this.animateInterval&&!this.animateInterval.stopFlag)||(0<Math.max(-1,Math.min(1,t.wheelDelta||-t.detail))?this.animateToNextItem():this.animateToPrevItem(),t.stopPropagation())}.bind(this),this.animateToItem=function(t){this.animateToPosition(t*this.itemLength)}.bind(this),this.animateToNextItem=function(){this.startLength=this.getCurrentLength(),this.animateToPosition(this.startLength+this.itemLength)}.bind(this),this.animateToPrevItem=function(){this.startLength=this.getCurrentLength(),this.animateToPosition(this.startLength-this.itemLength)}.bind(this),this.animateToPosition=function(o){var s=this.getCurrentLength(),e=(o=this.getEffectiveLength(o),function(t,i,e){e=(0,$.easing["easeOut"+e])(null,t,s,o-s,i),t<i?this.moveTo(e):(this.moveTo(e),this.animateInterval.stop())}.bind(this));this.animateInterval=function(t,i){e(t,i,"Sine")}.animation(this,300)}.bind(this),this.animateToCenterItem=function(){var t=this.getCurrentItem();if(t[0]){var i=0,e=(o=t.offset()).left-this.swiper.offset().left,o=o.top-this.swiper.offset().top;switch(this.direction){case"left":i=-(e+t.width()/2)+this.stageLength/2;break;case"top":i=-(o+t.height()/2)+this.stageLength/2;break;case"bottom":i=o-this.totalLength+t.height()/2+this.stageLength/2;break;case"right":i=e-this.totalLength+t.width()/2+this.stageLength/2}this.animateToPosition(i)}}.bind(this),this.getCurrentItem=function(){var t=this.swiper.find(".focus.highlight");return t=t[0]?t:this.swiper.find(".highlight")}.bind(this),this.moveTo=function(t){this.swiper.css(this.direction,t+"px")}.bind(this),this.restrictInBoundary=function(){this.animateInterval&&this.animateInterval.stop();var t=this.getCurrentLength(),i=this.getEffectiveLength(t);t!=i&&this.animateToPosition(i)}.bind(this),this.getEffectiveLength=function(t){return t?Number.between(t,-this.totalLength+this.stageLength,0):0}.bind(this),this.move=function(t){var i=this.getCurrentLength();this.animateToPosition(i+t)}.bind(this),this.getCurrentLength=function(){switch(this.direction){case"left":return this.getLeft();case"top":return this.getTop();case"bottom":return this.getBottom();case"right":return this.getRight()}}.bind(this),this.getLeft=function(){return parseInt(this.swiper.css("left"))}.bind(this),this.getRight=function(){return parseInt(this.swiper.css("right"))}.bind(this),this.getBottom=function(){return parseInt(this.swiper.css("bottom"))}.bind(this),this.getTop=function(){return parseInt(this.swiper.css("top"))}.bind(this),this.create(t,i)},jQuery.fn.scroll=function(t,i,e){this.create=function(t,i,e){this.swiper=this.find(".swiper"),this.items=this.find(".item"),this.progress=this.find(".progress"),this.progressBar=this.find(".progressBar"),this.EVENT_CANCEL=!1,this.drag=!(void 0!==e&&!e),this.direction=i,this.swiper.css(i,0),this.progress.css(i,0),this.progressBar.css(i,0),this.refreshData(),this.initEvent(),this.initProgressEvent()}.bind(this),this.refreshData=function(){this.stageWidth=$(this).width(),this.stageHeight=$(this).height(),"top"==i||"bottom"==i?(this.totalLength=this.swiper.height(),this.stageLength=this.stageHeight,this.progress.css({height:this.stageLength+"px"}),this.progressBar.css({height:Math.pow(this.stageLength,2)/this.totalLength+"px"})):(this.totalLength=this.swiper.width(),this.stageLength=this.stageWidth,this.progress.css({width:this.stageLength+"px"}),this.progressBar.css({width:Math.pow(this.stageLength,2)/this.totalLength+"px"})),this.refreshSwiper(),this.totalLength<=this.stageLength?(this.progress.hide(),this.EVENT_CANCEL=!0):(this.progress.show(),this.EVENT_CANCEL=!1)}.bind(this),this.refreshSwiper=function(){var t=this.getCurrentLength(),t=Math.max(this.stageLength-this.totalLength,t);t=Math.min(0,t),this.moveTo(t)}.bind(this),this.initEvent=function(){var t;this.drag&&($(this).bind("mousedown touchstart",this.onDown),(t=new Hammer.Manager(this.swiper[0])).add(new Hammer.Pan),t.add((new Hammer.Swipe).recognizeWith(t.get("pan"))),t.on("panstart panmove panend pancancel",this.onPan),t.on("swipe",this.onSwipe),this.bind("pointerdown",function(t){t.stopPropagation()})),this.bind("mousewheel DOMMouseScroll",this.onMouseWheel)}.bind(this),this.initProgressEvent=function(){var t=new Hammer.Manager(this.progressBar[0]);t.add(new Hammer.Pan),t.add((new Hammer.Swipe).recognizeWith(t.get("pan"))),t.on("panstart panmove panend pancancel",this.onProgressPan.bind(this)),t.on("swipe",this.onProgressSwipe.bind(this)),(t=new Hammer.Manager(this.progress[0])).add(new Hammer.Tap),t.on("tap",this.onProgressTap.bind(this))}.bind(this),this.onDown=function(t){this.EVENT_CANCEL||t.stopPropagation()}.bind(this),this.onPan=function(t){if(!this.EVENT_CANCEL&&t&&t.pointers&&1==t.pointers.length){this.animateInterval&&this.animateInterval.stop(),"panstart"==t.type&&(this.startLength=this.getCurrentLength());var i=0;switch(this.direction){case"left":i=t.deltaX;break;case"right":i=-t.deltaX;break;case"top":i=t.deltaY;break;case"bottom":i=-t.deltaY}this.moveTo(this.startLength+i),"panend"!=t.type&&"pancancel"!=t.type||this.restrictInBoundary()}}.bind(this),this.onSwipe=function(t){if(!this.EVENT_CANCEL){this.animateInterval&&this.animateInterval.stop();var i=0;switch(this.direction){case"left":i=t.velocityX;break;case"right":i=-t.velocityX;break;case"top":i=t.velocityY;break;case"bottom":i=-t.velocityY}this.startLength=this.getCurrentLength(),this.animateToPosition(this.startLength+20*i)}}.bind(this),this.onProgressPan=function(t){this.EVENT_CANCEL||(t.deltaX=-t.deltaX*this.totalLength/this.stageLength,t.deltaY=-t.deltaY*this.totalLength/this.stageLength,this.onPan(t))}.bind(this),this.onProgressSwipe=function(t){this.EVENT_CANCEL||(t.velocityX=-t.velocityX*this.totalLength/this.stageLength,t.velocityY=-t.velocityY*this.totalLength/this.stageLength,this.onSwipe(t))}.bind(this),this.onProgressTap=function(t){if(!this.EVENT_CANCEL&&t&&t.pointers&&1==t.pointers.length){var i=this.progress.offset(),e=0;switch(this.direction){case"left":e=-(t.pointers[0].pageX-i.left)*this.totalLength/this.stageLength;break;case"right":e=-(this.stageLength-t.pointers[0].pageX+i.left)*this.totalLength/this.stageLength;break;case"top":e=-(t.pointers[0].pageY-i.top)*this.totalLength/this.stageLength;break;case"bottom":e=-(this.stageLength-t.pointers[0].pageY+i.top)*this.totalLength/this.stageLength}this.animateToPosition(e)}}.bind(this),this.onMouseWheel=function(t){if(!this.EVENT_CANCEL){t=t.originalEvent;var i=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));if(!this.animateInterval||this.animateInterval.stopFlag)return i=this.getCurrentLength()+(i<0?-50:50),i=this.getEffectiveLength(i),this.moveTo(i),t.stopPropagation(),!1}}.bind(this),this.getLeft=function(){return parseInt(this.swiper.css("left"))}.bind(this),this.getRight=function(){return parseInt(this.swiper.css("right"))}.bind(this),this.getBottom=function(){return parseInt(this.swiper.css("bottom"))}.bind(this),this.getTop=function(){return parseInt(this.swiper.css("top"))}.bind(this),this.animateToPosition=function(o){var s=this.getCurrentLength(),e=(o=this.getEffectiveLength(o),function(t,i,e){e=(0,$.easing["easeOut"+e])(null,t,s,o-s,i),t<i?this.moveTo(e):(this.moveTo(e),this.animateInterval.stop())}.bind(this));this.animateInterval=function(t,i){e(t,i,"Sine")}.animation(this,300)}.bind(this),this.animateToCenterItem=function(){var t=this.getCurrentItem();if(t[0]){var i=0,e=(o=t.offset()).left-this.swiper.offset().left,o=o.top-this.swiper.offset().top;switch(this.direction){case"left":i=-(e+t.width()/2)+this.stageLength/2;break;case"top":i=-(o+t.height()/2)+this.stageLength/2;break;case"bottom":i=o-this.totalLength+t.height()/2+this.stageLength/2;break;case"right":i=e-this.totalLength+t.width()/2+this.stageLength/2}this.animateToPosition(i)}}.bind(this),this.getCurrentItem=function(){var t=this.swiper.find(".focus.highlight");return t=t[0]?t:this.swiper.find(".highlight")}.bind(this),this.moveTo=function(t){var i=this.direction;this.swiper.css(i,t+"px"),this.progressBar.css(i,-t*this.stageLength/this.totalLength+"px")}.bind(this),this.getCurrentLength=function(){switch(this.direction){case"left":return this.getLeft();case"top":return this.getTop();case"bottom":return this.getBottom();case"right":return this.getRight()}}.bind(this),this.restrictInBoundary=function(){this.animateInterval&&this.animateInterval.stop();var t=this.getCurrentLength(),i=this.getEffectiveLength(t);t!=i&&this.animateToPosition(i)}.bind(this),this.getEffectiveLength=function(t){return t?Number.between(t,-this.totalLength+this.stageLength,0):0}.bind(this),this.move=function(t){var i=this.getCurrentLength();this.animateToPosition(i+t)}.bind(this),this.create(t,i,e)},jQuery.fn.appearance=function(t,i){return this.background=$("<div class='appear_win10'></div>"),this.addClass("main_dom"),this.background.append(this),this.show=function(){this.background.show(),this.background.animate({opacity:1},function(){$(this).show(),t&&t()})}.bind(this),this.hide=function(){this.background.animate({opacity:0},function(){$(this).hide(),i&&i()})}.bind(this),this.getDom=function(){return this.background}.bind(this),this.background.click(function(t){t.target==t.currentTarget&&this.hide()}.bind(this)),this.background},jQuery.fn.onTap=function(i){var t;isPhone()||isPad()?this.click(function(t){t.stopPropagation(),i(t)}):((t=new Hammer.Manager(this[0])).add(new Hammer.Tap({event:"tap",taps:1,threshold:5,time:400})),t.on("tap",function(t){t.srcEvent.stopPropagation(),i(t)}))},jQuery.fn.onDoubleTap=function(t){var i=new Hammer.Manager(this[0]);i.add(new Hammer.Tap({event:"doubletap",taps:2})),i.on("doubletap",t)},!1);function searchFromPages(t,i){var e,o=[];for(i=-1==(i=i.trim().toLowerCase()).indexOf(" ")?[i]:i.split(" "),e=0;e<t.length;e++){for(var s=t[e].trim().toLowerCase(),n=s,a=-1,h=-1,r=-1,g=0,l=!0,d=0;d<i.length;d++)if(i[d]){var n=new KMP(n,i[d]),c=i[d].length;if(!n.match()){l=!1;break}var p=g+n.getIndex();if(!(r<p)){l=!1;break}g=(r=p)+i[d].length,n=s.substring(g),0==d&&(a=p),d==i.length-1&&(h=p+c)}l&&(r=[],(g=getHighlightRealPageIndex(e))<0||(r.search_page=g+1,r.search_title="page "+(g+1),-1==(a=s.substring(0,a).lastIndexOf("."))?a=0:a++,l=-1==(l=(g=s.substring(h)).indexOf(".")+1)?g.length():h+l,s=s.substring(a,l),r.search_text=s,o.push(r)))}return o}function getSearchRealPageIndex(t){var i;return window.search_pages&&null!=search_pages[t-1]?((t=search_pages[t-1])&&(i=parseInt(t.index)),isNaN(i)||-1==i?-1:i+1):t}function getHighlightRealPageIndex(t){if(!window.search_pages)return t;for(var i=-1,e=0;e<window.search_pages.length;e++)if(search_pages[e]&&search_pages[e].index==t){i=e;break}return i}!function(S){bdor[5]="i";function d(t,l,d,c,i){if(null!=t){c.length<=0&&(i=S.extend({background:"green",cornersTop:!0,scale:"noresize"},i)),t.prev();var e=0,p=!1,u=i.background,f=i.cornersTop,m=i.gradientColors||["#ddd","#eee","#fff"],h=i.scale,r=0,C=[];try{var A=t.clone(),b=A[0].getContext("2d"),I=t[0].getContext("2d"),r=0}catch(t){I=b=A=null}this.images=c=c.each(function(n){var a;C[n]||null==I||((a=this).onload=function(){var t,i,e,o,s=1;"noresize"!=h&&(t=0==this.width?this.naturalWidth:this.width,i=0==this.height?this.naturalHeight:this.height,e=l/t,o=d/i,"fit"==h&&(s=e<1||o<1?Math.min(e,o):1),"fill"==h)&&(s=Math.min(e,o)),S(a).data("flip.scale",s),C[n]=I.createPattern(a,"no-repeat"),C[n].width=t,C[n].height=i,++r!=c.length||p||(p=!0,P())},a.complete&&window.setTimeout(function(){a.onload()},10))}).get(),this.patterns=C;var o,s,n,a,g,w=l,x=d;S.browser.msie&&t.offset();if(S.browser.msie){function v(){return o=t.offset(),k.css({left:o.left+"px",top:o.top+"px"})}var k=S("<div>").width(l).height(d).css({position:"absolute",cursor:"default",zIndex:1}).appendTo(tmpContainer);7==parseInt(S.browser.version)&&k.css({opacity:1e-6,background:"#FFF"});S(window).resize(v),v()}this.autoFlip=function(){window.clearInterval(s),n=(new Date).getTime(),a=w,g=x/50,s=window.setInterval(y,0),(e=(e+=1)<0?c.length-1:e)==c.length&&(e=0)},this.timerFun=function(){this.timer=setInterval(this.autoFlip.bind(this),3e3)},this.timerFun();var y=this.flip=function(t){var i=(new Date).getTime()-n;x=700<=i?(window.clearInterval(s),t?(c.unshift(c.pop()),C.unshift(C.pop())):(c.push(c.shift()),C.push(C.shift())),w=l,d):(w=a-2*l*i/700,g+2*d*i/700/3),P()},B=function(t,i){var e,o;null!=I&&(e=t*l+i,o=-i/t,S.browser.msie&&(e=Math.round(e),o=Math.round(o)),I.beginPath(),I.moveTo(l,Math.min(e,d)),I.lineTo(l,0),I.lineTo(Math.max(o,0),0),o<0?(I.lineTo(0,Math.min(i,d)),i<d&&I.lineTo((d-i)/t,d),I.lineTo(l,d)):e<d?I.lineTo(l,e):(I.lineTo((d-i)/t,d),I.lineTo(l,d)))},P=function(){if(p&&null!=I&&null!=b){S.browser.msie&&I.clearRect(0,0,l,d),I.fillStyle=u,I.fillRect(0,0,l,d);var t,i,e,o,s,n,a,h,r=c[0],g=S(r).data("flip.scale");if(S.browser.msie)try{I.drawImage(r,0,0,r.width,r.height,0,0,l,d)}catch(t){I.fillStyle=C[0],I.fillStyle.width2=I.fillStyle.width*g,I.fillStyle.height2=I.fillStyle.height*g,I.fillRect(0,0,l,d)}else I.drawImage(r,(l-r.width*g)/2,(d-r.height*g)/2,r.width*g,r.height*g);x&&w!=l&&(r=(x-2*(w+l))/2,m2=x/(l-w),q2=w*m2,2!=m2)&&(t=1,i=0,I.save(),f||(i=d,t=-1),I.translate(0,i),I.scale(1,t),n=-(s=(2*(o=2*(e=(q2-r)/(2-m2))+r)+e+4*w-2*x)/5)/2+o+e/2,g=Math.sqrt(Math.pow(e-s,2)+Math.pow(o-n,2)),a=Math.min(.5*g,30),S.browser.mozilla&&parseFloat(S.browser.version)<1.9?((h=b).clearRect(0,0,l,d),h.save(),h.translate(1,0)):h=I,(e=h.createLinearGradient(e,o,s,n)).addColorStop(0,m[0]),e.addColorStop(a/g,m[1]),e.addColorStop(1,m[2]),h.fillStyle=e,h.beginPath(),h.moveTo(-r/2,0),h.quadraticCurveTo((-r/2+w)/2+.02*w,x/2,w,x),h.quadraticCurveTo((l+w)/2,(2*l+r+x)/2-.02*(d-x),l,2*l+r),S.browser.mozilla&&parseFloat(S.browser.version)<1.9?(h.save(),h.clip(),h.fillRect(0,0,l,d),h.restore(),I.drawImage(A[0],0,0),h.restore()):h.fill(),I.fillStyle=u,B(2,r),I.fill(),B(2,r),S.browser.safari||S.browser.opera||I.restore(),c[1]||(c[1]=c[0]),r=c[1],g=S(r).data("flip.scale"),S.browser.msie?(I.fillStyle=C[1],I.fillStyle.width2=I.fillStyle.width*g,I.fillStyle.height2=I.fillStyle.height*g,I.fill()):(I.save(),I.clip(),(S.browser.safari||S.browser.opera)&&(I.scale(1,1/t),I.translate(-0,-i)),I.drawImage(r,(l-r.width*g)/2,(d-r.height*g)/2,r.width*g,r.height*g),I.restore(),(S.browser.safari||S.browser.opera)&&I.restore()))}}}}S.fn.jFlip=function(n,a,h,r,g,l){return this.each(function(){if(S(this).wrap("<div class='bannerdiv' style='position: absolute;width:"+n+"px;height:"+a+"px;top:"+g+"px;left:"+r+"px'>"),"true"==l){if(h.length<=1)return;var t=S("<img class='leftBtn' src=\""+uiBaseURL+"pre_image.png\" style='position:absolute;width:25px;height:25px;left:0;top:"+(a-25)/2+"px;'/>"),i=S("<img class='rightBtn' src=\""+uiBaseURL+"next_image.png\" style='position:absolute;width:25px;height:25px;top:"+(a-25)/2+"px;right:0;'/>");S(this).parent().append(t).append(i)}var e=S(this).find("img"),o=S(document.createElement("canvas")).attr({width:n,height:a}).css({margin:0,width:n+"px",height:a+"px"}),s=(S(this).css({position:"absolute",left:"-9000px",top:"-9000px",display:"none"}).after(o),new d(S(this).next(),n||300,a||300,e,h));"true"!=l||h.length<=1||(t.bind("click",function(){s.flip(!0)}),i.bind("click",function(){s.flip()}))})}}(jQuery);var KMP=function(t,i){for(this.__string=t,this.__pattern=i,this.__next=[],this.__times=0,this.__index=-1,t=0;t<i.length;t++)this.__next[t]=t<=1?t-1:this.next(i.substring(0,t));this.__times=0,this.__index=-1},getHost=(bdor[10]="l",KMP.prototype.next=function(t){for(var i=Math.ceil(t.length/2);0<i&&0!=t.substring(0,i).compareTo(t.substring(t.length-i,t.length));)i--;return i},KMP.prototype.match=function(){for(var t=0,i=0,e=-1;t<this.__string.length&&i<this.__pattern.length;){if(this.__string.charAt(t)==this.__pattern.charAt(i))0===i&&(e=t),t++,i++;else{for(var o=this.__next[i];-1!=o&&this.__pattern.charAt(o)==this.__pattern.charAt(i);)o=this.__next[o];-1==(i=o)?(t++,i=0):e=t-i}this.__times++}return i==this.__pattern.length&&(this.__index=e,!0)},KMP.prototype.getTimes=function(){return this.__times},KMP.prototype.getIndex=function(){return this.__index},String.prototype.compareTo=function(t){var i=this.length,e=t.length,o=Math.min(i,e),s=this.split(""),n=(t=t.split(""),0),a=0;if(n==a)for(o+=a=n;a<o;){var h=s[a],r=t[a];if(h!=r)return h-r;a++}else for(;0!=o--;)if((h=s[n++])!=(r=t[a++]))return h-r;return i-e},$.fn.setGradient=function(t,i){var e=colorAdd(t,15),o=(t=colorDiv(t,15),""),s="0";switch((i=null==i?!1:i)&&(o="left,",s="1"),this.css({background:"linear-gradient("+o+e+", "+t+")"}),browserType){case 1:this.css({background:"-webkit-linear-gradient("+o+e+", "+t+")"});break;case 2:this.css({background:"-moz-linear-gradient("+o+e+", "+t+")"});break;case 3:this.css({background:"-ms-linear-gradient("+o+e+", "+t+")"}),this.css("filter","progid:DXImageTransform.Microsoft.Gradient(GradientType="+s+", EndColorStr="+t+", StartColorStr="+e+")");break;case 4:this.css({background:"-o-linear-gradient("+o+e+", "+t+")"})}},$.fn.setGradientByDir=function(t,i,e){var o="",s="0";switch((e=null==e?!1:e)&&(o="left,",s="1"),this.css({background:"linear-gradient("+o+t+", "+i+")"}),browserType){case 1:this.css({background:"-webkit-linear-gradient("+o+t+", "+i+")"});break;case 2:this.css({background:"-moz-linear-gradient("+o+t+", "+i+")"});break;case 3:this.css({background:"-ms-linear-gradient("+o+t+", "+i+")"}),this.css("filter","progid:DXImageTransform.Microsoft.Gradient(GradientType="+s+", EndColorStr="+i+", StartColorStr="+t+")");break;case 4:this.css({background:"-o-linear-gradient("+o+t+", "+i+")"})}},$.fn.addBorderShadow=function(t,i,e){var o=i+"px",s=e+"px";i=2*(Math.abs(i)+Math.abs(e))+"px",this.css({"-moz-box-shadow":o+" "+s+" "+i+" "+t,"box-shadow":o+" "+s+" "+i+" "+t,"-webkit-box-shadow":o+" "+s+" "+i+" "+t,"-o-box-shadow":o+" "+s+" "+i+" "+t,"-ms-box-shadow":o+" "+s+" "+i+" "+t})},function(t){var i,e=(t=t||window.location.href).match(/(.*:\/\/)([^\/]*)\/([^\/]*).*/);return e&&(i="s3.amazonaws.com"===e[2]?e[1]+e[2]+"/"+e[3]:e[1]+e[2]),Log.print(t+e+","+i),i});function readAsFullscreen(){isIphone()||isIpad()?window.top!=window&&window.open(window.location.href):fullScreenApi&&fullScreenApi.supportsFullScreen?($(document).unbind(fullScreenApi.fullScreenEventName,onFullscreenEvent),$(document).bind(fullScreenApi.fullScreenEventName,onFullscreenEvent),fullscreenFun()):window.top!=window?window.open(window.location.href):alert("Press F11 to View FlipBook in Full Screen")}function onFullscreenEvent(){StateSynchronous.instance().findButtons("FullscreenButton").each(function(t){fullScreenApi.isFullScreen()?t.setAsExitFullScreen():t.setAsFullScreen(),t.executeCallback()}),function(){global.toolBar&&global.toolBar.onResize&&toolBar.onResize()}.delay(100)}function fullscreenFun(){var t=$("body")[0];fullScreenApi.supportsFullScreen&&(fullScreenApi.isFullScreen()?fullScreenApi.cancelFullScreen():fullScreenApi.requestFullScreen(t)),t.webkitSupportsFullscreen&&t.webkitEnterFullscreen(Element.ALLOW_KEYBOARD_INPUT)}function DeString(t,i){if(""==t)return"";if(i&&""!=i||(i="fb5"),i=escape(i),null==t||t.length<8)alert("A salt value could not be extracted from the encrypted message because it's length is too short. The message cannot be decrypted.");else{if(!(null==i||i.length<=0)){for(var e="",o=0;o<i.length;o++)e+=i.charCodeAt(o).toString();var s=Math.floor(e.length/5),s=parseInt(e.charAt(s)+e.charAt(2*s)+e.charAt(3*s)+e.charAt(4*s)+e.charAt(5*s),10),n=(i=Math.round(i.length/2),Math.pow(2,31)-1),o=parseInt(t.substring(t.length-8,t.length),16);for(t=t.substring(0,t.length-8),e+=o;10<e.length;)e=(parseInt(e.substring(0,10),10)+parseInt(e.substring(10,e.length),10)).toString();var e=(s*e+i)%n,a="";for(o=0;o<t.length;o+=2){var h=parseInt(parseInt(t.substring(o,o+2),16)^Math.floor(e/n*255),10);a+=String.fromCharCode(h),e=(s*e+i)%n}return unescape(a)}alert("Please enter a password with which to decrypt the message.")}}function loadJavascript(t,i,e){var o=this,s=!1,n=document.createElement("script"),a=(n.type="text/javascript",n.async=!0,n.onload=n.onreadystatechange=function(){o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(n.onload=n.onreadystatechange=null)!=i&&i(n)},n.onerror=function(){null!=e&&e(n)},$("head"));return a.find("script").each(function(){this.src==t&&(s=!0)}),s?null!=i&&i(n):(a[0].appendChild(n),n.src=t),n}function loadCss(t,i,e){var o=this,s=!1,n=document.createElement("link"),a=(n.rel="stylesheet",n.async=!0,n.onload=n.onreadystatechange=function(){o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(n.onload=n.onreadystatechange=null)!=i&&i(n)},n.onerror=function(){null!=e&&e(n)},$("head"));return a.find("link").each(function(){this.href==t&&(s=!0)}),s?null!=i&&i(n):(a[0].appendChild(n),n.href=t),n}$.fn.changeButtonColor=function(i,e,o){var s=this;if("none"!=this.css("display")){var n=this;if(0<this.children().length&&(n=this.find("img:first")),window.ActiveXObject){if("complete"!=n[0].readyState)return void $(n).on("load",function(){try{s.changeButtonColor(i,e,o)}catch(t){}})}else if(!n[0].complete)return void $(n).on("load",function(){try{s.changeButtonColor(i,e,o)}catch(t){}});if(null!=n[0]){try{var t=$("<canvas></canvas>")[0],a=t.getContext("2d")}catch(t){return}var h=n.width(),r=n.height(),n=n[0],g=(null==e&&(e=!1),getHost(n.src)),l=getHost();if(g&&l!==g)t=n.src.replace(g,l),n.src=t,0==e&&$(n).on("load",function(){try{s.changeButtonColor(i,!0,o)}catch(t){}});else{t.width=h,t.height=r;try{a.drawImage(n,0,0,n.naturalWidth,n.naturalHeight,0,0,h,r);var d=a.getImageData(0,0,h,r),c=a.getImageData(0,0,h,r);if(1!=n.colorChanged&&d){for(var p=Color(i).split(),h=0,u=d.data.length;h<u;h+=4)0<c.data[h+3]&&(d.data[h]!=p.r&&(c.data[h]=d.data[h]/255*p.r),d.data[h+1]!=p.g&&(c.data[h+1]=d.data[h+1]/255*p.g),d.data[h+2]!=p.b)&&(c.data[h+2]=d.data[h+2]/255*p.b);a.putImageData(c,0,0),n.src=t.toDataURL("image/png"),null!=o&&o(s),n.colorChanged=!0}}catch(t){0==e&&$(n).on("load",function(){try{s.changeButtonColor(i,!0,o)}catch(t){}})}}}}},$.fn.rotate=function(t){if(!(4<browserType&&browserType<1)){switch(browserType){case 1:this.css({"-webkit-transform":"rotate("+t+"deg)"});break;case 2:this.css({"-moz-transform":"rotate("+t+"deg)"});break;case 3:this.css({"-ms-transform":"rotate("+t+"deg)"});break;case 4:this.css({"-o-transform":"rotate("+t+"deg)"})}this.css({transform:"rotate("+t+"deg)"})}},$.fn.scale=function(t,i){this.css({"-webkit-transform":"scale("+t+")","-moz-transform":"scale("+t+")","-ms-transform":"scale("+t+")","-o-transform":"scale("+t+")",transform:"scale("+t+")","-webkit-transform-origin":i=null==i?"50% 50% 0":i,"-moz-transform-origin":i,"-ms-transform-origin":i,"-o-transform-origin":i,"transform-origin":i})},$.fn.transition3D=function(){return this.css({"-ms-transform":"translate3d(0,0,0)","-webkit-transform":"translate3d(0,0,0)","-moz-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)"}),this},$.fn.speed=function(i){function t(t){if(1<(t=null==t.originalEvent.touches?[t]:t.originalEvent.touches).length)return d=!0;s=a=t[0].pageX,n=h=t[0].pageY,r=new Date,-1!=l&&window.clearInterval(l),l=window.setInterval(function(){s=a,n=h,r=new Date},300)}function e(t){if(-1==l||1==d)return!0;t=null==t.originalEvent.touches?[t]:t.originalEvent.touches,a=t[0].pageX,h=t[0].pageY}function o(t){return-1==l||(t=null!=t.originalEvent.touches==0?[t]:t.originalEvent.touches,1==d?(d=1<t.length,!0):(g=new Date,iSpeedY=0==(t=(g-r)/20)?iSpeedX=0:(iSpeedX=(a-s)/t,(h-n)/t),null!=i&&i(iSpeedX,iSpeedY),window.clearInterval(l),void(l=-1)))}var s,n,a,h,r,g,l=-1,d=!1;try{this.bind("mousedown",t),this.bind("mousemove",e),this.bind("mouseup",o),this.bind("mouseleave",o)}catch(t){}try{this.bind("touchstart",t),this.bind("touchmove",e),this.bind("touchend",o),this.bind("touchleave",o)}catch(t){}},Class("MediasPool",{currentMedia:null,addToMediasPool:function(t){window.mediasInPage.push(t)},cleanMediaPool:function(t){t.remove(),window.mediasInPage.remove(t)}}),window.playBackgroundSound=!0,window.mediasInPage=[],Class("Media",{type:"",$media:null,create:function(t,i,e){this.$media=t,this.type=i,this.playEvt=e,this.checkMediaType(),$(t).bind("ended",function(){this.playBackgroundSound()}.bind(this)),$(t).bind("play",function(){unbindSoundEvent()}.bind(this)),"vimeo"==i&&this.playVimeo()},play:function(){this.playMedia(),window.currentMedia&&window.currentMedia!=this&&window.currentMedia.pauseMedia(),(window.currentMedia=this).pauseBackgroundSound()},pause:function(){this.pauseMedia(),window.currentMedia==this&&this.playBackgroundSound()},playBackgroundSound:function(){window.playBackgroundSound=!0,window.playBackgroundSound&&isPlaying&&global.bgSound.playCurrentAudio(),window.currentMedia=null},pauseBackgroundSound:function(){window.playBackgroundSound&&isPlaying&&global.bgSound.pauseCurrentAudio(),window.playBackgroundSound=!1},playMedia:function(){switch(this.type){case"youtube":this.callPlayer("playVideo");break;case"flv":this.player.play();break;case"vimeo":this.playVimeo();break;case"popVideo":break;default:this.$media[0].play&&this.$media[0].play()}},pauseMedia:function(){switch(this.type){case"youtube":this.callPlayer("pauseVideo");break;case"flv":case"vimeo":this.player&&this.player.pause();break;case"popVideo":break;default:this.$media[0].pause&&this.$media[0].pause()}},bind:function(t,i){i&&this.$media&&this.$media.bind(t,i)},setSrc:function(t){},appentTo:function(t){},setCss:function(t){t&&this.$media&&this.$media.css(t)},setCurrentTime:function(t){"flv"==this.type?this.player.currentTime=t:this.$media&&this.$media[0]&&(this.$media[0].currentTime=t)},setMute:function(t){"flv"==this.type?this.player.muted=t:this.$media&&this.$media[0]&&(this.$media[0].muted=t)},getType:function(){return this.type},remove:function(){this.$media.remove(),this.$media=null},checkMediaType:function(){var t=this.$media.attr("src");t&&global.flvjs&&flvjs.isSupported()&&(t.endsWith(".flv")||t.endsWith(".f4v"))&&(this.type="flv",this.player=flvjs.createPlayer({type:"flv",url:t}),this.player.attachMediaElement(this.$media[0]),this.player.load())},callPlayer:function(t,i){var e=this.$media[0],o=e.getAttribute("src");o&&-1!==o.indexOf("youtube.com/embed")&&e.contentWindow&&e.contentWindow.postMessage(JSON.stringify({event:"command",func:t,args:i||[]}),"*")},playVimeo:function(){this.$media&&(global.vimeoJsLoaded||$("head").find("#vimeoPlayApi")[0]||this.loadScript("https://player.vimeo.com/api/player.js",function(){global.vimeoJsLoaded=!0,this.player=new Vimeo.Player(this.$media[0]),this.playEvt==PageEditor.PlayEvt.EVT_PLAY&&this.player.play()}.bind(this)),global.vimeoJsLoaded&&!this.player&&(this.player=new Vimeo.Player(this.$media[0]),this.playEvt==PageEditor.PlayEvt.EVT_PLAY)&&this.player.play(),this.playEvt==PageEditor.PlayEvt.EVT_PLAY)&&this.player&&this.player.play()},loadScript:function(t,i){var e=document.createElement("script");e.id="vimeoPlayApi",e.type="text/javascript",e.readyState?e.onreadystatechange=function(){"loaded"!=e.readyState&&"complete"!=e.readyState||(e.onreadystatechange=null,i())}:e.onload=function(){i()},e.src=t,document.getElementsByTagName("head")[0].appendChild(e)}}),window.playBackgroundSound=!0,window.mediasInPage=[],!function(){for(var t={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"-",prefix:""},i=["webkit","moz","o","ms"],e=0,o=i.length;e<o;e++)if(t.prefix=i[e],void 0!==document[t.prefix+"CancelFullScreen"]){t.supportsFullScreen=!0;break}t.supportsFullScreen&&(t.fullScreenEventName=t.prefix+"fullscreenchange",t.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},t.requestFullScreen=function(t){t[this.prefix+"RequestFullScreen"]()},t.cancelFullScreen=function(t){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}),window.fullScreenApi=t}();var HTMLString={riseAWord:function(t,i,e){i=-1==i.indexOf(" ")?[i]:i.trim().split(" ");for(var o=[],s=0;s<i.length;s++){var n=t.indexOf(i[s])+i[s].length,a=t.substring(0,n);t=t.substring(n),a=a.replace(i[s],"<span style='color:"+e+";'>"+i[s]+"</span>"),o.push(a)}return""!==t&&o.push(t),o.join("")},isHTML:function(t){return!!t&&!!t.match(/^(<\w+>?).*((<\/\w+>)|(\/>))$/g)},toText:function(t){return"string"!=typeof t?"":t.replace(/<\/?\w+>/g,"")},toLabel:function(t){return(t=t.replaceAll("<","&lt;")).replaceAll(">","&gt;")}},LanguageTool={isEnglish:function(t){return/[\x00-\xff]/.test(t)},isChinese:function(t){return/[\u4E00-\u9FBF]/.test(t)},isArabic:function(t){return/[\u0600-\u06FF]|[\u0750-\u077F]/.test(t)},isUrdu:function(t){return this.isArabic(t)||/[\uFE70-\uFEFF]/.test(t)},isHebrew:function(t){return/[\u0590-\u05FF]|[\uFB00-\uFB4F]/.test(t)},isFarsi:function(t){return this.isUrdu(t)},isTai:function(t){return/[\u0E00-\u0E7F]/.test(t)},isHindi:function(t){return/[\u0900-\u097F]/.test(t)},isTamil:function(t){return/[\u0B80-\u0BFF]/.test(t)},isHimalayaRahm:function(t){return/[\u0D00-\u0D7F]/.test(t)},isRightToLeft:function(t){return this.isArabic(t)||this.isUrdu(t)||this.isHebrew(t)||this.isFarsi(t)||this.isHindi(t)||this.isHimalayaRahm(t)}},Directory={getFileName:function(t){var i;return t=t.replaceAll("\\","/",!0),""==Directory.getFileSuffix(t)?"index.html":-1==(i=t.lastIndexOf("/"))?t:t.substr(i+1)},getFilePath:function(t){var i=(t=t.replaceAll("\\","/",!0)).lastIndexOf("/");return-1==i?"":t.substr(0,i+1)},getFileSuffix:function(t){var i=(t=t.replaceAll("\\","/",!0)).lastIndexOf(".");return-1==i?"":t.substr(i)},getFolderName:function(t){var i;return""==(t=Directory.getFilePath(t))?"":-1==(i=(t=Directory.removeSlash(t)).lastIndexOf("/"))?t:t.substr(i+1)},addSlash:function(t){return(t=t.replaceAll("\\","/",!0)).endsWith("/")?t:t+"/"},removeSlash:function(t){return(t=t.replaceAll("\\","/",!0)).endsWith("/")?t.substring(0,t.length-1):t},getUpperFilePath:function(t){var i=(t=t.replaceAll("\\","/",!0)).split("/"),e=i.length;return t.endsWith(".html")||t.endsWith("/")?t.remove(i[e-2]+"/"+i[e-1]):t.remove(i[e-1])}};function animateOnce(t,i,e,o,s,n){var a;t&&i&&(null==e||0===e||isIE9()?(t.css(i),o&&o instanceof Function&&o()):(a=!1,setAnimation(t,e,s,n),t.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){1!=a&&(a=!0,setAnimation(t,0),o)&&o instanceof Function&&o()}),t.css(i)))}function setAnimation(t,i,e,o){t&&null!=i&&(i<100&&(i*=1e3),o=(e=null!=e&&""!=e?e:"all")+" %dms "+(o=null==o?"ease-in-out":o),0<i?"all"!=e?t.css({"-moz-transition":String.format(o,"-moz-",i),"-webkit-transition":String.format(o,"-webkit-",i),"-o-transition":String.format(o,"-o-",i),"-ms-transition":String.format(o,"-ms-",i),transition:String.format(o,"",i)}):t.css({"-moz-transition":String.format(o,i),"-webkit-transition":String.format(o,i),"-o-transition":String.format(o,i),"-ms-transition":String.format(o,i),transition:String.format(o,i)}):t.css({"-moz-transition":"","-webkit-transition":"","-o-transition":"","-ms-transition":"",transition:""}))}var Log=Class({statics:{isDebug:function(){return/debug=true/.test(window.location.href)},isPAD:function(){return 0<navigator.userAgent.toLowerCase().indexOf("pad")},logForPad:function(t,i){null==this.logDiv&&(this.logDiv=$("<div></div>"),this.logDiv.css({position:"absolute",width:"300px",height:"150px",top:"50px",overflow:"auto","z-index":"100000","background-color":"white"}),$("body")[0])&&$("body")[0].appendChild(this.logDiv[0]),(t=$("<p>"+t+"</p>")).css("color",i),this.logDiv.append(t),(i=this.logDiv[0]).scrollTop=i.scrollHeight},info:function(){if(this.isDebug()){$.browser&&$.browser.msie&&(arguments=[String.format.apply(this,arguments)]);try{console&&console.log&&console.log.apply(console,arguments)}catch(t){}this.logForPad(String.format.apply(this,arguments),"black")}},debug:function(){if(this.isDebug()){$.browser&&$.browser.msie&&(arguments=[String.format.apply(this,arguments)]);try{console&&console.debug&&console.debug.apply(console,arguments)}catch(t){}this.logForPad(String.format.apply(this,arguments),"blue")}},warn:function(){if(this.isDebug()){$.browser&&$.browser.msie&&(arguments=[String.format.apply(this,arguments)]);try{console&&console.warn&&console.warn.apply(console,arguments)}catch(t){}this.logForPad(String.format.apply(this,arguments),"#FFA042")}},error:function(){if(this.isDebug()){$.browser&&$.browser.msie&&(arguments=[String.format.apply(this,arguments)]);try{console&&console.error&&console.error.apply(console,arguments)}catch(t){}this.logForPad(String.format.apply(this,arguments),"red")}},print:function(){var t=String.format.apply(this,arguments),i=(new Date).format("hh:mm:ss.S");this.debug("[%s] %s",i,t)}}}),divHint=Class({create:function(t,i,e,o){this.instance=$("<div class='hint'></div>"),this.setText(t),(o=null==o?$("body"):o).append(this.instance),this.instance.css({display:"none",opacity:0}),this.moveto(i,e),this.animation=!1,this.className="hint"},setAnimate:function(t){1==(this.animation=t)&&this.instance.css({"-moz-transition":"all 0.2s ease-in-out","-webkit-transition":"all 0.2s ease-in-out","-o-transition":"all 0.2s ease-in-out","-ms-transition":"all 0.2s ease-in-out",transition:"all 0.2s ease-in-out"})},setStyle:function(t){this.instance.removeClass(this.className),this.instance.addClass(t),this.className=t},setText:function(t){this.instance.html(t)},moveto:function(t,i){this.instance.css({left:t,top:i})},show:function(){this.instance.css({display:"block",opacity:1})},hide:function(){1==this.animation?this.instance.css({display:"none",opacity:0}):this.instance.css({display:"none",opacity:1})},destroy:function(){this.hide(),this.instance.empty(),this.instance.remove()},width:function(){return this.instance.width()+3*this.padding()},height:function(){return this.instance.height()+3*this.padding()},padding:function(){var t=this.instance.css("padding");return null==t||""==t?0:iPadding=parseInt(t.replace("px",""))},addClass:function(t){this.instance.addClass(t)}});function Metacharacter(t){return null==t||""==t?"":(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replaceAll("%","%25",!0)).replaceAll("+","%2B",!0)).replaceAll("/","%2F",!0)).replaceAll("?","%3F",!0)).replaceAll(" ","%20",!0)).replaceAll("#","%23",!0)).replaceAll("&","%26",!0)).replaceAll("=","%3D",!0)).replaceAll(":","%3A",!0)).replaceAll("\r","%0D",!0)).replaceAll("\n","%0A",!0)).replaceAll("'","%27",!0)}Class("ObjectPool",{objects:null,length:0,create:function(){this.objects=[]},add:function(t){t&&(this.objects.push(t),this.length=this.objects.length)},remove:function(t){t&&(this.objects.removeElement(t),this.length=this.objects.length)},exists:function(t){if("string"==typeof t&&""!=t){t=t.toLowerCase();for(var i=0;i<this.objects.length;i++){var e=this.objects[i];if(e.getClassName&&-1<e.getClassName().toLowerCase().indexOf(t))return!0}}return!1},find:function(){for(var t=arguments,i=new ObjectPool,e=0;e<t.length;e++)if("string"==typeof(o=t[e])&&""!=o)for(var o=o.toLowerCase(),s=0;s<this.objects.length;s++){var n=this.objects[s];n.getClassName&&-1<n.getClassName().toLowerCase().indexOf(o)&&i.add(n)}return i},match:function(){for(var t=arguments,i=new ObjectPool,e=0;e<t.length;e++){var o=t[e];if("string"==typeof o&&""!=o)for(var s=0;s<this.objects.length;s++){var n=this.objects[s];n.getClassName&&n.getClassName()==o&&i.add(n)}}return i},clone:function(){for(var t=new ObjectPool,i=0;i<this.objects.length;i++)t.add(this.get(i));return t},get:function(t){return this.objects[t]},each:function(t){for(var i=0;i<this.objects.length;i++){var e=this.objects[i];e&&t&&t instanceof Function&&t(e)}}}),bdor[2]="e";var reflection=function(h){var r=new Image;r.onload=function(){var t=null,i=(h.children("canvas")[0]&&(t=$(h.children("canvas")[0])),document.createElement("canvas")),e=i.getContext("2d"),o=(h[0].appendChild(i),r.onload=r.onerror=null,this.width),s=this.height,n=(h.children("img")&&o>h.children("img").width()&&(o=h.children("img").width()),.7*(s=h.children("img")&&s>h.children("img").height()?h.children("img").height():s));try{i.style.width=o+"px",i.style.height=n+"px",i.width=o,i.height=n,i.className="reflect",$(i).css({transform:"translateY(-1px)"}),e.save(),e.translate(0,s),e.scale(1,-1),e.drawImage(r,0,0,o,s),e.restore(),e.globalCompositeOperation="destination-out";var a=e.createLinearGradient(0,0,0,n);a.addColorStop(1,"rgba(255, 0, 0, 1.0)"),a.addColorStop(0,"rgba(255, 0, 0, 0)"),e.fillStyle=a,e.rect(0,0,o,2*n),e.fill(),t&&t.remove()}catch(t){}},r.onerror=function(){r.onload=r.onerror=null},r.src=h.children("img")[0].src};function getAnimationEnd(){var t,i=document.createElement("div"),e={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(t in e)if(void 0!==i.style[t])return e[t]}$.fn.allowNumberOnly=function(){$(this).keypress(function(t){return 48<=(t=(t=t||e).keyCode||t.which)&&t<=57}).focus(function(){this.style.imeMode="disabled"}).bind("paste",function(){var t=window.clipboardData.getData("Text");return!!/^\d+$/.test(t)})};var getRealURL=function(t){if(t.isUrl()){var i=t.toLocaleLowerCase(),e=/^([_a-z\d\-]+\.)*[_a-z\d\-]+\.(com|net|int|info|edu|org|gov|club|biz|mil|xyz|[a-z]{2}[$\/]?)+/;/(f|ht)tp(s?):\/\//.test(i)||e.test(i)&&(t=getProtocal()+t)}else{if(i=window.location.href.removeStartFrom("#p="),i=Directory.getFilePath(i).substring(0,i.lastIndexOf("/")),e=Directory.getUpperFilePath(i),0<=t.indexOf("./"))return i+t.remove("./");t=0<=t.indexOf("../")?e+t.remove("../"):i+t}return t};function dateFormat(t,i){t=new Date(parseInt(t)),i=(i=i.replace(/yyyy|YYYY/,t.getFullYear().toString())).replace(/yy|YY/,9<t.getFullYear()%100?(t.getFullYear()%100).toString():"0"+t.getFullYear()%100);var e=t.getMonth()+1;return(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=i.replace(/MM/,9<e?e.toString():"0"+e)).replace(/M/g,e.toString())).replace(/w|W/g,"日一二三四五六".split("")[t.getDay()])).replace(/dd|DD/,9<t.getDate()?t.getDate().toString():"0"+t.getDate())).replace(/d|D/g,t.getDate().toString())).replace(/hh|HH/,9<t.getHours()?t.getHours().toString():"0"+t.getHours())).replace(/h|H/g,t.getHours().toString())).replace(/mm/,9<t.getMinutes()?t.getMinutes().toString():"0"+t.getMinutes())).replace(/m/g,t.getMinutes().toString())).replace(/ss|SS/,9<t.getSeconds()?t.getSeconds().toString():"0"+t.getSeconds())).replace(/s|S/g,t.getSeconds().toString())}function getMeta(t){return window.location.href.removeStartFrom("/mobile/").removeStartFrom("/articles/")+"/files/shot.jpg"}var VERSION_NAME="6.4.9",BUILD_DATE="2023011201",BookType={normal_book:0,single_book:1,slide_book:3,singleSlide_book:6,catalog_book:7,singleCatalog_book:8},normalBookStatu={book_statu_ready:0,book_statu_auto_flip:1,book_statu_mouse_flip:2,book_statu_mag_flip:3},singleBookStatu={book_statu_ready:0,book_statu_auto_flip:1,book_statu_mouse_flip:2,book_statu_mag_flip:3},bookCorner={top_left:0,top_right:1,bottom_left:2,bottom_right:3},BrowserType={WEBKIT:1,OPERA:1,MOZ:2,MS:3},Direction={left:"left",right:"right",top:"top",bottom:"bottom"},bookEvent={onCurrentPageIndexChanged:"BE_PIC",onCurrentPageIndexWillChange:"BE_PIWC",onNoNextPage:"BE_NNP",onNoPreviousPage:"BE_NPP"},PLUGIN_MAGNETICS="AbPIMagneticSlider",PLUGIN_ROTATE3D="AbPIRotationPhotoFor3D",PLUGIN_VIDEO1="VideoPlayerExemple01",PLUGIN_VIDEO2="VideoPlayerExemple02",PLUGIN_CLASSAUDIO="",KEY_CODE_ENTER=13,KEY_CODE_LEFT=37,KEY_CODE_UP=38,KEY_CODE_RIGHT=39,KEY_CODE_DOWN=40,KEY_CODE_HOME=36,KEY_CODE_END=35,KEY_CODE_PAGEUP=33,KEY_CODE_PAGEDOWN=34,KEY_CODE_DELETE=46,KEY_CODE_F11=122,KEY_CODE_A=65,MOUSE_LEFT=1,MOUSE_MIDDLE=2,MOUSE_RIGHT=3,LOADING_WIDTH=30,LOADING_HEIGHT=30,COIL_PAGE_WIDTH=500,isTouchDevice=function(){return navigator.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android/i),$.browser.device==$.browser.DEVICE_PHONE||isPad()},_event,isTouch=isTouchDevice(),_event=$.browser.device==$.browser.DEVICE_PHONE||isPad()?{_down:"touchstart",_move:"touchmove",_up:"touchend",_end:"touchend",_click:"touchend",_leave:"touchleave",_out:"touchleave",_enter:"touchstart",_mousewheel:"mousewheel",_over:"touchover"}:{_down:"mousedown",_move:"mousemove",_up:"mouseup",_end:"mouseup",_click:"click",_leave:"mouseleave",_out:"mouseout",_enter:"mouseenter",_mousewheel:"mousewheel",_over:"mouseover"},WebScheme=($.browser.mozilla&&(_event._mousewheel="DOMMouseScroll"),{HTTP:"http",HTTPS:"https",FTP:"ftp",MAILTO:"mailto",IDAP:"idap",FILE:"file",NEWS:"news",GOPHER:"gopher",TELNET:"telnet"}),STR_XML_HEAD='<?xml version="1.0" encoding="utf-8"?>',SearchItemRelation={NEARBY:0,SPACE:1,DOUBLE_SPACE:2,RETURN:3},PageTextSelectMode={LINE:0,COLUMN:1};if(window.aliasLanguage){var source={btnFullScreen:["btnFullscreen"],btnDisableFullScreen:["btnExitFullscreen"],btnSelection:["btnSelectText"],btnNextPage:["btnPageForward"],btnPrePage:["btnPageBack"]},property;for(property in source)aliasLanguage[property]||(aliasLanguage[property]=source[property])}else window.aliasLanguage={btnFullScreen:["btnFullscreen"],btnDisableFullScreen:["btnExitFullscreen"],btnSelection:["btnSelectText"],btnNextPage:["btnPageForward"],btnPrePage:["btnPageBack"]};var checkBookConfig=function(){null==window.aliasConfig&&(window.aliasConfig={}),bookConfig.searchColor=getConfigValue("searchColor","#00ffff"),bookConfig.searchAlpha=getConfigValue("searchAlpha",.3),bookConfig.appLogoIcon=getConfigValue("appLogoIcon",""),bookConfig.HomeURL=getConfigValue("HomeURL",""),bookConfig.bookTitle=getConfigValue("bookTitle","FLIPBOOK"),bookConfig.bookDescription=getConfigValue("bookDescription",""),bookConfig.toolbarColor=getConfigValue("toolbarColor","#27181A"),bookConfig.iconColor=getConfigValue("iconColor","#FFFFFF"),bookConfig.toolbarColor==bookConfig.iconColor&&(bookConfig.iconColor=Color(bookConfig.toolbarColor).reverse()),bookConfig.pageNumColor=getConfigValue("pageNumColor","#000000"),bookConfig.formBackgroundColor=getConfigValue("formBackgroundColor",bookConfig.toolbarColor),bookConfig.formFontColor=getConfigValue("formFontColor",bookConfig.iconColor),bookConfig.formBackgroundColor==bookConfig.formFontColor&&(bookConfig.formFontColor=Color(bookConfig.formBackgroundColor).reverse()),bookConfig.loadingBackground=getConfigValue("loadingBackground","#1F2232"),bookConfig.loadingDisplayTime=getConfigValue("loadingDisplayTime",10),bookConfig.searchHightlightColor=getConfigValue("searchHightlightColor","#fdc606"),bookConfig.logoHeight=getConfigValue("logoHeight",40),bookConfig.logoTop=getConfigValue("logoTop",0),bookConfig.logoPadding=getConfigValue("logoPadding",0),bookConfig.isFixLogoSize=getConfigValue("isFixLogoSize",!1),bookConfig.HomeButtonVisible=getConfigValue("HomeButtonVisible",!1),bookConfig.ShareButtonVisible=getConfigValue("ShareButtonVisible",!1),bookConfig.isInsertFrameLinkEnable=getConfigValue("isInsertFrameLinkEnable",!0),bookConfig.addCurrentPage=getConfigValue("addCurrentPage",!1),bookConfig.DoubleSinglePageButtonVisible=getConfigValue("DoubleSinglePageButtonVisible",!1),bookConfig.ToolBarVisible=getConfigValue("ToolBarVisible",!0),bookConfig.WeChatShareButtonVisible=getConfigValue("WeChatShareButtonVisible",!1),bookConfig.ThumbnailsButtonVisible=getConfigValue("ThumbnailsButtonVisible",!1),bookConfig.thumbnailColor=getConfigValue("thumbnailColor",bookConfig.formBackgroundColor),bookConfig.thumbnailAlpha=getConfigValue("thumbnailAlpha",100),bookConfig.ThumbnailSize=getConfigValue("ThumbnailSize","small"),bookConfig.ZoomButtonVisible=getConfigValue("ZoomButtonVisible",!1),bookConfig.ZoomToolbarVisible=getConfigValue("ZoomToolbarVisible",!0),bookConfig.ZoomMapVisible=getConfigValue("ZoomMapVisible",!0),bookConfig.MagnifierButtonVisible=getConfigValue("MagnifierButtonVisible",!1),bookConfig.SupportOperatePageZoom=getConfigValue("SupportOperatePageZoom",!0),bookConfig.TableOfContentButtonVisible=getConfigValue("TableOfContentButtonVisible",!1),bookConfig.isHideTabelOfContentNodes=getConfigValue("isHideTabelOfContentNodes",!0),bookConfig.BookMarkButtonVisible=getConfigValue("BookMarkButtonVisible",!1),bookConfig.SelectTextButtonVisible=getConfigValue("SelectTextButtonVisible",!1),bookConfig.SearchButtonVisible=getConfigValue("SearchButtonVisible",!1),bookConfig.searchKeywordFontColor=getConfigValue("searchKeywordFontColor","#FFB000"),bookConfig.FullscreenButtonVisible=getConfigValue("FullscreenButtonVisible",!0),bookConfig.isNeat&&(bookConfig.FullscreenButtonVisible=!0),bookConfig.hideMiniFullscreen=getConfigValue("hideMiniFullscreen",!1),bookConfig.updatePageNumberForFlip=getConfigValue("updatePageNumberForFlip",!1),bookConfig.leastSearchChar=getConfigValue("leastSearchChar",0),bookConfig.PrintButtonVisible=getConfigValue("PrintButtonVisible",!1),bookConfig.MessageButtonVisible=getConfigValue("MessageButtonVisible",!1),bookConfig.printWatermarkFile=getConfigValue("printWatermarkFile",""),bookConfig.BackgroundSoundButtonVisible=getConfigValue("BackgroundSoundButtonVisible",!1),bookConfig.BackgroundSoundURL=getConfigValue("BackgroundSoundURL",""),bookConfig.BackgroundSoundLoop=getConfigValue("BackgroundSoundLoop",-1),bookConfig.HelpButtonVisible=getConfigValue("HelpButtonVisible",!1),bookConfig.helpContentFileURL=getConfigValue("helpContentFileURL",""),bookConfig.helpWidth=getConfigValue("helpWidth",400),bookConfig.helpHeight=getConfigValue("helpHeight",450),bookConfig.showHelpContentAtFirst=getConfigValue("showHelpContentAtFirst",!1),bookConfig.aboutButtonVisible=getConfigValue("aboutButtonVisible",!1),bookConfig.aboutContactInfoTxt=getConfigValue("aboutContactInfoTxt",""),bookConfig.AutoPlayButtonVisible=getConfigValue("AutoPlayButtonVisible",!1),bookConfig.autoPlayAutoStart=getConfigValue("autoPlayAutoStart",!1),bookConfig.autoPlayDuration=getConfigValue("autoPlayDuration",3),bookConfig.autoPlayLoopCount=getConfigValue("autoPlayLoopCount",1),bookConfig.minZoomWidth=getConfigValue("minZoomWidth",0),bookConfig.minZoomHeight=getConfigValue("minZoomHeight",0),bookConfig.maxZoomWidth=getConfigValue("maxZoomWidth",0),bookConfig.maxZoomHeight=getConfigValue("maxZoomHeight",0),bookConfig.defaultZoomWidth=getConfigValue("defaultZoomWidth",0),bookConfig.defaultZoomHeight=getConfigValue("defaultZoomHeight",0),bookConfig.middleZoomWidth=getConfigValue("middleZoomWidth",0),isNaN(bookConfig.middleZoomWidth)&&(bookConfig.middleZoomWidth=0),bookConfig.mouseWheelFlip=getConfigValue("mouseWheelFlip",!0),bookConfig.DownloadButtonVisible=getConfigValue("DownloadButtonVisible",!0),bookConfig.DownloadURL=getConfigValue("DownloadURL",""),fixDownloadURLValue(),bookConfig.bgBeginColor=getConfigValue("bgBeginColor","#E6E6E6"),bookConfig.bgEndColor=getConfigValue("bgEndColor","#E3E3E3"),bookConfig.bgMRotation=getConfigValue("bgMRotation",90),bookConfig.backGroundImgURL=getConfigValue("backGroundImgURL",""),bookConfig.backgroundOpacity=getConfigValue("backgroundOpacity",100),bookConfig.LeftShadowWidth=getConfigValue("LeftShadowWidth",40),bookConfig.LeftShadowAlpha=getConfigValue("LeftShadowAlpha",1),bookConfig.RightShadowWidth=getConfigValue("RightShadowWidth",40),bookConfig.RightShadowAlpha=getConfigValue("RightShadowAlpha",1),$.system.name==$.system.ANDROID&&$.browser.wechat&&(bookConfig.RightShadowAlpha=1,bookConfig.LeftShadowAlpha=1),bookConfig.ShowTopLeftShadow=getConfigValue("ShowTopLeftShadow",!0),bookConfig.pageBackgroundColor=getConfigValue("pageBackgroundColor","#FFFFFF"),bookConfig.flipshortcutbutton=getConfigValue("flipshortcutbutton",!1),bookConfig.OriginPageIndex=getConfigValue("OriginPageIndex",1),bookConfig.HardPageEnable=getConfigValue("HardPageEnable",!1),bookConfig.HardInnerPageEnable=getConfigValue("HardInnerPageEnable",!1),bookConfig.bookPageStretch=getConfigValue("bookPageStretch",!1),$.browser.msie&&$.browser.version<11&&(bookConfig.HardPageEnable=!1,bookConfig.HardInnerPageEnable=!1),bookConfig.HardPageEnable||(bookConfig.HardInnerPageEnable=!1),bookConfig.thicknessWidthType=getConfigValue("thicknessWidthType","thick").toLowerCase(),bookConfig.showThicknessOnMobile=getConfigValue("showThicknessOnMobile",!1),"Chinese"==UserGroups&&(bookConfig.pageHighlightType=getConfigValue("pageHighlightType","book").toLowerCase()),"English"==UserGroups&&(bookConfig.pageHighlightType=getConfigValue("pageHighlightType","magazine").toLowerCase()),bookConfig.usePdfJs=getConfigValue("usePdfJs",!1),bookConfig.highDefinitionConversion=getConfigValue("highDefinitionConversion",!1),bookConfig.usePdfJs&&(bookConfig.highDefinitionConversion=!1),bookConfig.highDefinitionConversion=!1,bookConfig.isStopMouseMenu=getConfigValue("isStopMouseMenu",!1),bookConfig.thicknessColor=getConfigValue("thicknessColor","#FFFFFF"),bookConfig.RightToLeft=getConfigValue("RightToLeft",!1),bookConfig.flippingTime=getConfigValue("flippingTime",.3),null!=bookConfig.flippingTime&&(bookConfig.flippingTime=bookConfig.flippingTime<.2?.2:bookConfig.flippingTime),bookConfig.supportSerialsFlip=getConfigValue("supportSerialsFlip",!0),bookConfig.retainBookCenter=getConfigValue("retainBookCenter",!0),bookConfig.totalPagesCaption=getConfigValue("totalPagesCaption",""),bookConfig.pageNumberCaption=getConfigValue("pageNumberCaption",""),bookConfig.buttonsSortXML=getConfigValue("buttonsSortXML",[]),bookConfig.toolbarAlwaysShow=getConfigValue("toolbarAlwaysShow",!1),bookConfig.searchbarAlwaysShowOnMobile=getConfigValue("searchbarAlwaysShowOnMobile",!1),isPhone()||isPad()||(bookConfig.toolbarAlwaysShow=!0),bookConfig.leftRightPnlShowOption=getConfigValue("leftRightPnlShowOption","").toLowerCase(),bookConfig.topMargin=getConfigValue("topMargin",10),bookConfig.bottomMargin=getConfigValue("bottomMargin",10),bookConfig.leftMargin=getConfigValue("leftMargin",10),bookConfig.rightMargin=getConfigValue("rightMargin",10),bookConfig.topMarginOnMobile=getConfigValue("topMarginOnMobile",10),bookConfig.bottomMarginOnMobile=getConfigValue("bottomMarginOnMobile",10),bookConfig.leftMarginOnMobile=getConfigValue("leftMarginOnMobile",10),bookConfig.rightMarginOnMobile=getConfigValue("rightMarginOnMobile",10),isPhone()||isPad()?(bookConfig.topMargin=bookConfig.topMarginOnMobile,bookConfig.bottomMargin=bookConfig.bottomMarginOnMobile,bookConfig.leftMargin=bookConfig.leftMarginOnMobile,bookConfig.rightMargin=bookConfig.rightMarginOnMobile,bookConfig.phoneFlipShortcutSwitchButtonVisible=getConfigValue("phoneFlipShortcutSwitchButtonVisible",!1),bookConfig.phoneFlipShortcutButton=getConfigValue("phoneFlipShortcutButton",!1),bookConfig.searchbarAlwaysShowOnMobile&&bookConfig.toolbarAlwaysShow&&(bookConfig.topMargin+=50)):bookConfig.phoneFlipShortcutButton=!1,bookConfig.visibleAreaLeft=parseFloat(getConfigValue("visibleAreaLeft","0%")),bookConfig.visibleAreaTop=parseFloat(getConfigValue("visibleAreaTop","0%")),bookConfig.visibleAreaRight=parseFloat(getConfigValue("visibleAreaRight","100%")),bookConfig.visibleAreaBottom=parseFloat(getConfigValue("visibleAreaBottom","100%")),bookConfig.visibleAreaLeft=isNaN(bookConfig.visibleAreaLeft)?"0%":bookConfig.visibleAreaLeft,bookConfig.visibleAreaTop=isNaN(bookConfig.visibleAreaTop)?"0%":bookConfig.visibleAreaTop,bookConfig.visibleAreaRight=isNaN(bookConfig.visibleAreaRight)?"100%":bookConfig.visibleAreaRight,bookConfig.visibleAreaBottom=isNaN(bookConfig.visibleAreaBottom)?"100%":bookConfig.visibleAreaBottom,bookConfig.bleedAreaLeft=parseFloat(getConfigValue("bleedAreaLeft","0%")),bookConfig.bleedAreaTop=parseFloat(getConfigValue("bleedAreaTop","0%")),bookConfig.bleedAreaRight=parseFloat(getConfigValue("bleedAreaRight","0%")),bookConfig.bleedAreaBottom=parseFloat(getConfigValue("bleedAreaBottom","0%")),bookConfig.bleedAreaLeft=isNaN(bookConfig.bleedAreaLeft)?"0%":bookConfig.bleedAreaLeft,bookConfig.bleedAreaTop=isNaN(bookConfig.bleedAreaTop)?"0%":bookConfig.bleedAreaTop,bookConfig.bleedAreaRight=isNaN(bookConfig.bleedAreaRight)?"0%":bookConfig.bleedAreaRight,bookConfig.bleedAreaBottom=isNaN(bookConfig.bleedAreaBottom)?"0%":bookConfig.bleedAreaBottom,bookConfig.visibleAreaLeft=bookConfig.bleedAreaLeft||bookConfig.visibleAreaLeft,bookConfig.visibleAreaTop=bookConfig.bleedAreaTop||bookConfig.visibleAreaTop,bookConfig.visibleAreaRight=bookConfig.bleedAreaRight?100-parseFloat(bookConfig.bleedAreaRight):bookConfig.visibleAreaRight,bookConfig.visibleAreaBottom=bookConfig.bleedAreaBottom?100-parseFloat(bookConfig.bleedAreaBottom):bookConfig.visibleAreaBottom,bookConfig.LinkDownColor=getConfigValue("LinkDownColor","#9C9C9C"),bookConfig.LinkAlpha=getConfigValue("LinkAlpha",.4),bookConfig.googleAnalyticsID=getConfigValue("googleAnalyticsID",""),bookConfig.language=getConfigValue("language","English"),bookConfig.AboutAddress=getConfigValue("AboutAddress",""),bookConfig.AboutEmail=getConfigValue("AboutEmail",""),bookConfig.AboutMobile=getConfigValue("AboutMobile",""),bookConfig.AboutWebsite=getConfigValue("AboutWebsite",""),bookConfig.AboutDescription=getConfigValue("AboutDescription",""),bookConfig.AboutAuthor=getConfigValue("AboutAuthor",""),bookConfig.totalPageCount=getConfigValue("totalPageCount",1),bookConfig.largePageWidth=getConfigValue("largePageWidth",1440),bookConfig.largePageHeight=getConfigValue("largePageHeight",1728),bookConfig.normalPath=getConfigValue("normalPath","files/page/"),bookConfig.largePath=getConfigValue("largePath","files/large/"),bookConfig.thumbPath=getConfigValue("thumbPath","files/thumb/"),bookConfig.FlipStyle=getConfigValue("FlipStyle","flip"),bookConfig.FlipStyle=bookConfig.FlipStyle.toLowerCase();var t=bookConfig.autoDoublePage?bookConfig.autoDoublePage.toLocaleLowerCase():"auto";"single"!=t&&"auto"!=t&&"double"!=t?getConfigValue("autoDoublePage",!0)?bookConfig.showDoublePage="auto":bookConfig.showDoublePage="single":bookConfig.showDoublePage=t,bookConfig.alwaysDoublePageOnMobile=getConfigValue("alwaysDoublePageOnMobile",!1),bookConfig.upsideOnMobile=function(){return!!(bookConfig.alwaysDoublePageOnMobile&&window.innerHeight>window.innerWidth)},bookConfig.QRPath=getConfigValue("QRPath","files/extfile/QRURL.png"),bookConfig.QRCode=getConfigValue("QRCode",!1),bookConfig.MiniStyle=getConfigValue("MiniStyle",!0),bookConfig.AnnotationButtonVisible=getConfigValue("AnnotationButtonVisible",!1),bookConfig.InstructionsButtonVisible=getConfigValue("InstructionsButtonVisible",!1),bookConfig.showInstructionOnStart=getConfigValue("showInstructionOnStart",!0),bookConfig.showBookInstructionOnStart=getConfigValue("showBookInstructionOnStart",!1),bookConfig.showSwitchTipsOnStart=getConfigValue("showSwitchTipsOnStart",!1),bookConfig.EmailButtonVisible=getConfigValue("EmailButtonVisible",!1),bookConfig.btnShareWithEmailSubject=getConfigValue("btnShareWithEmailSubject",""),bookConfig.btnShareWithEmailBody=getConfigValue("btnShareWithEmailBody",""),bookConfig.socialShareLink=getConfigValue("socialShareLink",""),bookConfig.VideoButtonVisible=getConfigValue("VideoButtonVisible",!1),(!global.videoList||global.videoList.length<=0)&&(bookConfig.VideoButtonVisible=!1),bookConfig.SlideshowButtonVisible=getConfigValue("SlideshowButtonVisible",!1),(!global.slideshow||global.slideshow.length<=0)&&(bookConfig.SlideshowButtonVisible=!1),bookConfig.CompanyLogoFile=getConfigValue("CompanyLogoFile",""),bookConfig.UIBaseURL=getConfigValue("UIBaseURL",""),bookConfig.bookBaseURL=getConfigValue("bookBaseURL",""),bookConfig.haveAdSense=getConfigValue("haveAdSense",!1),bookConfig.adSenseLeft=getConfigValue("adSenseLeft",0),bookConfig.adSenseTop=getConfigValue("adSenseTop",0),bookConfig.adSenseWidth=getConfigValue("adSenseWidth",0),bookConfig.adSenseHeight=getConfigValue("adSenseHeight",0),bookConfig.adSenseClientId=getConfigValue("adSenseClientId",""),bookConfig.adSenseSlotId=getConfigValue("adSenseSlotId",""),bookConfig.productName=getConfigValue("productName","Flip HTML5"),bookConfig.homePage=getConfigValue("homePage","http://www.fliphtml5.com"),bookConfig.preloadNextPage=getConfigValue("preloadNextPage",!0),bookConfig.showMirrorSide=getConfigValue("showMirrorSide",!0),bookConfig.addPaperCoil=getConfigValue("addPaperCoil",!1),bookConfig.addPaperCoil&&!bookConfig.BindingType&&(bookConfig.BindingType="loose"),"loose"!=bookConfig.BindingType&&"loose2"!=bookConfig.BindingType||(bookConfig.addPaperCoil=!0),bookConfig.ToolbarViewMode=getConfigValue("ToolbarViewMode","standard"),bookConfig.ToolbarViewMode=bookConfig.ToolbarViewMode.toLocaleLowerCase(),bookConfig.isTheBookOpen=getConfigValue("isTheBookOpen",!1),bookConfig.FlipDirection=getConfigValue("FlipDirection",0),bookConfig.phoneFlipShortcutSwitchButtonIcon=getConfigValue("phoneFlipShortcutSwitchButtonIcon",""),bookConfig.HomeButtonIcon=getConfigValue("HomeButtonIcon",""),bookConfig.AnnotationButtonIcon=getConfigValue("AnnotationButtonIcon",""),bookConfig.VideoButtonIcon=getConfigValue("VideoButtonIcon",""),bookConfig.SlideshowButtonIcon=getConfigValue("SlideshowButtonIcon",""),bookConfig.ShareButtonIcon=getConfigValue("ShareButtonIcon",""),bookConfig.ThumbnailButtonIcon=getConfigValue("ThumbnailButtonIcon",""),bookConfig.ZoomInButtonIcon=getConfigValue("ZoomInButtonIcon",""),bookConfig.ZoomOutButtonIcon=getConfigValue("ZoomOutButtonIcon",""),bookConfig.MagnifierButtonIcon=getConfigValue("MagnifierButtonIcon",""),bookConfig.FullscreenButtonIcon=getConfigValue("FullscreenButtonIcon",""),bookConfig.ExitFullscreenButtonIcon=getConfigValue("ExitFullscreenButtonIcon",""),bookConfig.BookmarkButtonIcon=getConfigValue("BookmarkButtonIcon",""),bookConfig.TableOfContentButtonIcon=getConfigValue("TableOfContentButtonIcon",""),bookConfig.SearchButtonIcon=getConfigValue("SearchButtonIcon",""),bookConfig.PrintButtonIcon=getConfigValue("PrintButtonIcon",""),bookConfig.BackgroundSoundButtonOnIcon=getConfigValue("BackgroundSoundButtonOnIcon",""),bookConfig.BackgroundSoundButtonOffIcon=getConfigValue("BackgroundSoundButtonOffIcon",""),bookConfig.HelpButtonIcon=getConfigValue("HelpButtonIcon",""),bookConfig.AboutButtonIcon=getConfigValue("AboutButtonIcon",""),bookConfig.AutoPlayStartButtonIcon=getConfigValue("AutoPlayStartButtonIcon",""),bookConfig.AutoPlayStopButtonIcon=getConfigValue("AutoPlayStopButtonIcon",""),bookConfig.DownloadButtonIcon=getConfigValue("DownloadButtonIcon",""),bookConfig.facebookShotImageURL=getConfigValue("facebookShotImageURL",""),bookConfig.searchTextJS=getConfigValue("searchTextJS","files/search/book_config.js"),bookConfig.searchPositionJS=getConfigValue("searchPositionJS","files/search/text_position.js"),bookConfig.userSmallMode=getConfigValue("userSmallMode",!0),bookConfig.maxWidthToSmallMode=getConfigValue("maxWidthToSmallMode",300),bookConfig.maxHeightToSmallMode=getConfigValue("maxHeightToSmallMode",300),bookConfig.backgroundScene=getConfigValue("backgroundScene","None"),bookConfig.bgSoundVol=getConfigValue("bgSoundVol",50),bookConfig.bgSoundVol=Number.between(bookConfig.bgSoundVol,0,100),bookConfig.enablePageBack=getConfigValue("enablePageBack",!1),bookConfig.userListPath=getConfigValue("userListPath","files/extfiles/users.js"),bookConfig.isFlipPdf=getConfigValue("isFlipPdf",!1),bookConfig.SingleModeBanFlipToLastPage=getConfigValue("SingleModeBanFlipToLastPage",!1),bookConfig.isSingleBookFullWindowOnMobile=getConfigValue("isSingleBookFullWindowOnMobile",!1),bookConfig.showGotoButtonsAtFirst=getConfigValue("showGotoButtonsAtFirst",!1),0==bookConfig.isFlipPdf&&null!=global.isFlipPdf&&(bookConfig.isFlipPdf=isFlipPdf),bookConfig.FlipSound=getConfigValue("FlipSound",!0),bookConfig.CurlingPageCorner=getConfigValue("CurlingPageCorner",!0),bookConfig.BanFlipFromDirection=getConfigValue("BanFlipFromDirection",!1),bookConfig.iconFontColor=getConfigValue("iconFontColor","#ffffff");try{null!=global.staticAd&&1==staticAd.haveAd&&null==global.staticAd.adPosition&&("Chinese"==UserGroups&&(global.staticAd.adPosition=1),"English"==UserGroups)&&(global.staticAd.adPosition=0),null!=global.staticAd&&1==staticAd.haveAd&&1!=parseInt(global.staticAd.adPosition)?bookConfig.retainBookCenter=!1:bookConfig.retainBookCenter=getConfigValue("retainBookCenter",!0)}catch(t){}if(bookConfig.updateURLForPage=getConfigValue("updateURLForPage",!0),bookConfig.borderColor=getConfigValue("borderColor","#572f0d"),bookConfig.outerCoverBorder=getConfigValue("outerCoverBorder",!1),bookConfig.hardCoverBorderWidth=getConfigValue("hardCoverBorderWidth",0),bookConfig.cornerRound=getConfigValue("cornerRound",0),bookConfig.hardCoverBorderWidth=bookConfig.HardPageEnable?Number.between(0,16,bookConfig.hardCoverBorderWidth):0,bookConfig.cornerRound=bookConfig.HardPageEnable?Number.between(0,bookConfig.hardCoverBorderWidth,bookConfig.cornerRound):0,bookConfig.coverTexture=getConfigValue("coverTexture","none"),bookConfig.passwardPrompt=getConfigValue("passwardPrompt",""),bookConfig.SlideshowAutoPlay=getConfigValue("SlideshowAutoPlay",!1),bookConfig.SlideshowPlayInterval=getConfigValue("SlideshowPlayInterval",5),bookConfig.productName=getConfigValue("productName","Flip HTML5"),bookConfig.homePage=getConfigValue("homePage","http://www.fliphtml5.com"),global.productName=bookConfig.productName||"Flip HTML5",global.homePage=bookConfig.homePage||"http://www.fliphtml5.com",bookConfig.backgroundPosition=getConfigValue("backgroundPosition","Stretch"),bookConfig.restorePageVisible=getConfigValue("restorePageVisible",!1),bookConfig.restorePageDuration=getConfigValue("restorePageDuration",86400),bookConfig.toobarClear=getConfigValue("toobarClear",!1),bookConfig.bottomToolBarAlpha=getConfigValue("bottomToolBarAlpha",1),bookConfig.topToolBarAlpha=getConfigValue("topToolBarAlpha",1),bookConfig.ToolBarAlpha=getConfigValue("ToolBarAlpha",1),bookConfig.phoneSearchBarAlpha=getConfigValue("phoneSearchBarAlpha",.8),(isPhone()||isPad())&&"slide"!=bookConfig.FlipStyle.toLowerCase()&&(bookConfig.FlipStyle="flip"),isBelowIE9()&&(bookConfig.FlipStyle="slide"),(isPhone()||isPad()||"slide"==bookConfig.FlipStyle.toLowerCase()&&"lite"==bookConfig.ToolbarViewMode.toLowerCase())&&(bookConfig.flipshortcutbutton=!1),bookConfig.BackgroundSoundURL||bookConfig.FlipSound||(bookConfig.BackgroundSoundButtonVisible=!1),(bookType==BookType.slide_book&&"lite"==bookConfig.ToolbarViewMode.toLowerCase()||bookType==BookType.singleSlide_book&&"lite"==bookConfig.ToolbarViewMode.toLowerCase()||isPhone()||isPad())&&(bookConfig.flipshortcutbutton=!1),global.videoList&&1<=global.videoList.length)for(t=0;t<videoList.length;t++)videoList[t].id||(videoList[t].id=""),videoList[t].description||(videoList[t].description=""),videoList[t].thumbnail||(videoList[t].thumbnail=""),videoList[t].title||(videoList[t].title=""),videoList[t].type||(videoList[t].type="");try{window.localStorage||(bookConfig.BookMarkButtonVisible=!1,bookConfig.AnnotationButtonVisible=!1,bookConfig.restorePageVisible=!1,global.pageEditor&&global.pageEditor.setting&&parseBool(global.pageEditor.setting.shoppingCartHTML)&&(global.pageEditor.setting.shoppingCartHTML=!1))}catch(t){bookConfig.BookMarkButtonVisible=!1,bookConfig.AnnotationButtonVisible=!1,bookConfig.restorePageVisible=!1,global.pageEditor&&global.pageEditor.setting&&parseBool(global.pageEditor.setting.shoppingCartHTML)&&(global.pageEditor.setting.shoppingCartHTML=!1)}0<=global.templeteName.indexOf("article")&&(isPhone()||isPad())&&(bookConfig.BookMarkButtonVisible=!1),bookConfig.OpenWindow=(getConfigValue("OpenWindow","_blank")+"").toLowerCase(),bookConfig.appLogoOpenWindow=(getConfigValue("appLogoOpenWindow","_blank")+"").toLowerCase(),bookConfig.OpenWindow.startsWith("_")||(bookConfig.OpenWindow="_"+bookConfig.OpenWindow),bookConfig.appLogoOpenWindow.startsWith("_")||(bookConfig.appLogoOpenWindow="_"+bookConfig.appLogoOpenWindow),bookConfig.appLogoLinkURL=getConfigValue("appLogoLinkURL",""),bookConfig.appLogoLinkURL&&(bookConfig.appLogoLinkURL=getRealURL(bookConfig.appLogoLinkURL)),bookConfig.PhoneButtonVisible=getConfigValue("PhoneButtonVisible",!1),window.phoneNumber&&0!=phoneNumber.length||(bookConfig.PhoneButtonVisible=!1),bookConfig.PhoneButtonIcon=getConfigValue("PhoneButtonIcon",""),bookConfig.phoneNumber=getConfigValue("phoneNumber",""),bookConfig.aboutContactInfoTxt=getConfigValue("aboutContactInfoTxt",""),bookConfig.isEncryptionBook=getConfigValue("isEncryptionBook",!1),bookConfig.useTheAliCloudChart=getConfigValue("useTheAliCloudChart",!1),1<=passwardType()&&(bookConfig.useTheAliCloudChart=!1),bookConfig.isEncryptionBook&&(bookConfig.useTheAliCloudChart=!1),bookConfig.OnlyOpenInWechat=getConfigValue("OnlyOpenInWechat",!1),bookConfig.NoWechatSharing=getConfigValue("NoWechatSharing",!1),bookConfig.OnlyOpenInIframe=getConfigValue("OnlyOpenInIframe",!1),bookConfig.OnlyOpenInIframeInfo=getConfigValue("OnlyOpenInIframeInfo","Only open in iframe."),bookConfig.NoWechatSharing&&jQuery(document).ready(function(){window.setTimeout(function(){function t(){WeixinJSBridge.call("hideOptionMenu")}global.wx&&wx.hideOptionMenu(),"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",t,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",t),document.attachEvent("onWeixinJSBridgeReady",t)):t()},10)}),bookConfig.textClarityEnhancement=getConfigValue("textClarityEnhancement",0),bookConfig.textSharpening=getConfigValue("textSharpening",!1),decodeAboutInfo(),bookConfig.AboutDescription=bookConfig.AboutDescription.replace(/\n/g,"<br/>"),bookConfig.AboutDescription=bookConfig.AboutDescription.replace(/\r/g,"<br/>"),checkBookmarkConfig(),isBelowIE9()&&(bookConfig.BookMarkButtonVisible=!1,bookConfig.AnnotationButtonVisible=!1,bookConfig.WeChatShareButtonVisible=!1),bookConfig.useTheAliCloudChart&&bookConfig.backGroundImgURL&&(0<=bookConfig.backGroundImgURL.indexOf("?")?bookConfig.backGroundImgURL+="&x-oss-process=image/resize,h_800":bookConfig.backGroundImgURL+="?x-oss-process=image/resize,h_800",window.isSupportWebp)&&(bookConfig.backGroundImgURL+="/format,webp"),checkURLValue(),global.checkReportConfig&&checkReportConfig(),global.aboutReadTimesCaptions="Views","Chinese"==UserGroups&&(global.aboutReadTimesCaptions="阅读次数"),bookConfig.isNeat=getConfigValue("isNeat",!1),0<=window.location.hash.indexOf("isNeat")&&(bookConfig.isNeat=!0),bookConfig.phoneToolbarType=getConfigValue("phoneToolbarType","image").toLowerCase(),bookConfig.phoneIconNumber=getConfigValue("phoneIconNumber",6),bookConfig.phoneIconNumber=Math.max(1,bookConfig.phoneIconNumber),bookConfig.showAdOnTop=getConfigValue("showAdOnTop",!0),bookConfig.bookPath=getConfigValue("bookPath",window.location.href),bookConfig.loadPreviewImage=!1,bookConfig.removeLoad=!0,bookConfig.showArticleDescription=getConfigValue("showArticleDescription",!1),bookConfig.showArticlePageFlashes=getConfigValue("showArticlePageFlashes",!0)};function checkBookmarkConfig(){null==(bmtConfig=global.bmtConfig?bmtConfig:[]).onSideEdge&&(bmtConfig.onSideEdge=!0),null==bmtConfig.showPage&&(bmtConfig.showPage=!1),null==bmtConfig.hasTexture&&(bmtConfig.hasTexture=!1),bmtConfig.tabs&&0<bmtConfig.tabs.length&&0==bmtConfig.onSideEdge&&!isPhone()&&!isPad()&&"slide"!=bookConfig.FlipStyle.toLowerCase()&&(bookConfig.topMargin<75&&(bookConfig.topMargin=75),"vertical"==bookConfig.flipDrection)&&bookConfig.bottomMargin<75&&(bookConfig.topMargin=75)}var isBool=function(t){return!0===t||!1===t||null!=t&&(t=t.toLowerCase(),!(["true","yes","show","enable"].indexOf(t)<0&&["false","no","hide","disable"].indexOf(t)<0))},getConfigValue=function(t,i){return null!=i&&"string"==typeof i&&""!=i.trim()&&isBool(i)&&(i=parseBool(i)),null==(t=null!=bookConfig[t]?bookConfig[t]:getValueFromAliasConfig(t))?i:null==i?t:"number"==typeof i?Number(t):"boolean"==typeof i?parseBool(t):"string"==typeof i&&"#"==i[0]?Color(t).toString():t},getValueFromAliasConfig=function(t){if(global.aliasConfig&&(t=aliasConfig[t]))for(var i=0;i<t.length;i++){var e=t[i];if(null!=bookConfig[e])return bookConfig[e]}},fixDownloadURLValue=function(){""==bookConfig.DownloadURL&&null!=bookConfig.downloadURL&&""!=bookConfig.downloadURL&&(bookConfig.DownloadURL=bookConfig.downloadURL)},checkURLValue=function(){bookConfig.BackgroundSoundURL=fixURLValue(bookConfig.BackgroundSoundURL),bookConfig.helpContentFileURL=fixURLValue(bookConfig.helpContentFileURL),bookConfig.backGroundImgURL=fixURLValue(bookConfig.backGroundImgURL),bookConfig.facebookShotImageURL=fixURLValue(bookConfig.facebookShotImageURL),bookConfig.appLogoIcon=fixURLValue(bookConfig.appLogoIcon),bookConfig.printWatermarkFile=fixURLValue(bookConfig.printWatermarkFile),bookConfig.loadingPicture=fixURLValue(bookConfig.loadingPicture)},fixURLValue=function(t){if(!$.browser.app&&bookConfig.CreatedTime&&t){function i(t){return"string"!=typeof t?t:0<=t.indexOf("?")?t+"&"+bookConfig.CreatedTime:t+"?"+bookConfig.CreatedTime}if("string"!=typeof t)for(var e=0;e<t.length;e++)t[e]=i(t[e]);else t=i(t)}return t},decodeAboutInfo=function(){if(bookConfig.aboutContactInfoTxt){try{var t=$(bookConfig.aboutContactInfoTxt)}catch(t){return}t.find("title").text();for(var i,e,o,s,n,a=t.find("desc").text(),h=t.find("logo").text(),t=t.find("keys").children(),r=0;r<t.length;r++){var g=$(t[r]);"Phone"==g.attr("type")&&(i=g.text()),"Link"==g.attr("type")&&(e=g.text()),"Email"==g.attr("type")&&(o=g.text()),"Address"==g.attr("type")&&(s=g.text()),"Author"==g.attr("type")&&(n=g.text())}t=function(t){return String.parseUtf8(base64.decode(t))},s&&!bookConfig.AboutAddress&&(bookConfig.AboutAddress=t(s)),o&&!bookConfig.AboutEmail&&(bookConfig.AboutEmail=t(o)),i&&!bookConfig.AboutMobile&&(bookConfig.AboutMobile=t(i)),e&&!bookConfig.AboutWebsite&&(bookConfig.AboutWebsite=t(e)),a&&!bookConfig.AboutDescription&&(bookConfig.AboutDescription=t(a)),n&&!bookConfig.AboutAuthor&&(bookConfig.AboutAuthor=t(n)),h&&!bookConfig.CompanyLogoFile&&(bookConfig.CompanyLogoFile=t(h)),bookConfig.CompanyLogoFile&&(bookConfig.CompanyLogoFile=bookConfig.CompanyLogoFile.replace(/\\/g,"/")),bookConfig.isFlipPdf&&bookConfig.CompanyLogoFile.startsWith("./")&&(bookConfig.CompanyLogoFile="."+bookConfig.CompanyLogoFile)}},cr=DeString("c3753b3f49449a65f9ad12578d7a4602c8ae34"),checkHtmlConfig=(bdor[300]=cr,function(){for(var t="bookConfig aliasConfig aliasLanguage fliphtml5_pages bmtConfig videoList staticAd language ols slideshow pageEditor flipByAudio downloadconfig assistantConfig phoneNumber bookPlugin shareObj textForPages positionForPages search_pages pages_information".split(" "),i=0;i<t.length;i++){var e=t[i];window.htmlConfig&&window.htmlConfig[e]&&(window[e]=window.htmlConfig[e])}!window.htmlConfig||!window.htmlConfig.downloadConfig||window.htmlConfig.downloadconfig&&null==window.htmlConfig.downloadconfig.length||(window.downloadconfig=window.htmlConfig.downloadConfig)});function initEncryptPreviewPages(){if(bookConfig.isPreview&&(!bookConfig.isPreview||bookConfig.previewPages)){for(var t=bookConfig.previewPages.split(","),i=[],e=0;e<t.length;e++)if(-1<t[e].indexOf("-"))for(var o=t[e].split("-"),s=parseFloat(o[0]);s<=parseFloat(o[1]);s++)i.push(parseFloat(s));else t[e]&&i.push(parseFloat(t[e]));bookConfig.previewPages=i}}checkHtmlConfig(),initEncryptPreviewPages(),bdor[12]=bdor[3],global.crBefore=DeString("d2b0aa5705413c96"),global.crAfter=DeString("d35426b1c0d303cfa3012949ee");var getBookInfo=function(){var t;window.htmlConfig&&window.htmlConfig.bookConfig&&window.htmlConfig.bookConfig.bookBaseURL&&((t=bookConfig.bookBaseURL).endsWith("/")||(t+="/"),$.ajax({url:t+"bookinfo.js",type:"get",crossDomain:!0,success:function(t){},error:function(t){}}))},toAbsURL=function(t){var i=document.createElement("a");return i.href=t,i.href},checkReportConfig=function(){bookConfig.EnableReportButton=getConfigValue("EnableReportButton",!0),bookConfig.reportUrl=getConfigValue("reportUrl","https://www.yunzhan365.com/hostInfo/report-book-online.php")},transformCSS=function(t,i){var e=$.system.name==$.system.IOS&&10.3<=$.system.version,o="",s={};return null!=t.perspective&&(o=o+"perspective("+t.perspective+"px) "),t.tran&&(!1===i?o=o+"translate("+t.tran.x+"px,"+t.tran.y+"px) ":($.browser.msie&&!e&&(o=o+"translate("+t.tran.x+"px,"+t.tran.y+"px) "),$.browser.msie&&!e||(o=o+"translate3d("+t.tran.x+"px,"+t.tran.y+"px,0px) "))),null!=t.rotate&&(o=o+"rotate("+t.rotate+"deg) "),null!=t.rotateY&&(o=o+"rotateY("+t.rotateY+"deg) "),null!=t.rotateX&&(o=o+"rotateX("+t.rotateX+"deg) "),null==t.scale||null!=t.scale.x||!1!==i&&($.browser.msie&&!e||(o=o+"scale3d("+t.scale+","+t.scale+",1) "),!$.browser.msie||e)||(o=o+"scale("+t.scale+") "),null==t.scale||null==t.scale.x||!1!==i&&($.browser.msie&&!e||(o=o+"scale3d("+t.scale.x+","+t.scale.y+",1) "),!$.browser.msie||e)||(o=o+"scale("+t.scale.x+","+t.scale.y+") "),null!=t.scaleX&&(o=o+"scaleX("+t.scaleX+") "),null!=t.scaleY&&(o=o+"scaleY("+t.scaleY+") "),t.origin&&(i=t.origin.x+"% "+t.origin.y+"%",s["-webkit-transform-origin"]=i,s["-moz-transform-origin"]=i,s["-ms-transform-origin"]=i,s["-o-transform-origin"]=i,s["transform-origin"]=i),o&&(s["-webkit-transform"]=o,s["-moz-transform"]=o,s["-ms-transform"]=o,s["-o-transform"]=o,s.transform=o),t.obj&&t.obj.css(s),s},changeShowBook=(bdor[32]=function(t,i){return t+i},function(t){switch(t){case BookType.normal_book:bookType=BookType.normal_book,singlePageBook&&singlePageBook.hide(),flipBook&&flipBook.show(),bookConfig.ThumbnailsButtonVisible&&global.thumbnail&&thumbnail.mergeAll();break;case BookType.single_book:bookType=BookType.single_book,singlePageBook&&singlePageBook.show(),flipBook&&flipBook.hide(),bookConfig.ThumbnailsButtonVisible&&global.thumbnail&&thumbnail.fissionAll();break;case BookType.slide_book:bookType=BookType.slide_book,slideBook&&slideBook.show(),singleSlideBook&&singleSlideBook.hide(),bookConfig.ThumbnailsButtonVisible&&global.thumbnail&&thumbnail.mergeAll();break;case BookType.singleSlide_book:bookType=BookType.singleSlide_book,slideBook&&slideBook.hide(),singleSlideBook&&singleSlideBook.show(),bookConfig.ThumbnailsButtonVisible&&global.thumbnail&&thumbnail.fissionAll();break;case BookType.catalog_book:bookType=BookType.catalog_book,catalogBook&&catalogBook.show(),bookConfig.ThumbnailsButtonVisible&&global.thumbnail&&thumbnail.mergeAll();break;case BookType.singleCatalog_book:bookType=BookType.singleCatalog_book,singleCatalogBook&&singleCatalogBook.show(),bookConfig.ThumbnailsButtonVisible&&global.thumbnail&&thumbnail.fissionAll()}}),supports=function(){var e=document.createElement("div"),o=["Khtml","Ms","O","Moz","Webkit"];return function(t){if(t in e.style)return!0;t=t.replace(/^[a-z]/,function(t){return t.toUpperCase()});for(var i=o.length;i--;)if(o[i]+t in e.style)return!0;return!1}}(),getBrowserPre=function(){switch(browserType){case 3:return"-ms-";case 2:return"-moz-";case 1:return"-webkit-";case 4:return"-o-"}},getTransform=function(t){switch(browserType){case 3:var i=t.style["-ms-transform"];break;case 2:i=t.style["-moz-transform"];break;case 1:i=t.style["-webkit-transform"];break;case 4:i=t.style["-o-transform"];break;default:i=t.style.transform}return null==i&&null==(i=t.style.transform)||null==(i=i.match(/translate\((.*?)\)/)||i.match(/translate3d\((.*?)\)/))||""==i||i.length<2?Point(0,0):(i=i[1].split(", "),Point(parseInt(i[0],10),parseInt(i[1],10)))},getTransformScale=function(t){switch(browserType){case 3:var i=t.style["-ms-transform"];break;case 2:i=t.style["-moz-transform"];break;case 1:i=t.style["-webkit-transform"];break;case 4:i=t.style["-o-transform"];break;default:i=t.style.transform}return null==i&&null==(i=t.style.transform)||null==(i=i.match(/scale\((.*?)\)/)||i.match(/scale3d\((.*?)\)/))||""==i||i.length<2?1:(i=i[1].split(","))[0]},getColor=function(t,i){return null!=(t=bookConfig[t])?Color(t).toString():i},getImage=function(t){return t?$("<img src='"+t+"'/>"):new Image},parseBool=function(t,i){var e;return!0===t||!1===t?t:null!=t&&(i=!!i,"number"==typeof t?0!=t:"string"==typeof t&&""!=t&&(e=["true","yes","show","enable"],t=t.toLowerCase(),e.indexOf(t)<0&&["false","no","hide","disable"].indexOf(t)<0?i:0<=e.indexOf(t)))},getLanguage=function(t,i){if(global.selectedLanguage&&selectedLanguage[t])return selectedLanguage[t];if(global.aliasLanguage&&aliasLanguage[t]){t=aliasLanguage[t];for(var e=0;e<t.length;e++){var o=t[e];if(global.selectedLanguage&&selectedLanguage[o])return selectedLanguage[o]}}return i},selectedLanguage,selectLanguage=function(t){if(global.language||(global.language=[]),t=(t+"").toLowerCase(),0==language.length)selectedLanguage=[];else{for(var i=[],e=0;e<language.length;e++)if(language[e].language.toLowerCase()==t){i=language[e];break}selectedLanguage=i}},handleData=function(t,i){var e,o;return t.length<50?t:(e=t.length,(o=25<=(i=t.toLowerCase().indexOf(i.toLowerCase()))?(o=Math.max(25<=e-i?i-25:e-50,0),".."+t.substring(o,i)):t.substring(0,i))+(t=25<e-i?t.substring(i,25<=i?i+25:50)+"..":t.substring(i,e)))},onWindowTap=function(t){Log.print("onWindowTapEnter"),global.windowTapInterval&&window.clearTimeout(global.windowTapInterval),global.windowTapInterval=window.setTimeout(function(){if(global.moreBar&&moreBar.visible)moreBar.hide();else{if(isPhone()||isPad()){if(bookConfig.toolbarAlwaysShow)return;global.phoneSearchBar&&global.phoneSearchBar.showOrHide(),toolBar.showOrHide()}global.windowTapInterval&&window.clearTimeout(global.windowTapInterval)}},401)},stopEvent=function(t){try{var i=t||window.event;i.preventDefault?(i.preventDefault(),i.stopPropagation()):(i.returnValue=!1,i.cancelBubble=!0)}catch(t){}return!1},getPagesByRange=function(t){function i(t){for(var i=0;i<e.length;i++)if(e[i]==t)return 1}var e=[];if(t&&"string"==typeof t&&""!=t.trim()){t=t.split(",");for(var o=0;o<t.length;o++){var s=t[o];if(isNaN(s)){if(-1<s.indexOf("-"))if(!((a=s.split("-")).length<2)){var s=getRealPageNumber(a[0]),n=getRealPageNumber(a[1]),a=Math.max(s,n);for(s=Math.min(s,n);s<=a;s++)s>bookConfig.totalPageCount||i(s)||e.push(s)}}else i(s=getRealPageNumber(s))||e.push(s)}}return e},isSlideBook=function(){return!("slide"!=bookConfig.FlipStyle.toLowerCase()&&!isBelowIE9())};function addGoogleAdSense(){bookConfig.haveAdSense&&loadJavascript("//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",function(){var b=document.createElement("ins"),b=$(b),c=(b.addClass("adsbygoogle"),b.css({display:"inline-block",width:"100%",height:"100%"}),b.attr("data-ad-client",bookConfig.adSenseClientId),b.attr("data-ad-slot",bookConfig.adSenseSlotId),$("<div/>"));c.css({position:"absolute","z-index":100,left:bookConfig.adSenseLeft+"px",top:bookConfig.adSenseTop+"px",width:bookConfig.adSenseWidth+"px",height:bookConfig.adSenseHeight+"px"}),c.bind(_event._down,function(){BookEvent.trigger("googleAdSense",[bookConfig.adSenseClientId,bookConfig.adSenseSlotId,bookConfig.adSenseLeft,bookConfig.adSenseTop,bookConfig.adSenseWidth,bookConfig.adSenseHeight])}),tmpContainer.append(c),c.append(b),eval("(adsbygoogle = window.adsbygoogle || []).push({});")})}var changeLanguage=function(t){selectLanguage(t),global.toolBar&&toolBar.changeLanguage&&toolBar.changeLanguage(),global.printBody&&printBody.changeLanguage(),global.helpBody&&helpBody.changeLanguage(),global.aboutBody&&aboutBody.changeLanguage(),global.sharePanel&&sharePanel.changeLanguage(),global.languagePanel&&languagePanel.changeLanguage(),global.videoGallery&&videoGallery.changeLanguage(),global.photoGallery&&photoGallery.changeLanguage(),global.bookmark&&bookmark.changeLanguage(),global.frmTableOfContent&&frmTableOfContent.changeLanguage(),global.frmSearch&&frmSearch.changeLanguage(),global.thumbnail&&thumbnail.changeLanguage(),global.bookInstructions&&global.bookInstructions.changeLanguage&&global.bookInstructions.changeLanguage(),global.telephoneNumberForm&&global.telephoneNumberForm.changeLanguage(),global.settingBody&&global.settingBody.changeLanguage(),global.doubleSinglePageForm&&global.doubleSinglePageForm.changeLanguage(),global.downLoadBody&&global.downLoadBody.changeLanguage(),global.annotationPannel&&global.annotationPannel.changeLanguage()},baiduAnalytics=function(){bookConfig.baiduAnalyticsID&&window.setTimeout(function(){var t=document.createElement("script"),i=(t.src="https://hm.baidu.com/hm.js?"+bookConfig.baiduAnalyticsID,document.getElementsByTagName("script")[0]);i.parentNode.insertBefore(t,i)},3e3)},controlAudioVolume=function(){var t;isNaN(bookConfig.bgSoundVol)||(t=parseFloat(bookConfig.bgSoundVol/100),global.bgSound&&global.bgSound.setVolume(t),flipAudio&&(flipAudio[0].volume=t))},TurnonAutoFlip=function(){bookConfig.autoFlipOnStart&&window.setTimeout(function(){auto_player&&auto_player.start(),toolBar&&toolBar.changeAutoPlayIcon&&toolBar.changeAutoPlayIcon()},1e3)},flipSoundIsPlaying=!0,playFlipSound=function(){if(bookConfig.FlipSound&&flipSoundIsPlaying)if(isPhone()||isPad()||isIE()){if(!isPlaying||!isAndroidDefault())try{flipAudio[0].currentTime=0,flipAudio[0].play()}catch(t){}}else{var t="flipsound",i=(bookType!=BookType.slide_book&&bookType!=BookType.singleSlide_book||(t="slidesound"),t=$("<audio preload style='display:none;'><source src='"+soundBaseURL+t+".ogg?2018071601' type='audio/ogg'><source src='"+soundBaseURL+t+".mp3?2018071601' type='audio/mpeg'></audio>"),$("body").append(t),parseFloat(bookConfig.bgSoundVol/100));t[0].volume=i,t.bind("ended",function(){$(this).remove()});try{t[0].currentTime=0,t[0].play()}catch(t){}}},initFlipSound=function(){var t;(isPhone()||isPad()||isIE())&&(t="flipsound",bookType!=BookType.slide_book&&bookType!=BookType.singleSlide_book||(t="slidesound"),flipAudio=$("<audio preload id='flipSound'><source src='"+soundBaseURL+t+".ogg?2018071601' type='audio/ogg'><source src='"+soundBaseURL+t+".mp3?2018071601' type='audio/mpeg'></audio>"),$("body").append(flipAudio))};function copyFromObj(i){if(i){i.focus(),i.select();try{document.execCommand("Copy")}catch(t){copyToClipboard(i=i.val())}}}function copyHref(t){global.isBelowIE9()||((t=new ClipboardJS(t,{text:function(t){return window.location.href}})).on("success",function(t){"Chinese"==UserGroups&&alert("复制网址成功"),"English"==UserGroups&&alert("Copied successfully"),t.clearSelection()}),t.on("error",function(t){uc?("Chinese"==UserGroups&&alert("复制网址成功"),"English"==UserGroups&&alert("Copied successfully"),t.clearSelection()):("Chinese"==UserGroups&&alert("复制网址失败"),"English"==UserGroups&&alert("Copied failed"))}))}function copyToClipboard(t){if(window.clipboardData)window.clipboardData.clearData(),window.clipboardData.setData("Text",t);else if(-1!=navigator.userAgent.indexOf("Opera"))window.location=t;else if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(t){return alert(getLanguage("infCopyToClipboard","Your browser does not support clipboard.")),!1}var i=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(i){var e=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(e){e.addDataFlavor("text/unicode");var o=Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);if(o.data=t,e.setTransferData("text/unicode",o,2*t.length),!i)return!1;i.setData(e,null,Components.interfaces.nsIClipboard.kGlobalClipboard)}}}else alert(getLanguage("infCopyToClipboard","Your browser does not support clipboard."))}function hideMoreBar(){global.moreBar&&moreBar.visible&&moreBar.hide()}function GetQueryString(t){return t=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),null!=(t=window.location.search.substr(1).match(t))?decodeURIComponent(t).split(",")[2]:""}function getProtocal(){return window.location.href.toLowerCase().startsWith("https://")?"https://":"http://"}!function(t,i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?module.exports=i():t.jeDate=i()}(this,function(){function b(){var t=new Date;this.reDate=function(){return new b},this.GetValue=function(){return t},this.GetFullYear=function(){return t.getFullYear()},this.GetMonth=function(){return t.getMonth()+1},this.GetHours=function(){return t.getHours()},this.GetDate=function(){return t.getDate()},this.GetMinutes=function(){return t.getMinutes()},this.GetSeconds=function(){return t.getSeconds()}}function c(t,i){this.opts=i,this.valCell=t,this.format=this.opts.format,this.initdates()}var d,f,g,h,k,l,m;if($&&$.fn&&$.fn.jquery)return d={},f=/\-/g,"YYYY|MM|DD|hh|mm|ss|zz".replace("|zz",""),g=function(t){return window.parseInt(t,10)},h={name:"cn",month:"01 02 03 04 05 06 07 08 09 10 11 12".split(" "),weeks:"日一二三四五六".split(""),times:["小时","分钟","秒数"],titText:"请选择日期时间",clear:"清空",today:"现在",yes:"确定",close:"关闭"},$.fn.jeDate=function(t){return new c($(this),t||{})},$.extend({jeDate:function(t,i){return new c($(t),i||{})}}),d.isObj=function(t){for(var i in t)return!0;return!1},d.reMatch=function(t){return t.match(/\w+|d+/g)},d.docScroll=function(t){return t=t?"scrollLeft":"scrollTop",document.body[t]|document.documentElement[t]},d.docArea=function(t){return document.documentElement[t?"clientWidth":"clientHeight"]},d.isLeap=function(t){return 0!=t%100&&0==t%4||0==t%400},d.digit=function(t){return t<10?"0"+(0|t):t},d.isNum=function(t){return!!/^[+-]?\d*\.?\d*$/.test(t)},d.getDaysNum=function(t,i){var e=31;switch(g(i)){case 2:e=d.isLeap(t)?29:28;break;case 4:case 6:case 9:case 11:e=30}return e},d.getYM=function(t,i,e){return(t=new Date(t,i-1)).setMonth(i-1+e),{y:t.getFullYear(),m:t.getMonth()+1}},d.prevMonth=function(t,i,e){return d.getYM(t,i,0-(e||1))},d.nextMonth=function(t,i,e){return d.getYM(t,i,e||1)},d.parse=function(e,t){return t.replace(/YYYY|MM|DD|hh|mm|ss|zz/g,function(t,i){return"zz"==t?"00":d.digit(e[t])})},d.isparmat=function(t){var i=d.reMatch(t),o=[];return $.each("YYYY MM DD hh mm ss zz".split(" "),function(t,e){$.each(i,function(t,i){e==i&&o.push(i)})}),o.join("-")},d.parseOld=function(t,i,e){t=t.concat(i);var o={},s=d.reMatch(e);return $.each(t,function(t,i){o[s[t]]=g(i)}),e.replace(/YYYY|MM|DD|hh|mm|ss|zz/g,function(t,i){return"zz"==t?"00":d.digit(o[t])})},d.checkFormat=function(t){var e=[];return t.replace(/YYYY|MM|DD|hh|mm|ss|zz/g,function(t,i){e.push(t)}),e.join("-")},d.splMatch=function(t){return t=t.split(" "),d.reMatch(t[0])},d.mlen=function(t){var i=t.match(/\w+|d+/g).length;return"hh"==t.substring(0,2)&&i<=3?7:i},d.checkDate=function(t){return t=d.reMatch(t),!(isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||12<t[1]||t[1]<1||t[2]<1||31<t[2]||(4==t[1]||6==t[1]||9==t[1]||11==t[1])&&30<t[2]||2==t[1]&&(29<t[2]||(0==t[0]%100&&0!=t[0]%400||0!=t[0]%4)&&28<t[2]))},d.GetDateTime=function(t,i){i=i||"YYYY-MM-DD hh:mm:ss";var e=$.extend({YYYY:null,MM:null,DD:null,hh:0,mm:0,ss:0},t),o={YYYY:"FullYear",MM:"Month",DD:"Date",hh:"Hours",mm:"Minutes",ss:"Seconds"},s=(new b).reDate();return $.each("ss mm hh DD MM YYYY".split(" "),function(t,i){if(!d.isNum(g(e[i])))return null;t=s.GetValue(),!g(e[i])&&0!=g(e[i])||t["set"+o[i]](s["Get"+o[i]]()+("MM"==i?-1:0)+g(e[i]))}),d.parse({YYYY:s.GetFullYear(),MM:s.GetMonth(),DD:s.GetDate(),hh:s.GetHours(),mm:s.GetMinutes(),ss:s.GetSeconds()},i)},d.isValHtml=function(t){return/textarea|input/.test(t[0].tagName.toLocaleLowerCase())},d.isBool=function(t){return null==t||1==t},k=function(){for(var t="",i=[1,2,3,4,5,6,7,8,9,0],e=0;e<8;e++)t+=i[Math.round(Math.random()*(i.length-1))];return t},l=c.prototype,m=d.reMatch("YYYY|MM|DD|hh|mm|ss|zz"),l.initdates=function(){function i(t,i){var e=$("<div/>",{id:i.replace(/#/g,""),class:"jedatebox "+(n.skinCell||"jedateblue")}),o=r?1==s.fixed?"absolute":"fixed":"relative";e.attr("author","chen guojun").css({"z-index":"#jedatebox"!=i?"":a,position:o}),"#jedatebox"!=i&&e.attr({jeformat:n.format||"YYYY-MM-DD hh:mm:ss",jefixed:h}),o=["1900-01-01","00:00:00"],d.minDate=(/\-/g.test(n.minDate)||null==n.minDate?n.minDate:o[0]+" "+n.minDate)||"1900-01-01 00:00:00",d.maxDate=(/\-/g.test(n.maxDate)||null==n.maxDate?n.maxDate:"2099-12-31 "+n.maxDate)||"2099-12-31 23:59:59",d.boxelem=r?"#jedatebox":i,s.format=r?n.format||"YYYY-MM-DD hh:mm:ss":e.attr("jeformat"),i=s.getValue({}),$(t).append(e),s.renderHtml(i[0].YYYY,i[0].MM,i[0].DD,n,d.boxelem)}var e,s=this,n=s.opts,t=null!=n.trigger?n.trigger:"click",a=null==n.zIndex?1e4:n.zIndex,o=null!=n.isinitVal&&0!=n.isinitVal,h="#jedatebox"+k(),r=d.isBool(n.isShow);s.areaVal=[],n.range=n.range||!1,s.fixed=d.isBool(n.fixed);o&&t&&(o=(o=n.initDate||[])[1]?[{YYYY:(o=d.reMatch(d.GetDateTime(o[0])))[0],MM:d.digit(o[1]),DD:d.digit(o[2]),hh:d.digit(o[3]),mm:d.digit(o[4]),ss:d.digit(o[5])}]:s.getValue(d.isObj(o[0])?o[0]:{}),s.setValue(o[0],n.format||"YYYY-MM-DD hh:mm:ss")),r?(e=["body","#jedatebox"],t?s.valCell.on(t,function(t){t.stopPropagation(),0<$(e[1]).length||i(e[0],e[1])}):i(e[0],e[1])):i(s.valCell,h)},l.parseFormat=function(t,i){return d.parse(t,i)},l.parseValue=function(t,i){var n,a=this,h=[],r=a.opts,e="",o=$(d.boxelem),g=null==i?0<$(o.attr("jefixed")).length?o.attr("jeformat"):a.format:i,l=$.isFunction(t)?t():t;return(""!=l||0<l.length)&&(t=0!=r.range,n=Array(t?2:1),$.each(n,function(t){var i=2==n.length,e={},o=d.reMatch(g),s=i?l.split(r.range):l;i&&$.each(d.reMatch(s[t]),function(t,i){e[(7==d.mlen(a.format)?o:m)[t]]=i}),h.push(a.parseFormat(i?e:s,g)),e={}}),e=h.join(t?r.range:"")),e},l.setValue=function(t,i,e){var o,s,n=this.valCell,a="string"==typeof t&&""!=t&&0==this.opts.range?(o=d.reMatch(t),s={},$.each(d.reMatch(this.format),function(t,i){s[i]=g(o[t])}),s):t;return t=d.isValHtml(n)?"val":"text",i=this.parseValue(a,i),0!=e&&n[t](i),$(n).change(),i},l.getValue=function(s){var n,a,t,h,r,l,c,p,i=this.valCell,e=this.opts,o=(I=(new b).reDate()).GetFullYear(),u=I.GetMonth(),f=I.GetDate(),C=I.GetHours(),A=I.GetMinutes(),I=I.GetSeconds();return e=null==s&&d.isBool(e.isShow)?i[e=d.isValHtml(i)?"val":"text"]():(i=d.isBool(e.isShow)?""==this.getValue():!d.isBool(e.isShow),n=$.extend({YYYY:null,MM:null,DD:null},s||{}),a=[],t=Array(2),h=[{YYYY:o,MM:u,DD:f,hh:C,mm:A,ss:I,zz:0},{YYYY:o,MM:u,DD:f,hh:C,mm:A,ss:I,zz:0}],i?$.each(t,function(e){var o={};$.each(m,function(t,i){o[i]=g((null==n[i]||null==n[i]?h[e]:n)[i])}),a.push($.extend(h[e],o))}):(r=0!=e.range,l=this.getValue(),c=l.split(e.range),p=d.reMatch(this.format),$.each(t,function(t){var e={},o=r?d.reMatch(c[t]):d.reMatch(l),i=($.each(p,function(t,i){e[i]=g(o[t])}),$.extend(e,s||{}));a.push($.extend(h[t],i))})),a)},l.renderHtml=function(t,i,e,o,s){var n,a=this,r=$(s),g=(s=o.language||h,0!=o.range),l=d.isBool(o.isShow),c=d.minDate.replace(/\s+/g," ").split(" "),p=(d.maxDate.replace(/\s+/g," ").split(" "),t=(i=a.getValue({YYYY:t,MM:i,DD:e}))[0],i=i[1],a.format=l?a.format:r.attr("jeformat"),e=d.mlen(a.format),/hh/.test(a.format)),u="cn"==s.name?l?s.clear:"重置":l?s.clear:"Reset",f=$("<div/>",{class:"maincont"}),m=$("<div/>",{class:"mainfoot"}),C=$("<div/>",{class:"daybox"}).append("<div class='arthead'></div><div class='artcont'></div>"),A=$("<div/>",{class:"ymsbox"}).append("<div class='arthead'></div><div class='artcont'></div>"),b=$("<div/>",{class:"timebox"}).append("<div class='arthead'></div><div class='artcont'></div>");f.append(A).append(C).append(1==e||2==e?"":b),r.empty().append(f.children().hide()).append(m),f='<span class="clear">'+u+'</span><span class="today">'+s.today+'</span><span class="setok">'+s.yes+"</span>",u=$("<div/>",{class:"timecon"}).append(g?"<em></em><i>:</i><em></em><i>:</i><em></em><span> ~ </span><em></em><i>:</i><em></em><i>:</i><em></em>":"<em></em><i>:</i><em></em><i>:</i><em></em>"),f=$("<div/>",{class:"btnscon"}).append(f),m.append(u).append(f),r.append($("<div/>",{class:"jedate-tips"}).hide()),a.maincon=function(t,i){return r.find(t+" > "+(0==i?".arthead":".artcont"))},p?(c=/\s/.test(d.minDate)?c[1]:c[0],/\s/.test(d.maxDate),c=d.reMatch(c),f=[t.hh,t.mm,t.ss],n=[],n=g?""==a.getValue()?7==e?c.concat(c):c.concat([0,0,0]):f.concat([i.hh,i.mm,i.ss]):f,$.each(m.find(".timecon em"),function(t,i){$(this).text(d.digit(n[t]))})):m.find(".timecon").hide(),7==e?(a.maincon(".timebox",0).html(s.titText),r.find(".timebox").show(),a.eachHms(o,r)):3<=e&&e<=6&&(a.maincon(".daybox",0).append('<em class="yearprev yprev"></em><em class="monthprev mprev"></em><em class="monthnext mnext"></em><em class="yearnext ynext"></em>'),r.find(".daybox").show(),a.eachDays(t.YYYY,t.MM,t.DD,o,r),p&&(a.maincon(".timebox",1).attr("cont","no"),a.maincon(".timebox",0).html(s.titText+'<em class="close"></em>'),r.find(".timecon").on("click",function(){"no"==a.maincon(".timebox",1).attr("cont")&&(a.maincon(".timebox",1).attr("cont","yes"),r.find(".ymsbox,.daybox").hide(),r.find(".timebox").show(),a.eachHms(o,r),a.dateOrien(r,a.valCell))}),a.maincon(".timebox",0).on("click",".close",function(){a.maincon(".timebox",1).html("").attr("cont","no"),r.find(".ymsbox,.timebox").hide(),r.find(".daybox").show(),a.dateOrien(r,a.valCell)}),u.css({cursor:"pointer"})),a.maincon(".ymsbox",0).append('<em class="yearprev yprev"></em><em class="yearnext ynext"></em><em class="close"></em>').addClass("ymfix"),a.eachYM(t.YYYY,t.MM,o,r,".fixcon")),1!=e&&2!=e||(a.maincon(".ymsbox",0).append('<em class="yearprev yprev"></em><em class="yearnext ynext"></em>'),r.find(".ymsbox").show(),a.eachYM(t.YYYY,t.MM,o,r,".jedate-cont")),d.isBool(o.isTime)&&l||m.find(".timecon").hide(),l||m.find(".today").hide(),a.eventsDate(o,r),setTimeout(function(){o.success&&o.success(r)},50)},l.createYMHtml=function(t,i,e){t=g(t),i=g(i);var o=this.maincon(".daybox",0);return e=$("<p/>").css({width:d.isBool(e.multiPane)?"":"50%"}),o.append(e.html("<span class='ymbtn'>"+i+"月 "+t+"年</span>")),t+"-"+i},l.eachYM=function(l,t,c,i,e){var p=this,u=Array(15),m=new Date,o=c.language||h,s=p.maincon(".ymsbox",1),C=(i=d.isBool(c.multiPane),t=d.mlen(p.format),p.getValue({})),n=/hh/.test(p.format),A=1==t,a=(0<s.find(".ymcon").length&&s.find(".ymcon").remove(),$.each(Array(i?1:2),function(a){function h(t,i,e){var o=t.replace(f,"");return i=i.replace(f,""),e=e.replace(f,""),/YYYY-MM-DD/g.test(d.isparmat(p.format))?g(o)==g(i)&&0==a?"actdate":"":g(o)==g(i)?(n||(p.areaVal.push(t),p.areaStart=!0),"actdate"):g(o)>g(i)&&g(o)<g(e)?"contain":g(o)==g(e)?(n||(p.areaVal.push(t),p.areaStart=!0),"actdate"):""}var t=$("<div/>",{class:"ymcon"}).addClass(1==a?"spaer":""),r=[],e=($.each(A?u:o.month,function(t,i){var e,o,s,n=1==a?l+(A?u.length:1):l;t=1==a?A?15+t:12+t:t,A?(e=d.splMatch(d.minDate),o=d.splMatch(d.maxDate),i=e[0],o=o[0],n=n-7+t,s=""==p.getValue()&&d.isBool(c.isShow)?m.getFullYear():p.getValue(),n<i||o<n?r.push({style:"disabled",ym:n,idx:t}):(o=h(n.toString(),s.toString(),C[1].YYYY.toString()),r.push({style:o,ym:n,idx:t}))):(e=d.splMatch(d.minDate),o=d.splMatch(d.maxDate),s=g(n+""+d.digit(i)+"01"),e=g(e[0]+""+d.digit(e[1])+d.digit(e[2])),o=g(o[0]+""+d.digit(o[1])+d.digit(o[2])),s<e||o<s?r.push({style:"disabled",ym:n+"-"+d.digit(i),idx:t}):(o=n+"-"+d.digit(i),s=C[0].YYYY+"-"+d.digit(C[0].MM),o=h(o,s,C[1].YYYY+"-"+d.digit(C[1].MM)),r.push({style:o,ym:n+"-"+d.digit(i),idx:t})))}),$("<table/>",{class:A?"yul":"ymul"}));$.each(Array(A?5:4),function(t){var i=$("<tr/>");$.each(Array(3),function(){var t=$("<td/>");e.append(i.append(t))})}),$.each(r,function(t,i){e.find("td").eq(t).addClass(i.style).attr({idx:i.idx,"je-val":i.ym}).html(i.ym)}),s.append(t.append(e))}),e=s.find("td"),t=p.maincon(".ymsbox",0),A?i?14:29:i?11:23);i=e.eq(0).text(),e=e.eq(a).text(),a=[A?i:i.substring(0,4),A?e:e.substring(0,4)],t.find("p").remove(),t.append("<p>"+i+" ~ "+e+"</p>").attr({min:a[0],max:a[1]})},l.dateRegExp=function(n){n=n.split(",")||[];var p="",q=function(t){var w,C=/#?\{(.*?)\}/;for(t+="";null!=(w=C.exec(t));){w.lastIndex=w.index+w[1].length+w[0].length-w[1].length-1;var D=g(eval(w[1]));D<0&&(D="9700"+-D),t=t.substring(0,w.index)+D+t.substring(w.lastIndex+1)}return t};if(n&&0<n.length){for(var r=0;r<n.length;r++)p+=q(n[r]),r!=n.length-1&&(p+="|");p=p?new RegExp("(?:"+p+")"):null}else p=null;return p},l.eachDays=function(t,i,e,l,o){var f=this,c=(o=d.isBool(l.isShow),g(t)),p=g(i),s=f.valCell,u=l.language||h,m=l.valiDate||[],n=d.reMatch(d.minDate),a=g(n[0]+""+d.digit(n[1])+d.digit(n[2])),n=d.reMatch(d.maxDate),r=g(n[0]+""+d.digit(n[1])+d.digit(n[2])),C=(n=d.isBool(l.multiPane),f.getValue(o?{}:{YYYY:t,MM:i,DD:e})),A=""!=(s.val()||s.text())&&0!=l.range,b=g(C[0].YYYY+""+d.digit(C[0].MM)+d.digit(C[0].DD)),I=function(t,i,e){var o,s=l.marks;if(o=$.isArray(s)&&0<s.length)t:{for(t=t+"-"+d.digit(i)+"-"+d.digit(e),i=s.length;i--;)if(s[i]===t){o=!0;break t}o=!1}return o?'<i class="marks"></i>':""},w=function(t,i,e){return e=1==l.festival&&"cn"==u.name?'<p><span class="solar">'+e+'</span><span class="lunar">'+(""!=((i=(t=f.jeLunar(t,i-1,e)).solarFestival||t.lunarFestival)&&t.jieqi)?i:t.jieqi||t.showInLunar)+"</span></p>":'<p class="nolunar">'+e+"</p>"},x=function(t,i,e,o){if(t=g(t+""+d.digit(i)+d.digit(e)),o){if(a<=t&&t<=r)return!0}else if(t<a||r<t)return!0},v=12<p+1,k=[];$.each(Array(n?1:2),function(t,i){var a=$("<table/>",{class:"daysul"}),s=$("<thead/>"),n=$("<tbody/>"),h=1==t?42:0,e=(a.append(s).append(n),$.each(Array(7),function(e){var o=$("<tr/>");$.each(Array(7),function(){var t=$("<th/>"),i=$("<td/>");o.append(0==e?t:i.attr("idx",h++)),(0==e?s:n).append(o)})}),v&&1==t?1:1==t?p+1:p),o=function(t,i){for(var e=0,o=[],s=new Date(t,i-1,1).getDay()||7,n=d.getDaysNum(t,i),a=0,h=d.prevMonth(t,i),r=d.getDaysNum(t,h.m),l=d.nextMonth(t,i),c=r-s+1;c<=r;c++,e++){var p=I(h.y,h.m,c),s=x(h.y,h.m,c,!1)?"disabled":"other";o.push({style:s,ymd:h.y+"-"+h.m+"-"+c,day:c,d:w(h.y,h.m,c)+p,idx:a++})}for(h=1;h<=n;h++,e++){r=I(t,i,h),s=g(t+""+d.digit(i)+d.digit(h));var c=g(C[1].YYYY+""+d.digit(C[1].MM)+d.digit(C[1].DD)),p=b<s,u=s<c;x(t,i,h,!0)?s==b?(s="actdate",f.areaVal.push(t+"-"+d.digit(i)+"-"+d.digit(h)),f.areaStart=!0):p&&u&&A?s="contain":s==c&&A?(s="actdate",f.areaVal.push(t+"-"+d.digit(i)+"-"+d.digit(h)),f.areaEnd=!0):s="":s="disabled",o.push({style:s,ymd:t+"-"+i+"-"+h,day:h,d:w(t,i,h)+r,idx:a++})}for(t=1,e=42-e;t<=e;t++)i=I(l.y,l.m,t),s=x(l.y,l.m,t,!1)?"disabled":"other",o.push({style:s,ymd:l.y+"-"+l.m+"-"+t,day:t,d:w(l.y,l.m,t)+i,idx:a++});return o}(i=v&&1==t?c+1:c,e),r=$("<div/>",{class:"contlist"});$.each(u.weeks,function(t,i){a.find("th").eq(t).text(i)}),k.push(f.createYMHtml(i,e,l)),$.each(o,function(t,i){var e,o,s,n=i.style;0<m.length&&""!=m[0]&&(n=/%/g.test(m[0])?(o=m[0].replace(/%/g,"").split(","),e=[],$.each(o,function(t,i){e.push(d.digit(g(i)))}),o=-1==$.inArray(d.digit(i.day),e),d.isBool(m[1])?o?"disabled":n:o?n:"disabled"):(n=f.dateRegExp(m[0]).test(d.digit(i.day)),d.isBool(m[1])?n?"disabled":i.style:n?i.style:"disabled")),a.find("td").eq(t).addClass(n).attr("je-val",(o=i.ymd,o=d.reMatch(o),s=[],$.each(o,function(t,i){s.push(d.digit(i))}),s.join("-"))).html(i.d)}),f.maincon(".daybox",1).append(r.append(a)).addClass(1==t?"spaer":"")}),f.maincon(".daybox",0).attr("je-ym",k.join(","))},l.eachHms=function(l,t){var e,o=l.language||h,i=d.isBool(l.multiPane),s=this.getValue({}),c=""==this.getValue(),n=0==l.range,a=d.minDate.replace(/\s+/g," ").split(" "),r=d.maxDate.replace(/\s+/g," ").split(" "),p=/YYYY-MM-DD/g.test(d.isparmat(this.format))&&/hh/.test(this.format),u=d.reMatch(a[1]),f=d.reMatch(r[1]),m=this.maincon(".timebox",1),C=["action","disabled"],A=t.find(".mainfoot .timecon em"),a=(b=new Date).getHours(),r=b.getMinutes(),b=b.getSeconds(),I=[s[0].hh||a,s[0].mm||r,s[0].ss||b],w=[s[1].hh||a,s[1].mm||r,s[1].ss||b];0==l.range&&0<t.find(".timelist").length||($.each(Array(n?1:2),function(h){var r=$("<div/>",{class:"timelist"}).css({width:n?"100%":"50%",float:n?"":"left"}),g=$("<div/>",{class:"contime"}),t=$("<div/>",{class:"textbox"}).append("<p>"+o.times[0]+"</p><p>"+o.times[1]+"</p><p>"+o.times[2]+"</p>");r.append(t),m.addClass(1==h?"spaer":""),$.each([24,60,60],function(t,i){for(var e=$("<ul/>").attr("idx",1==h?3+t:t),o=A.eq(t).text(),s=0;s<i;s++){var n=$("<li/>"),a=0!=l.range?p?0==h?s>=u[t]?s==(c?u:I)[t]?C[0]:"":C[1]:s>f[t]?C[1]:s==(c?0:w[t])?C[0]:"":s>=u[t]?s==(c?u:0==h?I:w)[t]?C[0]:"":C[1]:s>=u[t]&&s<=f[t]?o<u[t]?s==u[t]?C[0]:"":o>f[t]?s==f[t]?C[0]:"":s==o?C[0]:"":C[1];n.text(d.digit(s)).addClass(a),m.append(r.append(g.append(e.append(n))))}}),0==i&&n&&r.css({"padding-left":r.outerWidth()/2+12,"padding-right":r.outerWidth()/2+12})}),this.locateScroll(m.find("ul")),this.clickTime(l,t),e=[],$.each(u,function(t,i){g(i)>g(f[t])&&e.push("不能大于最大"+o.times[t])}),0<e.length&&this.tips(e.join("<br/>"),4.5))},l.eventsDate=function(t,i){var e=this;d.isBool(t.multiPane),e.clickYM(t,i),e.clickDays(t,i),e.clickBtn(t,i),d.isBool(t.isShow)&&(0<(t=t.position||[]).length?i.css({top:t[0],left:t[1]}):(e.dateOrien(i,e.valCell),$(window).on("resize",function(){e.dateOrien(i,e.valCell)}))),$(document).on("mouseup",function(t){t.stopPropagation(),"#jedatebox"==d.boxelem&&((t=$(d.boxelem))&&"none"!==t.css("display")&&e.dateClose(),0<$("#jedatetipscon").length&&$("#jedatetipscon").remove(),delete e.areaStart,delete e.areaEnd,e.areaVal=[])}),$(d.boxelem).on("mouseup",function(t){t.stopPropagation()})},l.clickYM=function(s,n){var e,a,h=this,t=h.maincon(".ymsbox",0),r=h.valCell,i=t.find(".yprev"),o=t.find(".ynext"),l=h.maincon(".daybox",0),c=d.isBool(s.isShow),p=l.find(".yprev"),u=l.find(".ynext"),m=l.find(".mprev"),l=l.find(".mnext"),C=d.mlen(h.format),A=1==C,b=["actdate","contain"],I=new Date;2==C||A?((e=h.maincon(".ymsbox",1).find(".ymcon").find("td")).on("click",function(){var t=$(this),i=t.attr("je-val");t.hasClass("disabled")||(0==s.range?(e.removeClass(b[0]),t.addClass(b[0]),h.maincon(".ymsbox",0).attr("data-val",t.text())):h.areaStart&&null==h.areaEnd?(t.addClass(b[0]),h.areaEnd=!0,h.areaVal.push(i),e.each(function(){var t=$(this),i=t.attr("je-val").replace(f,""),e=[h.areaVal[0].replace(f,""),h.areaVal[1].replace(f,"")],o=Math.min.apply(null,e),e=Math.max.apply(null,e);t.hasClass("other")||g(i)>g(o)&&g(i)<g(e)&&t.addClass(b[1])})):h.areaStart&&h.areaEnd&&(h.delAreaAttr(),e.removeClass(b[0]).removeClass(b[1]),t.addClass(b[0]),h.areaVal.push(i),h.areaStart=!0))}),$.each([i,o],function(o,t){t.on("click",function(t){var i=$(this),e=(t=I.getMonth()+1,g(i.parent().attr("min"))),i=g(i.parent().attr("max"));i=A?0==o?e:i:0==o?--e:++i,h.renderHtml(i,t,null,s,n),0==s.range&&(e=h.parseValue(A?{YYYY:i}:{YYYY:i,MM:t}),t={YYYY:i,MM:t,DD:I.getDate(),hh:I.getHours(),mm:I.getMinutes(),ss:I.getSeconds()},$.isFunction(s.toggle))&&s.toggle(r,e,t)})})):($.each([p,u],function(o,t){t.on("click",function(t){t.stopPropagation(),t=d.reMatch($(this).parent().attr("je-ym"));var i,e=g(t[0]);t=g(t[1]),e=0==o?--e:++e,h.renderHtml(e,t,null,s,n),0==s.range&&(i=h.getValue({})[0],i=h.parseValue({YYYY:e,MM:t,DD:i.DD}),t={YYYY:e,MM:t,DD:I.getDate(),hh:I.getHours(),mm:I.getMinutes(),ss:I.getSeconds()},$.isFunction(s.toggle))&&s.toggle({elem:r,val:i,date:t})})}),$.each([m,l],function(o,t){t.on("click",function(t){t.stopPropagation();var i=d.reMatch($(this).parent().attr("je-ym")),e=(t=g(i[0]),g(i[1])),i=d.prevMonth(t,e),e=d.nextMonth(t,e);0==o?h.renderHtml(i.y,i.m,null,s,n):h.renderHtml(e.y,e.m,null,s,n),t=(0==o?i:e).y,i=(0==o?i:e).m,0==s.range&&(e=h.getValue({})[0],e=h.parseValue({YYYY:t,MM:i,DD:e.DD}),t={YYYY:t,MM:i,DD:I.getDate(),hh:I.getHours(),mm:I.getMinutes(),ss:I.getSeconds()},$.isFunction(s.toggle))&&s.toggle({elem:r,val:e,date:t})})})),3<=C&&C<=6&&(h.maincon(".daybox",0).on("click",".ymbtn",function(t){n.children(".ymsbox").show(),n.children(".daybox,.mainfoot").hide(),c&&h.dateOrien(n,h.valCell)}),a=function(){var e=n.find(".ymcon").find("td");e.on("click",function(){var t=$(this),i=d.reMatch(t.attr("je-val"));e.removeClass(b[0]),t.addClass(b[0]),n.children(".jedate-contfix").show(),n.children(".jedate-jedatewrap").hide(),h.renderHtml(i[0],i[1],null,s,n)})},$.each([i,o],function(o,t){t.on("click",function(t){t=I.getMonth()+1;var i=g($(this).parent().attr("min")),e=g($(this).parent().attr("max")),i=A?0==o?i:e:0==o?--i:++e;h.eachYM(i,t,s,n,".jedate-contfix"),a(),c&&h.dateOrien(n,h.valCell),$.isFunction(s.toggle)&&s.toggle()})}),t.on("click",".close",function(t){n.children(".daybox,.mainfoot").show(),n.children(".ymsbox").hide(),c&&h.dateOrien(n,h.valCell)}),a())},l.gethmsVal=function(t){var i={};return t.find(".timecon em").each(function(t){null==$(this).attr("disabled")&&(i[m[3+t]]=$(this).text())}),i},l.clickDays=function(a,r){var c=this,p=c.valCell,u=r.find(".daysul").find("td"),t=a.language||h,C=["actdate","contain"];u.on("click",function(t){var o=$(this),i=o.attr("je-val"),s=d.reMatch(i),n=[];o.hasClass("disabled")||(t.stopPropagation(),t=function(){var e,t,i;$.each(s,function(t,i){n.push(g(i))}),0<$(r.attr("jefixed")).length?c.renderHtml(n[0],n[1],n[2],a,r):d.isBool(a.onClose)?(u.removeClass(C[0]),o.addClass(C[0])):(e={},t=d.reMatch(o.attr("je-val")),$.each(t,function(t,i){e[m[t]]=i}),t=/hh/.test(c.format)?$.extend(e,c.gethmsVal(r)):e,i=c.setValue(t),c.dateClose(),($.isFunction(a.okfun)||null!=a.okfun)&&a.okfun&&a.okfun({elem:p,val:i,date:t}))},0==a.range?t():c.areaStart&&null==c.areaEnd?(o.addClass(C[0]),c.areaEnd=!0,c.areaVal.push(i),u.each(function(){var t=$(this),i=t.attr("je-val").replace(f,""),e=[c.areaVal[0].replace(f,""),c.areaVal[1].replace(f,"")],o=Math.min.apply(null,e),e=Math.max.apply(null,e);t.hasClass("other")||t.hasClass("disabled")||g(i)>g(o)&&g(i)<g(e)&&t.addClass(C[1])})):c.areaStart&&c.areaEnd&&(c.delAreaAttr(),u.removeClass(C[0]).removeClass(C[1]),o.addClass(C[0]),c.areaVal.push(i),c.areaStart=!0))}),a.festival&&"cn"==t.name&&(r.addClass("grid"),u.on("mouseover",function(){0<$("#jedatetipscon").length&&$("#jedatetipscon").remove();var t=$(this),i=d.reMatch(t.attr("je-val")),e=$("<div/>",{id:"jedatetipscon",class:"jedatetipscon"}),i="<p>"+(n=c.jeLunar(g(i[0]),g(i[1])-1,g(i[2]))).solarYear+"年"+n.solarMonth+"月"+n.solarDate+"日 "+n.inWeekDays+'</p><p class="red">农历：'+n.shengxiao+"年 "+n.lnongMonth+"月"+n.lnongDate+"</p><p>"+n.ganzhiYear+"年 "+n.ganzhiMonth+"月 "+n.ganzhiDate+"日</p>",o=""!=(n.solarFestival||n.lunarFestival)?'<p class="red">节日：'+n.solarFestival+n.lunarFestival+"</p>":"",s=""!=n.jieqi?'<p class="red">'+(""!=n.jieqi?"节气："+n.jieqi:"")+"</p>":"",n=""!=(n.solarFestival||n.lunarFestival||n.jieqi)?o+s:"";$("body").append(e),e.html(i+n),t=l.lunarOrien(e,t),e.css({"z-index":null==a.zIndex?10005:a.zIndex+5,top:t.top,left:t.left,position:"absolute",display:"block"})}).on("mouseout",function(){$("#jedatetipscon").remove()}))},l.clickBtn=function(g,l){var c=this,p=c.valCell,u=d.isBool(g.isShow),f=7==d.mlen(c.format),C=(d.isBool(g.multiPane),2==d.mlen(c.format)),A=1==d.mlen(c.format);l.on("click",".clear",function(t){var i;t.stopPropagation(),u?(t=d.isValHtml(c.valCell)?"val":"text",t=c.valCell[t](),i=c.setValue(""),c.dateClose(),""!=t&&(d.isBool(g.clearRestore)&&(d.minDate=g.startMin||d.minDate,d.maxDate=g.startMax||d.maxDate),$.isFunction(g.clearfun)||null!=g.clearfun)&&g.clearfun({elem:p,val:i})):(t=c.getValue({}),c.renderHtml(t[0].YYYY,t[0].MM,t[0].DD,g,l)),0!=g.range&&c.delAreaAttr()}),0!=g.range&&l.find(".today").hide(),l.on("click",".today",function(){var t={YYYY:(t=new Date).getFullYear(),MM:d.digit(t.getMonth()+1),DD:d.digit(t.getDate()),hh:d.digit(t.getHours()),mm:d.digit(t.getMinutes()),ss:d.digit(t.getSeconds())},i=c.setValue(t);c.dateClose(),!$.isFunction(g.okfun)&&null==g.okfun||g.okfun({elem:p,val:i,date:t})}),l.on("click",".setok",function(t){var i,e,o,s,n,a,h,r;t.stopPropagation(),t=new Date,e=0==g.range?(i=c.gethmsVal(l),e=function(){var e={},t=d.reMatch(l.find(C||A?".ymcon":".daysul").find("td.actdate").attr("je-val"));return $.each(t,function(t,i){e[m[t]]=i}),/hh/.test(c.format)?$.extend(e,i):e},f?i:e()):(o={},s=[],n=[[],[]],l.find(".timecon em").each(function(t){null==$(this).attr("disabled")&&n[2<t?1:0].push($(this).text())}),7==d.mlen(c.format)?0!=g.range&&$.each(n,function(t,i){t=i.join(""),o[t]=i.join(":"),s.push(t)}):$.each(c.areaVal,function(t,i){i=(t=i+(/hh/.test(c.format)?" "+n[t].join(":"):"")).replace(/\s|-|:/g,""),o[i]=t,s.push(i)}),e=Math.min.apply(null,s),a=Math.max.apply(null,s),o[e]+g.range+o[a]),u?(a=c.setValue(e),c.dateClose()):a=c.setValue(e,c.format,!1),0==g.range?r={YYYY:e.YYYY||t.getFullYear(),MM:d.digit(e.MM||t.getMonth()+1),DD:d.digit(e.DD||t.getDate()),hh:d.digit(e.hh||t.getHours()),mm:d.digit(e.mm||t.getMinutes()),ss:d.digit(e.ss||t.getSeconds())}:(h=c.setValue(e,c.format,!1),r=[],$.each(Array(2),function(t,i){var e={},o=d.reMatch(h.split(g.range)[t]);$.each(d.reMatch(c.format),function(t,i){e[i]=o[t]}),r.push(e)})),!$.isFunction(g.okfun)&&null==g.okfun||g.okfun({elem:p,val:a,date:r})})},l.clickTime=function(t,o){var s,n=this;/hh/.test(n.format)&&(s=n.maincon(".timebox",1).find("ul")).on("click","li",function(){var t=$(this),i=t.parent().attr("idx"),e=t.text();t.hasClass("disabled")||(t.addClass("action").siblings().removeClass("action"),o.find(".timecon em").eq(i).text(e),n.locateScroll(s))})},l.locateScroll=function(t){$.each(t,function(){var t=$(this),i=t.find(".action");t[0].scrollTop=0<i.length?i[0].offsetTop-114:0})},l.lunarOrien=function(t,i,e){var o=i[0].getBoundingClientRect();return i=o.right+t[0].offsetWidth/1.5>=d.docArea(1)?o.right-t[0].offsetWidth:o.left+(e?0:d.docScroll(1)),t=o.bottom+ +t[0].offsetHeight<=d.docArea()?o.bottom-1:o.top>t[0].offsetHeight/1.5?o.top-t[0].offsetHeight-1:d.docArea()-t[0].offsetHeight,{top:Math.max(t+(e?0:d.docScroll())+1,1)+"px",left:i+"px"}},l.dateOrien=function(t,i,e){var o,s,n=(i=(this.fixed?i:t)[0].getBoundingClientRect()).left,a=i.bottom;this.fixed?(o=t.outerWidth(),s=t.outerHeight(),n+o>d.docArea(!0)&&(n=d.docArea(!0)-o),a+s>d.docArea()&&(a=i.top>s?i.top-s-2:d.docArea()-s-1),e=Math.max(a+(e?0:d.docScroll())+1,1)+"px",n+="px"):(n=e="50%",t.css({"margin-top":-i.height/2,"margin-left":-i.width/2})),t.css({top:e,left:n})},l.tips=function(t,i){var e=$(d.boxelem).find(".jedate-tips");e.html("").html(t||"").show(),clearTimeout(this.tipTime),this.tipTime=setTimeout(function(){e.html("").hide()},1e3*(i||2.5))},l.dateClose=function(){0==$($(d.boxelem).attr("jefixed")).length&&$(d.boxelem).remove()},l.dateContrast=function(t,i){t=t.split("-");var e=i.split("-");return i=g(t[0]+""+d.digit(g(t[1])-1)+d.digit(t[2]||"01")),!((t=g(e[0]+""+d.digit(g(e[1])-1)+d.digit(t[2]||"01")))<=i)},l.delAreaAttr=function(){delete this.areaStart,delete this.areaEnd,this.areaVal=[]},l.jeLunar=function(t,i,e){var h=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448],r=[0,21208,43467,63836,85337,107014,128867,150921,173149,195551,218072,240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,462224,483532,504758],l="小寒 大寒 立春 雨水 惊蛰 春分 清明 谷雨 立夏 小满 芒种 夏至 小暑 大暑 立秋 处暑 白露 秋分 寒露 霜降 立冬 小雪 大雪 冬至".split(" "),d="正 二 三 四 五 六 七 八 九 十 十一 腊".split(" "),c={"0101":"*1元旦节","0202":"湿地日","0214":"情人节","0308":"妇女节","0312":"植树节","0315":"消费者权益日","0401":"愚人节","0422":"地球日","0501":"*1劳动节","0504":"青年节","0512":"护士节","0518":"博物馆日","0520":"母亲节","0601":"儿童节","0623":"奥林匹克日","0630":"父亲节","0701":"建党节","0801":"建军节","0903":"抗战胜利日","0910":"教师节",1001:"*3国庆节",1201:"艾滋病日",1224:"平安夜",1225:"圣诞节"},p={"0100":"除夕","0101":"*2春节","0115":"元宵节","0505":"*1端午节","0707":"七夕节","0715":"中元节","0815":"*1中秋节","0909":"*1重阳节",1015:"下元节",1208:"腊八节",1223:"小年"};return new function(t){function i(t,i){return new Date(31556925974.7*(t-1900)+6e4*r[i]+Date.UTC(1900,0,6,2,5)).getUTCDate()}function e(t){return"甲乙丙丁戊己庚辛壬癸".charAt(t%10)+"子丑寅卯辰巳午未申酉戌亥".charAt(t%12)}function s(t){return 15&h[t-1900]?65536&h[t-1900]?30:29:0}function o(t){return t<10?"0"+(0|t):t}function n(i,t){return t.replace(/dd?d?d?|MM?M?M?|yy?y?y?/g,function(t){switch(t){case"yyyy":return(t="000"+i.getFullYear()).substring(t.length-4);case"dd":return o(i.getDate());case"d":return i.getDate().toString();case"MM":return o(i.getMonth()+1);case"M":return i.getMonth()+1}})}this.isRestDay=this.isToday=!1,this.solarYear=n(t,"yyyy"),this.solarMonth=n(t,"M"),this.solarDate=n(t,"d"),this.solarWeekDay=t.getDay(),this.inWeekDays="星期"+"日一二三四五六七八九十".charAt(this.solarWeekDay);var a=new function(t){var i=0,e=(t-new Date(1900,0,31))/864e5;for(this.dayCyl=e+40,this.monCyl=14,t=1900;t<2050&&0<e;t++){for(var o=348,i=32768;8<i;i>>=1)o+=h[t-1900]&i?1:0;e-=i=o+s(t),this.monCyl+=12}for(e<0&&(e+=i,t--,this.monCyl-=12),this.year=t,this.yearCyl=t-1864,o=15&h[t-1900],this.isLeap=!1,t=1;t<13&&0<e;t++)i=0<o&&t==o+1&&0==this.isLeap?(--t,this.isLeap=!0,s(this.year)):h[this.year-1900]&65536>>t?30:29,1==this.isLeap&&t==o+1&&(this.isLeap=!1),e-=i,0==this.isLeap&&this.monCyl++;0==e&&0<o&&t==o+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--t,--this.monCyl)),e<0&&(e+=i,--t,--this.monCyl),this.month=t,this.day=e+1}(t);this.lunarYear=a.year,this.shengxiao="鼠牛虎兔龙蛇马羊猴鸡狗猪".charAt((this.lunarYear-4)%12),this.lunarMonth=a.month,this.lnongMonth=(this.lunarIsLeapMonth=a.isLeap)?"闰"+d[a.month-1]:d[a.month-1],this.lunarDate=a.day,this.showInLunar=this.lnongDate=function(t,i){switch(i){case 10:t="初十";break;case 20:t="二十";break;case 30:t="三十";break;default:t="初十廿卅".charAt(Math.floor(i/10)),t+="日一二三四五六七八九十".charAt(i%10)}return t}(this.lunarMonth,this.lunarDate),1==this.lunarDate&&(this.showInLunar=this.lnongMonth+"月"),this.ganzhiYear=e(a.yearCyl),this.ganzhiMonth=e(a.monCyl),this.ganzhiDate=e(a.dayCyl++),this.jieqi="",this.restDays=0,i(this.solarYear,2*(this.solarMonth-1))==n(t,"d")&&(this.showInLunar=this.jieqi=l[2*(this.solarMonth-1)]),i(this.solarYear,2*(this.solarMonth-1)+1)==n(t,"d")&&(this.showInLunar=this.jieqi=l[2*(this.solarMonth-1)+1]),"清明"==this.showInLunar&&(this.showInLunar="清明节",this.restDays=1),this.solarFestival=c[n(t,"MM")+n(t,"dd")],void 0===this.solarFestival?this.solarFestival="":/\*(\d)/.test(this.solarFestival)&&(this.restDays=g(RegExp.$1),this.solarFestival=this.solarFestival.replace(/\*\d/,"")),this.showInLunar=""==this.solarFestival?this.showInLunar:this.solarFestival,this.lunarFestival=p[this.lunarIsLeapMonth?"00":o(this.lunarMonth)+o(this.lunarDate)],void 0===this.lunarFestival?this.lunarFestival="":/\*(\d)/.test(this.lunarFestival)&&(this.restDays=this.restDays>g(RegExp.$1)?this.restDays:g(RegExp.$1),this.lunarFestival=this.lunarFestival.replace(/\*\d/,"")),12==this.lunarMonth&&this.lunarDate==(16&h[this.lunarYear-1900]?30:29)&&(this.lunarFestival=p["0100"],this.restDays=1),this.showInLunar=""==this.lunarFestival?this.showInLunar:this.lunarFestival}(new Date(t,i,e))},$.dateVer="6.0.2",$.nowDate=function(t,i){return d.GetDateTime(t="number"==typeof t?{DD:t}:t,i||"YYYY-MM-DD hh:mm:ss")},$.timeStampDate=function(t,i){i=i||"YYYY-MM-DD hh:mm:ss";var e=/^(-)?\d{1,10}$/.test(t)||/^(-)?\d{1,13}$/.test(t);if(/^[1-9]*[1-9][0-9]*$/.test(t)&&e){if(t=g(t),/^(-)?\d{1,10}$/.test(t))t*=1e3;else if(/^(-)?\d{1,13}$/.test(t))t*=1e3;else{if(!/^(-)?\d{1,14}$/.test(t))return void alert("时间戳格式不正确");t*=100}return t=new Date(t),d.parse({YYYY:t.getFullYear(),MM:d.digit(t.getMonth()+1),DD:d.digit(t.getDate()),hh:d.digit(t.getHours()),mm:d.digit(t.getMinutes()),ss:d.digit(t.getSeconds())},i)}return i=d.reMatch(t),i=new Date(i[0],g(i[1])-1,i[2],i[3]||0,i[4]||0,i[5]||0),Math.round(i.getTime()/1e3)},$.splitDate=function(t){return t=t.match(/\w+|d+/g),{YYYY:g(t[0]),MM:g(t[1])||0,DD:g(t[2])||0,hh:g(t[3])||0,mm:g(t[4])||0,ss:g(t[5])||0}},$.getLunar=function(t,i){if(/YYYY-MM-DD/g.test(d.isparmat(i||"YYYY-MM-DD hh:mm:ss")))return i=t.substr(0,4).replace(/^(\d{4})/g,"$1,")+t.substr(4).replace(/(.{2})/g,"$1,"),t=d.isNum(t)?d.reMatch(i):d.reMatch(t),{nMonth:(t=this.jeLunar(t[0],t[1]-1,t[2])).lnongMonth,nDays:t.lnongDate,yYear:g(t.solarYear),yMonth:g(t.solarMonth),yDays:g(t.solarDate),cWeek:t.inWeekDays,nWeek:t.solarWeekDay}},c;alert("在引用jquery.jedate.js之前，先引用jQuery，否则无法使用 jeDate")}),!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t=t||self).Rolldate=i()}(this,function(){function t(t){var i,e,o;t&&t.el&&(e=(i=this).$(t.el))&&!e.bindRolldate&&(e.bindRolldate=1,i.extend(t),i.tap(e,function(){i.show()}),t.value)&&("input"==e.nodeName.toLowerCase()?e.value=t.value:e.innerText=t.value,t=t.value.replace(/-/g,"/").replace(/[^\d/:\s]/g,""),(o=new Date(t))&&"Invalid Date"!=o?e.bindDate=o:console.error("Invalid Date："+t))}i="ul{margin:0;padding:0}li{list-style-type:none}.rolldate-container{font-size:20px;color:#333;text-align:center}.rolldate-container header{position:relative;line-height:60px;font-size:18px;border-bottom:1px solid #e0e0e0}.rolldate-container .rolldate-mask{position:fixed;width:100%;height:100%;top:0;left:0;background:#000;opacity:.4;z-index:999}.rolldate-container .rolldate-panel{position:fixed;bottom:0;left:0;width:100%;height:273px;z-index:1000;background:#fff;-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-delay:0s;animation-delay:0s;-webkit-animation-iteration-count:1;animation-iteration-count:1}.rolldate-container .rolldate-btn{position:absolute;left:0;top:0;height:100%;padding:0 15px;color:#666;font-size:16px;cursor:pointer;-webkit-tap-highlight-color:transparent}.rolldate-container.wx .rolldate-btn{height:150%}.rolldate-container .rolldate-confirm{left:auto;right:0;color:#007bff}.rolldate-container .rolldate-content{position:relative;top:20px}.rolldate-container .rolldate-wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.rolldate-container .rolldate-wrapper>div{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;height:173px;line-height:36px;overflow:hidden;-webkit-flex-basis:-8e;-ms-flex-preferred-size:-8e;flex-basis:-8e;width:1%}.rolldate-container .rolldate-wrapper ul{margin-top:68px}.rolldate-container .rolldate-wrapper li{height:36px}.rolldate-container .rolldate-dim{position:absolute;left:0;top:0;width:100%;height:68px;background:-webkit-gradient(linear,left bottom,left top,from(hsla(0,0%,100%,.4)),to(hsla(0,0%,100%,.8)));background:-webkit-linear-gradient(bottom,hsla(0,0%,100%,.4),hsla(0,0%,100%,.8));background:-o-linear-gradient(bottom,hsla(0,0%,100%,.4),hsla(0,0%,100%,.8));background:-webkit-gradient(linear, left bottom, left top, from(hsla(0, 0%, 100%, 0.4)), to(hsla(0, 0%, 100%, 0.8)));background:-webkit-linear-gradient(bottom, hsla(0, 0%, 100%, 0.4), hsla(0, 0%, 100%, 0.8));background:-o-linear-gradient(bottom, hsla(0, 0%, 100%, 0.4), hsla(0, 0%, 100%, 0.8));background:linear-gradient(0deg,hsla(0,0%,100%,.4),hsla(0,0%,100%,.8));pointer-events:none;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:10}.rolldate-container .mask-top{border-bottom:1px solid #ebebeb}.rolldate-container .mask-bottom{top:auto;bottom:1px;border-top:1px solid #ebebeb}.rolldate-container .fadeIn{-webkit-animation-name:fadeIn;animation-name:fadeIn}.rolldate-container .fadeOut{-webkit-animation-name:fadeOut;animation-name:fadeOut}@-webkit-keyframes fadeIn{0%{bottom:-273px}to{bottom:0}}@keyframes fadeIn{0%{bottom:-273px}to{bottom:0}}@-webkit-keyframes fadeOut{0%{bottom:0}to{bottom:-273px;display:none}}@keyframes fadeOut{0%{bottom:0}to{bottom:-273px;display:none}}@media screen and (max-width:414px){.rolldate-container{font-size:18px}}@media screen and (max-width:320px){.rolldate-container{font-size:15px}}",e=(e=void 0===e?{}:e).insertAt,"undefined"!=typeof document&&(o=document.head||document.getElementsByTagName("head")[0],(s=document.createElement("style")).type="text/css","top"===e&&o.firstChild?o.insertBefore(s,o.firstChild):o.appendChild(s),s.styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i)));var i,e,o,s,p=function(){function p(){return window.performance&&window.performance.now?window.performance.now()+window.performance.timing.navigationStart:+new Date}function h(t){for(var i=arguments.length,e=Array(1<i?i-1:0),o=1;o<i;o++)e[o-1]=arguments[o];for(i=0;i<e.length;i++)for(var s in o=e[i])t[s]=o[s];return t}function t(t){return!1!==C&&("standard"===C?"transitionEnd"===t?"transitionend":t:C+t.charAt(0).toUpperCase()+t.substr(1))}function i(t,i,e,o){t.addEventListener(i,e,{passive:!1,capture:!!o})}function e(t,i,e,o){t.removeEventListener(i,e,{passive:!1,capture:!!o})}function a(t){for(var i=0,e=0;t;)i-=t.offsetLeft,e-=t.offsetTop,t=t.offsetParent;return{left:i,top:e}}function r(t){return t instanceof window.SVGElement?{top:(t=t.getBoundingClientRect()).top,left:t.left,width:t.width,height:t.height}:{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}function g(t,i){for(var e in i)if(i[e].test(t[e]))return 1}function n(t,i){function e(){(a=document.createEvent("Event")).initEvent(o,!0,!0),h(a,n)}var o=1<arguments.length&&void 0!==i?i:"click",s=void 0,n=("mouseup"===t.type||"mousecancel"===t.type?s=t:"touchend"!==t.type&&"touchcancel"!==t.type||(s=t.changedTouches[0]),{}),a=(s&&(n.screenX=s.screenX||0,n.screenY=s.screenY||0,n.clientX=s.clientX||0,n.clientY=s.clientY||0),void 0);if("undefined"!=typeof MouseEvent)try{a=new MouseEvent(o,h({bubbles:!0,cancelable:!0},n))}catch(t){e()}else e();a.forwardedTouchEvent=!0,a._constructed=!0,t.target.dispatchEvent(a)}function l(t,i,e,o,s,n,a){i=t-i,e=Math.abs(i)/e;var h=a.itemHeight,r=a.swipeBounceTime,g=a.wheel,l=a.swipeTime,d=g?4:15;return t+=e/a.deceleration*(i<0?-1:1),(t=g&&h?Math.round(t/h)*h:t)<o?(t=n?Math.max(o-n/4,o-n/d*e):o,l=r):s<t&&(t=n?Math.min(s+n/4,s+n/d*e):s,l=r),{destination:Math.round(t),duration:l}}function o(){}function s(t){console.error("[BScroll warn]: "+t)}function d(t,i){(this.wrapper="string"==typeof t?document.querySelector(t):t)||s("Can not resolve the wrapper DOM."),(this.scroller=this.wrapper.children[0])||s("The wrapper need at least one child element to be scroller."),this.scrollerStyle=this.scroller.style,this._init(i)}var c="undefined"!=typeof window,u=(b=c&&navigator.userAgent.toLowerCase())&&/wechatdevtools/.test(b),f=b&&0<b.indexOf("android"),m=c&&document.createElement("div").style,C=function(){if(c){var t,i={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(t in i)if(void 0!==m[i[t]])return t}return!1}(),A=(C&&"standard"!==C&&C.toLowerCase(),t("transform")),b=t("transition"),I=c&&t("perspective")in m,w=c&&("ontouchstart"in window||u),x=!1!==A,v=c&&b in m,k=t("transitionTimingFunction"),y=t("transitionDuration"),B=(t("transitionDelay"),t("transformOrigin"),t("transitionEnd")),P={touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2},S={startX:0,startY:0,scrollX:!1,scrollY:!0,freeScroll:!1,directionLockThreshold:5,eventPassthrough:"",click:!1,tap:!1,bounce:!0,bounceTime:800,momentum:!0,momentumLimitTime:300,momentumLimitDistance:15,swipeTime:2500,swipeBounceTime:500,deceleration:.0015,flickLimitTime:200,flickLimitDistance:100,resizePolling:60,probeType:0,preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:!1,disableMouse:w,disableTouch:!w,observeDOM:!0,autoBlur:!0,wheel:!1,snap:!1,scrollbar:!1,pullDownRefresh:!1,pullUpLoad:!1,mouseWheel:!1,stopPropagation:!1,zoom:!1,infinity:!1,dblclick:!1},T={style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(t){return 1+--t*t*t*t*t}},W={style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},L={style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(t){return 1- --t*t*t*t}},M=c?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,(t.interval||100/60)/2)}:o,R=c?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(t){window.clearTimeout(t)}:o;return d.prototype._init=function(t){this._handleOptions(t),this._events={},this.directionY=this.directionX=this.y=this.x=0,this.setScale(1),this._addDOMEvents(),this._initExtFeatures(),this._watchTransition(),this.options.observeDOM&&this._initDOMObserver(),this.options.autoBlur&&this._handleAutoBlur(),this.refresh(),this.options.snap||this.scrollTo(this.options.startX,this.options.startY),this.enable()},d.prototype.setScale=function(t){this.lastScale=null==this.scale?t:this.scale,this.scale=t},d.prototype._handleOptions=function(t){this.options=h({},S,t),this.translateZ=this.options.HWCompositing&&I?" translateZ(0)":"",this.options.useTransition=this.options.useTransition&&v,this.options.useTransform=this.options.useTransform&&x,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollX="horizontal"!==this.options.eventPassthrough&&this.options.scrollX,this.options.scrollY="vertical"!==this.options.eventPassthrough&&this.options.scrollY,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,!0===this.options.tap&&(this.options.tap="tap")},d.prototype._addDOMEvents=function(){this._handleDOMEvents(i)},d.prototype._removeDOMEvents=function(){this._handleDOMEvents(e)},d.prototype._handleDOMEvents=function(t){var i=this.options.bindToWrapper?this.wrapper:window;t(window,"orientationchange",this),t(window,"resize",this),this.options.click&&t(this.wrapper,"click",this,!0),this.options.disableMouse||(t(this.wrapper,"mousedown",this),t(i,"mousemove",this),t(i,"mousecancel",this),t(i,"mouseup",this)),w&&!this.options.disableTouch&&(t(this.wrapper,"touchstart",this),t(i,"touchmove",this),t(i,"touchcancel",this),t(i,"touchend",this)),t(this.scroller,B,this)},d.prototype._initExtFeatures=function(){this.options.snap&&this._initSnap(),this.options.scrollbar&&this._initScrollbar(),this.options.pullUpLoad&&this._initPullUp(),this.options.pullDownRefresh&&this._initPullDown(),this.options.wheel&&this._initWheel(),this.options.mouseWheel&&this._initMouseWheel(),this.options.zoom&&this._initZoom(),this.options.infinity&&this._initInfinite()},d.prototype._watchTransition=function(){var o,s;"function"==typeof Object.defineProperty&&(o=this,s=!1,Object.defineProperty(this,this.options.useTransition?"isInTransition":"isAnimating",{get:function(){return s},set:function(t){s=t,t=o.scroller.children.length?o.scroller.children:[o.scroller];for(var i=s&&!o.pulling?"none":"auto",e=0;e<t.length;e++)t[e].style.pointerEvents=i}}))},d.prototype._handleAutoBlur=function(){this.on("scrollStart",function(){var t=document.activeElement;!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||t.blur()})},d.prototype._initDOMObserver=function(){var n,t,a=this;"undefined"!=typeof MutationObserver?(n=void 0,(t=new MutationObserver(function(t){if(!a._shouldNotRefresh()){for(var i=!1,e=!1,o=0;o<t.length;o++){var s=t[o];if("attributes"!==s.type){i=!0;break}if(s.target!==a.scroller){e=!0;break}}i?a.refresh():e&&(clearTimeout(n),n=setTimeout(function(){a._shouldNotRefresh()||a.refresh()},60))}})).observe(this.scroller,{attributes:!0,childList:!0,subtree:!0}),this.on("destroy",function(){t.disconnect()})):this._checkDOMUpdate()},d.prototype._shouldNotRefresh=function(){var t=this.x>this.minScrollX||this.x<this.maxScrollX||this.y>this.minScrollY||this.y<this.maxScrollY;return this.isInTransition||this.stopFromTransition||t},d.prototype._checkDOMUpdate=function(){function e(){var t=this;setTimeout(function(){!function(){var t,i;this.destroyed||(t=(o=r(this.scroller)).width,i=o.height,s===t&&n===i||this.refresh(),s=t,n=i,e.call(this))}.call(t)},1e3)}var o=r(this.scroller),s=o.width,n=o.height;e.call(this)},d.prototype.handleEvent=function(t){switch(t.type){case"touchstart":case"mousedown":this._start(t),this.options.zoom&&t.touches&&1<t.touches.length&&this._zoomStart(t);break;case"touchmove":case"mousemove":this.options.zoom&&t.touches&&1<t.touches.length?this._zoom(t):this._move(t);break;case"touchend":case"mouseup":case"touchcancel":case"mousecancel":this.scaled?this._zoomEnd(t):this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"click":!this.enabled||t._constructed||g(t.target,this.options.preventDefaultException)||(t.preventDefault(),t.stopPropagation());break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._onMouseWheel(t)}},d.prototype.refresh=function(){var t="static"===window.getComputedStyle(this.wrapper,null).position,i=r(this.wrapper),e=(this.wrapperWidth=i.width,this.wrapperHeight=i.height,r(this.scroller));this.scrollerWidth=Math.round(e.width*this.scale),this.scrollerHeight=Math.round(e.height*this.scale),this.relativeX=e.left,this.relativeY=e.top,t&&(this.relativeX-=i.left,this.relativeY-=i.top),this.minScrollY=this.minScrollX=0,(t=this.options.wheel)?(this.items=this.scroller.children,this.options.itemHeight=this.itemHeight=this.items.length?this.scrollerHeight/this.items.length:0,void 0===this.selectedIndex&&(this.selectedIndex=t.selectedIndex||0),this.options.startY=-this.selectedIndex*this.itemHeight,this.maxScrollX=0,this.maxScrollY=-this.itemHeight*(this.items.length-1)):(this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.options.infinity||(this.maxScrollY=this.wrapperHeight-this.scrollerHeight),this.maxScrollX<0?(this.maxScrollX-=this.relativeX,this.minScrollX=-this.relativeX):1<this.scale&&(this.maxScrollX=this.maxScrollX/2-this.relativeX,this.minScrollX=this.maxScrollX),this.maxScrollY<0?(this.maxScrollY-=this.relativeY,this.minScrollY=-this.relativeY):1<this.scale&&(this.maxScrollY=this.maxScrollY/2-this.relativeY,this.minScrollY=this.maxScrollY)),this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<this.minScrollX,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<this.minScrollY,this.hasHorizontalScroll||(this.maxScrollX=this.minScrollX,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=this.minScrollY,this.scrollerHeight=this.wrapperHeight),this.directionY=this.directionX=this.endTime=0,this.wrapperOffset=a(this.wrapper),this.trigger("refresh"),this.scaled||this.resetPosition()},d.prototype.enable=function(){this.enabled=!0},d.prototype.disable=function(){this.enabled=!1},d.prototype._start=function(t){var i=P[t.type];1!==i&&0!==t.button||!this.enabled||this.destroyed||this.initiated&&this.initiated!==i||(this.initiated=i,this.options.preventDefault&&!g(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.moved=!1,this.directionLocked=this.movingDirectionY=this.movingDirectionX=this.directionY=this.directionX=this.distY=this.distX=0,this._transitionTime(),this.startTime=p(),this.options.wheel&&(this.target=t.target),this.stop(),t=t.touches?t.touches[0]:t,this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=t.pageX,this.pointY=t.pageY,this.trigger("beforeScrollStart"))},d.prototype._move=function(t){if(this.enabled&&!this.destroyed&&P[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation();var i=t.touches?t.touches[0]:t,e=i.pageX-this.pointX,o=i.pageY-this.pointY,s=(this.pointX=i.pageX,this.pointY=i.pageY,this.distX+=e,this.distY+=o,Math.abs(this.distX)),n=Math.abs(this.distY);if(!((i=p())-this.endTime>this.options.momentumLimitTime&&n<this.options.momentumLimitDistance&&s<this.options.momentumLimitDistance)){if(this.directionLocked||this.options.freeScroll||(s>n+this.options.directionLockThreshold?this.directionLocked="h":n>=s+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"===this.directionLocked){if("vertical"===this.options.eventPassthrough)t.preventDefault();else if("horizontal"===this.options.eventPassthrough)return void(this.initiated=!1);o=0}else if("v"===this.directionLocked){if("horizontal"===this.options.eventPassthrough)t.preventDefault();else if("vertical"===this.options.eventPassthrough)return void(this.initiated=!1);e=0}e=this.hasHorizontalScroll?e:0,o=this.hasVerticalScroll?o:0,this.movingDirectionX=0<e?-1:e<0?1:0,this.movingDirectionY=0<o?-1:o<0?1:0;var s=this.x+e,n=this.y+o,a=!1,h=!1,r=!1,g=!1,l=this.options.bounce;!1!==l&&(a=void 0===l.top||l.top,h=void 0===l.bottom||l.bottom,r=void 0===l.left||l.left,g=void 0===l.right||l.right),(s>this.minScrollX||s<this.maxScrollX)&&(s=s>this.minScrollX&&r||s<this.maxScrollX&&g?this.x+e/3:s>this.minScrollX?this.minScrollX:this.maxScrollX),(n>this.minScrollY||n<this.maxScrollY)&&(n=n>this.minScrollY&&a||n<this.maxScrollY&&h?this.y+o/3:n>this.minScrollY?this.minScrollY:this.maxScrollY),this.moved||(this.moved=!0,this.trigger("scrollStart")),this._translate(s,n),i-this.startTime>this.options.momentumLimitTime&&(this.startTime=i,this.startX=this.x,this.startY=this.y,1===this.options.probeType)&&this.trigger("scroll",{x:this.x,y:this.y}),1<this.options.probeType&&this.trigger("scroll",{x:this.x,y:this.y}),e=this.pointX-(document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft),o=this.pointY-(document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop),(e>document.documentElement.clientWidth-this.options.momentumLimitDistance||e<this.options.momentumLimitDistance||o<this.options.momentumLimitDistance||o>document.documentElement.clientHeight-this.options.momentumLimitDistance)&&this._end(t)}}},d.prototype._end=function(t){var i,e,o,s,n,a,h;this.enabled&&!this.destroyed&&P[t.type]===this.initiated&&(this.initiated=!1,this.options.preventDefault&&!g(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.trigger("touchEnd",{x:this.x,y:this.y}),this.isInTransition=!1,i=Math.round(this.x),e=Math.round(this.y),h=i-this.absStartX,o=e-this.absStartY,this.directionX=0<h?-1:h<0?1:0,this.directionY=0<o?-1:o<0?1:0,this.options.pullDownRefresh&&this._checkPullDown()||(this._checkClick(t)?this.trigger("scrollCancel"):this.resetPosition(this.options.bounceTime,L)||(this._translate(i,e),this.endTime=p(),t=this.endTime-this.startTime,o=Math.abs(i-this.startX),s=Math.abs(e-this.startY),this._events.flick&&t<this.options.flickLimitTime&&o<this.options.flickLimitDistance&&s<this.options.flickLimitDistance?this.trigger("flick"):(h=0,this.options.momentum&&t<this.options.momentumLimitTime&&(s>this.options.momentumLimitDistance||o>this.options.momentumLimitDistance)?((n=s=o=h=!1)!==(a=this.options.bounce)&&(h=void 0===a.top||a.top,o=void 0===a.bottom||a.bottom,s=void 0===a.left||a.left,n=void 0===a.right||a.right),s=-1===this.directionX&&s||1===this.directionX&&n?this.wrapperWidth:0,h=-1===this.directionY&&h||1===this.directionY&&o?this.wrapperHeight:0,o=this.hasHorizontalScroll?l(this.x,this.startX,t,this.maxScrollX,this.minScrollX,s,this.options):{destination:i,duration:0},t=this.hasVerticalScroll?l(this.y,this.startY,t,this.maxScrollY,this.minScrollY,h,this.options):{destination:e,duration:0},i=o.destination,e=t.destination,h=Math.max(o.duration,t.duration),this.isInTransition=!0):this.options.wheel&&(e=Math.round(e/this.itemHeight)*this.itemHeight,h=this.options.wheel.adjustTime||400),t=T,this.options.snap&&(this.currentPage=t=this._nearestSnap(i,e),h=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(i-t.x),1e3),Math.min(Math.abs(e-t.y),1e3)),300),i=t.x,e=t.y,this.directionY=this.directionX=0,t=this.options.snap.easing||L),i!==this.x||e!==this.y?((i>this.minScrollX||i<this.maxScrollX||e>this.minScrollY||e<this.maxScrollY)&&(t=W),this.scrollTo(i,e,h,t)):(this.options.wheel&&(this.selectedIndex=Math.round(Math.abs(this.y/this.itemHeight))),this.trigger("scrollEnd",{x:this.x,y:this.y}))))))},d.prototype._checkClick=function(t){var i,e,o,s=this.stopFromTransition&&!this.pulling;if(this.stopFromTransition=!1,this.moved)return!1;if(this.options.wheel)this.target&&this.target.classList.contains(this.options.wheel.wheelWrapperClass)&&(t=Math.abs(Math.round(this.y/this.itemHeight)),o=Math.round((this.pointY+((e=(i=this.wrapper).getBoundingClientRect()).left,window.pageXOffset,-(e.top+window.pageYOffset))-this.wrapperHeight/2)/this.itemHeight),this.target=this.items[t+o]),this.scrollToElement(this.target,this.options.wheel.adjustTime||400,!0,!0,T);else{if(s)return!1;i=!1,(e=this.options.dblclick)&&this.lastClickTime&&(e=void 0===(e=e.delay)?300:e,p()-this.lastClickTime<e)&&(i=!0,n(t,"dblclick")),this.options.tap&&(o=this.options.tap,(s=document.createEvent("Event")).initEvent(o,!0,!0),s.pageX=t.pageX,s.pageY=t.pageY,t.target.dispatchEvent(s)),this.options.click&&!g(t.target,this.options.preventDefaultException)&&n(t),this.lastClickTime=i?null:p()}return!0},d.prototype._resize=function(){var t=this;this.enabled&&(f&&(this.wrapper.scrollTop=0),clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling))},d.prototype._startProbe=function(){R(this.probeTimer),this.probeTimer=M(function t(){var i=e.getComputedPosition();e.trigger("scroll",i),e.isInTransition?e.probeTimer=M(t):e.trigger("scrollEnd",i)});var e=this},d.prototype._transitionTime=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(this.scrollerStyle[y]=t+"ms",this.options.wheel)for(var i=0;i<this.items.length;i++)this.items[i].style[y]=t+"ms";if(this.indicators)for(i=0;i<this.indicators.length;i++)this.indicators[i].transitionTime(t)},d.prototype._transitionTimingFunction=function(t){if(this.scrollerStyle[k]=t,this.options.wheel)for(var i=0;i<this.items.length;i++)this.items[i].style[k]=t;if(this.indicators)for(i=0;i<this.indicators.length;i++)this.indicators[i].transitionTimingFunction(t)},d.prototype._transitionEnd=function(t){t.target!==this.scroller||!this.isInTransition||(this._transitionTime(),this.pulling&&1!==this.movingDirectionY)||this.resetPosition(this.options.bounceTime,L)||(this.isInTransition=!1,3===this.options.probeType)||this.trigger("scrollEnd",{x:this.x,y:this.y})},d.prototype._translate=function(t,i,e){if(null==t||null==i)throw Error("[BScroll] Translate x or y is null or undefined.");if(null==e&&(e=this.scale),this.options.useTransform?this.scrollerStyle[A]="translate("+t+"px,"+i+"px) scale("+e+")"+this.translateZ:(t=Math.round(t),i=Math.round(i),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=i+"px"),this.options.wheel)for(var o=void 0===(o=this.options.wheel.rotate)?25:o,s=0;s<this.items.length;s++)this.items[s].style[A]="rotateX("+o*(i/this.itemHeight+s)+"deg)";if(this.x=t,this.y=i,this.setScale(e),this.indicators)for(t=0;t<this.indicators.length;t++)this.indicators[t].updatePosition()},d.prototype._animate=function(e,o,s,n){var a=this,h=this.x,r=this.y,g=this.lastScale,l=this.scale,d=p(),c=d+s;this.isAnimating=!0,R(this.animateTimer),function t(){var i=p();c<=i?(a.isAnimating=!1,a._translate(e,o,l),a.trigger("scroll",{x:a.x,y:a.y}),a.pulling||a.resetPosition(a.options.bounceTime)||a.trigger("scrollEnd",{x:a.x,y:a.y})):(i=n((i-d)/s),a._translate((e-h)*i+h,(o-r)*i+r,(l-g)*i+g),a.isAnimating&&(a.animateTimer=M(t)),3===a.options.probeType&&a.trigger("scroll",{x:a.x,y:a.y}))}()},d.prototype.scrollBy=function(t,i){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:L;t=this.x+t,i=this.y+i,this.scrollTo(t,i,e,o)},d.prototype.scrollTo=function(t,i){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:L;this.x===t&&this.y===i||(this.isInTransition=this.options.useTransition&&0<e&&(t!==this.x||i!==this.y),!e||this.options.useTransition?(this._transitionTimingFunction(o.style),this._transitionTime(e),this._translate(t,i),e&&3===this.options.probeType&&this._startProbe(),e||(this.trigger("scroll",{x:t,y:i}),this._reflow=document.body.offsetHeight,this.resetPosition(this.options.bounceTime,L))||this.trigger("scrollEnd",{x:t,y:i}),this.options.wheel&&(i>this.minScrollY?this.selectedIndex=0:i<this.maxScrollY?this.selectedIndex=this.items.length-1:this.selectedIndex=Math.round(Math.abs(i/this.itemHeight)))):this._animate(t,i,e,o.fn))},d.prototype.scrollToElement=function(t,i,e,o,s){var n;t&&(t=t.nodeType?t:this.scroller.querySelector(t),!this.options.wheel||t.classList.contains(this.options.wheel.wheelItemClass))&&((n=a(t)).left-=this.wrapperOffset.left,n.top-=this.wrapperOffset.top,!0===e&&(e=Math.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===o&&(o=Math.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),n.left-=e||0,n.top-=o||0,n.left=n.left>this.minScrollX?this.minScrollX:n.left<this.maxScrollX?this.maxScrollX:n.left,n.top=n.top>this.minScrollY?this.minScrollY:n.top<this.maxScrollY?this.maxScrollY:n.top,this.options.wheel&&(n.top=Math.round(n.top/this.itemHeight)*this.itemHeight),this.scrollTo(n.left,n.top,i,s))},d.prototype.resetPosition=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:L,e=this.x,o=Math.round(e),s=(!this.hasHorizontalScroll||o>this.minScrollX?e=this.minScrollX:o<this.maxScrollX&&(e=this.maxScrollX),o=this.y,Math.round(o));return!this.hasVerticalScroll||s>this.minScrollY?o=this.minScrollY:s<this.maxScrollY&&(o=this.maxScrollY),(e!==this.x||o!==this.y)&&(this.scrollTo(e,o,t,i),!0)},d.prototype.getComputedPosition=function(){var t=window.getComputedStyle(this.scroller,null),i=void 0,t=this.options.useTransform?(i=+((t=t[A].split(")")[0].split(", "))[12]||t[4]),+(t[13]||t[5])):(i=+t.left.replace(/[^-\d.]/g,""),+t.top.replace(/[^-\d.]/g,""));return{x:i,y:t}},d.prototype.stop=function(){var t;this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,R(this.probeTimer),t=this.getComputedPosition(),this._translate(t.x,t.y),this.options.wheel?this.target=this.items[Math.round(-t.y/this.itemHeight)]:this.trigger("scrollEnd",{x:this.x,y:this.y}),this.stopFromTransition=!0):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,R(this.animateTimer),this.trigger("scrollEnd",{x:this.x,y:this.y}),this.stopFromTransition=!0)},d.prototype.destroy=function(){this.destroyed=!0,this.trigger("destroy"),this.options.useTransition?R(this.probeTimer):R(this.animateTimer),this._removeDOMEvents(),this._events={}},d.prototype.on=function(t,i){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this;this._events[t]||(this._events[t]=[]),this._events[t].push([i,e])},d.prototype.once=function(t,i){function e(){this.off(t,e),i.apply(o,arguments)}var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this;e.fn=i,this.on(t,e)},d.prototype.off=function(t,i){if(t=this._events[t])for(var e=t.length;e--;)if(t[e][0]===i||t[e][0]&&t[e][0].fn===i){for(var o=t,s=e;s+1<o.length;s++)o[s]=o[s+1];o.pop()}},d.prototype.trigger=function(t){var i=this._events[t];if(i){var e=i.length,o=[],s=o.concat;if(Array.isArray(i)){for(var n=0,a=Array(i.length);n<i.length;n++)a[n]=i[n];i=a}else i=Array.from(i);for(o=s.call(o,i),s=0;s<e;s++){if(i=void 0,n=o[s],!Array.isArray(n)){if(!(Symbol.iterator in Object(n)))throw new TypeError("Invalid attempt to destructure non-iterable instance");var a=[],h=!0,r=!1,g=void 0;try{for(var l=n[Symbol.iterator]();!(h=(i=l.next()).done)&&(a.push(i.value),2!==a.length);h=!0);}catch(t){r=!0,g=t}finally{try{!h&&l.return&&l.return()}finally{if(r)throw g}}n=a}i=n[0],n=n[1],i&&i.apply(n,[].slice.call(arguments,1))}}},d.prototype.wheelTo=function(){this.options.wheel&&this.scrollTo(0,-(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)*this.itemHeight)},d.prototype.getSelectedIndex=function(){return this.options.wheel&&this.selectedIndex},d.prototype._initWheel=function(){var t=this.options.wheel;t.wheelWrapperClass||(t.wheelWrapperClass="wheel-scroll"),t.wheelItemClass||(t.wheelItemClass="wheel-item"),void 0===t.selectedIndex&&(t.selectedIndex=0,s("wheel option selectedIndex is required!"))},d.prototype._initMouseWheel=function(){var t=this;this._handleMouseWheelEvent(i),this.on("destroy",function(){clearTimeout(t.mouseWheelTimer),clearTimeout(t.mouseWheelEndTimer),t._handleMouseWheelEvent(e)}),this.firstWheelOpreation=!0},d.prototype._handleMouseWheelEvent=function(t){t(this.wrapper,"wheel",this),t(this.wrapper,"mousewheel",this),t(this.wrapper,"DOMMouseScroll",this)},d.prototype._onMouseWheel=function(t){var i=this;if(this.enabled){t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.firstWheelOpreation&&this.trigger("scrollStart"),this.firstWheelOpreation=!1;var e=this.options.mouseWheel,o=void 0===(o=e.speed)?20:o,s=e.invert,n=void 0!==s&&s,a=void 0===(e=e.easeTime)?300:e;switch(clearTimeout(this.mouseWheelTimer),this.mouseWheelTimer=setTimeout(function(){i.options.snap||a||i.trigger("scrollEnd",{x:i.x,y:i.y}),i.firstWheelOpreation=!0},400),!(s=e=void 0)){case"deltaX"in t:s=1===t.deltaMode?(e=-t.deltaX*o,-t.deltaY*o):(e=-t.deltaX,-t.deltaY);break;case"wheelDeltaX"in t:e=t.wheelDeltaX/120*o,s=t.wheelDeltaY/120*o;break;case"wheelDelta"in t:e=s=t.wheelDelta/120*o;break;case"detail"in t:e=s=-t.detail/3*o;break;default:return}e*=t=n?-1:1,s*=t,this.hasVerticalScroll||(e=s,s=0),o=t=void 0,this.options.snap?(t=this.currentPage.pageX,o=this.currentPage.pageY,0<e?t--:e<0&&t++,0<s?o--:s<0&&o++,this._goToPage(t,o)):(t=this.x+Math.round(this.hasHorizontalScroll?e:0),o=this.y+Math.round(this.hasVerticalScroll?s:0),this.movingDirectionX=this.directionX=0<e?-1:e<0?1:0,this.movingDirectionY=this.directionY=0<s?-1:s<0?1:0,t>this.minScrollX?t=this.minScrollX:t<this.maxScrollX&&(t=this.maxScrollX),o>this.minScrollY?o=this.minScrollY:o<this.maxScrollY&&(o=this.maxScrollY),e=this.y===o,this.scrollTo(t,o,a,T),this.trigger("scroll",{x:this.x,y:this.y}),clearTimeout(this.mouseWheelEndTimer),e&&(this.mouseWheelEndTimer=setTimeout(function(){i.trigger("scrollEnd",{x:i.x,y:i.y})},a)))}},d.Version="1.14.1",d}();return t.prototype={constructor:t,baseData:function(){return{domId:{YYYY:"rolldate-year",MM:"rolldate-month",DD:"rolldate-day",hh:"rolldate-hour",mm:"rolldate-min",ss:"rolldate-sec"},opts:{el:"",format:"YYYY-MM-DD",beginYear:2e3,endYear:2100,init:null,moveEnd:null,confirm:null,cancel:null,minStep:1,trigger:"tap",lang:{title:"选择日期",cancel:"取消",confirm:"确认",year:"年",month:"月",day:"日",hour:"时",min:"分",sec:"秒"}}}},extend:function(t){var i,e=this.baseData().opts;for(i in e)if(e[i]&&"[object Object]"==Object.prototype.toString.call(e[i]))for(var o in t[i])e[i][o]=(null==t[i][o]?e:t)[i][o];else e[i]=t[i]||e[i];this.config=e},createUI:function(){for(var s=this,t=s.baseData(),n=s.config,a=t.domId,e=n.format.split(/-|\/|\s|:/g),t=e.length,i="",h=s.$(n.el).bindDate||new Date,o="",r=n.lang,g=0;g<t;g++){var o=e[g],l=0;if(i+='<div id="'+a[o]+'"><ul class="wheel-scroll">',"YYYY"==o)for(var d=n.beginYear;d<=n.endYear;d++)i+='<li class="wheel-item '+(o=d==h.getFullYear()?"active":"")+'" data-index="'+l+'">'+d+r.year+"</li>",l++;else if("MM"==o)for(d=1;d<=12;d++)i+='<li class="wheel-item '+(o=d==h.getMonth()+1?"active":"")+'" data-index="'+l+'">'+(d<10?"0"+d:d)+r.month+"</li>",l++;else if("DD"==o)for(var d=s.bissextile(h.getFullYear(),h.getMonth()+1),c=1;c<=d;c++)i+='<li class="wheel-item '+(o=c==h.getDate()?"active":"")+'" data-index="'+l+'">'+(c<10?"0"+c:c)+r.day+"</li>",l++;else if("hh"==o)for(d=0;d<=23;d++)i+='<li class="wheel-item '+(o=d==h.getHours()?"active":"")+'" data-index="'+l+'">'+(d<10?"0"+d:d)+r.hour+"</li>",l++;else if("mm"==o)for(d=0;d<=59;d+=n.minStep)i+='<li class="wheel-item '+(o=d==h.getMinutes()?"active":"")+'" data-index="'+l+'">'+(d<10?"0"+d:d)+r.min+"</li>",l++;else if("ss"==o)for(d=0;d<=59;d++)i+='<li class="wheel-item '+(o=d==h.getSeconds()?"active":"")+'" data-index="'+l+'">'+(d<10?"0"+d:d)+r.sec+"</li>",l++;i+="</ul></div>"}for(i='<div class="rolldate-mask"></div>\n            <div class="rolldate-panel fadeIn">\n                <header>\n                    <span class="rolldate-btn rolldate-cancel">'+r.cancel+"</span>\n                    "+r.title+'\n                    <span class="rolldate-btn rolldate-confirm">'+r.confirm+'</span>\n                </header>\n                <section class="rolldate-content">\n                    <div class="rolldate-dim mask-top"></div>\n                    <div class="rolldate-dim mask-bottom"></div>\n                    <div class="rolldate-wrapper">\n                        '+i+"\n                    </div>\n                </section>\n            </div>",(g=document.createElement("div")).className="rolldate-container"+(navigator.userAgent.match(/MicroMessenger/i)?" wx":""),g.innerHTML=i,document.body.appendChild(g),s.scroll={},i=function(t){var i=a[e[t]],o=(s.scroll[e[t]]=new p("#"+i,{wheel:{selectedIndex:0,wheelWrapperClass:"wheel-scroll",wheelItemClass:"wheel-item"},probeType:1}),s.scroll[e[t]]);t=(t=s.$("#"+i+" .active"))?t.getAttribute("data-index"):Math.round(h.getMinutes()/n.minStep),o.wheelTo(t),o.on("scrollEnd",function(){if(n.moveEnd&&n.moveEnd.call(s,o),-1!=[a.YYYY,a.MM].indexOf(o.wrapper.id)&&s.scroll.DD){s.getSelected(s.scroll.DD);var t=s.bissextile(s.getSelected(s.scroll.YYYY),s.getSelected(s.scroll.MM)),i="";if(t!=s.$("#"+a.DD+" li",1).length){for(var e=1;e<=t;e++)i+='<li class="wheel-item">'+(e<10?"0"+e:e)+r.day+"</li>";s.$("#"+a.DD+" ul").innerHTML=i,s.scroll.DD.refresh()}}})},g=0;g<t;g++)i(g)},$:function(t,i){return"string"!=typeof t&&t.nodeType?t:i?document.querySelectorAll(t):document.querySelector(t)},tap:function(t,e){var o,s,n,a,h;"ontouchstart"in window&&"tap"==this.config.trigger?(t.addEventListener("touchstart",function(t){t=t.touches[0],o=t.pageX,s=t.pageY,n=+new Date}),t.addEventListener("touchend",function(t){var i=t.changedTouches[0];a=i.pageX,h=i.pageY,+new Date-n<300&&Math.abs(a-o)+Math.abs(h-s)<20&&(t.preventDefault(),e.call(this,t)),n=s=o=void 0})):t.addEventListener("click",function(t){e.call(this,t)})},show:function(){var t=this.config,i=this.$(t.el);i.bindRolldate&&("input"==i.nodeName.toLowerCase()&&i.blur(),this.$(".rolldate-container")||t.init&&!1===t.init.call(this)||(this.createUI(),this.event()))},hide:function(t){var i=this.$(".rolldate-panel.fadeIn");i&&(i.className="rolldate-panel fadeOut",this.destroy(t))},event:function(){var a=this,t=a.$(".rolldate-mask"),i=a.$(".rolldate-cancel"),e=a.$(".rolldate-confirm");a.tap(t,function(){a.hide(1)}),a.tap(i,function(){a.hide(1)}),a.tap(e,function(){var t,i=a.config,e=a.$(i.el),o=i.format,s=new Date;for(t in a.scroll){var n=a.getSelected(a.scroll[t]),o=o.replace(t,n);"YYYY"==t?s.setFullYear(n):"MM"==t?s.setMonth(n-1):"DD"==t?s.setDate(n):"hh"==t?s.setHours(n):"mm"==t?s.setMinutes(n):"ss"==t&&s.setSeconds(n)}if(i.confirm){if(!1===(i=i.confirm.call(a,o)))return!1;i&&(o=i)}"input"==e.nodeName.toLowerCase()?(e.value=o,$(e).change()):e.innerText=o,a.hide(),e.bindDate=s})},bissextile:function(t,i){var e=void 0;return 1==i||3==i||5==i||7==i||8==i||10==i||12==i?e=31:4==i||6==i||11==i||9==i?e=30:2==i&&(e=0!=t%4||0==t%100&&0!=t%400?28:29),e},destroy:function(t){var i,e=this,o=e.config;for(i in e.scroll)e.scroll[i].destroy();t&&o.cancel&&o.cancel.call(e),setTimeout(function(){var t=e.$(".rolldate-container");document.body.removeChild(t)},300)},getSelected:function(t){return this.$("#"+t.wrapper.id+" li",1)[t.getSelectedIndex()].innerText.replace(/\D/g,"")}},t.version="3.1.0",t});var form_icons={arrow:"iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUQzNDkyNEE2QTc4MTFFNjhDREJERUU4NUM5QTAwNzMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUQzNDkyNEI2QTc4MTFFNjhDREJERUU4NUM5QTAwNzMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1RDM0OTI0ODZBNzgxMUU2OENEQkRFRTg1QzlBMDA3MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1RDM0OTI0OTZBNzgxMUU2OENEQkRFRTg1QzlBMDA3MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvsLCrQAAAA1SURBVHjaYvz//z8DMYCJgUhAtEIWKI3PfkZkExnxKUK3mhGXImxuZMRlAxM+62gbPAABBgDzAAQaD2zPEQAAAABJRU5ErkJggg==",arrow2:"iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADImlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4zLWMwMTEgNjYuMTQ1NjYxLCAyMDEyLzAyLzA2LTE0OjU2OjI3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1RDM0OTI0QTZBNzgxMUU2OENEQkRFRTg1QzlBMDA3MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1RDM0OTI0QjZBNzgxMUU2OENEQkRFRTg1QzlBMDA3MyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjVEMzQ5MjQ4NkE3ODExRTY4Q0RCREVFODVDOUEwMDczIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjVEMzQ5MjQ5NkE3ODExRTY4Q0RCREVFODVDOUEwMDczIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8++wsKtAAAAD1JREFUKFONzjESADAERNGV+99ZRkaDJX6jeQNRVWw6Pr9l2K5nGynuThc8/RjwBMXnq4MBWQwWZGVIEQBcpL4HEQWC8t0AAAAASUVORK5CYII=",arrow3:"iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADImlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4zLWMwMTEgNjYuMTQ1NjYxLCAyMDEyLzAyLzA2LTE0OjU2OjI3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1RDM0OTI0QTZBNzgxMUU2OENEQkRFRTg1QzlBMDA3MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1RDM0OTI0QjZBNzgxMUU2OENEQkRFRTg1QzlBMDA3MyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjVEMzQ5MjQ4NkE3ODExRTY4Q0RCREVFODVDOUEwMDczIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjVEMzQ5MjQ5NkE3ODExRTY4Q0RCREVFODVDOUEwMDczIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8++wsKtAAAAD9JREFUKFNj/P//PwMxgAlKYwMoJuBSiGENNoVY3YKuEKeD0RUyQmkMgM1qrIpxeQZDMS6FIICiGJ9CJMDAAABIzQcR1hjIewAAAABJRU5ErkJggg==",close:"iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjhBN0ZCRjFCQjgwMTFFNjhCMjQ5NjVERDlGODU5NkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjhBN0ZCRjJCQjgwMTFFNjhCMjQ5NjVERDlGODU5NkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGOEE3RkJFRkJCODAxMUU2OEIyNDk2NUREOUY4NTk2RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGOEE3RkJGMEJCODAxMUU2OEIyNDk2NUREOUY4NTk2RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Prtn4R8AAABdSURBVHjaYvz//z8DLQETA43BqAWjFtDHgv9QTKocyT74T4BPtgWMWAz9j0OebB8w4nA5IzUjmZEAf/DGAb5g+U+tZIpuONGW0DwOWMgwmIFWqWi0sBu1ADsACDAA1jMSLYufr4AAAAAASUVORK5CYII=",delete:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkYyNDgzNzgwOTA3MzExRThCMDZEQTJFRDZBNDBCNzQzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkYyNDgzNzgxOTA3MzExRThCMDZEQTJFRDZBNDBCNzQzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjI0ODM3N0U5MDczMTFFOEIwNkRBMkVENkE0MEI3NDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjI0ODM3N0Y5MDczMTFFOEIwNkRBMkVENkE0MEI3NDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz60PAvqAAAAQ0lEQVR42mL8//8/AyWAiYFCQFMDGoD4PxJuwKaIEUsYEBMojDAGCz5JYgALDvH/xNg++GNhiBvQSKw449DPTAABBgCqkhAZm51S9gAAAABJRU5ErkJggg==",drag:"iVBORw0KGgoAAAANSUhEUgAAABkAAAAKCAYAAABBq/VWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxMjEzMDhFMTJENEExMUU2QkMwNzhBMjQyMDhFOUZGMCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxMjEzMDhFMjJENEExMUU2QkMwNzhBMjQyMDhFOUZGMCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjEyMTMwOERGMkQ0QTExRTZCQzA3OEEyNDIwOEU5RkYwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjEyMTMwOEUwMkQ0QTExRTZCQzA3OEEyNDIwOEU5RkYwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+gNLlqwAAACZJREFUeNpi/P//PwOtARMDHQALlC6moR29jKPBNRpcQzu4AAIMAEdbDwvBazwyAAAAAElFTkSuQmCC",edit:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUyMzVBMjk0OTA3MzExRTg4M0IxRDA3MUZGOTZDODY5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUyMzVBMjk1OTA3MzExRTg4M0IxRDA3MUZGOTZDODY5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTIzNUEyOTI5MDczMTFFODgzQjFEMDcxRkY5NkM4NjkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTIzNUEyOTM5MDczMTFFODgzQjFEMDcxRkY5NkM4NjkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4mTkkFAAAAaElEQVR42mL8//8/AyWAcUgZAFPISI4B6IoYSTEApEAciF9iM4ABZAAe/PA/AohBaRQ1+FyATYIRUxVhm0HgLi5XEqP5Hj5vonvhIRDLoXmDiZR0gMx5AMSKpCak/6RoHnp5ASsACDAAnYDOwlScSywAAAAASUVORK5CYII=",print_off:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTE2OEY2MzgzRDA1MTFFNjlGN0JBMDJFMzZGRjFENUIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTE2OEY2MzkzRDA1MTFFNjlGN0JBMDJFMzZGRjFENUIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1MTY4RjYzNjNEMDUxMUU2OUY3QkEwMkUzNkZGMUQ1QiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1MTY4RjYzNzNEMDUxMUU2OUY3QkEwMkUzNkZGMUQ1QiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Phv3r/EAAAAnSURBVHjaYvwPBAxkABYozUiivv9MDGSCUY2jGskDsLRKckIHCDAAdXAGG5Dno88AAAAASUVORK5CYII=",print_on:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDVEOTBCOTEzRDA1MTFFNkJDNzdDQjg2RjEyMEY0NUIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDVEOTBCOTIzRDA1MTFFNkJDNzdDQjg2RjEyMEY0NUIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NUQ5MEI4RjNEMDUxMUU2QkM3N0NCODZGMTIwRjQ1QiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0NUQ5MEI5MDNEMDUxMUU2QkM3N0NCODZGMTIwRjQ1QiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pvcnq1YAAABNSURBVHjaYvwPBAxkABYozUiivv9MDGQCumj8T47G/4Rs/I9F0X9sAYiukRFN8X9coY7NqYyENOHzIyOh+MUXOIwDHo9Y0yrJCR0gwACJ3A4bCSIKTwAAAABJRU5ErkJggg==",save:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDQzJEREM0MjJENDkxMUU2OEQ4QThBOUMxMjAyM0Q4OSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDQzJEREM0MzJENDkxMUU2OEQ4QThBOUMxMjAyM0Q4OSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkNDMkREQzQwMkQ0OTExRTY4RDhBOEE5QzEyMDIzRDg5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkNDMkREQzQxMkQ0OTExRTY4RDhBOEE5QzEyMDIzRDg5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+MIq1tAAAAFhJREFUeNpi/P//PwMlgAVKk2oKI7oBKIIEwH8oBqtnwqMIF58RWYyJTK9j9QIhV+ANRJw2EAJMDBQCig1gIcPvjJSEwf/BFwY0MYCR2ABED0Sy8jVAgAEAUVwNK6WyzeIAAAAASUVORK5CYII=",cancel:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkEwNDdBQjNDOTA3MzExRTg5NzRDQjk1QUMwRkU4MjBGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkEwNDdBQjNEOTA3MzExRTg5NzRDQjk1QUMwRkU4MjBGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTA0N0FCM0E5MDczMTFFODk3NENCOTVBQzBGRTgyMEYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTA0N0FCM0I5MDczMTFFODk3NENCOTVBQzBGRTgyMEYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6k9dw0AAAASElEQVR42mL8//8/AyWAcdAZAOMw4lCPIY/LAGyGYJXD5gVsCnEajCsMcAUMIymB+J+QZpoaQJEXKApEiqOR4oQ0BDMTQIABAK55P+GirBRXAAAAAElFTkSuQmCC",help_form:"iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDA1QzE3RUQ0QTU3MTFFNjgzNjFBNDM1NjkxMDU4QzkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDA1QzE3RUU0QTU3MTFFNjgzNjFBNDM1NjkxMDU4QzkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MDVDMTdFQjRBNTcxMUU2ODM2MUE0MzU2OTEwNThDOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0MDVDMTdFQzRBNTcxMUU2ODM2MUE0MzU2OTEwNThDOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pkdk2GsAAAebSURBVHja7J1ZbFRVGMdPp9CKS6QgPvhAoFAJogilFFwjiMYIEkSKRiAmRJZWH/CpfSMRDbZRTAyx0KgJFhUhNia+GKkY2VSWuqKIUDD4AKJUZS+l4//j/u/k9nb2uTP33JnzJf9Ml1m+87tnzv3O+hWFw2FlLPs2QDN/iqGx0O3QOGgkNAK6CRoKlUI3QN3QWegfPp6BjlE/Ub9AV3QpWJHPNboImgA9Ak2HpjhAHoY6Ce9fwhSw5/ja66DBfP6NvCCjoNHQQD7/G2gb9Cn0HRQuNNACZBG0kD+fgrZCu6Dd0AHocprvXcJvxH3Qg9D9vBBHoI1QK3/OrQnoHGkAtADaCfVCJ6E1UDUUyuLnFkNT+Fkn+dm7oIX0KSflz8WHlEBLoMNQD7QFejSXhXRd7EfpQw99WkIfAwtaauli6Dh0CXoHqvABbiyJL2/Tt+P0NRQ00FXQfugK1AIN1wiwW+LbOvq6n75rD3og1AhdZls8UWPAbomvO+h7E8uiJeiR0B7oLFSX5RtcNpu7OpZhL8vkyXuHPApe5kAdjIsroTeh3gB24HrpeyV/72DZfA/vJA5/kSHTeqg0gLU4lkpZpjDLWORX0yHx6QaGSXV5BNitOpZxA8ucU9ASd7ZB56FZeQzZ1iyWtS3dmDvdmvwR9B/0QAFAtiVlPcOyF2cbtLRTrdA5aFoBQbY1jWVvTbXNTvWDXmZ7NbsAIduaTQarswW6htFFbQFDtlVLFjXJvibZYVIZjN8DfQAtNfMlV2099DRUzUmGjMejSwlZBuPv4aMxa9x7Fx8F9qV4T06mZ7iKg/MLDOQ+1k0m5dBLmfYMJxVAh8SL9ron0ahfvKYjxDm3i5wOMtPlsec9t0OD2IT0ptp0LIYmQs8byPEbBeg5TjIvTvVmOIiz0J9Ayw3LpGwd9Bhn4S8kW6MFbhlvhMaSs1VkVptsjS7hWorN0ArDLyV7HXqSa0y6E9Xop6Bh0BrDLS3Qw8gwYY2WzslRXhljqduHylrKVh2vRo+HJkMthlfa1kKG4+OBlmVavytrvZouNonjCvsYSjl1mv/TafxlG1uERbFAS+A9D9qkSdxcTrj7HDWlyKX5/F+9stbTzdAkrpZAooY+9uuC38mJyGoNurXS9T8NbU7hNfX0v14D/yfTlwnRxqMbuAjQ7/UY5YRcn+YF0gF2iCwboo11fAb9qayltH6aLN+VddHL0nx9PSUjjl0+luM9hnoPO9toWWk/VVlrk/20Gt78GjJ4j0Y++t1e7yTTYifoMcpaOf+VBqBbPKiJ7bxgftrXZDrWCVpGnnqgn310rIyg2z14ry6+n58mLC/b8bQNWqgfVAmmY3IQL4vtz5OOi7D8VVmbniKgyxlk+x03d3p0Ayvz+UZo21EOMEVAD+eInfK56fAK8gxNQB8j28g+w5uVtTPKT/OqyaghbB3Ga06RbQT0EOhvn51q9+BGWMYYulGTGn2abCNNxzXK2iwZdNtMwA2a+CNMS501+vo8gLyVN9QqjXwKM5aO1OggL4wp4wifPD6kSZPRz+wafSbAkLfyZx0hyzDpWTfowQGGXKWpj8L0ohv00ICBXk/YVRr7OISRRwS0/DIsQJCXslNSpWubTBOmJ503w067qxiQJuMVxsqdmvsqTI84Qcvgx8iAgK7hY2MAfBWmB92gx9jBteYmTcaWAPhZQqaH3KDleJzbAlCA8gA0GWLjyLRPjT7Em8pUA9ozm0qmfWq0nKb1pbL2qAThZtgVAD+F5Xay7bOAZht7VyHNCyC9rXbNfQyR5efOPzhBy9jpJGUsU6skyy+igZbJRFl394ThlLHNI8sD0UCHGTbNV841Y8bSadrmk2U4GmixVgbZ0zUuSFjpsZgxlk0jw43uRttpP0B7ldmGnIktI8Pv44EWWwvNVZy9NZaSDSe7tdHCELfJ+miZvX3BcEvZVpDdpmRAy7TWq/wK3GLYJW3CSrYNvqaiTA2aDZ3eWVobOuWJK6FnlWvTi7GodgdZrYwGOV6Nti/CHr7QbLqPHzfLOJEcHC67sVLedN/LZuMu03zENWFzN+9psU+vTGI/RhOPIaswZ3P002iyafLiTCWZKdjJr4g56qc/F7F7E3FJZki0m313uZu+YfhGTFhUKGsrd+LKl8LX5HFzHFu/49jmZuuAwdXmgMHsHzBoH5m50RyZeZVBUS4OgW0r4ENg23JxCGy0Y41nFgDkmX4ca+zMaWIf1J3PN8jlLOO7meSO8fLo+eY8PHq+WYej552aA3Ux00NFnvT49rJMc3TKWvGxsqbYpZspmR5qlf7rQ2J14MT3b/l7JcvmwUyn9wlvmpg0ZkfAEt5MCErCG3cKpw463RyAFE7N9LUjKCmc4iUle4ttny6AR9En8e2PoCYlc8fcS6EjrjR7xT7ALXal2eukb4FOsxct7pZkjbsZDp5gMsfJOUgcWc3POsFwbXeuE0f6mQr1GWWdkZ/NVKjTOQ0n29BkL8n70AblQypUnZP7/qasBedy5sVfyjoU4Lzqm9z3WmVt25Msy7IMSxap36pMct+EZqerllll2ZowQvVNVz2IgBWBX+AFkAtxjJJvw4/KpKsuTPtfgAEA9WJlCl1yxpAAAAAASUVORK5CYII="},setCurrentIndexTextField=function(t){t=getShownPageNumberInfo(t),$("#guidPageIndex").html("<b>"+t+"</b>"),$("#currentPageIndexTextField")&&$("#currentPageIndexTextField")[0]&&!$("#currentPageIndexTextField")[0].onFocus&&$("#currentPageIndexTextField").val(t),(isPhone()||isPad())&&$(".currentPageIndexTextField")&&$(".currentPageIndexTextField")[0]&&!$(".currentPageIndexTextField")[0].onFocus&&$(".currentPageIndexTextField").val(t)},getShownPageNumberInfo=function(t){BookInfo.isDoublePage(),t=BookInfo.getCurrentPages();for(var i=originTotalPageCount,e="",o=0;o<t.length;o++){var s=getShownPageNumber(t[o]);0!=o&&e!=s&&(e+="-"),e!=s&&(e+=s)}return 0==t.length&&(e=getShownPageNumber(1)),bookConfig.totalPagesCaption&&(i=bookConfig.totalPagesCaption),rightToLeft?i+"/"+e:e+"/"+i},getShownPageArray=function(){for(var t=bookConfig.pageNumberCaption+"",i=originTotalPageCount,t=(t=";"==t.substr(t.length-1,1)?t.substr(0,t.length-1):t).split(";"),e=[],o=0;o<t.length;o++)if(""!=t[o]&&null!=t[o])if((a=t[o].split(":"))[0])if(a[1]||(a[1]=""),-1<a[1].indexOf("+")){(g=a[0]).indexOf("-");for(var s=(g=g.split("-"))[0],n=(g=g[1],s=parseInt(s),g?parseInt(g):i),a=getPageNumberFormat(a[1]),h=s;h<=n;h++){var r=(h-s)*a.addition+a.startPage,g="";0==a.type&&(g=r+""),1==a.type&&(g=parseRoman(r)),2==a.type&&(g=parseRoman(r).toLowerCase()),e[h]=String.format(a.page,g)}}else if(isNaN(a[0])){if(-1<a[0].indexOf("-"))for((g=a[0]).indexOf("-"),s=(g=g.split("-"))[0],g=g[1],s=parseInt(s),n=g?parseInt(g):i,h=s;h<=n;h++)e[h]=null==a[1]?"":a[1]}else e[s=parseInt(a[0])]=null==a[1]?"":a[1];return e};function getPageNumberFormat(t){var i,e,o={page:"%s",startPage:1,type:0,addition:1};return-1<t.indexOf("{")?(e=t.indexOf("{"),i=t.indexOf("}")+1,e=t.substring(e,i),o.page=t.replace(e,"%s"),-1<e.indexOf("N+")&&(o.type=0),-1<e.indexOf("R+")&&(o.type=1),-1<e.indexOf("r+")&&(o.type=2),e=e.subBetween("+","}"),o.startPage=""==e?1:parseInt(e)):(e=t.split("+")[0],t=t.split("+")[1],o.startPage=""==e?1:parseInt(e),t&&(o.addition=parseInt(t))),o}function parseRoman(t){if(isNaN(t))return"";for(var i,e=[" I II III IV V VI VII VIII IX".split(" ")," X XX XXX XL L LX LXX LXXX XC".split(" ")," C CC CCC CD D DC DCC DCCC CM".split(" ")],o="",s=0,n=1e3;s<3;s++,n/=10)i=Math.floor(t%n/(n/10)),o+=e[2-s][i];return o}var getShownPageNumber=function(t){var i=bookConfig.pageNumberCaption;return""==i||null==i||(t=parseInt(t),null==(i=getShownPageArray())[t])?t:i[t]},getRealPageNumber=function(t){return t=getRealPage(t),t=isNaN(t)?1:t},getRealPage=function(t){var i=bookConfig.pageNumberCaption;if(""==i||null==i)return parseInt(t);t+="";for(var e=-1,o=(i=getShownPageArray()).length,s=1;s<=o;s++)if(i[s]+""==t){e=s;break}return-1!=e?e:isNaN(parseInt(t))||void 0!==i[parseInt(t)]?"error":parseInt(t)},setLocationHash=function(t){bookConfig.updateURLForPage&&(window.location.hash="#p="+getShownPageNumber(t))},nextPageFun=function(t){switch(bookType){case BookType.normal_book:gotoPageFun(BookInfo.getMinPageIndex(flipBook.getCurrentPageIndex())+2,!1,t);break;case BookType.single_book:gotoPageFun(parseInt(singlePageBook.currentPageIndex)+1,!1,t);break;case BookType.slide_book:gotoPageFun(BookInfo.getMinPageIndex(slideBook.getRealPageIndex())+2,!1,t);break;case BookType.singleSlide_book:gotoPageFun(parseInt(singleSlideBook.getRealPageIndex())+1,!1,t);break;case BookType.catalog_book:gotoPageFun(BookInfo.getMinPageIndex(catalogBook.getCurrentPageIndex())+2,!1,t);break;case BookType.singleCatalog_book:gotoPageFun(parseInt(singleCatalogBook.currentIndex)+1,!1,t)}},previousPageFun=function(t){switch(bookType){case BookType.normal_book:gotoPageFun(BookInfo.getMaxPageIndex(flipBook.getCurrentPageIndex())-2,!1,t);break;case BookType.catalog_book:gotoPageFun(BookInfo.getMaxPageIndex(catalogBook.getCurrentPageIndex())-2,!1,t);break;case BookType.single_book:gotoPageFun(parseInt(singlePageBook.currentPageIndex)-1,!1,t);break;case BookType.slide_book:gotoPageFun(BookInfo.getMaxPageIndex(slideBook.getRealPageIndex())-2,!1,t);break;case BookType.singleSlide_book:gotoPageFun(singleSlideBook.getRealPageIndex()-1,!1,t);break;case BookType.singleCatalog_book:gotoPageFun(parseInt(singleCatalogBook.currentIndex)-1,!1,t)}},firstPageFun=function(t){gotoPageFun(1,!1,t)},lastPageFun=function(t){gotoPageFun(originTotalPageCount,!1,t)},gotoPageFun=function(t,i,e){if(!(isNaN(t)||BookEvent.trigger("beforeFlipPage",[t])||(gotoPageVisit(t,e),BookEvent.suspendFlipPage&&0<=BookInfo.getCurrentPagesByIndex(t).indexOf(parseInt(BookEvent.suspendFlipPage))))){t=parseInt(t);var o=bookConfig.totalPageCount;if(bookConfig.SingleModeBanFlipToLastPage&&bookType==BookType.single_book&&(o=Math.max(1,bookConfig.totalPageCount-1)),t<1||o<t)BookInfo.getCurrentPages().indexOf(o)<0&&o<t?gotoPageFun(o,i,e):BookInfo.getCurrentPages().indexOf(1)<0&&t<1?gotoPageFun(1,i,e):(t=t<1?getLanguage("lblFirst","This is the first page"):getLanguage("lblLast","This is the last page"),(_tipsBox=global._tipsBox?_tipsBox:new TipsBox(t,bookContainer)).setCaption(t),_tipsBox.showTipsBox());else if(e=t,BookInfo.isDoublePage()&&(e=BookInfo.getMinPageIndex(e)),e=Math.max(1,e),passwardType()&&bookConfig.excludeFrontPages&&e>parseInt(bookConfig.excludeFrontPages)&&!verifyPassward())global.passwardPannel||(global.passwardPannel=new PasswardPannel),global.passwardPannel.show();else{switch(bookType){case BookType.normal_book:flipBook.gotoPage(t,i);break;case BookType.single_book:singlePageBook.gotoPage(t,i);break;case BookType.slide_book:slideBook.gotoPage(t,i);break;case BookType.singleSlide_book:singleSlideBook.gotoPage(t,i);break;case BookType.catalog_book:catalogBook.gotoPage(t,i);break;case BookType.singleCatalog_book:singleCatalogBook.gotoPage(t,i)}global.bookmark&&global.bookmark.elements.refreshElements(),bookConfig.SelectTextButtonVisible&&BookInfo.getBook().unSelect(),bookConfig.MagnifierButtonVisible&&BookInfo.getBook().unMagnifierZoom(),global.annotationPannel&&global.annotationPannel.clearBtnDownCase(),bookConfig.addCurrentPage&&global.sharePanel&&global.sharePanel.elements&&global.sharePanel.elements.fillArea(!0,"link"),global.downLoadBody&&downLoadBody.gotoPage(t),bookConfig.AnnotationButtonVisible&&!isPhone()&&!isPad()&&BookInfo.getBook().bookAttachments.noteAdd&&BookInfo.getBook().bookAttachments.noteAdd.onResize(),setCurrentIndexTextField(BookInfo.getCurrentPageIndex(),BookInfo.isDoublePage()),setLocationHash(BookInfo.getCurrentPageIndex()),global.phoneGotoPagePanel&&global.phoneGotoPagePanel.visible&&global.phoneGotoPagePanel.refreshSlider(),NeatStyle.refreshSlider(),global.pcArticlePages&&(global.pcArticlePages.clearHighLight(),global.pcArticlePages.setHighLight(t)),global.phoneArticlePages&&(global.phoneArticlePages.clearHighLight(),global.phoneArticlePages.setHighLight(t)),global.flipPageAudio&&global.flipPageAudio.playByIndex(t),global.phoneGotoPagePanel&&global.phoneGotoPagePanel.showFirstOrLast()}}},gotoPageVisit=function(t,i){var e=window.lastVisitTime?(new Date).getTime()-window.lastVisitTime:0;window.lastVisitTime=(new Date).getTime(),BookEvent.trigger("flipPage",[i,BookInfo.getCurrentPages().join("-"),BookInfo.getCurrentPagesByIndex(t).join("-"),e])},BookInfo=Class({statics:{getCurrentPages:function(){var t,i=[];return this.isDoublePage()?(t=this.getCurrentPageIndex(),i=this.getPagesByIndex(t)):(t=this.getCurrentPageIndex(),i.push(t)),i},getCurrentPagesByIndex:function(t){var i=[];return this.isDoublePage()?i=this.getPagesByIndex(t):i.push(t),i},getPageCount:function(){return bookConfig.totalPageCount},isRightToLeft:function(){return rightToLeft},getBookType:function(){return bookType},getBook:function(){switch(this.getBookType()){case BookType.normal_book:var t=global.flipBook;break;case BookType.single_book:t=global.singlePageBook;break;case BookType.slide_book:t=global.slideBook;break;case BookType.singleSlide_book:t=global.singleSlideBook;break;case BookType.catalog_book:t=global.catalogBook;break;case BookType.singleCatalog_book:t=global.singleCatalogBook}return t},getCurrentPageIndex:function(){var t=this.getBook();return t&&t.getCurrentPageIndex?t.getCurrentPageIndex():bookConfig.OriginPageIndex},isDoublePage:function(t){var i=this.getBookType();switch(i=null!=t?t:i){case BookType.single_book:case BookType.singleSlide_book:case BookType.singleCatalog_book:return!1}return!0},left:function(){var t=this.getBook();return t&&t.getLeft?t.getLeft():0},top:function(){var t=this.getBook();return t&&t.getTop?t.getTop():0},width:function(){var t=this.getBook();return t&&t.getWidth?t.getWidth():0},height:function(){var t=this.getBook();return t&&t.getHeight?t.getHeight():0},scale:function(){var t=this.getBook();return t&&t.getScale?t.getScale():0},isZoomming:function(){return this.getBook().showPage.parameters.zoomming},zoomStatus:function(){return!(!this.getBook()||!this.getBook().status_zoom)},container:function(){return bookContainer},getThumbnailPages:function(){for(var t=[],i=Math.ceil(bookConfig.totalPageCount/2),e=0;e<=i;e++){var o=this.getPagesByIndex(2*e+1);0<o.length&&t.push(o)}return t},getPagesByIndex:function(t){function i(t){1<=t&&t<=bookConfig.totalPageCount&&o.push(t)}var e,o=[];return bookConfig.isTheBookOpen?e=(t=2*Math.ceil(t/2))-1:t=(e=2*Math.floor(t/2))+1,rightToLeft?(i(t),i(e)):(i(e),i(t)),o},isLeftPage:function(t,i){return!(!(i=null==i?this.isDoublePage():i)&&!rightToLeft)&&(!!(!i&&rightToLeft||(0==t%2&&!rightToLeft||0!=t%2&&rightToLeft)&&!bookConfig.isTheBookOpen)||!((0==t%2&&!rightToLeft||0!=t%2&&rightToLeft)&&bookConfig.isTheBookOpen||(0==t%2&&rightToLeft||0!=t%2&&!rightToLeft)&&!bookConfig.isTheBookOpen)&&(!(!(0==t%2&&rightToLeft||0!=t%2&&!rightToLeft)||!bookConfig.isTheBookOpen)||void 0))},isInnerPage:function(t,i){if(1!=t&&i==BookType.single_book||!this.isCoverPage(t)&&i!=BookType.single_book)return!0},isCoverPage:function(t,i){return!!(0<=[1,totalPageCount].indexOf(t)&&!bookConfig.isTheBookOpen||t==totalPageCount&&bookConfig.isTheBookOpen)},getHardCoverPages:function(t){return t&&rightToLeft&&!bookConfig.isTheBookOpen?[totalPageCount-1,2]:!t||rightToLeft||bookConfig.isTheBookOpen?t&&rightToLeft&&bookConfig.isTheBookOpen?[0==bookConfig.totalPageCount%2?bookConfig.totalPageCount:bookConfig.totalPageCount-1,1]:t&&!rightToLeft&&bookConfig.isTheBookOpen?[1,0==bookConfig.totalPageCount%2?bookConfig.totalPageCount:bookConfig.totalPageCount-1]:t?void 0:[bookConfig.totalPageCount]:[2,totalPageCount-1]},getSensitiveIndex:function(t){return t&&!bookConfig.isTheBookOpen?{min:3,max:t=totalPageCount-2}:t&&bookConfig.isTheBookOpen?{min:4,max:t=totalPageCount-2}:{min:2,max:t=bookConfig.totalPageCount}},getMinPageIndex:function(t){return bookConfig.isTheBookOpen?2*Math.ceil(t/2)-1:2*Math.floor(t/2)},getMaxPageIndex:function(t){return bookConfig.isTheBookOpen?2*Math.ceil(t/2):2*Math.floor(t/2)+1}}}),BookEvent=Class({statics:{bindEvent:function(t,i){"string"==typeof t&&i&&"function"==typeof i&&(this[t]||(this[t]=[]),this[t].push(i))},removeEvent:function(t,i){"string"==typeof t&&i&&"function"==typeof i&&this[t].removeElement(i)},trigger:function(t,i){if((t=this[t])&&0!=t.length){for(var e,o=!1,s=0;s<t.length;s++)"function"==typeof t[s]&&(o=!!(e=t[s].apply(this,i))&&e.paused||o);return o}}}});function statisticalData(t,i){global.sendvisitinfo&&"function"==typeof global.sendvisitinfo&&sendvisitinfo(t,i)}var googleAnalytics=function(){bookConfig.googleAnalyticsID&&window.setTimeout(function(){loadJavascript("https://www.googletagmanager.com/gtag/js?id="+bookConfig.googleAnalyticsID,function(){window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date),gtag("config",bookConfig.googleAnalyticsID)},function(){})},3e3)},logEvent=Class({statics:{printLog:!1,visit:function(t,i,e,o,s,n){logEvent.printLog&&console.log("visit",t,i,e,o,s,n)},beforeFlipPage:function(t){logEvent.printLog&&console.log("beforeFlipPage",t)},flipPage:function(t,i,e,o){statisticalData(1,i),bookConfig.googleAnalyticsID&&window.gtag&&gtag("event","click",{event_category:"flipPage",event_label:"goto page:"+i}),logEvent.printLog&&console.log("flipPage",t,i,e,o)},suspendFlipPage:4,zoomIn:function(t,i){logEvent.printLog&&console.log("zoomIn",t,i)},zoomOut:function(t,i){logEvent.printLog&&console.log("zoomOut",t,i)},zoomMove:function(t,i){logEvent.printLog&&console.log("zoomMove",t,i)},jumpLink:function(t,i,e){logEvent.printLog&&console.log("jumpLink",t,i,e)},clickButton:function(t,i,e){bookConfig.googleAnalyticsID&&window.gtag&&gtag("event","click",{event_category:i,event_label:bookConfig.DownloadURL}),logEvent.printLog&&console.log("clickButton",t,i,e)},search:function(t,i,e){statisticalData(6,t),logEvent.printLog&&console.log("search",t,i,e)},share:function(t,i,e){logEvent.printLog&&console.log("share",t,i,e)},print:function(t,i,e){logEvent.printLog&&console.log("print",t,i,e)},addBookmark:function(t,i,e){logEvent.printLog&&console.log("addBookmark",t,i,e)},deleteBookmark:function(t){logEvent.printLog&&console.log("deleteBookmark",t)},editBookmark:function(t,i,e){logEvent.printLog&&console.log("deleteBookmark",t,i,e)},googleAdSense:function(t,i,e,o,s,n){logEvent.printLog&&console.log("googleAdSense",t,i,e,o,s,n)},playMedia:function(t,i,e,o,s){logEvent.printLog&&console.log("playMedia",t,i,e,o,s)},passward:function(t,i){logEvent.printLog&&console.log("passward",t,i)},clickPageItem:function(t,i,e,o,s,n){logEvent.printLog&&console.log("clickPageItem",t,i,e,o,s,n)},orientationchange:function(t,i,e){logEvent.printLog&&console.log("orientationchange",t,i,e)},windowClick:function(t,i,e){logEvent.printLog&&console.log("windowClick",t,i,e)},readArticle:function(t){logEvent.readArticle&&console.log("readArticle",t)}}}),FormElements=(BookEvent.bindEvent("visit",logEvent.visit),BookEvent.bindEvent("flipPage",logEvent.flipPage),BookEvent.bindEvent("jumpLink",logEvent.jumpLink),BookEvent.bindEvent("zoomIn",logEvent.zoomIn),BookEvent.bindEvent("zoomOut",logEvent.zoomOut),BookEvent.bindEvent("zoomMove",logEvent.zoomMove),BookEvent.bindEvent("clickButton",logEvent.clickButton),BookEvent.bindEvent("search",logEvent.search),BookEvent.bindEvent("share",logEvent.share),BookEvent.bindEvent("print",logEvent.print),BookEvent.bindEvent("addBookmark",logEvent.addBookmark),BookEvent.bindEvent("deleteBookmark",logEvent.deleteBookmark),BookEvent.bindEvent("editBookmark",logEvent.editBookmark),BookEvent.bindEvent("googleAdSense",logEvent.googleAdSense),BookEvent.bindEvent("playMedia",logEvent.playMedia),BookEvent.bindEvent("passward",logEvent.passward),BookEvent.bindEvent("clickPageItem",logEvent.clickPageItem),BookEvent.bindEvent("orientationchange",logEvent.orientationchange),BookEvent.bindEvent("windowClick",logEvent.windowClick),BookEvent.bindEvent("suspendFlipPage",logEvent.suspendFlipPage),BookEvent.bindEvent("beforeFlipPage",logEvent.beforeFlipPage),Class({rightToLeft:!1,create:function(t){this.rightToLeft=global.rightToLeft},initElements:virtual_function,initEvent:virtual_function,pickElements:virtual_function,changeLanguage:virtual_function})),FormInfo=Class({statics:{getFormCssClassName:function(t,i){return t?(t=t.toLowerCase(),i?t+"_form_phone":t+"_form"):""},getFormTitle:function(t){if(!t)return"";switch(t=t.toLowerCase()){case"about":return getLanguage("btnAbout","About");case"bookmark":return getLanguage("frmBookMark","Bookmark");case"help":return getLanguage("btnHelp","Help");case"language":return getLanguage("btnLanguage","Language change");case"print":return getLanguage("frmPrintCaption","Print");case"search":return getLanguage("frmSearch","Search");case"setting":return getLanguage("btnSettings","Settings");case"share":return getLanguage("frmShareCaption","Share");case"tableofcontent":return getLanguage("frmToc","Table of Contents");case"thumbnail":return getLanguage("btnThumb","Thumbnail");case"videogallery":return getLanguage("frmVideoTitle","Video");case"tel":return getLanguage("frmTelephone","Tel");case"download":return getLanguage("btnDownload","Download")}},getFormFavicon:function(t){if(!t)return"";switch(t=t.toLowerCase()){case"about":return this.getSrc("about",bookConfig.AboutButtonIcon);case"bookmark":return this.getSrc("bookmark",bookConfig.BookmarkButtonIcon);case"help":return this.getSrc("Help",bookConfig.HelpButtonIcon);case"language":return this.getSrc("languageChange",bookConfig.LanguageButtonIcon);case"print":return this.getSrc("print",bookConfig.PrintButtonIcon);case"search":return this.getSrc("search",bookConfig.SearchButtonIcon);case"setting":return"";case"share":return this.getSrc("sharethis",bookConfig.ShareButtonIcon);case"tableofcontent":return this.getSrc("tableOfContent",bookConfig.TableOfContentButtonIcon);case"thumbnail":return this.getSrc("thumbnails",bookConfig.ThumbnailButtonIcon);case"videogallery":return this.getSrc("videoGallery",bookConfig.VideoButtonIcon);case"tel":return"";case"download":return this.getSrc("download",bookConfig.DownloadButtonIcon)}},getSrc:function(t,i){return i&&""!=i?i:toolbar_icons&&toolbar_icons[t]?"data:image/png;base64,"+toolbar_icons[t]:uiBaseURL+t+".png"}}}),FormFrame=Class({parent:void 0,rightToLeft:!1,visible:!1,formType:"",mainColor:"",fontColor:"",mainColorObj:null,fontColorObj:null,elements:null,closeUrl:"",create:function(t){this.options=t,this.parent=this.options.parent,this.formType=this.options.formType,this.rightToLeft=this.options.rightToLeft,this.isPhone=this.options.isPhone,this.initColorConfig()},onCreate:function(){},resetFormColor:function(){this.initColorConfig(),this.resetIconSrc(),this.resetColorChanged(),this.visible&&this.changeIconColor(),this.initColorCss&&this.initColorCss(),this.resetFormItems&&this.resetFormItems()},initColorConfig:function(){this.mainColor=Color(bookConfig.formBackgroundColor||bookConfig.toolbarColor).toString(),this.fontColor=Color(bookConfig.formFontColor||bookConfig.iconColor).toString(),this.mainColorObj=Color(this.mainColor),this.fontColorObj=Color(this.fontColor)},resetColorChanged:function(){this.close&&(this.close.find("img")[0]?this.close.find("img")[0].colorChanged=!1:this.close[0].colorChanged=!1),this.favicon&&(this.favicon[0].colorChanged=!1)},resetIconSrc:function(){FormInfo.getFormFavicon(this.formType)&&this.favicon&&this.favicon.attr("src",FormInfo.getFormFavicon(this.formType)),(this.close.find("img")[0]?this.close.find("img"):this.close).attr("src",this.closeUrl)},changeIconColor:function(){this.close&&this.close.changeButtonColor(this.fontColor),this.favicon&&this.favicon.changeButtonColor(this.fontColor)},setStyle:function(t){this.stage.css(t)},getShowStatu:function(){return this.visible},showOrHide:function(){this.visible?this.hide():this.show()},show:function(){this.visible=!0,this.stage.show(),this.onShow()},hide:function(){this.visible=!1,this.stage.hide(),this.onHide()},onShow:function(){this.changeIconColor()},onHide:function(){},onResize:function(){},destroy:function(){},changeLanguage:function(){this.elements&&this.elements.changeLanguage(),this.title&&this.title.find("span").html(FormInfo.getFormTitle(this.formType))}}),PhoneFormFrame=Class({create:function(t){this._super(t),this.closeUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAATCAYAAABGKffQAAAA20lEQVQokYXSoUqEQRQG0CvioqBiWNGiotGgRcTgCwha7Ps0FrvF4BsYfIGFNZgsGw02EYOLWDSI4DF4F2T5Z/6BgQnnY5jvTiCwj06eiztw6m/dYqkNr+MpA0Os1nBgAw8ZeMRWDQe6uM/AC3ZqODCPfgbecVjDka1cZ+ATxzUcmMZlBr7Rq+HxPsvAD/bacAd3GGGtBhf+PfYVMyW43FRjE5wc0GapjW08JxxipdTzAd4SDrA4eev4cISPhDeYbXpL4ARfCa9yIMVfd5HwHFO13gNz2G0ZTiB+ASa3n9W0/5wmAAAAAElFTkSuQmCC",this.stage=$("<div class='"+FormInfo.getFormCssClassName(this.formType,!0)+" phone'></div>"),this.title=$("<p class='form_title'><span>"+FormInfo.getFormTitle(this.formType)+"</span></p>"),this.close=$(phoneSvgIcons.formClose),this.rightToLeft&&this.stage.addClass("rightToLeft"),this.close.bind("click",this.hide.bind(this)),this.stage.css({visibility:"hidden"}),this.initHtml(),this.initEvent(),this.onCreate(),(isPhone()||isPad())&&this.initScrollEvent()},onCreate:function(){this.stage.insertBefore(this.parent),this.stage.css({position:"absolute",left:this.width+"px",top:0,width:this.width+"px",height:this.height+"px","background-color":colorDiv(this.mainColor,20),color:this.fontColor,overflow:"hidden"})},getPosition:function(t){return{x:((t=t.originalEvent&&t.originalEvent.changedTouches?t.originalEvent.changedTouches:t.changedTouches||[t])[0].pageX||t[0].clientX)+(document.documentElement.scrollLeft||document.body.scrollLeft),y:(t[0].pageY||t[0].clientY)+(document.documentElement.scrollTop||document.body.scrollTop)}},firstTimeMove:function(t){this.firstTime=!0,this.dragEnd=this.getPosition(t),t=this.dragEnd.x-this.dragStart.x;var i=this.dragEnd.y-this.dragStart.y;0==t&&0!=i&&(this.noSwipeRight=!0),0!=t&&0==i&&(this.noSwipeRight=!1),0==t&&0==i&&(this.noSwipeRight=!0),Math.abs(t/i)<=1.01&&(this.noSwipeRight=!0)},initScrollEvent:function(){this.dragStart={},this.dragEnd={},this.stage.bind(_event._down,function(t){t.stopPropagation(),this.formTouching=!0,this.firstTime=this.dragMove=this.noSwipeRight=!1,this.dragEnd=this.dragStart=this.getPosition(t),this.endTime=this.startTime=(new Date).getTime()}.bind(this)),this.stage.bind(_event._move,function(t){var i;t.stopPropagation(),this.dragMove=!0,this.firstTime||this.firstTimeMove(t),this.formTouching&&(this.dragEnd=this.getPosition(t),i=this.dragEnd.x-this.dragStart.x,this.noSwipeRight||(t.preventDefault(),0<i&&i<windowWidth?(this.stage.css({transform:"translate3d("+(i-windowWidth)+"px,0,0)"}),this.parent.css({transform:"translate3d("+(i-windowWidth)+"px,0,0)"})):(i<=0&&this.stage.css({transform:"translate3d("+-windowWidth+"px,0,0)"}),windowWidth<=i&&this.stage.css({transform:"translate3d(0px,0,0)"}))))}.bind(this)),this.stage.bind(_event._up,function(t){var i;t.stopPropagation(),!this.dragEnd||null==this.dragEnd.x||(t=this.dragEnd.x-this.dragStart.x,this.endTime=(new Date).getTime(),!this.formTouching)||this.noSwipeRight||!this.dragMove||t<0||(this.formTouching=!1,i=(this.endTime-this.startTime)/1e3,!(0<t&&!this.noSwipeRight&&i<=.3&&.1*windowWidth<t)&&windowWidth-this.dragEnd.x+this.dragStart.x>2*windowWidth/3?this.animate(-windowWidth):this.hide(),this.dragMove=this.firstTime=this.noSwipeRight=!1)}.bind(this))},show:function(){!this.visible&&(this.stage.css({visibility:"visible"}),this.visible=!0,this.animate(-this.width),this.mask||(this.mask=$("<div class='form_mask_phone'></div>"),this.mask.click(this.hide.bind(this)),this.parent.append(this.mask)),this.mask&&this.mask.show(),BookInfo.getBook().addSearchHighlight(),this.onShow)&&this.onShow()},hide:function(){this.visible&&(this.visible=!1,this.dragEnd={},this.animate(0),this.mask&&this.mask.hide(),isPhone()||isPad()||BookInfo.getBook().clearSearchHighlight())},animate:function(t){this.animating=!0;var i=transformCSS({tran:{x:t,y:0}});animateOnce(this.stage,i,.2,function(){this.animating=!1,0==t&&this.stage.css({visibility:"hidden"})}.bind(this)),animateOnce(this.parent,i,.2,function(){this.animating=!1}.bind(this))},onResize:function(){this.width=windowWidth,this.height=windowHeight,this.stage.css({left:this.width+"px",width:this.width+"px",height:this.height+"px"});var t=this.visible?transformCSS({tran:{x:-this.width,y:0}}):transformCSS({tran:{x:0,y:0}});this.stage.css(t),this.parent.css(t)},showOrHide:function(){!0===this.visible?this.hide():this.show(-this.width)}}).extend(FormFrame),PhoneBottomFormFrame=Class({create:function(t){this._super(t),this.closeUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjhBN0ZCRjFCQjgwMTFFNjhCMjQ5NjVERDlGODU5NkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjhBN0ZCRjJCQjgwMTFFNjhCMjQ5NjVERDlGODU5NkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGOEE3RkJFRkJCODAxMUU2OEIyNDk2NUREOUY4NTk2RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGOEE3RkJGMEJCODAxMUU2OEIyNDk2NUREOUY4NTk2RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Prtn4R8AAABdSURBVHjaYvz//z8DLQETA43BqAWjFtDHgv9QTKocyT74T4BPtgWMWAz9j0OebB8w4nA5IzUjmZEAf/DGAb5g+U+tZIpuONGW0DwOWMgwmIFWqWi0sBu1ADsACDAA1jMSLYufr4AAAAAASUVORK5CYII=",this.stage=$("<div class='"+FormInfo.getFormCssClassName(this.formType,!0)+" phone_bottom phone'></div>"),this.title=$("<p class='form_title'>"+FormInfo.getFormTitle(this.formType)+"</p>"),this.close=$("<div class='close'>"+getLanguage("lblCancel","Cancel")+"</div>"),this.rightToLeft&&this.stage.addClass("rightToLeft"),this.close.bind(_event._click,this.hide.bind(this)),this.stage.css({visibility:"hidden"}),this.initHtml(),this.initEvent(),this.onCreate()},onCreate:function(){this.stage.insertBefore(this.parent),this.stage.css({position:"fixed",left:0,bottom:-this.height+"px",width:this.width+"px",height:this.height+"px","background-color":colorDiv(this.mainColor,20),color:this.fontColor,overflow:"hidden"})},show:function(){this.visible||(this.visible=!0,this.stage.css({visibility:"visible"}),this.animate(this.height),this.mask||(this.mask=$("<div class='form_mask_phone'></div>"),this.mask.bind(_event._click,this.hide.bind(this)),this.mask.insertBefore(this.parent)),this.mask&&this.mask.show(),BookInfo.getBook().addSearchHighlight())},hide:function(){this.visible&&(this.visible=!1,this.animate(0),this.mask&&this.mask.hide(),isPhone()||isPad()||BookInfo.getBook().clearSearchHighlight(),this.onHide())},animate:function(t){this.animating=!0;var i=transformCSS({tran:{x:0,y:-t}});animateOnce(this.stage,i,.2,function(){this.animating=!1,0==t&&this.stage.css({visibility:"hidden"})}.bind(this)),window.setTimeout(function(){this.onShow&&this.onShow()}.bind(this),200)},onResize:function(){this.width=windowWidth,this.height=272,this.stage.css({bottom:-this.height+"px",width:this.width+"px",height:this.height+"px"});var t=this.visible?transformCSS({tran:{x:0,y:-this.height}}):transformCSS({tran:{x:0,y:0}});this.stage.css(t),this.parent.css(t)},showOrHide:function(){!0===this.visible?this.hide():this.show(this.width)},onHide:function(){}}).extend(FormFrame),PhoneReaderFormFrame=Class({onCreate:function(){this.parent.append(this.stage),this.stage.css({position:"fixed",left:0,bottom:-this.height+"px",width:this.width+"px",height:this.height+"px","background-color":colorDiv(this.mainColor,20),color:this.fontColor,overflow:"hidden"})},show:function(){this.visible||(this.visible=!0,this.stage.css({visibility:"visible"}),this.animate(this.height),this.mask||(this.mask=$("<div class='form_mask_phone'></div>"),this.mask.bind(_event._click,this.hide.bind(this)),this.parent.append(this.mask)),this.mask&&this.mask.show(),BookInfo.getBook().addSearchHighlight())}}).extend(PhoneBottomFormFrame),FadeOutFadeForm=Class({create:function(t){this._super(t),this.closeUrl=form_icons.close?"data:image/png;base64,"+form_icons.close:uiBaseURL+"close.png",this.stage=$("<div class='"+FormInfo.getFormCssClassName(this.formType,this.isPhone)+"'></div>"),this.title=$("<p class='form_title'></p>"),FormInfo.getFormTitle(this.formType)&&this.title.append($("<span>"+FormInfo.getFormTitle(this.formType)+"</span>")),FormInfo.getFormFavicon(this.formType)&&(this.favicon=$("<img class='favicon' src='"+FormInfo.getFormFavicon(this.formType)+"'/>")),this.close=$("<img class='close' src='"+this.closeUrl+"'/>"),this.rightToLeft&&this.stage.addClass("rightToLeft"),this.initHtml(),this.initEvent(),this.onCreate()},onCreate:function(){this.stage.appearance("",function(){this.visible=!1}.bind(this)),this.parent.append(this.stage.getDom()),this.title&&this.title.css({cursor:"default"}),this.hide()},initEvent:function(){this.stage.drag(),this.stage.bind(_event._down,function(t){t.stopPropagation()}),this.close.bind("click",this.hide.bind(this)),this.close.bind("mouseenter",function(){this.close.css({background:"rgba(255,255,255,0.25)"})}.bind(this)),this.close.bind("mouseleave",function(){this.close.css({background:""})}.bind(this))},initHtml:virtual_function,onHide:function(){}}).extend(FormFrame),SlideForm=Class({create:function(t){this._super(t),this.closeUrl=form_icons.close?"data:image/png;base64,"+form_icons.close:uiBaseURL+"close.png",this.stage=$("<div class='"+FormInfo.getFormCssClassName(this.formType)+"'></div>"),this.title=$("<p class='form_title'></p>"),this.title.append($("<span>"+FormInfo.getFormTitle(this.formType)+"</span>")),FormInfo.getFormFavicon(this.formType)&&(this.favicon=$("<img class='favicon' src='"+FormInfo.getFormFavicon(this.formType)+"'/>")),this.close=$("<img class='close' src='"+this.closeUrl+"'/>"),this.rightToLeft&&this.stage.addClass("rightToLeft"),this.initHtml(),this.initEvent(),this.onCreate()},onCreate:function(){this.parent.append(this.stage),this.title&&this.title.css({cursor:"default"}),this.hide()},initEvent:function(){this.stage.drag(),this.stage.bind(_event._down,function(t){t.stopPropagation()}),this.close.bind("click",this.hide.bind(this)),this.close.bind("mouseenter",function(){this.close.css({background:"rgba(255,255,255,0.25)"})}.bind(this)),this.close.bind("mouseleave",function(){this.close.css({background:""})}.bind(this))},show:function(){this.visible=!0,this.stage.animate({left:10},400,function(){}.bind(this)),this.onShow()},hide:function(){this.visible=!1,this.stage.animate({left:2*-this.width},400,function(){this.onHide()}.bind(this))},onHide:function(){}}).extend(FormFrame),SlideLeftForm=Class({create:function(t,i){this._super(t),t=i?FormInfo.getFormCssClassName(this.formType,!1):FormInfo.getFormCssClassName(this.formType,!0)+" phone_bottom phone",this.stage=$("<div class='"+t+"'></div>"),this.title=$("<p class='form_title'>"+FormInfo.getFormTitle(this.formType)+"</p>"),this.rightToLeft&&this.stage.addClass("rightToLeft"),this.initHtml(),this.initEvent(),this.onCreate()},onCreate:function(){this.stage.insertBefore(this.parent),this.stage.css({position:"fixed",left:0,bottom:-this.height+"px",width:this.width+"px",height:this.height+"px","background-color":colorDiv(this.mainColor,20),color:this.fontColor,overflow:"hidden"})},show:function(){this.visible||(this.visible=!0,this.stage.css({visibility:"visible"}),this.animate(this.width),this.mask||(this.mask=$("<div class='form_mask_phone'></div>"),this.mask.bind(_event._click,this.hide.bind(this)),this.parent.append(this.mask)),this.mask&&this.mask.show(),BookInfo.getBook().addSearchHighlight())},hide:function(){this.visible&&(this.visible=!1,this.animate(0),this.mask&&this.mask.hide(),isPhone()||isPad()||BookInfo.getBook().clearSearchHighlight())},animate:function(t){this.animating=!0;var i=transformCSS({tran:{x:t,y:0}});animateOnce(this.stage,i,.2,function(){this.animating=!1,0==t&&this.stage.css({visibility:"hidden"})}.bind(this))},onResize:function(){this.width=272,this.height=windowHeight,this.stage.css({bottom:-this.height+"px",width:this.width+"px",height:this.height+"px"});var t=this.visible?transformCSS({tran:{x:-this.width,y:0}}):transformCSS({tran:{x:0,y:0}});this.stage.css(t),this.parent.css(t)},showOrHide:function(){!0===this.visible?this.hide():this.show(this.width)}}).extend(FormFrame),SlideRightForm=Class({create:function(t){this._super(t),this.closeUrl=form_icons.close?"data:image/png;base64,"+form_icons.close:uiBaseURL+"close.png",this.stage=$("<div class='"+FormInfo.getFormCssClassName(this.formType)+"'></div>"),this.title=$("<p class='form_title'></p>"),this.title.append($("<span>"+FormInfo.getFormTitle(this.formType)+"</span>")),FormInfo.getFormFavicon(this.formType)&&(this.favicon=$("<img class='favicon' src='"+FormInfo.getFormFavicon(this.formType)+"'/>")),this.close=$("<img class='close' src='"+this.closeUrl+"'/>"),this.rightToLeft&&this.stage.addClass("rightToLeft"),this.stage.css({visibility:"hidden"}),this.initHtml(),this.initEvent(),this.onCreate()},onCreate:function(){this.parent.append(this.stage),this.title&&this.title.css({cursor:"default"})},onResize:function(){var t=windowHeight;this.width=250,this.height=t-24,this.stage.css({right:2*-this.width+"px"})},initEvent:function(){this.stage.bind(_event._down,function(t){t.stopPropagation()}),this.close.bind("click",this.hide.bind(this)),this.close.bind("mouseenter",function(){this.close.css({background:"rgba(255,255,255,0.25)"})}.bind(this)),this.close.bind("mouseleave",function(){this.close.css({background:""})}.bind(this))},initHtml:virtual_function,showOrHide:function(){this.visible?this.hide():this.show()},show:function(){this.visible=!0,this.stage.css({visibility:"visible"}),this.stage.animate({right:0},400,function(){}.bind(this)),this.onShow()},hide:function(){this.visible=!1,this.stage.animate({right:2*-this.width},400,function(){this.onHide(),this.stage.css({visibility:"hidden"})}.bind(this))}}).extend(FormFrame),PcBottomForm=Class({create:function(t){this._super(t),this.stage=$("<div class='"+FormInfo.getFormCssClassName(this.formType)+"'></div>"),this.rightToLeft&&this.stage.addClass("rightToLeft"),this.initHtml(),this.initEvent(),this.onCreate()},onCreate:function(){this.parent.append(this.stage)},initEvent:function(){this.stage.drag(),this.stage.bind(_event._down,function(t){t.stopPropagation()}),this.stage.bind("click",this.hide.bind(this))},initHtml:virtual_function,onHide:function(){}}).extend(FormFrame),LoadingBook=Class({create:function(t,i){this.parent=t,this.backgroundColor||(this.backgroundColor="#1F2232")},chooseBookStyle:function(){var t=this.getBookTye();"normal_book"==t?this.init():this.initBookStyle(t)},initBookStyle:function(t){switch(t){case"slide_book":bookType=bookConfig.FlipDirection?windowWidth<windowHeight&&"auto"==bookConfig.showDoublePage||"double"==bookConfig.showDoublePage?BookType.slide_book:BookType.singleSlide_book:windowHeight<windowWidth&&"auto"==bookConfig.showDoublePage||"double"==bookConfig.showDoublePage?BookType.slide_book:BookType.singleSlide_book,init(),(isPhone()||isPad())&&global.QRbutton&&QRbutton.hide();break;case"flip_book":bookType=bookConfig.FlipDirection?windowWidth<windowHeight&&"auto"==bookConfig.showDoublePage||"double"==bookConfig.showDoublePage?BookType.normal_book:BookType.single_book:windowHeight<windowWidth&&"auto"==bookConfig.showDoublePage||"double"==bookConfig.showDoublePage?BookType.normal_book:BookType.single_book,init(),bookConfig.flipshortcutbutton&&flipShotButton.animate();break;case"catalog_book":bookType=BookType.catalog_book,init()}},getBookTye:function(){var t="normal_book";return"slide"!=bookConfig.FlipStyle.toLowerCase()&&!isBelowIE9()||(t="slide_book"),"flip"!=bookConfig.FlipStyle.toLowerCase()||isBelowIE9()||(t="flip_book"),""!=bookConfig.FlipStyle||isBelowIE9()||(t="flip_book"),t="catalog"!=bookConfig.FlipStyle.toLowerCase()||isBelowIE9()?t:"catalog_book"},init:function(){this.container=$("<div class='book_style_choose_container'></div>"),this.bookStyleBox=$("<div class='book_style_box'></div>"),this.container.css({"background-color":this.backgroundColor}),this.parent.append(this.container),this.container.append(this.bookStyleBox),this.initBookStyleBox()},initBookStyleBox:function(){this.title=$("<p class='title'></p>"),this.description=$("<p class='description'></p>"),this.flipModel=$("<div class='flipModel'></div>"),this.slideModel=$("<div class='slideModel'></div>"),this.flipModel.append($("<img src='"+uiBaseURL+"pc.png'/>").asImageButton()),this.slideModel.append($("<img src='"+uiBaseURL+"pad.png'/>").asImageButton()),this.bookStyleBox.append(this.title),this.bookStyleBox.append(this.description),this.bookStyleBox.append(this.flipModel),this.bookStyleBox.append(this.slideModel),this.title.html(window.document.title),this.description.html(getLanguage("lblSelectMode","Select View Mode Please.")+"(10)"),this.initEvent()},initEvent:function(){this.flipModel.bind(_event._end,function(){window.clearInterval(this.inteval),this.destroy(),this.initBookStyle("flip_book")}.bind(this)),this.slideModel.bind(_event._end,function(){window.clearInterval(this.inteval),this.destroy(),this.initBookStyle("slide_book")}.bind(this)),this.initInterval()},initInterval:function(){var t=10,i=getLanguage("lblSelectMode","Select View Mode Please.");this.inteval=window.setInterval(function(){this.description.html(i+"("+t+")"),--t<=0&&(window.clearInterval(this.inteval),this.destroy(),this.initBookStyle("flip_book"))}.bind(this),1e3)},onResize:function(){},destroy:function(){this.container&&(this.container.hide(),this.container.remove(),this.slideModel=this.flipModel=this.bookStyleBox=this.container=void 0)}});function loadXMLString(t){var i=null;if(!window.DOMParser&&window.ActiveXObject)for(var e=["MSXML.2.DOMDocument.6.0","MSXML.2.DOMDocument.3.0","Microsoft.XMLDOM"],o=0;o<e.length;o++)try{(i=new ActiveXObject(e[o])).async=!1,i.loadXMLString(t);break}catch(t){}else{if(!(window.DOMParser&&document.implementation&&document.implementation.createDocument))return null;try{i=(domParser=new DOMParser).parseFromString(t,"text/xml")}catch(t){}}return i}function loadXMLFile(t){var i=null;if(!window.DOMParser&&window.ActiveXObject)for(var e=["MSXML.2.DOMDocument.6.0","MSXML.2.DOMDocument.3.0","Microsoft.XMLDOM"],o=0;o<e.length;o++)try{i=new ActiveXObject(e[o]);break}catch(t){}else{if(!document.implementation||!document.implementation.createDocument)return null;try{i=document.implementation.createDocument("","",null)}catch(t){}}return null!=i&&(i.async=!1,i.load(t)),i}var PictureListFrame=Class({create:function(t){this.currentPageIndex=1,this.imageWidth=100,this.callback=t,this.leftButtonUrl=form_icons.print_left?"data:image/png;base64,"+form_icons.print_left:uiBaseURL+"print_left.png",this.rightButtonUrl=form_icons.print_right?"data:image/png;base64,"+form_icons.print_right:uiBaseURL+"print_right.png",this.initDefaultDom(),this.initHtml(),this.initEvent(),this.fillContent(this.currentPageIndex)},initDefaultDom:function(){this.thumbnail=$("<div class='thumbnail'></div>"),this.page=$("<div class='page'></div>"),this.image=$("<img/>"),this.noThumbBg=$("<div style='display:none;margin: 0 auto;background:"+bookConfig.pageBackgroundColor+";width:100px;height:130px;'></div>"),this.leftBtn=$("<img class='leftBtn btn button_hover' src='"+this.leftButtonUrl+"'/>"),this.rightBtn=$("<img class='rightBtn btn button_hover' src='"+this.rightButtonUrl+"'/>"),this.thumbnail.append(this.noThumbBg).append(this.image),this.thumbnail.append(this.page)},resetBtnSrc:function(){this.leftBtn.attr("src",this.leftButtonUrl),this.rightBtn.attr("src",this.rightButtonUrl)},initEvent:function(){this.leftBtn.onTap(function(){this.fillContent(this.currentPageIndex-1)}.bind(this)),this.rightBtn.onTap(function(){this.fillContent(this.currentPageIndex+1)}.bind(this))},fillContent:function(t){var i;t<1||t>bookConfig.totalPageCount||(1==t?this.leftBtn.css({opacity:"0.4",cursor:"auto"}):this.leftBtn.css({opacity:"1",cursor:"pointer"}),t==bookConfig.totalPageCount?this.rightBtn.css({opacity:"0.4",cursor:"auto"}):this.rightBtn.css({opacity:"1",cursor:"pointer"}),this.currentPageIndex=t,i=function(t,i){t.match(/^none/)?(this.noThumbBg.css({display:"block"}),this.image.css({display:"none"})):(this.image.attr("src",t),this.noThumbBg.css({display:"none"}),this.image.css({display:"inline-block",width:this.imageWidth+"px",height:"130px"}))}.bind(this),fillImageAfterLoaded(t,"thumb",i),this.fillPage(t),this.callback&&this.callback(t))},fillPage:function(t){this.page.html(t+"/"+bookConfig.totalPageCount)},getPageIndex:function(){return this.currentPageIndex}}),PictureListForm=Class({initHtml:function(){this.stage=$("<div class='pictureList_win10'></div>"),this.stage.append(this.thumbnail),1<bookConfig.totalPageCount&&(this.stage.append(this.leftBtn),this.stage.append(this.rightBtn))},getDom:function(){return this.stage}}).extend(PictureListFrame),AnalysisPrint=Class({create:function(t){this.printArea=$("<div class='print-area'></div>"),this.button=t,this.initPrintEvent()},getImageSizeForMM:function(t,i){return i/297<=t/210?{width:210,height:Math.floor(210*i/t)}:{width:Math.floor(297*t/i),height:297}},getImageSizeForInches:function(t,i){return i/10.61<=t/7.18?{width:7.18,height:Number.fixed(7.18*i/t,2)}:{width:Number.fixed(10.61*t/i,2),height:10.61}},getImageSizeForIE:function(t,i){return i/11.3<=t/8?{width:8,height:Number.fixed(8*i/t,2)}:{width:Number.fixed(11.3*t/i,2),height:11.3}},printPages:function(a){var h,s,e=this;a&&a.length&&(this.initLoadPrint(),h=0,this.printArea.empty(),this.printArray=[],s=function(t,i,e,o){var s=$("<div style='position:relative;width:100%;height:100%;'></div>"),n=$(e);if(t&&-1<t.indexOf("none")&&!t.startsWith("data:image")&&i&&(n=$(i)),void 0===o&&(o=e),s.append(n),parseBool(bookConfig.PrintButtonVisible)&&""!=bookConfig.printWatermarkFile&&(($watermark=$("<img src = '"+bookConfig.printWatermarkFile+"'/>")).css({"z-index":"201",left:"0",top:"0",position:"absolute"}),s.append($watermark),t=this.getImageSizeForInches($watermark[0].naturalWidth,$watermark[0].naturalHeight),$watermark.css({width:t.width+"in",height:t.height+"in"})),isIE()?($(n).parent().css({"text-align":"center",width:"100%",height:"100%"}),n.css({"text-align":"center",margin:"0 auto",display:"inline-block","max-width":"100%","max-height":"100%"})):($(n).parent().css({"text-align":"center",width:"100%",height:"100%"}),n.css({"text-align":"center",margin:"0 auto",display:"inline-block","max-width":"100%","max-height":"100%"}),n[0].naturalWidth/n[0].naturalHeight>8/11.3?n.css({width:"98%"}):n.css({height:"98%"})),this.printArray[o]=s,++h==a.length){for(o=1;o<this.printArray.length;o++)this.printArray[o]&&this.printArea.append(this.printArray[o]);this.printArea.printArea(),this.hidePrintLoading()}},getPageDir(1,"normal").then(function(o){if(!window.printLoadStack&&(bookConfig.normalSuffix&&"zip"===bookConfig.normalSuffix||-1<o.indexOf("zip"))&&e.initPrintStack(a),parseBool(bookConfig.PrintButtonVisible))if(""!=bookConfig.printWatermarkFile)$("<img src = '"+bookConfig.printWatermarkFile+"'/>").on("load",function(){for(var i=this,t=0;t<a.length;t++){var e=a[t];o.match(/none/)?this.getPrintImgType(e).then(function(t){fillImageAfterLoaded(e,t,s.bind(i))}):fillImageAfterLoaded(e,"normal",s.bind(this))}}.bind(e));else for(var t=0;t<a.length;t++){var i=a[t];o.match(/none/)?e.getPrintImgType(i).then(function(t){fillImageAfterLoaded(i,t,s.bind(e))}):fillImageAfterLoaded(i,"normal",s.bind(e))}}))},getPrintImgType:function(i){var e,o;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){return 1==t.nextAddress?t.yield(getPageDir(i,"thumb"),2):3!=t.nextAddress?(e=t.yieldResult,t.yield(getPageDir(i,"previewPage"),3)):(o=t.yieldResult,e.match(/none/)?o.match(/none/)||(type="previewPage"):type="thumb",t.return(type))})},getPages:function(t){if("all"!=t)return"current"==t?BookInfo.getCurrentPages():getPagesByRange(t);t=[];for(var i=1;i<=bookConfig.totalPageCount;i++)t.push(i);return t},initPrintEvent:function(){this.button.onTap(function(t){switch(this.printType=this.button.printType,this.printType){case"printAll":var i=this.getPages("all");this.printPages(i);break;case"printCurrent":i=this.getPages("current"),this.printPages(i);break;case"printRange":t=$("#print_range_num").val(),i=this.getPages(t),this.printPages(i)}BookEvent.trigger("print",[BookInfo.getCurrentPageIndex(),"printAll"==this.printType?"all":i.join(","),this.printType])}.bind(this))},initPrintStack:function(t){window.printLoadStack&&(window.printLoadStack.destroy(),window.printLoadStack=null),window.printLoadStack||(window.printLoadStack=new PdfLoadArray(t.length))},initLoadPrint:function(){this.printLoad||(this.printLoad=$("<div class='posterContainer'></div>"),this.printLoad.css({display:"none","z-index":"1001",position:"absolute",left:"0",top:"0",width:"100%",height:"100%",background:"rgba(11,11,11,0.7)"}),this.printLoad.bind("click",function(t){t.stopPropagation(),window.printLoadStack&&window.printLoadStack.destroy(),this.hidePrintLoading()}.bind(this)),this.loadingIcon=$("<img style='position:absolute;transform : translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);left : 50%;top : 50%;z-index:1112' src='"+uiBaseURL+"loading.gif' />"),this.printLoad.append(this.loadingIcon),tmpContainer.append(this.printLoad)),this.showPrintLoading()},showPrintLoading:function(){this.printLoad&&this.printLoad.fadeIn(200)},hidePrintLoading:function(){this.printLoad&&this.printLoad.fadeOut(200)}}),PrintElements=Class({create:function(t){this._super(t),this.printOnUrl=form_icons.print_on?"data:image/png;base64,"+form_icons.print_on:uiBaseURL+"print_on.png",this.printOffUrl=form_icons.print_off?"data:image/png;base64,"+form_icons.print_off:uiBaseURL+"print_off.png",this.initElements(),this.initEvent(t),this.pickElements(t)},initElements:function(){this.rightToLeft?(this.printAll=$("<div class='printAll item' print='printAll'><span class='title'>"+getLanguage("frmPrintall","Print All Pages")+"</span><img src='"+this.printOffUrl+"'/></div>"),this.printCurrent=$("<div class='printCurrent item on' print='printCurrent'><span class='title'>"+getLanguage("frmPrintcurrent","Print Current Pages")+"</span><img src='"+this.printOnUrl+"'/></div>"),this.printRange=$("<div class='printRange item' print='printRange'><input id='print_range_num' dir='rtl' placeholder='"+getLanguage("frmPrintexample","Exzample:1,3-7,12")+"'></input><span class='title'>"+getLanguage("frmPrintRange","Print Range")+"</span><img src='"+this.printOffUrl+"'/></div>")):(this.printAll=$("<div class='printAll item' print='printAll'><img src='"+this.printOffUrl+"'/><span class='title'>"+getLanguage("frmPrintall","Print All Pages")+"</span></div>"),this.printCurrent=$("<div class='printCurrent item on' print='printCurrent'><img src='"+this.printOnUrl+"'/><span class='title'>"+getLanguage("frmPrintcurrent","Print Current Pages")+"</span></div>"),this.printRange=$("<div class='printRange item' print='printRange'><img src='"+this.printOffUrl+"'/><span class='title'>"+getLanguage("frmPrintRange","Print Range")+"</span><input id='print_range_num' placeholder='"+getLanguage("frmPrintexample","Example:1,3-7,12")+"'></input></div>")),this.printButton=$("<div class='printButton title'>"+getLanguage("frmPrintbtn","Print")+"</div>"),this.printButton.printType="printCurrent",this.analysis=new AnalysisPrint(this.printButton),this.pictureListForm=new PictureListForm},pickElements:function(t){t.printOnUrl=this.printOnUrl,t.printOffUrl=this.printOffUrl,t.printAll=this.printAll,t.printCurrent=this.printCurrent,t.printRange=this.printRange,t.printButton=this.printButton,t.pictureListForm=this.pictureListForm},initEvent:function(i){this.printAll.click(function(t){this.buttonEvent(i,t.delegateTarget)}.bind(this)),this.printCurrent.click(function(t){this.buttonEvent(i,t.delegateTarget)}.bind(this)),this.printRange.click(function(t){this.buttonEvent(i,t.delegateTarget)}.bind(this)),this.printRange.find("input").on("input propertychange change",function(){this.refreshPrintButton()}.bind(this)),this.printRange.find("input").bind("mousedown touchstart pointerdown mouseover mousemove touchmove touchstend",function(t){t.stopPropagation()})},buttonEvent:function(t,i){var e=t.stage.find(".on");e.find("img").attr("src",this.printOffUrl),e.find("img")[0].colorChanged=!1,e.removeClass("on"),$(i).find("img").attr("src",this.printOnUrl),$(i).find("img")[0].colorChanged=!1,$(i).addClass("on"),i=$(i).attr("print"),t.printButton.printType=i,this.refreshPrintButton(),t.changeItemColor()},refreshPrintButton:function(){"printRange"!=this.printButton.printType||$("#print_range_num").val()?this.lightPrintButton():this.darkPrintButton()},lightPrintButton:function(){$(this.printButton).addClass("usable"),$(this.printButton).removeClass("disable"),$(this.printButton).addClass("button_hover")},darkPrintButton:function(){"printRange"==this.printButton.printType&&($(this.printButton).removeClass("usable"),$(this.printButton).removeClass("button_hover"),$(this.printButton).addClass("disable"))},changeLanguage:function(){this.printAll.find(".title").html(getLanguage("frmPrintall","Print All Pages")),this.printCurrent.find(".title").html(getLanguage("frmPrintcurrent","Print Current Pages")),this.printRange.find(".title").html(getLanguage("frmPrintRange","Print Range")),this.printRange.find("#print_range_num").attr("placeholder",getLanguage("frmPrintexample","Exzample:1,3-7,12")),this.printButton.html(getLanguage("frmPrintbtn","Print"))}}).extend(FormElements),PhonePrintElements=Class({create:function(t){this._super(t),this.printOnUrl=phoneBaseURL+"print_on_phone.png",this.printOffUrl=phoneBaseURL+"print_off_phone.png",this.fontColor=bookConfig.formBackgroundColor||bookConfig.toolbarColor,this.initElements(),this.initEvent(t),this.pickElements(t)},initElements:function(){this.rightToLeft?(this.printAll=$("<div class='printAll item on' print='printAll'><span class='title'>"+getLanguage("frmPrintall","Print All Pages")+"</span><div class='print_icon'>"+this.getOnIcon()+"</div></div>"),this.printCurrent=$("<div class='printCurrent item' print='printCurrent'><span class='title'>"+getLanguage("frmPrintcurrent","Print Current Pages")+"</span><div class='print_icon'>"+this.getOffIcon()+"</div></div>"),this.printRange=$("<div class='printRange item' print='printRange'><div class='print_icon'>"+this.getOffIcon()+"</div><input id='print_range_num' dir='rtl' placeholder='"+getLanguage("frmPrintexample","Exzample:1,3-7,12")+"'></input><span class='title'>"+getLanguage("frmPrintRange","Print Range")+"</span></div>")):(this.printAll=$("<div class='printAll item on' print='printAll'><div class='print_icon'>"+this.getOnIcon()+"</div><span class='title'>"+getLanguage("frmPrintall","Print All Pages")+"</span></div>"),this.printCurrent=$("<div class='printCurrent item' print='printCurrent'><div class='print_icon'>"+this.getOffIcon()+"</div><span class='title'>"+getLanguage("frmPrintcurrent","Print Current Pages")+"</span></div>"),this.printRange=$("<div class='printRange item' print='printRange'><div class='print_icon'>"+this.getOffIcon()+"</div><span class='title'>"+getLanguage("frmPrintRange","Print Range")+"</span><input id='print_range_num' placeholder='"+getLanguage("frmPrintexample","Example:1,3-7,12")+"'></input></div>")),this.printButton=$("<div class='printButton title'>"+getLanguage("frmPrintbtn","Print")+"</div>"),this.printButton.printType="printCurrent",this.analysis=new AnalysisPrint(this.printButton),this.pictureListForm=new PictureListForm},getOffIcon:function(){return'<?xml version="1.0" encoding="utf-8"?><svg version="1.1" id="å›¾å±‚_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"viewBox="0 0 48 48" style="enable-background:new 0 0 48 48;" xml:space="preserve"><path fill='+this.fontColor+' d="M23.6,8.3c-8.8,0-16,7.2-16,16c0,8.8,7.2,16,16,16c8.8,0,16-7.2,16-16S32.4,8.3,23.6,8.3L23.6,8.3z M23.6,38.3c-7.7,0-14-6.3-14-14c0-7.7,6.3-14,14-14c7.7,0,14,6.3,14,14C37.6,32.1,31.3,38.3,23.6,38.3L23.6,38.3z"/></svg>'},getOnIcon:function(){return'<?xml version="1.0" encoding="utf-8"?><svg version="1.1" id="å›¾å±‚_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"viewBox="0 0 48 48" style="enable-background:new 0 0 48 48;" xml:space="preserve"><path fill='+this.fontColor+' class="st0" d="M32.3,20.2L21.4,31.1c-0.2,0.2-0.6,0.2-0.8-0.1l-0.7-0.7c0,0,0,0,0,0L15,25.4c-0.2-0.2-0.2-0.6,0-0.9l1.3-1.3c0.2-0.2,0.6-0.2,0.9,0L21,27l9-9c0.2-0.2,0.6-0.2,0.8,0.1l1.3,1.3C32.4,19.7,32.5,20,32.3,20.2z"/><path class="st0" d="M23.6,8.3c-8.8,0-16,7.2-16,16c0,8.8,7.2,16,16,16c8.8,0,16-7.2,16-16S32.4,8.3,23.6,8.3L23.6,8.3z M23.6,38.3c-7.7,0-14-6.3-14-14c0-7.7,6.3-14,14-14c7.7,0,14,6.3,14,14C37.6,32.1,31.3,38.3,23.6,38.3L23.6,38.3z"/></svg>'},buttonEvent:function(t,i){var e=t.stage.find(".on");e.find(".print_icon").html(this.getOffIcon()),e.removeClass("on"),$(i).find(".print_icon").html(this.getOnIcon()),$(i).addClass("on"),i=$(i).attr("print"),t.printButton.printType=i,this.refreshPrintButton()}}).extend(PrintElements),PcPrintFrame=Class({create:function(t){this.elements=new PrintElements(this),this._super(t)},onCreate:function(){this.initColorCss(),this._super()},initColorCss:function(){this.stage.css({"background-color":this.mainColor,color:this.fontColor})},initHtml:function(){this._super()},changeIconColor:function(){this._super(),this.pictureListForm.leftBtn.changeButtonColor(this.fontColor),this.pictureListForm.rightBtn.changeButtonColor(this.fontColor),this.changeItemColor()},resetColorChanged:function(){this._super(),this.printAll.find("img")[0].colorChanged=!1,this.printCurrent.find("img")[0].colorChanged=!1,this.printRange.find("img")[0].colorChanged=!1,this.pictureListForm&&(this.pictureListForm.leftBtn[0].colorChanged=!1,this.pictureListForm.rightBtn[0].colorChanged=!1)},resetIconSrc:function(){this._super(),this.stage.find(".item").find("img").attr("src",this.elements.printOffUrl),this.stage.find(".on").find("img").attr("src",this.elements.printOnUrl),this.pictureListForm&&this.pictureListForm.resetBtnSrc()},changeItemColor:function(){this.printCurrent.changeButtonColor(this.fontColor),this.printRange.changeButtonColor(this.fontColor),this.printAll.changeButtonColor(this.fontColor)},onShow:function(){this.changeIconColor()}}).extend(FadeOutFadeForm),PhonePrintForm=Class({create:function(t){this.elements=new PhonePrintElements(this),this._super(t)},onCreate:function(){this.printAll.css({"background-color":this.fontColor,color:this.mainColor}),this.printCurrent.css({"background-color":this.fontColor,color:this.mainColor}),this.printRange.css({"background-color":this.fontColor,color:this.mainColor}),this.printButton.css({"background-color":this.fontColor,color:this.mainColor}),this.favicon&&this.favicon.changeButtonColor(this.fontColor),this._super()},initHtml:function(){this.title.append(this.close),this.stage.append(this.title),this.stage.append(this.printAll),this.stage.append(this.printCurrent),this.stage.append(this.printRange),this.stage.append(this.printButton)},changeItemColor:function(){},onShow:function(){this.favicon&&this.favicon.changeButtonColor(this.fontColor)},initEvent:function(){}}).extend(PhoneFormFrame),DownloadElements=Class({create:function(t){this._super(t),this.downloadOnUrl=form_icons.print_on?"data:image/png;base64,"+form_icons.print_on:uiBaseURL+"print_on.png",this.downloadOffUrl=form_icons.print_off?"data:image/png;base64,"+form_icons.print_off:uiBaseURL+"print_off.png",this.initConfig(),this.initElements(),this.initEvent(t),this.pickElements(t)},initConfig:function(){this.downloadconfig=window.downloadconfig},initElements:function(){this.rightToLeft?(this.downloadAll=$("<div class='downloadAll item' download='downloadAll'><span class='title'>"+getLanguage("DownloadFullPublication","Full Publication")+"</span><img src='"+this.downloadOffUrl+"'/></div>"),this.downloadCurrent=$("<div class='downloadCurrent item' download='downloadCurrent'><span class='title'>"+getLanguage("DownloadCurrentPage","Current Page")+" </span><span class='page'>"+this.pageIndex+"</span><img src='"+this.downloadOffUrl+"'/></div>"),this.downloadAttachments=$("<div class='downloadAttachments item' download='downloadAttachments'><span class='title'>"+getLanguage("DownloadAttachedFiles","Attached Files")+"</span><img src='"+this.downloadOffUrl+"'/></div>")):(this.downloadAll=$("<div class='downloadAll item' download='downloadAll'><img src='"+this.downloadOffUrl+"'/><span class='title'>"+getLanguage("DownloadFullPublication","Full Publication")+"</span></div>"),this.downloadCurrent=$("<div class='downloadCurrent item' download='downloadCurrent'><img src='"+this.downloadOffUrl+"'/><span class='title'>"+getLanguage("DownloadCurrentPage","Current Page")+"</span><span class='page'>"+this.pageIndex+"</span></div>"),this.downloadAttachments=$("<div class='downloadAttachments item' download='downloadAttachments'><img src='"+this.downloadOffUrl+"'/><span class='title'>"+getLanguage("DownloadAttachedFiles","Attached Files")+"</span></div>")),this.downloadButton=$("<div class='downloadButton title button_hover'>"+getLanguage("btnDownload","Download")+"</div>"),this.downloadButton.downloadType=downloadconfig.hideDownloadSinglePage?downloadconfig.pdf?"downloadAll":"downloadAttachments":"downloadCurrent",this[this.downloadButton.downloadType].find("img").attr("src",this.downloadOnUrl),this[this.downloadButton.downloadType].addClass("on"),this.selectAttachments=$("<select></select>");var t=this.downloadconfig.attachments;if(t&&0<t.length)for(var i=0;i<t.length;i++){var e=t[i];this.selectAttachments.append($("<option value='"+e.file+"'>"+e.name+"</option>"))}this.pictureListForm=new PictureListForm(this.gotoPage.bind(this)),this.pageIndex=this.pictureListForm.getPageIndex()},gotoPage:function(t){this.pageIndex=t,this.downloadCurrent.find(".page").html(t)},pickElements:function(t){t&&(t.downloadAll=this.downloadAll,t.downloadCurrent=this.downloadCurrent,t.downloadAttachments=this.downloadAttachments,t.selectAttachments=this.selectAttachments,t.downloadButton=this.downloadButton,t.pictureListForm=this.pictureListForm)},initEvent:function(i){this.downloadAll.click(function(t){this.buttonEvent(i,t.delegateTarget)}.bind(this)),this.downloadCurrent.click(function(t){this.buttonEvent(i,t.delegateTarget)}.bind(this)),this.downloadAttachments.click(function(t){this.buttonEvent(i,t.delegateTarget)}.bind(this)),this.downloadButton.click(function(t){var i,e,o,s,n,a=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(1==t.nextAddress)return i="","downloadAll"==a.downloadButton.downloadType&&(i=a.downloadconfig.pdf.url),"downloadCurrent"!=a.downloadButton.downloadType?t.jumpTo(2):t.yield(getPageDir(a.pageIndex,"normal"),3);if(2!=t.nextAddress&&(i=t.yieldResult),"object"==typeof(i="downloadAttachments"==a.downloadButton.downloadType?a.selectAttachments[0].value:i))for(e=0;e<i.length;e++)o=(o=i[e]).removeStartFrom("?"),window.open(o,"_blank");else"string"==typeof i&&-1<i.indexOf(".zip")&&"downloadAttachments"!==a.downloadButton.downloadType?(a.downloadPdfLoadingTask&&(a.downloadPdfLoadingTask.pause(),a.downloadPdfLoadingTask.destroy()),a.downloadPdfLoadingTask=new PdfLoadingTask(a.pageIndex,"normal",windowWidth,windowHeight,function(t){(t=$("<a href="+t.toDataURL("image/png")+' download="page'+this.pageIndex+'.png"></a>'))[0].click(),t.remove()}.bind(a)),a.downloadPdfLoadingTask.start()):-1<i.indexOf(".js")?fillImageAfterLoaded(a.pageIndex,"normal",function(t,i,e,o){(t=$("<a href="+t+' download="page'+this.pageIndex+'.png"></a>'))[0].click(),t.remove()}.bind(a)):(i="downloadCurrent"==a.downloadButton.downloadType?i.removeStartFrom("?"):i).match(/^none/)?(s=document.createElement("canvas"),n=s.getContext("2d"),s.width=bookConfig.largePageWidth,s.height=bookConfig.largePageWidth,n.fillStyle=bookConfig.pageBackgroundColor,n.fillRect(0,0,bookConfig.largePageWidth,bookConfig.largePageHeight),$("<a href="+s.toDataURL("image/png")+' download="page'+a.pageIndex+'.png"></a>')[0].click()):window.open(i,"_blank");t.jumpToEnd()})}.bind(this))},loadImages:function(t){var i=0,e=$("<canvas style='position:relative;'></canvas>");e.css({width:bookConfig.largePageWidth+"px",height:bookConfig.largePageHeight+"px"}),e.attr("width",bookConfig.largePageWidth+"px"),e.attr("height",bookConfig.largePageHeight+"px");for(var o=0;o<imageURL.length;o++){t=(t=imageURL[o]).removeStartFrom("?");var s=$("<img style='position:absolute;left:0;top:0;bottom:0;right:0;margin:auto;'></img>");s.attr("src",t),s[0].onload=function(t){t=$(this),bookConfig.largePageWidth/bookConfig.largePageHeight>t[0].naturalWidth/t[0].naturalHeight?t.css({width:"auto",height:"100%"}):t.css({width:"100%",height:"auto"}),e.drawImage(t),++i==imageURL.length&&callback&&callback(imageURL,imageURL,e,index)},s[0].onerror=function(t){++i==imageURL.length&&callback&&callback(imageURL,imageURL,e,index)}}},buttonEvent:function(t,i){var e=t.stage.find(".on");e.find("img").attr("src",this.downloadOffUrl),e.find("img")[0].colorChanged=!1,e.removeClass("on"),$(i).find("img").attr("src",this.downloadOnUrl),$(i).find("img")[0].colorChanged=!1,$(i).addClass("on"),i=$(i).attr("download"),t.downloadButton.downloadType=i,t.changeItemColor()},changeLanguage:function(){this.downloadAll.find(".title").html(getLanguage("DownloadFullPublication","Full Publication")),this.downloadCurrent.find(".title").html(getLanguage("DownloadCurrentPage","Current Page")),this.downloadAttachments.find(".title").html(getLanguage("DownloadAttachedFiles","Attached Files")),this.downloadButton.html(getLanguage("btnDownload","Download"))}}).extend(FormElements),PcDownloadFrame=Class({create:function(t){this.elements=new DownloadElements(this),this._super(t)},onCreate:function(){this.initColorCss(),this._super()},initColorCss:function(){this.stage.css({"background-color":this.mainColor,color:this.fontColor}),this.borderColor=this.mainColorObj.reduce(26),this.itemBgColor=this.mainColorObj.add(24)},initHtml:function(){this._super()},initEvent:function(){this._super()},onShow:function(){this.changeIconColor()},gotoPage:function(t){}}).extend(FadeOutFadeForm),PhoneDownloadForm=Class({create:function(t){this.elements=new DownloadElements(this),this._super(t)},onCreate:function(){this.content.find(".item").css({"background-color":this.fontColor,color:this.mainColor}),this.selectContent.css({"background-color":this.fontColor,color:this.mainColor}),this.downloadButton.css({"background-color":this.fontColor,color:this.mainColor}),this._super()},initHtml:function(){this.title.append(this.close),this.stage.append(this.title),this.downloadContent=$("<div class='download_content'></div>"),this.content=$("<div class='content'></div>"),this.content1=$("<div class='content1'></div>"),downloadconfig.pdf&&this.content1.append(this.downloadAll),downloadconfig.hideDownloadSinglePage||this.content1.append(this.downloadCurrent),this.selectContent=$("<div class='select_content'></div>"),this.selectContent.append(this.selectAttachments),downloadconfig.attachments&&0<downloadconfig.attachments.length&&(downloadconfig.pdf&&this.content1.append(this.downloadAttachments),this.content1.append(this.selectContent)),this.content1.append(this.downloadButton),this.content2=$("<div class='content2'></div>"),this.content2.append(this.pictureListForm.getDom()),this.content.append(this.content2),this.content.append(this.content1),this.downloadContent.append(this.content),this.stage.append(this.downloadContent)},changeIconColor:function(){this._super(),this.changeItemColor()},changeItemColor:function(){this.downloadCurrent.changeButtonColor(this.mainColor),this.downloadAttachments.changeButtonColor(this.mainColor),this.downloadAll.changeButtonColor(this.mainColor),this.pictureListForm.leftBtn.changeButtonColor(this.fontColor),this.pictureListForm.rightBtn.changeButtonColor(this.fontColor)},onShow:function(){this.favicon&&this.favicon.changeButtonColor(this.fontColor),this.changeItemColor()},gotoPage:function(t){this.pictureListForm.fillContent(t)},initEvent:function(){}}).extend(PhoneFormFrame),highlightSearchFun=(global.textForPages||(global.textForPages=[]),global.positionForPages||(global.positionForPages=[]),function(t,i){if(0!=positionForPages.length&&t){var e=!1,o=(window.frmSearch&&frmSearch.visible&&0!=frmSearch.getList().length||(e=!0),search_Text);if(1!=(e=""==o?!0:e)||isPhone()||isPad()){for(e=0;e<positionForPages.length;e++)if(positionForPages[e]&&positionForPages[e].page&&positionForPages[e].page==i){var s=positionForPages[e].positions;break}if(clearHighlightFun(t),s&&0<s.length&&((e=new SearchTextHighlight(bookConfig.largePageWidth,bookConfig.largePageHeight,rightToLeft)).loadFromPage(s),0<(o=e.searchText(o)).length)){for(s=new SearchHighlightDOM(t),e=0;e<o.length;e++){i=o[e].getRects();for(var n=0;n<i.length;){for(var a=[],h=0;h<4;h++)a[h]=i[n+h];s.addHighlight(a),n+=4}}t.css({display:"block"})}}else clearHighlightFun(t)}}),clearHighlightFun=function(t){t.css({"background-image":""}),t.css({display:"none"}),t.empty()},search_Text="",SearchElements=Class({create:function(t){this._super(t),this.callBack=t,this.initElements(),this.initEvent(t),this.pickElements(t)},initElements:function(){this.searchButtonUrl=bookConfig.SearchButtonIcon||(form_icons.search_form?"data:image/png;base64,"+form_icons.search_form:uiBaseURL+"search_form.png"),this.searchList=[],this.searchText="",this.input=$("<input class='input_search' placeholder='"+FormInfo.getFormTitle("search")+"'></input>"),bookConfig.RightToLeft&&this.input.attr("dir","rtl"),this.searchButton=$("<img class='searchButton hover_background' src='"+this.searchButtonUrl+"'/>"),this.searchResult=$("<p class='result'></p>"),this.initSwiper()},initSwiper:function(){this.searchSwiper=$("<div class='stage'></div>"),this.searchSwiperList=$("<div class='swiper'></div>"),this.searchSwiper.append(this.searchSwiperList),this.initPageHtml(),isPhone()||isPad()?this.searchSwiper.css({"overflow-y":"auto","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}):(this.searchSwiper.css({overflow:"hidden"}),this.progress=$("<div class='progress'></div>"),this.progressBar=$("<div class='progressBar'></div>"),this.searchSwiper.append(this.progress),this.progress.append(this.progressBar),this.searchSwiper.scroll({},Direction.top))},initPageHtml:function(){this.searchPageSwiper=$("<div class='pageStage' style='display:none;'></div>"),this.pageResult=$("<p class='result'></p>"),this.pageItem=$("<div class='pageItem' style='text-align:center;padding: 10px 0;'></div>"),this.thumb=$("<img style='width:120px;cursor:pointer;' />"),this.noThumbBg=$("<div style='display:none;cursor:pointer;margin: 0 auto;background:"+bookConfig.pageBackgroundColor+";width:120px;height:156px;'></div>"),(isPhone()||isPad())&&(this.thumb.css({width:"80px"}),this.noThumbBg.css({width:"80px",height:"104px"})),this.thumb.onTap(function(){this.thumb.attr("id")&&((isPhone()||isPad()||global.frmSearch)&&global.frmSearch.hide(),gotoPageFun(this.thumb.attr("id"),!1,"search"))}.bind(this)),this.noThumbBg.onTap(function(){this.noThumbBg.attr("index")&&((isPhone()||isPad()||global.frmSearch)&&global.frmSearch.hide(),gotoPageFun(this.noThumbBg.attr("index"),!1,"search"))}.bind(this)),this.searchPageSwiper.append(this.pageResult).append(this.pageItem.append(this.noThumbBg).append(this.thumb))},refreshItems:function(t){for(var i=0;i<this.searchList.length;i++)this.searchList[i].fontColor=t},refreshSwiper:function(t,i){for(var e=i.length,o=0;o<e;o++)this.addItem(t,i[o])},addItem:function(t,i){i.searchText=this.searchText,i.fontColor=this.callBack.fontColor,t=new this.callBack.newSearchItem(t,i),this.searchList.push(t)},ewSearchItem:function(t,i){return new SearchItem(t,i)},initEvent:function(){this.searchButton.onTap(function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.searchStart()}.bind(this)),this.input.bind("keydown",function(t){13==t.keyCode&&this.searchStart(),t.stopPropagation()}.bind(this)),this.input.bind("mousedown touchstart pointerdown mouseover mousemove touchmove touchstend",function(t){t.stopPropagation()}),this.input.bind("focus",function(t){this.focus=!0}.bind(this)),this.input.bind("blur",function(t){this.focus=!1}.bind(this)),this.input.bind("keyup",function(t){t.stopPropagation(),this.focus&&(this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){this.searchStart(),clearTimeout(this.timer),this.timer=null}.bind(this),1e3))}.bind(this))},refresh:function(){isPhone()||isPad()||this.searchSwiper.refreshData()},search:function(t){t&&"string"==typeof t&&(this.input.val(t),this.searchStart())},isSearchPage:function(t){return!isNaN(t)&&"error"!=t&&0<t&&t<=bookConfig.totalPageCount},searchStart:function(){var t=this.input.val().trim(),i=t.toLowerCase(),e=getRealPage(t);if(BookEvent.trigger("search",[BookInfo.getCurrentPages().join("-"),i,"search"]),this.searchText!=i&&BookInfo.getBook().clearSearchHighlight(),0==i.length)this.clear(),this.searchResult.html(getLanguage("frmSearchPrompt","Enter key to search."));else{if(this.isSearchPage(e)?this.searchByIndex(t):this.afterSearchText(),0<bookConfig.leastSearchChar){if(i.length<bookConfig.leastSearchChar)return this.isSearchPage(e)?this.searchResult.css({display:"none"}):this.searchResult.css({display:"block"}),this.searchList=[],this.searchSwiperList.empty(),this.refresh(),this.searchResult.html(getLanguage("pnlSearchInputInvalid","The search text is too short.")),void(this.searchText=i);this.searchResult.css({display:"block"})}this.searchText!=i&&(search_Text=this.searchText=i,this.searchSwiper.loading(),this.analysisData=new AnalysisSearch(i,this.doSearch.bind(this)))}},searchByIndex:function(t){var i=getRealPage(t);i<=bookConfig.totalPageCount&&1<=i?(this.searchPageSwiper.css({display:"block"}),this.afterSearchThumbs(),rightToLeft?this.pageResult.html("<span style='color:"+bookConfig.searchKeywordFontColor+";'>"+t+"</span> :"+getLanguage("lblPage","Page")):this.pageResult.html(getLanguage("lblPage","Page")+": <span style='color:"+bookConfig.searchKeywordFontColor+";'>"+t+"</span>"),this.thumb.attr("id",i),this.noThumbBg.attr("index",i),fillImageAfterLoaded(i,"thumb",function(t){(t.match(/^none/)?(this.noThumbBg.css({display:"block"}),this.thumb.attr("src","")):(this.thumb.attr("src",t).css({display:"inline-block"}),this.noThumbBg)).css({display:"none"})}.bind(this))):(this.afterSearchText(),this.searchPageSwiper.css({display:"none"}))},doSearch:function(t){!t.length&&!isNaN(this.searchText)&&this.searchText<=bmtConfig.totalPageCount?this.searchResult.css({display:"none"}):this.searchResult.css({display:"block"}),this.searchSwiper.hideLoading(),this.searchList=t,this.searchSwiperList.empty(),rightToLeft?this.searchResult.html("<span style='color:"+bookConfig.searchKeywordFontColor+";'>"+this.searchList.length+"</span> "+getLanguage("lblPages","Found Pages")):this.searchResult.html(getLanguage("lblPages","Found Pages")+" <span style='color:"+bookConfig.searchKeywordFontColor+";'>"+this.searchList.length+"</span>"),this.refreshSwiper(this.searchSwiperList,this.searchList),this.refresh(),BookInfo.getBook().addSearchHighlight()},getSearchText:function(){return this.searchText},getList:function(){return this.searchList},clear:function(){search_Text=this.searchText="",this.input.val(""),this.searchList=[],BookInfo.getBook().clearSearchHighlight(),this.searchSwiperList.empty(),this.searchResult.html(getLanguage("frmSearchPrompt","Enter key to search.")),this.refresh()},pickElements:function(t){t.searchButtonUrl=this.searchButtonUrl,t.searchList=this.searchList,t.searchText=this.searchText,t.input=this.input,t.searchButton=this.searchButton,t.searchResult=this.searchResult,t.searchSwiper=this.searchSwiper,t.searchSwiperList=this.searchSwiperList,t.progress=this.progress,t.progressBar=this.progressBar,t.searchPageSwiper=this.searchPageSwiper,t.pageResult=this.pageResult,this.afterSearchThumbs=t.afterSearchThumbs,this.afterSearchText=t.afterSearchText,t.search=this.search.bind(this)},changeLanguage:function(){this.input.attr("placeholder",FormInfo.getFormTitle("search")),toolBar.edtPreSearch&&toolBar.edtPreSearch.find("input")[0]&&toolBar.edtPreSearch.find("input").val(getLanguage("btnSearch","Search"))}}).extend(FormElements),PcSearchFrame=Class({create:function(t){this.elements=new SearchElements(this),this._super(t)},onCreate:function(){this.initColorCss()},initColorCss:function(){this.stage.css({"background-color":this.mainColor,color:this.fontColor})},initHtml:function(){this.stage.addClass("win10_border"),this.stage.append(this.title),this.favicon&&(bookConfig.RightToLeft?this.title.append(this.favicon):this.title.prepend(this.favicon)),bookConfig.SearchButtonIcon&&(this.searchButton=$("<img class='searchButton hover_background' style='position:absolute;top:72px;right:25px;cursor:pointer;z-index:10;max-width:22px;max-height:22px;transform: translate(0, -50%);' src='"+bookConfig.SearchButtonIcon+"'/>")),this.stage.append(this.close),this.stage.append(this.input),this.stage.append(this.searchButton),this.stage.append(this.searchPageSwiper),this.stage.append(this.searchResult),this.stage.append(this.searchSwiper),this.parent.append(this.stage)},newSearchItem:function(t,i){return new PcSearchItem(t,i)},onResize:function(){var t=Math.max(windowHeight-bookConfig.topMargin-bookConfig.bottomMargin-toolBar.getHeight(),1),i=(toolBar.getWidth(),toolBar.getTopHeight()+10);this.width=250,this.height=t-87,this.maxHeight=this.height-87,this.stage.css({height:this.height+"px",top:i+"px"}),this.searchSwiper.css("height",this.maxHeight+"px"),this.elements.refresh()},afterSearchThumbs:function(){this.height=Math.max(windowHeight-bookConfig.topMargin-bookConfig.bottomMargin-toolBar.getHeight(),1)-87,this.searchSwiper.css("height",this.height-287+"px")},afterSearchText:function(){this.height=Math.max(windowHeight-bookConfig.topMargin-bookConfig.bottomMargin-toolBar.getHeight(),1)-87,this.searchSwiper.css("height",this.height-87+"px"),this.searchPageSwiper.css({display:"none"})},getList:function(){return this.elements.getList()},onShow:function(){this.changeIconColor(),this.input.focus(),BookInfo.getBook().addSearchHighlight()},onHide:function(){BookInfo.getBook().clearSearchHighlight()}}).extend(SlideForm),loadSearchFlag=!1,AnalysisSearch=Class({create:function(t,i){this.callback=i,this.results=[],this.search(t)},search:function(t){var i,e,o,s;0==loadSearchFlag?isTouchDevice()?loadJavascript(fixURLValue(bookConfig.searchTextJS),function(){loadSearchFlag=!0,this.doSearch(t)}.bind(this),function(){loadSearchFlag=!0,this.doSearch(t)}.bind(this)):(e=i=!1,o=function(){i&&e&&(loadSearchFlag=!0,this.doSearch(t))}.bind(this),loadJavascript(fixURLValue(bookConfig.searchTextJS),function(){i=!0,o()},function(){i=!0,o()}),s=String.format(bookConfig.searchPositionJS,BookInfo.getCurrentPageIndex()),loadJavascript(fixURLValue(s),function(){e=!0,o()},function(){e=!0,o()})):this.doSearch(t)},doSearch:function(t){this.results=searchFromPages(textForPages,t),this.callback(this.results)},getList:function(){return this.results},clear:function(){this.results=[]}}),SearchItem=Class({create:function(t,i){this.fontColor=i.fontColor,this.parent=t,this.parm=i,this.sDescription=this.handleData(i.search_text,i.searchText),this.index=i.search_page,this.sPage=getShownPageNumber(i.search_page),this.sPageTitle=getLanguage("lblPage","Page"),this.initHtml(),this.initEvent()},initHtml:function(){this.initElement(),this.item.append(this.page),this.item.append(this.description),this.parent.append(this.item)},initElement:function(){this.item=$("<div class='item'></div>"),rightToLeft?(this.page=$("<div class='page'>"+this.sPage+":"+this.sPageTitle+"</div>"),LanguageTool.isRightToLeft(this.parm.search_text)?this.description=$("<div class='description rtl'>"+this.sDescription+"</div>"):this.description=$("<div class='description'>"+this.sDescription+"</div>")):(this.page=$("<div class='page'>"+this.sPageTitle+":"+this.sPage+"</div>"),this.description=$("<div class='description'>"+this.sDescription+"</div>"))},handleData:function(t,i){return t=HTMLString.toLabel(t),t=handleData(t,i),HTMLString.riseAWord(t,i,bookConfig.searchKeywordFontColor)},initEvent:function(){this.item.bind("mouseover",function(){this.item.css({"background-color":Color(this.fontColor).rgba(.25)})}.bind(this)),this.item.bind("mouseleave",function(){this.item.css({"background-color":"transparent"})}.bind(this)),this.item.onTap(function(){gotoPageFun(this.index,!1,"search"),BookInfo.getBook().addSearchHighlight(),(isPhone()||isPad())&&global.frmSearch.hide()}.bind(this))}}),PhoneSearchItem=Class({initEvent:function(){this.item.bind("mouseover",function(){this.item.css({"background-color":Color(this.fontColor).rgba(.25)})}.bind(this)),this.item.bind("mouseleave",function(){this.item.css({"background-color":"transparent"})}.bind(this)),this.item.onTap(function(){gotoPageFun(this.index,!1,"search"),BookInfo.getBook().addSearchHighlight(),(isPhone()||isPad())&&setTimeout(function(){global.frmSearch.hide()}.bind(this),bookConfig.flippingTime<1?1e3*bookConfig.flippingTime+100:bookConfig.flippingTime+100)}.bind(this))}}).extend(SearchItem),PhoneSearchForm=Class({create:function(t){this.elements=new SearchElements(this),this._super(t)},onCreate:function(){this.stage.css({color:this.fontColor,"background-color":this.mainColor}),this.input.css({color:"#000000",opacity:1});var t=new Color(this.mainColor);String.format("%s %s %s %s",t.reduce(40),t.reduce(40),t.add(40),t.add(40)),isPhone()||isPad()?this.searchSwiper.css({"overflow-y":"auto","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}):this.searchSwiper.css({overflow:"hidden"}),this.favicon&&this.favicon.changeButtonColor(this.fontColor),this._super()},initHtml:function(){bookConfig.SearchButtonIcon&&(this.searchButton=$("<img class='searchButton hover_background' style='max-width:22px;max-height:22px;' src='"+bookConfig.SearchButtonIcon+"'/>")),this.container=$("<div class='phoneSearchStage' style='overflow:hidden auto;margin-top:10px;'></div>"),this.title.append(this.close),this.stage.append(this.title),this.stage.append(this.input),this.stage.append(this.searchButton),this.searchSwiper.css({height:"auto"}).find(".swiper").css({position:"relative"}),this.stage.append(this.container),this.container.append(this.searchPageSwiper).append(this.searchResult).append(this.searchSwiper)},newSearchItem:function(t,i){return new PhoneSearchItem(t,i)},getList:function(){return this.elements.getList()},onShow:function(){this.favicon&&this.favicon.changeButtonColor(this.fontColor)},hide:function(){this._super(),this.input.blur()},afterSearchThumbs:function(){this.height=windowHeight},afterSearchText:function(){this.height=windowHeight,this.searchPageSwiper.css({display:"none"})},onResize:function(){this._super(),this.container.css("height",this.height-115+"px"),this.searchPageSwiper.css("display"),this.input.css("width",this.width-75+"px"),this.elements.refresh()},initEvent:function(){}}).extend(PhoneFormFrame),LanguageElements=Class({create:function(t){this._super(t),this.initElements(),this.initEvent(t),this.pickElements(t)},initElements:function(){this.choosedUrl=uiBaseURL+"choosed.png",this.itemArray=[],this.scrollBox=$("<div class='scrollBox'></div>");for(var t=0;t<language.length;t++)language[t]&&language[t].language&&this.addItem(language[t].language)},addItem:function(t){var i,e;t&&(i=t,(isPhone()||isPad())&&(i="&nbsp;&nbsp;&nbsp;"+t),e=$("<div class='item'><div class='title'>"+i+"<div/><img src='"+this.choosedUrl+"'/></div>"),t.toLowerCase()===bookConfig.language.toLowerCase()&&(e.addClass("focus"),this.currentItem=e),e.bind(_event._end,function(){this.refreshLanguage(t),this.currentItem=e,this.scrollBox.find(".focus").removeClass("focus"),e.addClass("focus")}.bind(this)),this.scrollBox.append(e),this.itemArray.push(e))},refreshLanguage:function(t){bookConfig.language=t,changeLanguage(bookConfig.language)},initEvent:function(t){},pickElements:function(t){t.choosedUrl=this.choosedUrl,t.itemArray=this.itemArray,t.scrollBox=this.scrollBox},changeLanguage:function(){}}).extend(FormElements),PhoneLanguageForm=(Class("PcLanguageForm",{create:function(t){this.elements=new LanguageElements(this),this._super(t)},onCreate:function(){this.close.changeButtonColor(this.color),this._super()},initEvent:function(){this._super(),this.stage.bind(_event._end,function(){this.hide()}.bind(this));for(var t=0;t<this.itemArray.length;t++)this.itemArray[t].bind(_event._end,function(){this.hide()}.bind(this))},initHtml:function(){this.title.append(this.close),this.stage.append(this.title),this.stage.append(this.scrollBox)},onResize:function(){},onShow:function(){}}).extend(FadeOutFadeForm),Class({create:function(t){this.elements=new LanguageElements(this),this._super(t)},onCreate:function(){this._super(),this.favicon&&this.favicon.changeButtonColor(this.fontColor)},initEvent:function(){},initHtml:function(){this.title.append(this.close),this.stage.append(this.title),this.stage.append(this.scrollBox)},onResize:function(){this._super(),this.scrollBox.css({height:this.height-61+"px",overflow:"auto"})},onShow:function(){}}).extend(PhoneFormFrame)),SettingElements=Class({create:function(t){this._super(t),this.initElements(),this.initEvent(t),this.pickElements(t)},initElements:function(){this.choosedUrl=uiBaseURL+"choosed.png",this.unChoosedUrl=uiBaseURL+"unchoosed.png",this.scrollBox=$("<div class='scrollBox'></div>");var t=this.choosedUrl,i=getLanguage("closeFlipSound","Close Flip Sound"),e=getLanguage("closeBackgroundSound","Close Background Sound");this.flipSoundBtn=$("<div class='item'><div class='title'>"+i+"</div><img src='"+t+"'/></div>"),this.backgroundSoundBtn=$("<div class='item' id='btnSound'><div class='title'>"+e+"</div><img src='"+t+"'/></div>"),bookConfig.FlipSound&&this.scrollBox.append(this.flipSoundBtn),bookConfig.BackgroundSoundButtonVisible&&bookConfig.BackgroundSoundURL&&this.scrollBox.append(this.backgroundSoundBtn)},initEvent:function(t){$(this.flipSoundBtn.find("img")).bind(_event._down,function(t){t.preventDefault()}),$(this.backgroundSoundBtn.find("img")).bind(_event._down,function(t){t.preventDefault()}),this.flipSoundBtn.bind(_event._down,function(t){flipSoundIsPlaying=!flipSoundIsPlaying,this.changeFlipSoundBtnCase()}.bind(this)),this.backgroundSoundBtn.bind(_event._down,function(){window.bgSound&&bgSound.playOrPause(),this.changeBackgroundBtnCase()}.bind(this))},changeFlipSoundBtnCase:function(){flipSoundIsPlaying?(this.flipSoundBtn.find("img").attr("src",this.choosedUrl),playFlipSound(),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"flip sound",getLanguage("tmpl_Flipsoundon","Open Flip Sound")])):(this.flipSoundBtn.find("img").attr("src",this.unChoosedUrl),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"flip sound",getLanguage("tmpl_Flipsoundoff","Close Flip Sound")]))},changeBackgroundBtnCase:function(){!0!==isPlaying?(this.backgroundSoundBtn.find("img").attr("src",this.unChoosedUrl),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"background sound",getLanguage("tmpl_Backgoundsoundoff","Close Background Sound")])):(this.backgroundSoundBtn.find("img").attr("src",this.choosedUrl),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"background sound",getLanguage("tmpl_Backgoundsoundon","Open Background Sound")]))},pickElements:function(t){t.choosedUrl=this.choosedUrl,t.unChoosedUrl=this.unChoosedUrl,t.scrollBox=this.scrollBox,t.flipSoundBtn=this.flipSoundBtn,t.backgroundSoundBtn=this.backgroundSoundBtn,t.changeFlipSoundBtnCase=this.changeFlipSoundBtnCase,t.changeBackgroundBtnCase=this.changeBackgroundBtnCase},changeLanguage:function(){flipSoundIsPlaying?this.flipSoundBtn.find(".title").html(getLanguage("tmpl_Flipsoundon","Open Flip Sound")):this.flipSoundBtn.find(".title").html(getLanguage("tmpl_Flipsoundoff","Close Flip Sound")),!0===isPlaying?this.backgroundSoundBtn.find(".title").html(getLanguage("tmpl_Backgoundsoundoff","Close Background Sound")):this.backgroundSoundBtn.find(".title").html(getLanguage("tmpl_Backgoundsoundon","Open Background Sound"))}}).extend(FormElements),PhoneSettingForm=Class({create:function(t){this.elements=new SettingElements(this),this._super(t)},onCreate:function(){this.favicon&&this.favicon.changeButtonColor(this.fontColor),this._super()},initHtml:function(){this.title.append(this.close),this.stage.append(this.title),this.stage.append(this.scrollBox)},initEvent:function(){},onShow:function(){this.favicon&&this.favicon.changeButtonColor(this.fontColor)},changeLanguage:function(){this._super(),this.elements.changeLanguage()}}).extend(PhoneFormFrame),PcSoundSettingForm=Class({create:function(t){this._super(t)},onCreate:function(){this.stage.css({"background-color":"transparent"}),this._super()},initHtml:function(){this.flipSoundOnImage=uiBaseURL+"flipSoundOn.png",this.flipSoundOffImage=uiBaseURL+"flipSoundOff.png",this.backSoundOnImage=uiBaseURL+"backSoundOn.png",this.backSoundOffImage=uiBaseURL+"backSoundOff.png";var t=getLanguage("tmpl_Flipsoundon","Open Flip Sound"),i=getLanguage("tmpl_Backgoundsoundon","Open Background Sound");this.backgroundSoundBtn=$("<div class='item' id='btnSound'><img src='"+this.backSoundOnImage+"'/><p class='title'>"+i+"</p></div>"),this.flipSoundBtn=$("<div class='item'><img src='"+this.flipSoundOnImage+"'/><p class='title'>"+t+"</p></div>"),this.stage.append(this.backgroundSoundBtn),this.stage.append(this.flipSoundBtn)},initEvent:function(t){this.flipSoundBtn.bind(_event._end,function(){flipSoundIsPlaying=!flipSoundIsPlaying,this.changeFlipSoundBtnCase()}.bind(this)),this.backgroundSoundBtn.bind(_event._end,function(){window.bgSound&&bgSound.playOrPause(),this.changeBackgroundBtnCase()}.bind(this))},changeFlipSoundBtnCase:function(){flipSoundIsPlaying?(this.flipSoundBtn.find("img").attr("src",this.flipSoundOnImage),this.flipSoundBtn.find(".title").html(getLanguage("tmpl_Flipsoundon","Open Flip Sound")),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"flip sound",getLanguage("tmpl_Flipsoundon","Open Flip Sound")]),playFlipSound(),StateSynchronous.instance().findButtons("BackgroundSoundButton").each(function(t){t.setAsSoundOn(),t.executeCallback()})):(this.flipSoundBtn.find("img").attr("src",this.flipSoundOffImage),this.flipSoundBtn.find(".title").html(getLanguage("tmpl_Flipsoundoff","Close Flip Sound")),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"flip sound",getLanguage("tmpl_Flipsoundoff","Close Flip Sound")]),StateSynchronous.instance().findButtons("BackgroundSoundButton").each(function(t){t.setAsSoundOff(),t.executeCallback()}))},changeBackgroundBtnCase:function(){!0!==isPlaying?(this.backgroundSoundBtn.find("img").attr("src",this.backSoundOffImage),this.backgroundSoundBtn.find(".title").html(getLanguage("tmpl_Backgoundsoundoff","Close Background Sound")),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"background sound",getLanguage("tmpl_Backgoundsoundoff","Close Background Sound")])):(this.backgroundSoundBtn.find("img").attr("src",this.backSoundOnImage),this.backgroundSoundBtn.find(".title").html(getLanguage("tmpl_Backgoundsoundon","Open Background Sound")),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"background sound",getLanguage("tmpl_Backgoundsoundon","Open Background Sound")]))},onShow:function(){},changeLanguage:function(){flipSoundIsPlaying?this.flipSoundBtn.find(".title").html(getLanguage("tmpl_Flipsoundon","Open Flip Sound")):this.flipSoundBtn.find(".title").html(getLanguage("tmpl_Flipsoundoff","Close Flip Sound")),!0===isPlaying?this.backgroundSoundBtn.find(".title").html(getLanguage("tmpl_Backgoundsoundoff","Close Background Sound")):this.backgroundSoundBtn.find(".title").html(getLanguage("tmpl_Backgoundsoundon","Open Background Sound"))}}).extend(FadeOutFadeForm),HelpElements=Class({create:function(t){this._super(t),this.initElements(),this.initEvent(t),this.pickElements(t)},initElements:function(){bookConfig.helpContentFileURL?this.image=$("<div></div>"):(this.helpUrl=form_icons.help_form?"data:image/png;base64,"+form_icons.help_form:uiBaseURL+"help_form.png",this.image=$("<img class='logo' src='"+this.helpUrl+"'/>"),this.title1=$("<p class='description'>"+getLanguage("lblHelp1","Drag the page corner to view")+"</p>"),this.title2=$("<p class='description'>"+getLanguage("lblHelp2","Double click to zoom in, out")+"</p>"))},resetHelpIcon:function(t){bookConfig.helpContentFileURL||this.image.attr("src",this.helpUrl)},initEvent:function(t){},pickElements:function(t){t.helpUrl=this.helpUrl,t.image=this.image,t.title1=this.title1,t.title2=this.title2},changeLanguage:function(){this.title1&&this.title1.html(getLanguage("lblHelp1","Drag the page corner to view")),this.title2&&this.title2.html(getLanguage("lblHelp2","Double click to zoom in, out"))}}).extend(FormElements),PcHelpFrame=Class({create:function(t){this.elements=new HelpElements(this),this._super(t)},onCreate:function(){this.initColorCss(),bookConfig.helpContentFileURL&&(this.stage.css({width:bookConfig.helpWidth+"px",height:bookConfig.helpHeight+"px"}),this.image.css({background:"url("+bookConfig.helpContentFileURL+") center no-repeat","background-size":"contain",width:"100%",height:"100%"}),this.content)&&this.content.css({width:bookConfig.helpWidth-34+"px",height:bookConfig.helpHeight-59+"px"}),this._super(),bookConfig.showHelpContentAtFirst?this.show():this.hide()},initColorCss:function(){this.stage.css({"background-color":this.mainColor,color:this.fontColor})},resetColorChanged:function(){this._super(),!bookConfig.helpContentFileURL&&this.image&&(this.image[0].colorChanged=!1)},resetIconSrc:function(t){this._super(),!bookConfig.helpContentFileURL&&this.image&&this.elements.resetHelpIcon(this.fontColor)},changeIconColor:function(){this._super(),!bookConfig.helpContentFileURL&&this.image&&this.image.changeButtonColor(this.fontColor)},initHtml:function(){this._super()},onShow:function(){this.changeIconColor()}}).extend(FadeOutFadeForm),share_url=(Class("SharePoster",{create:function(t){this.parent=t,this.initConfig(),this.initHtml(),this.initCss(),this.initEvent()},initHtml:function(){this.pContainer=$("<div class='posterContainer'></div>"),this.initReadyHtmlPanel(),this.initPosterImgPanel(),this.parent.append(this.pContainer)},initConfig:function(){this.height=windowHeight-20,this.width=.66*this.height;var t=windowWidth-20;this.width>t&&(this.width=t,this.height=this.width/.66),this.scale=this.width/684},initReadyHtmlPanel:function(){this.canvas=$("<canvas style='z-index:1;left: 50%;top: 50%;position: absolute;-webkit-transform: translate(-50%,-50%) scale("+this.scale+");transform: translate(-50%,-50%) scale("+this.scale+");'></canvas>"),this.ctx=this.canvas[0].getContext("2d"),this.thumb=$("<img crossOrigin='Anonymous' style='border: 1px solid #e5e5e5;width: 100%;height: 100%;position: absolute;left:0;bottom: 0;'/>"),this.cvsBg=$("<img crossOrigin='Anonymous' src='"+uiBaseURL+"posterBg.jpg' />"),this.qrcodeBox=$("<div style='border: 1px solid #e5e5e5;'></div>"),this.qrcodeBox.qrcode({width:100,height:100,render:"image",text:bookConfig.socialShareLink||window.location.href.removeStartFrom("#p=")}),this.pContainer.append(this.canvas).append(this.svg)},initPosterImg:function(){this.beforeCreatePoster(),this.canvas[0].width=684,this.canvas[0].height=1036,this.imgs=[this.cvsBg,this.thumb],this.getSrcAndImg(0)},setImgs:function(t,i){var e=t.imgs;t.loadImgFun(e[i]).then(function(){(i+=1)<e.length?t.setImgs(t,i):t.drawPoster()})},getSrcAndImg:function(i){var o=this;getPageDir(1,"normal").then(function(t){var e;-1<(t="object"==typeof t&&t[0]?(fliphtml5_pages.normalPath&&null!=fliphtml5_pages.normalPath[0]?fliphtml5_pages.normalPath[0]:bookConfig.normalPath&&bookConfig.normalPath[0])+t[0]:t).indexOf("none")?getPageDir(1,"thumb").then(function(t){t.match(/none/)?(o.thumb.attr("src","").css({display:"none"}),o.setImgs(o,i)):(o.thumb.attr("src",t),o.thumb.attr("crossOrigin","Anonymous"),o.setImgs(o,i),o.isUseThumb=!0)}):"string"==typeof t&&(-1<t.indexOf(".jpg")||-1<t.indexOf(".png"))?(o.thumb.attr("src",t),o.thumb.attr("crossOrigin","Anonymous"),o.setImgs(o,i)):"string"==typeof t&&-1<t.indexOf(".zip")?(o.pdfLoadingTask=new PdfLoadingTask(1,"normal",684,1036,o.afterLoadPdf.bind(o,i)),o.pdfLoadingTask.start()):(e=fliphtml5_pages.normalPath,(e=fliphtml5_pages.normalPath?e:bookConfig.normalPath)&&e.length&&t.forEach(function(t,i){-1<(t=e[i]+t).indexOf(".jpg")||-1<t.indexOf(".png")?(this.thumb.attr("src",t),this.thumb.attr("crossOrigin","Anonymous")):((i=$("<img />")).attr("src",t),i.attr("crossOrigin","Anonymous"),this.imgs.push(i))}.bind(o)),o.setImgs(o,i))})},afterLoadPdf:function(t,i){var e=$("<img />");e.attr("src",i.toDataURL("image/png")),e.attr("crossOrigin","Anonymous"),this.imgs.push(e),this.setImgs(this,t)},loadImgFun:function(t){var e=$(t);return new Promise(function(t,i){e[0].complete?(console.log("load img complete"),e.attr("crossOrigin","Anonymous"),t()):(e[0].onload=function(){e.attr("crossOrigin","Anonymous"),console.log("load img ok"),t()},e[0].onerror=function(t){console.log("load img error",e),i(t)})}.bind(this))},drawImages:function(e,o){this.imgs.shift(),this.imgs.forEach(function(t){var i=getImageConfig(t[0],556,781,this.isUseThumb);""===t.attr("src")?(i={width:556,height:781,left:0,top:0},this.ctx.fillStyle="#ffffff",this.ctx.fillRect(e+i.left,o+i.top,i.width,i.height)):this.ctx.drawImage(t[0],i.left+e,i.top+o,i.width,i.height)}.bind(this))},drawPoster:function(){var t=window.document.title,i=getImageConfig(this.thumb[0],556,781,this.isUseThumb);(-1<this.thumb[0].src.indexOf("none")||!this.thumb[0].src.match(/jpg|png/))&&(i={width:556,height:781,left:0,top:0}),this.ctx.drawImage(this.cvsBg[0],0,0,684,1036),this.drawBottomShadow(i,64,55),this.drawImages(64,55),this.drawCvsBorder(i,64,55),this.drawLeftShadow(i,64,55),this.drawTitleText(t,"20 Arial"),this.ctx.fillStyle="#ffffff",this.ctx.fillRect(308,936,1,60),this.drawAlertText(),this.drawQrcode();try{this.afterCreatedPoster();var e=this.canvas[0].toDataURL("image/png",1);this.posterImg.attr("src",e),isIE()?this.pcDownload.bind("click",function(){if(navigator.msSaveBlob)return navigator.msSaveBlob(this.getDataURLtoBlob(e),"poster.png")}.bind(this)):(this.pcDownload.attr("href",e),this.pcDownload.attr("download","poster")),this.hasPoster=!0}catch(t){this.isloadFail=!0,this.afterFailLoad(),console.log(t)}},getDataURLtoBlob:function(t){var i=t.split(",");t=i[0].match(/:(.*?);/)[1];for(var e=(i=atob(i[1])).length,o=new Uint8Array(e);e--;)o[e]=i.charCodeAt(e);return new Blob([o],{type:t})},drawBottomShadow:function(t,i,e){this.ctx.save(),this.ctx.shadowBlur=40,this.ctx.shadowColor="rgba(11,11,11,0.7)",this.ctx.fillStyle="#ffffff",this.ctx.shadowOffsetY=20,this.ctx.fillRect(t.left+i+.03*t.width,e+t.top+t.height-147,.94*t.width,146),this.ctx.restore()},drawLeftShadow:function(t,i,e){var o;this.ctx.save(),rightToLeft?((o=this.ctx.createLinearGradient(t.left+i+t.width-8,e+t.top+t.height-t.height,t.left+i+t.width,e+t.top+t.height-t.height)).addColorStop(0,"rgba(255,255,255,0)"),o.addColorStop(1,"rgba(58,58,58,0.8)")):((o=this.ctx.createLinearGradient(t.left+i,e+t.top+t.height-t.height,t.left+i+8,e+t.top+t.height-t.height)).addColorStop(0,"rgba(58,58,58,0.8)"),o.addColorStop(1,"rgba(255,255,255,0)")),this.ctx.fillStyle=o,this.ctx.fillRect(t.left+i+t.width-8,e+t.top+t.height-t.height,8,t.height),this.ctx.restore()},drawCvsBorder:function(t,i,e){for(var o=t.height,s=0;s<5;s++)this.ctx.fillStyle=0==s%2?"#e5e5e5":"#f2f2f2",rightToLeft?this.ctx.fillRect(Math.floor(t.left+i-5+ +s),e+t.top+(5-s),1,o-2*(5-s)):this.ctx.fillRect(Math.floor(t.left+i+t.width+ +s),e+t.top+ +s,1,o-2*s)},drawTitleText:function(t,i){i&&(this.ctx.font="20px Arial");var e=this.ctx.measureText(t).width;i=957,this.ctx.textBaseline="top",274<e?(i=943,e=this.getLinitText(t,274),t=this.getLinitText(t.replace(e,""),266,!0),this.ctx.fillText(e,15,i),this.ctx.fillText(t,15,i+26)):this.ctx.fillText(t,15+(274-e)/2,i)},getLinitText:function(t,i,e){var o="",s="";for(textArr=t,t=0;t<textArr.length;t++){if(this.ctx.measureText(o).width>i)return e?s+"...":s;s=o,o+=textArr[t]}return o},drawAlertText:function(){this.ctx.font="20px Arial";var t,i=954,e=(this.ctx.textBaseline="top",this.ctx.fillStyle="#db9a67",this.getLinitText(getLanguage("infLongPressToIndentify","Long press to identify QR code"),267,!0)),o=this.getLinitText(getLanguage("infScanCodeToView","Scan code to read"),227,!0),s=323+(226-this.ctx.measureText(o).width)/2;getLanguage("infLongPressToIndentify")?(i=943,this.ctx.font="14px Arial",t=323+(226-this.ctx.measureText(e).width)/2,this.ctx.fillText(e,t,i),this.ctx.font="20px Arial",this.ctx.fillText(o,s,i+26)):this.ctx.fillText(o,323,i)},drawQrcode:function(){this.ctx.fillStyle="#ffffff",this.ctx.fillRect(561,911,110,110),this.ctx.drawImage(this.qrcodeBox.find("img")[0],566,916,100,100);var t=new Image;t.src=bookConfig.appLogoIcon,t.setAttribute("crossOrigin","Anonymous"),bookConfig.appLogoIcon&&this.ctx.drawImage(t,611,961,20,20)},getCloseSrc:function(){return"./style/icon/close.svg"},initPosterImgPanel:function(){this.topTitle=$("<div style='transition:transform 0.3s;-webkit-transition:transform 0.3s;-webkit-transform:translateY(-30px);transform:translateY(-30px);font-size:14px;color:#fff;width:100%;position:absolute;top:0;left:0;height:28px;background:rgba(11,11,11,0.5) '></div>"),this.pcDownload=$("<a style='position:absolute;padding-left:24px;left:6px;color:#fff;text-decoration:none;line-height:28px;height:28px;cursor:pointer;'><span style='position:absolute;left:0;width:20px;height:20px;top:4px;background: url("+uiBaseURL+"download.png) center center no-repeat;background-size:contain;'></span>"+getLanguage("btnDownloadPosterPrompt","Click to download the poster")+"</a>"),this.alertText=$("<div style='font-size:14px;width: "+(this.width-37)+"px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;position:absolute;left:10px;top:0;line-height:28px;height:28px;'>"+getLanguage("infLongPressToSavePoster","Long press to identify QR code")+"</div>"),this.closeBtn=$('<span style="cursor:pointer;z-index:1112;position:absolute;width:16px;height:17px;top:2px;right:2px;padding: 3px 4px 4px;">'+phoneSvgIcons.close+"</span>"),this.loading=$("<img style='position:absolute;transform : translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);left : 50%;top : 50%;z-index:1112' src='"+uiBaseURL+"loading.gif' />"),this.posterImgOuter=$("<div></div>"),this.posterImg=$("<img />"),this.popPosterBox=$("<div></div>"),this.popPosterBg=$("<div></div>"),this.topTitle.append(this.alertText).append(this.closeBtn).append(this.pcDownload),this.posterImgOuter.append(this.posterImg).append(this.topTitle),this.popPosterBox.append(this.popPosterBg).append(this.posterImgOuter).append(this.loading),this.pContainer.append(this.popPosterBox),this.posterImgOuter.fadeOut()},onResize:function(){this.initConfig(),this.resizeCss()},showPosterHtml:function(){this.canvas.css({display:"block",left:"50%",top:"50%",transform:"translate(-50%,-50%) scale("+this.scale+")"})},initCss:function(){this.posterImgOuter.css({overflow:"hidden",transform:"translate(-50%,-50%)","-webkit-transform":"translate(-50%,-50%)",left:"50%",top:"50%","z-index":"1111",position:"absolute",display:"none",width:684*this.scale+"px",height:1036*this.scale+"px"}),this.posterImg.css({width:684*this.scale+"px",height:1036*this.scale+"px"}),this.pContainer.css({display:"none","z-index":"1001",position:"absolute",left:"0",top:"0",width:"100%",height:"100%",background:"rgba(11,11,11,0.7)"}),this.popPosterBox.css({"z-index":"1001",position:"absolute",left:"0",top:"0",width:"100%",height:"100%"}),this.popPosterBg.css({"z-index":"0",position:"absolute",left:"0",top:"0",width:"100%",height:"100%"}),(isPhone()||isPad()?(this.topTitle.css({"-webkit-transform":"translateY(0)",transform:"translateY(0)"}),this.alertText.css({display:"block"}),this.pcDownload):(this.topTitle.css({"-webkit-transform":"translateY(-30px)",transform:"translateY(-30px)"}),this.pcDownload.css({display:"block"}),this.alertText)).css({display:"none"})},resizeCss:function(){this.alertText.css({width:this.width-37+"px"}),this.posterImgOuter.css({width:684*this.scale+"px",height:1036*this.scale+"px"}),this.posterImg.css({width:684*this.scale+"px",height:1036*this.scale+"px"}),this.canvas.css({"-webkit-transform":"translate(-50%,-50%) scale("+this.scale+")",transform:"translate(-50%,-50%) scale("+this.scale+")"})},initEvent:function(){this.popPosterBg.bind(_event._down,function(t){t.stopPropagation(),this.pContainer.fadeOut()}.bind(this)),this.posterImg.on("load",function(){this.posterImgOuter.fadeIn()}.bind(this)),isPC()&&(this.closeBtn.bind(_event._enter,function(t){t.stopPropagation(),this.closeBtn.css({opacity:"0.65"})}.bind(this)),this.closeBtn.bind(_event._leave,function(t){t.stopPropagation(),this.closeBtn.css({opacity:"1"})}.bind(this)),this.pcDownload.bind(_event._enter,function(t){t.stopPropagation(),this.pcDownload.css({opacity:"0.65"})}.bind(this)),this.pcDownload.bind(_event._leave,function(t){t.stopPropagation(),this.pcDownload.css({opacity:"1"})}.bind(this))),this.closeBtn.bind(_event._click,function(t){t.stopPropagation(),this.hide()}.bind(this)),isPhone()||isPad()||(this.posterImgOuter.bind("mouseenter",function(){this.topTitle.css({transform:"translateY(0)","-webkit-transform":"translateY(0)"})}.bind(this)),this.posterImgOuter.bind("mouseleave",function(){this.topTitle.css({transform:"translateY(-30px)","-webkit-transform":"translateY(-30px)"})}.bind(this)))},beforeCreatePoster:function(){this.canvas.css({display:"block"}),this.loading.css({display:"block"})},afterCreatedPoster:function(){this.canvas.css({display:"none",left:"110%",top:"110%",transform:"scale("+this.scale+")"}),this.loading.css({display:"none"})},afterFailLoad:function(){this.beforeCreatePoster(),this.showPosterHtml(),this.loading.css({display:"none"}),this.canvas.css({"z-index":"1002"})},show:function(){this.pContainer.fadeIn(),this.hasPoster?this.posterImgOuter.fadeIn():this.isloadFail?this.afterFailLoad():this.initPosterImg(),global.sharePanel&&global.sharePanel.hide(),this.onShow()},hide:function(){this.pContainer.fadeOut(),this.onHide()},onShow:function(){},onHide:function(){}}),!function(t){bookConfig.ShareButtonVisible&&(-1<(t=window.location.href.toLowerCase()).indexOf("fliphtml5.com")||-1<t.indexOf("pubhtml5.com")||-1<t.indexOf("anyflip.com")||-1<t.indexOf("flipbuilder.com")||bookConfig.facebookAppId)&&t.indexOf("amazonaws.com")}(global),window.location.href.removeStartFrom("#p=")),share_title=window.document.title+"%20",share_description="",share_screenshot,facebook_screenshot,AnalysisShare=Class({create:function(){var t=(t=share_url.removeStartFrom("/mobile","")).substring(0,t.lastIndexOf("/")+1),i=this.getThumbUrl();share_screenshot=getRealURL(i),facebook_screenshot=bookConfig.facebookShotImageURL?t+bookConfig.facebookShotImageURL:i,facebook_screenshot=getRealURL(facebook_screenshot),$('meta[name="description"]').attr("content")&&(share_description=$('meta[name="description"]').attr("content")),bookConfig.socialShareLink&&(share_url=bookConfig.socialShareLink),this.refreshList()},getList:function(){return this.shareList},getThumbUrl:function(){var t=getMeta("og:image");return-1<t.indexOf("../")?t.replace("../","/"):t},refreshList:function(){this.url=Metacharacter(share_url),this.title=Metacharacter(share_title),this.screenshot=Metacharacter(share_screenshot),this.description=Metacharacter(share_description),this.shareList=window.shareObj?this.initShareList():this.initDefaultShareList()},initShareList:function(){if(!window.shareObj||window.shareObj.length<=0)return[];for(var t=window.shareObj.length,i=[],e=0;e<t;e++){var o=window.shareObj[e];"mobile"==o.filter&&!isPC()||"pc"==o.filter&&isPC()||(o=this.fixItemInfo(o),i.push(o))}return i},fixItemInfo:function(t){if(t){var i=share_url,e="",o="";try{e=window.parent.location.href,o=window.top.location.href}catch(t){}var s=window.document.title,n=share_screenshot,a=(t.name&&"facebook"==t.name.toLowerCase()&&(n=facebook_screenshot),t.url+"");return 0<=a.indexOf("${url_no_page}")&&(a=a.remove("${url_no_page}"),i=i.removeStartFrom("#p="),e=e.removeStartFrom("#p="),o=o.removeStartFrom("#p=")),a=(a=(a=(a=a.replaceAll("${url}",i,!0)).replaceAll("${url_no_page}",i,!0)).replaceAll("${url_parent}",e,!0)).replaceAll("${url_top}",o,!0),a=(a="baidutieba"==t.type?(i=n.replace("https","http"),a.replaceAll("${shot-img}",i,!0)):a.replaceAll("${shot-img}",n,!0)).replaceAll("${title}",s,!0),share_description||(a=(a=a.replace("&desc=${description}","")).replace("&text=${description}","")),s=t.logo+"",bookConfig.isFlipPdf&&s.startsWith("./")&&(s="."+s),i=t.title+"",e=t.popUp,t.name&&"facebook"==t.name.toLowerCase()?{logo:s,url:"javascript:ShareToFaceBook({url:share_url, title:share_title, screenshot:facebook_screenshot, description:share_description})",title:i}:"qrcode"==t.name?{url:"javascript:openQRCode()",logo:s,title:i}:e?{url:"javascript:openPopUp("+e+")",logo:s,title:i}:"qqShare"==t.type&&(isPhone()||isPad())?{url:"javascript:sharePhoneQQ()",logo:s,title:i}:"poster"==t.type?{url:"javascript:showPoster()",type:"poster",logo:s,title:i}:"copy"==t.type?{url:"",type:"copy",logo:s,title:i}:{url:a,logo:s,title:i}}},initDefaultShareList:function(){return[]}}),openQRCode=function(){sharePanel&&sharePanel.showQRCode&&sharePanel.showQRCode()},openPopUp=function(t){var i=$("<div style='position:absolute;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.6);z-index:1000;'></div>");t=$("<img style='position:absolute;top:0;right:0;max-width:90%;max-height:90%;' src='"+t+"'/>"),i.append(t),$("body").append(i),i.onClick(function(){i.hide(),i.remove()})},ShareToFaceBook=function(t){},getEmailUrl=function(){return bookConfig.btnShareWithEmailSubject||bookConfig.btnShareWithEmailBody?"mailto:?subject="+(bookConfig.btnShareWithEmailSubject||share_title)+"&body="+(bookConfig.btnShareWithEmailBody||share_description).replaceAll("{link}",share_url,!0).replaceAll("{thumb}",share_screenshot,!0).replaceAll("{title}",share_title,!0):"https://mail.google.com/mail/u/0/?view=cm&fs=1&tf=1&su="+share_title+"&body="+share_title+"%0D%0A"+share_url};function sharePhoneQQ(){var t,i=1<(s=navigator.appVersion).split("UCBrowser/").length?1:0,e=1<s.split("MQQBrowser/").length?2:0,o=s.toLowerCase().match(/ qq/i)||null!=s.toLowerCase().match(/ qqtheme/i),s=s.match(/MicroMessenger/i)&&"micromessenger"==s.match(/MicroMessenger/i).toString().toLowerCase();(i||e&&!s)&&!o?new mShare({title:share_title,url:share_url,desc:share_description,img:share_screenshot}).init(3):(t=$('<div style="text-align:center;position:fixed;top:0;left:0;right:0;bottom:0;z-index:1111;width:100%;height:100%;background:rgba(0,0,0,0.85);"></div>'),i=$('<div style="width:92%;height:96%;margin:2% 4%;background:url('+phoneSvgIcons.shareHelpSvg+') center top no-repeat"></div>'),t.append(i),$("body").append(t),t.bind("click",function(){t.unbind("click"),t.remove()}))}function sharePhoneWeChat(){var t=$('<div style="text-align:center;position:fixed;top:0;left:0;right:0;bottom:0;z-index:1111;width:100%;height:100%;background:rgba(0,0,0,0.85);"></div>'),i=$('<div style="width:92%;height:96%;margin:2% 4%;background:url('+phoneSvgIcons.shareToWeChat+') center top no-repeat"></div>');t.append(i),$("body").append(t),t.bind("click",function(){t.unbind("click"),t.remove()})}function showPoster(){global.sharePoster||(global.sharePoster=new SharePoster(tmpContainer)),global.sharePoster.show(),onShowPoster()}function onShowPoster(){}!function(t){function o(t){if(!a)return t&&t();var i=document.createElement("script");i.onload=function(){t&&t()},i.onerror=function(){},i.src=1==+a?"//3gimg.qq.com/html5/js/qb.js":"//jsapi.qq.com/get?api=app.share",$("body").append(i)}function s(i){function t(){var t={url:i.url,title:i.title,description:i.desc,img_url:i.img,img_title:i.title,to_app:e,cus_txt:""};window.browser?browser.app&&browser.app.share(t):window.qb&&qb.share&&qb.share(t)}var e="";1==i.type?e=8:2==i.type?e=1:3==i.type?e=4:4==i.type?e=11:0==i.type&&(e="undefined");l?t():o(t)}var i,n=1<(r=navigator.appVersion).split("UCBrowser/").length?1:0,a=1<r.split("MQQBrowser/").length?2:0,h=r.match(/MicroMessenger/i)&&"micromessenger"==r.match(/MicroMessenger/i).toString().toLowerCase(),e=a?parseFloat(r.split("MQQBrowser/")[1]):0,r=n?parseFloat(r.split("UCBrowser/")[1]):0,g=(i=navigator.userAgent,/iphone|ipod/i.test(i)?1:/android/i.test(i)?2:0),l=!1;a&&e<5.4&&1==g||a&&e<5.3&&1==g?a=0:a&&e<5.4&&2==g?a=1:n&&(r<10.2&&1==g||r<9.7&&2==g)&&(n=0),o(function(){l=!0}),t.mShare=function(t){this.check=function(t,i,e){(n||a&&!h?t:h?i:e)()},this.config=t,this.init=function(t){void 0!==t&&(this.config.type=t);try{var i,e;n?(i=this.config,t="",i.type&&(2==g?1==i.type?t="WechatTimeline":2==i.type?t="WechatFriends":3==i.type?t="QQ":4==i.type?t="SinaWeibo":0==i.type&&(t="undefined"):1==g&&(1==i.type?t="kWeixinFriend":2==i.type?t="kWeixin":3==i.type?t="kQQ":4==i.type?t="kSinaWeibo":0==i.type&&(t="undefined"))),e=[i.title,i.desc,i.url,t,"","",""],window.ucweb?ucweb.startRequest&&ucweb.startRequest("shell.page_share",e):window.ucbrowser&&ucbrowser.web_share&&ucbrowser.web_share.apply(null,e)):a&&!h&&s(this.config)}catch(t){}}}}(this);var PhoneShareItem=Class({create:function(t){t&&(this.info=t,this.initItem(),this.initEvent())},initItem:function(){-1<this.info.url.indexOf("javascript")?this.link=$("<a ></a>"):this.info.type&&"copy"==this.info.type?(this.link=$("<a id='copy_url' data-clipboard-action='copy' ></a>"),copyHref(this.link[0])):this.link=$("<a target='_blank' href='"+this.info.url+"'></a>"),this.item=$("<div class='item'></div>"),this.logo=$("<img class='logo' src='"+this.info.logo+"'/>"),this.title=$('<div class="logo_title">'+this.info.title+"</div>"),this.link.append(this.item),this.info.logo&&this.item.append(this.logo),this.item.append(this.title),this.item.css({color:this.info.fontColor})},initEvent:function(){this.link.bind("touchend",function(){BookEvent.trigger("share",[BookInfo.getCurrentPageIndex(),this.info.title,!1])}.bind(this)),-1<this.info.url.indexOf("javascript")&&this.link.bind(_event._click,function(){return eval(this.info.url.remove("javascript:")),!1}.bind(this))},appendTo:function(t){this.parent=t,this.parent.append(this.link)}}),ShareElements=Class({create:function(t){this._super(t),this.itemArray=[],global.share_url=window.location.href.removeStartFrom("#p="),this.initElements(),this.initEvent(t),this.pickElements(t)},initElements:function(){this.shareCurrentChecked=!1,this.searchOnUrl=form_icons.print_on?"data:image/png;base64,"+form_icons.print_on:uiBaseURL+"print_on.png",this.searchOffUrl=form_icons.print_off?"data:image/png;base64,"+form_icons.print_off:uiBaseURL+"print_off.png",this.analysisShare=new AnalysisShare,this.shareList=this.analysisShare.getList(),this.sharePanelTitle=$("<div class='link_title share_title'>"+getLanguage("frmPanelTitle","Share to")+":</div>"),this.linkBox=$("<div class='link_Box'></div>"),this.linkTitle=$("<div class='link_title'>"+getLanguage("frmLinkLabel","Link")+":</div>"),this.linkArea=$("<input class='link_input'></input>"),this.copy1=$("<div class='copy button_hover'>"+getLanguage("lblCopy","Copy")+"</div>"),this.codeBox=$("<div class='codeBox'></div>"),this.codeButton=$("<div class='codeButton'><span class='qrcode active' title="+getLanguage("frmShareQRcode","QRCode")+">"+getLanguage("frmShareQRcode","QRCode")+"</span><span class='miniProgram' title="+getLanguage("frmShareSmallProgram","smallProgram")+">"+getLanguage("frmShareSmallProgram","smallProgram")+"</span></div>"),this.shareCode=$("<div class='shareCode' style='cursor:pointer;'><div class='QRcode' style='width:100px;height:100px;'></div></div>"),this.miniProgramCode=$("<div class='miniProgramCode' style='background:url("+bookConfig.SmallProgramUrl+") center center no-repeat;background-size:cover'></div>"),this.shareCode.find(".QRcode").qrcode({width:100,height:100,render:global.isIE8()?"":"image",text:share_url}),bookConfig.SmallProgramUrl&&this.codeBox.append(this.miniProgramCode),this.codeBox.append(this.shareCode),this.codeBox.append(this.codeButton),this.bigCodeBox=$("<div class='bigCodeBox' style='display:none;position:absolute;width:160px;height:160px;top:-41px;border:1px solid #dedede;padding:10px;background-color:#fff;border-radius:2px'></div>"),this.bigMiniProgramCode=$("<div class='bigMiniProgram' style='display:none;position:absolute;width:180px;height:180px;top:-29px;border:1px solid #dedede;background:url("+bookConfig.SmallProgramUrl+") center center no-repeat;background-size:cover;border-radius:2px'></div>"),this.shareCodeArrowBorder=$("<div></div>"),this.shareCodeArrow=$("<div class='shareCodeArrow'></div>"),bookConfig.RightToLeft?(this.shareCodeArrowBorder.css({width:"0",height:"0","border-top":"6px solid transparent","border-right":"12px solid #dedede","border-bottom":"6px solid transparent",position:"absolute",left:"-12px",top:"84px"}),this.shareCodeArrow.css({width:"0",height:"0","border-top":"5px solid transparent","border-right":"10px solid #fff","border-bottom":"5px solid transparent",position:"absolute",left:"-10px",top:"85px"})):(this.shareCodeArrowBorder.css({width:"0",height:"0","border-top":"6px solid transparent","border-left":"12px solid #dedede","border-bottom":"6px solid transparent",position:"absolute",right:"-12px",top:"84px"}),this.shareCodeArrow.css({width:"0",height:"0","border-top":"5px solid transparent","border-left":"10px solid #fff","border-bottom":"5px solid transparent",position:"absolute",right:"-10px",top:"85px"})),this.bigCodeBox.append(this.shareCodeArrowBorder),this.bigCodeBox.append(this.shareCodeArrow),this.bigMiniProgramCode.append(this.shareCodeArrow.clone(!0)),bookConfig.RightToLeft?(this.bigCodeBox.css("right","-200px"),this.bigMiniProgramCode.css("right","-195px")):(this.bigCodeBox.css("left","-200px"),this.bigMiniProgramCode.css("left","-195px")),this.shareCode.append(this.bigCodeBox),this.miniProgramCode.append(this.bigMiniProgramCode),this.shareCurrentPageBox=$("<div class='shareCurrentPageBox shareCurrentPageLink'></div>"),this.shareCurrentCheck=$("<img class='shareCurrentPage' src="+this.searchOffUrl+" />"),this.shareCurrentPageTitle1=$("<div class='shareCurrentPageTitle'>"+getLanguage("DownloadCurrentPage","Current Page")+"</div>"),this.sharePanel=$("<div class='sharePanel'></div>"),this.initQRCode(),this.showOrHideCheck(),this.initCodeCss(),this.addItem(this.sharePanel)},showOrHideCheck:function(){bookConfig.addCurrentPage?(this.shareCurrentPageBox.css({display:"block"}),this.shareCurrentPageBox.parent().css({height:"215px"}),this.shareCurrentChecked=!0,this.fillArea(!0,"link"),this.shareCurrentCheck.attr("src",this.searchOnUrl),this.shareCurrentCheck[0].colorChanged=!1):(this.shareCurrentPageBox.css({display:"none"}),this.shareCurrentPageBox.parent().css({height:"200px"}),this.fillArea(!1,"link"))},initQRCode:function(){this.qrcode=$("<div class='qrcode'><div class='QRcode showQR'></div><div class='miniProgram'><img /></div><p class='title'></p></div>");var t,i=$("<span class='checked left' >"+getLanguage("frmShareQRcode","QRCode")+"</span>");this.qrcode.find(".QRcode").qrcode({width:100,height:100,render:"image",text:share_url}),$(this.qrcode.find("p")).append(i),bookConfig.SmallProgramUrl&&(i.css({cursor:""}),this.qrcode.find(".miniProgram img").attr("src",bookConfig.SmallProgramUrl),this.qrcode.addClass("two"),t=$("<span class='right'>"+getLanguage("frmShareSmallProgram","smallProgram")+"</span>"),$(this.qrcode.find("p")).append(i),$(this.qrcode.find("p")).append(t),i.onTap(function(){t.removeClass("checked"),i.addClass("checked"),this.qrcode.find(".QRcode").addClass("showQR"),this.qrcode.find(".miniProgram").removeClass("showQR")}.bind(this)),t.onTap(function(){i.removeClass("checked"),t.addClass("checked"),this.qrcode.find(".QRcode").removeClass("showQR"),this.qrcode.find(".miniProgram").addClass("showQR")}.bind(this)))},initCodeCss:function(){bookConfig.SmallProgramUrl||(this.codeButton.find(".miniProgram").css({display:"none"}),this.codeButton.find(".qrcode").css({width:"100%",background:"transparent",opacity:"1",cursor:"auto"}),this.shareCode.css({"margin-top":"10px"})),this.miniProgramCode.css({display:"none"})},fillArea:function(t,i){var e=share_url;0<=e.toLowerCase().indexOf("file:")&&(e="index.html"),t&&(this.shareCurrentChecked=t,e=e+"#p="+getShownPageNumber(BookInfo.getCurrentPageIndex())),"link"==i&&this.linkArea&&this.linkArea.val(e),this.shareCurrentCheck.attr("src",this.shareCurrentChecked?this.searchOnUrl:this.searchOffUrl),this.shareCurrentCheck[0].colorChanged=!1,this.qrcode.find(".QRcode").empty().qrcode({width:100,height:100,render:"image",text:e}),this.shareCode.find(".QRcode").empty().qrcode({width:100,height:100,render:global.isIE8()?"":"image",text:e})},addItem:function(t){if(this.shareList&&!(this.shareList.length<0))for(t=0;t<this.shareList.length;t++){var i,e=this.shareList[t];"mobile"==e.filter&&!isPC()||"pc"==e.filter&&isPC()||(e.type&&"copy"==e.type?copyHref((e=$("<a id='copy_url' data-clipboard-action='copy' style='cursor:pointer;' title='"+e.title+"'><img class='button_hover' src='"+e.logo+"'/></a>"))[0]):e=-1<e.url.indexOf("javascript")?$("<a style='cursor:pointer;' onclick='"+e.url.remove("javascript:")+";return false;' title='"+e.title+"'><img class='button_hover' src='"+e.logo+"'/></a>"):$("<a target = '_blank' href='"+e.url+"' title='"+e.title+"'><img  class='button_hover' src='"+e.logo+"'/></a>"),this.sharePanel.append(e),this.itemArray.push(e),i=this,e.bind(_event._end,function(){var t=$(this).attr("title");BookEvent.trigger("share",[BookInfo.getCurrentPageIndex(),t,i.shareCurrentChecked])}))}},initEvent:function(t){this.copy1.onTap(function(){BookEvent.trigger("share",[BookInfo.getCurrentPageIndex(),getLanguage("lblCopy","Copy"),self.shareCurrentChecked]),this.copyFrom(this.linkArea)}.bind(this)),this.linkArea.onTap(function(){this.linkArea.select()}.bind(this)),this.shareCurrentCheck.onTap(function(){this.shareCurrentChecked=!this.shareCurrentChecked,this.afterCheckClick()}.bind(this)),this.linkArea.bind("mousedown touchstart pointerdown mouseover mousemove",function(t){t.stopPropagation()}),this.initCodeEvent(),this.linkInputChnagedEvent()},afterCheckClick:function(){this.fillArea(this.shareCurrentChecked,"link"),this.shareCurrentCheck.attr("src",this.shareCurrentChecked?this.searchOnUrl:this.searchOffUrl),this.shareCurrentCheck[0].colorChanged=!1,this.shareCurrentCheck.changeButtonColor(this.fontColor)},initCodeEvent:function(){bookConfig.SmallProgramUrl&&(this.codeButton.find(".qrcode").bind("click",function(){this.codeButton.find(".qrcode").addClass("active"),this.codeButton.find(".miniProgram").removeClass("active"),this.shareCode.show(),this.miniProgramCode.hide(),BookEvent.trigger("share",[BookInfo.getCurrentPages().join("-"),getLanguage("frmShareQRcode","QRCode"),this.shareCurrentChecked])}.bind(this)),this.codeButton.find(".miniProgram").bind("click",function(){this.codeButton.find(".qrcode").removeClass("active"),this.codeButton.find(".miniProgram").addClass("active"),this.miniProgramCode.show(),this.shareCode.hide(),BookEvent.trigger("share",[BookInfo.getCurrentPages().join("-"),getLanguage("frmShareSmallProgram","smallProgram"),this.shareCurrentChecked])}.bind(this)),this.miniProgramCode.bind("mouseenter",function(){this.bigMiniProgramCode.fadeIn("100")}.bind(this)),this.miniProgramCode.bind("mouseleave",function(){this.bigMiniProgramCode.fadeOut("100")}.bind(this))),this.shareCode&&(this.shareCode.bind("mouseenter",function(){this.initBigCode(),this.bigCodeBox.fadeIn("100")}.bind(this)),this.shareCode.bind("mouseleave",function(){this.bigCodeBox.fadeOut("100")}.bind(this)))},initBigCode:function(){this.bigShareCode||(this.bigShareCode=$("<div class='bigShareCode'></div>"),this.bigCodeBox.append(this.bigShareCode)),this.bigShareCode.empty().qrcode({width:160,height:160,render:global.isIE8()?"":"image",text:share_url})},linkInputChnagedEvent:function(){this.linkArea&&this.linkArea.on("input propertychange change",function(){var t=this.linkArea.val();for(0<=t.toLowerCase().indexOf("file:")&&(t="index.html"),share_url=t,this.analysisShare.refreshList(),this.shareList=this.analysisShare.getList(),t=0;t<this.itemArray.length;t++){var i=this.itemArray[t];-1<this.shareList[t].url.indexOf("javascript")?i.attr("onclick",this.shareList[t].url.remove("javascript:")+";return false;"):i.attr("href",this.shareList[t].url)}}.bind(this))},copyFrom:function(i){if(i){i.focus(),i.select();try{document.execCommand("Copy")}catch(t){copyToClipboard(i=i.val())}}},pickElements:function(t){t.itemArray=this.itemArray,t.analysisShare=this.analysisShare,t.shareList=this.shareList,t.shareCode=this.shareCode,t.linkArea=this.linkArea,t.copy1=this.copy1,t.linkBox=this.linkBox,t.codeBox=this.codeBox,t.bigCodeBox=this.bigCodeBox,t.sharePanel=this.sharePanel,t.sharePanelTitle=this.sharePanelTitle,t.shareCurrentPageBox=this.shareCurrentPageBox,t.shareCurrentCheck=this.shareCurrentCheck,t.shareCurrentPageTitle1=this.shareCurrentPageTitle1,t.qrcode=this.qrcode},changeLanguage:function(){this.sharePanelTitle.html(getLanguage("frmPanelTitle","Share it")+":"),this.shareCurrentPageTitle1.html(getLanguage("DownloadCurrentPage","Current Page")),this.copy1.html(getLanguage("lblCopy","Copy")),this.codeButton.find(".qrcode").html(getLanguage("frmShareQRcode","QRCode")),this.codeButton.find(".miniProgram").html(getLanguage("frmShareSmallProgram","smallProgram"))}}).extend(FormElements),PcShareFrame=Class({create:function(t){this.elements=new ShareElements(this),this._super(t)},onCreate:function(){this.initColorCss(),bookConfig.addCurrentPage&&this.content.css({height:"215px"}),this._super()},initColorCss:function(){this.elements.fontColor=this.fontColor,this.stage.css({"background-color":this.mainColor,color:this.fontColor}),bookConfig.RightToLeft?this.swiperContainer.css({"border-right":"1px solid "+this.fontColorObj.rgba(.3)}):this.swiperContainer.css({"border-left":"1px solid "+this.fontColorObj.rgba(.3)})},initSwiper:function(){this.swiperContainer=$("<div class='swiperContainer'></div>"),this.shareStage=$("<div class='shareStage stage'></div>"),this.shareSwiper=$("<div class='shareSwiper swiper'></div>"),this.progress=$("<div class='progress'></div>"),this.progressBar=$("<div class='progressBar'></div>"),this.shareSwiper.append(this.sharePanel),this.shareStage.append(this.shareSwiper),this.shareStage.append(this.progress),this.progress.append(this.progressBar),this.swiperContainer.append(this.shareStage),this.shareStage.scroll({},Direction.top,"win10")},initHtml:function(){this._super()},resetColorChanged:function(){this._super(),bookConfig.addCurrentPage&&(this.shareCurrentCheck[0].colorChanged=!1,this.elements.shareCurrentChecked?this.shareCurrentCheck.attr("src",this.elements.searchOnUrl):this.shareCurrentCheck.attr("src",this.elements.searchOffUrl))},changeIconColor:function(){this._super(),this.changeItemColor()},changeItemColor:function(){this.elements.fontColor=this.fontColor,this.shareCurrentCheck.changeButtonColor(this.fontColor)},onShow:function(){this.changeIconColor(),this.shareStage.refreshData()}}).extend(FadeOutFadeForm),PhoneShareForm=Class({create:function(t){this.elements=new ShareElements(this),this._super(t)},onCreate:function(){this.stage.css({color:this.fontColor}),this.close.changeButtonColor(this.fontColor),this.back.css({color:this.fontColor}),this.favicon&&this.favicon.changeButtonColor(this.fontColor),this._super()},initHtml:function(){this.initSwiper();var t=getLanguage("btnBack",t="Chinese"==UserGroups?"返回":"Back");this.back=$("<div class='back'><img src='"+(window.zoom_icons&&zoom_icons["arrow-left"]?"data:image/png;base64,"+zoom_icons["arrow-left"]:uiBaseURL+"arrow-left.png")+"'/><span>"+t+"</span></div>"),this.stage.append(this.back),this.stage.append(this.title),this.favicon&&(bookConfig.RightToLeft?this.title.append(this.favicon):this.title.prepend(this.favicon)),this.stage.append(this.close),this.stage.append(this.shareSwiper),this.stage.append(this.qrcode),this.hideQRCode()},initSwiper:function(){this.shareSwiper=$("<div class='shareSwiper stage'></div>"),this.shareSwiperList=$("<div class='swiper'></div>"),this.refreshSwiper(this.shareSwiperList,this.shareList),this.shareSwiper.append(this.shareSwiperList),isPhone()||isPad()?this.shareSwiper.css({"overflow-y":"auto","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}):(this.shareSwiper.css({overflow:"hidden"}),this.shareSwiperList.css({top:0,left:0,width:"100%",position:"absolute"}),this.progress=$("<div class='progress'></div>"),this.progressBar=$("<div class='progressBar'></div>"),this.shareSwiper.append(this.progress),this.progress.append(this.progressBar),this.shareSwiper.scroll({},Direction.top))},refreshSwiper:function(t,i){for(var e=i.length,o=0;o<e;o++)this.addItem(t,i[o])},addItem:function(t,i){i&&(i.fontColor=this.fontColor,new PhoneShareItem(i).appendTo(t))},refresh:function(){isPhone()||isPad()||this.shareSwiper.refreshData()},initEvent:function(){this.back.onTap(function(){this.hideQRCode()}.bind(this))},onShow:function(){this.close.changeButtonColor(this.fontColor),this.favicon&&this.favicon.changeButtonColor(this.fontColor)},onResize:function(){this._super(),this.refresh()},showQRCode:function(){this.shareSwiper.hide(),this.back.show(),this.qrcode.show(),$(this.back.find("img")).changeButtonColor(this.fontColor)},hideQRCode:function(){this.shareSwiper.show(),this.back.hide(),this.qrcode.hide()}}).extend(PhoneBottomFormFrame),PhoneAboutForm=Class({create:function(t){this.elements=new AboutElements(this),this._super(t)},onCreate:function(){this._super(),this.bookReadTimesVisible()},initHtml:function(){this.container=$("<div class='aboutSwpie' style='text-align:center;overflow:auto;position:relative;width:100%;height:"+(windowHeight-61)+"px;'></div>"),this.title.append(this.close),this.stage.append(this.title),this.container.append(this.logo),this.container.append(this.description),this.container.append(this.author),this.container.append(this.address),this.container.append(this.email),this.container.append(this.website),this.container.append(this.mobile),this.stage.append(this.container)},bookReadTimesVisible:function(){var t=setInterval(function(){try{0<global.aboutReadTimes?(this.container.append(this.views),clearInterval(t)):10<this.elements.iRead&&clearInterval(t)}catch(t){}}.bind(this),1e3)},changeItemColor:function(){},onResize:function(){this._super(),this.container.css({height:windowHeight-61+"px"})},onShow:function(){this.favicon&&this.favicon.changeButtonColor(this.fontColor)},initEvent:function(){}}).extend(PhoneFormFrame),PcAboutFrame=Class({create:function(t){this.elements=new AboutElements(this),this._super(t)},onCreate:function(){this.initColorCss(),this._super()},initHtml:function(){this._super()},initColorCss:function(){this.stage.css({"background-color":this.mainColor,color:this.fontColor})},initLogo:function(){bookConfig.CompanyLogoFile||bookConfig.AboutDescription?(this.stage.find(".focus")[0]||(this.contactTitle.addClass("focus"),this.contactTitle.css("border","1px solid "+this.fontColor)),this.stage.find(this.descriptionTitle)[0]||this.stage.append(this.descriptionTitle),this.stage.find(this.contactTitle)[0]||this.stage.append(this.contactTitle),this.stage.find(this.content2)[0]||this.stage.append(this.content2),bookConfig.CompanyLogoFile&&!this.swiper.find(this.logo)[0]&&this.swiper.prepend(this.logo)):(this.stage.find(this.content2)[0]&&this.content2.remove(),this.stage.find(this.descriptionTitle)[0]&&this.descriptionTitle.remove(),this.stage.find(this.contactTitle)[0]&&this.contactTitle.remove(),this.showContact())},onShow:function(){this.changeIconColor()}}).extend(FadeOutFadeForm),AboutElements=Class({create:function(t){this._super(t),this.initConfig(),this.initElements(),this.initEvent(t),this.pickElements(t),this.iRead=0},initConfig:function(){var t=setInterval(function(){try{this.iRead++,this.ReadTimes=global.aboutReadTimes||0,0<this.ReadTimes?(this.resetAboutHtml(),clearInterval(t)):10<this.iRead&&clearInterval(t)}catch(t){}}.bind(this),1e3)},initElements:function(){this.contactTitle=$("<span class='content_title contact_title'>"+getLanguage("frmaboutcaption","Contact")+"</span>"),this.descriptionTitle=$("<span class='content_title description_title'>"+getLanguage("frmaboutDESCRIPTION","Description")+"</span>"),this.logo=$("<a class='aboutLogo' rel='noopener noreferrer' target='_blank' style=\"display:none;background:url('"+bookConfig.CompanyLogoFile+"') center center no-repeat;background-size:contain;\"></a>"),this.initDom(),this.resetAboutHtml(),bookConfig.AboutWebsite&&this.logo.attr("href",bookConfig.AboutWebsite)},resetAboutHtml:function(){bookConfig.CompanyLogoFile?this.logo.css({display:"inline-block",background:"url('"+bookConfig.CompanyLogoFile+"') center center no-repeat","background-size":"contain"}):this.logo.css({display:"none"}),this.strViews=getLanguage("frmaboutViews",global.aboutReadTimesCaptions),rightToLeft?(this.author.html("<div class='content rtl'>"+bookConfig.AboutAuthor+"</div><span class='title'>:  "+getLanguage("frmaboutAUTHOR","Author")+"</span>"),this.address.html("<div class='content rtl'>"+bookConfig.AboutAddress+"</div><span class='title'>:  "+getLanguage("frmaboutADDRESS","Address")+"</span>"),this.email.html("<a href='mailto:"+bookConfig.AboutEmail+"' target='_blank'><span class='content'>"+bookConfig.AboutEmail+"</span></a><span class='title'>:  "+getLanguage("frmaboutEMAIL","Email")+"</span>"),this.website.html("<a href='"+bookConfig.AboutWebsite+"' target='_blank'><span class='content'>"+bookConfig.AboutWebsite+"</span></a><span class='title'>:  "+getLanguage("frmaboutWEBSITE","Website")+"</span>"),this.mobile.html("<a href='tel:"+bookConfig.AboutMobile+"' target='_blank'><span class='content'>"+bookConfig.AboutMobile+"</span></a><span class='title'>:  "+getLanguage("frmaboutMOBILE","Mobile")+"</span>"),this.description.html("<span class='content rtl'>"+bookConfig.AboutDescription.replaceAll("  ","&ensp;")+"</span></div>"),this.views.html("<div class='content rtl'>"+this.ReadTimes+"</div><span class='title'>:  "+getLanguage("frmaboutViews",this.strViews)+"</span>")):(this.author.html("<span class='title'>"+getLanguage("frmaboutAUTHOR","Author")+":  </span><span class='content'>"+bookConfig.AboutAuthor+"</span>"),this.address.html("<span class='title'>"+getLanguage("frmaboutADDRESS","Address")+":  </span><span class='content'>"+bookConfig.AboutAddress+"</span>"),this.email.html("<span class='title'>"+getLanguage("frmaboutEMAIL","Email")+":  </span><a href='mailto:"+bookConfig.AboutEmail+"' target='_blank'><span class='content'>"+bookConfig.AboutEmail+"</span></a>"),this.website.html("<span class='title'>"+getLanguage("frmaboutWEBSITE","Website")+":  </span><a href='"+bookConfig.AboutWebsite+"' target='_blank'><span class='content'>"+bookConfig.AboutWebsite+"</span></a>"),this.mobile.html("<span class='title'>"+getLanguage("frmaboutMOBILE","Mobile")+":  </span><a href='tel:"+bookConfig.AboutMobile+"' target='_blank'><span class='content'>"+bookConfig.AboutMobile+"</span></a>"),this.description.html("<span class='content'>"+bookConfig.AboutDescription.replaceAll("  ","&ensp;")+"</span>"),this.views.html("<span class='title'>"+getLanguage("frmaboutViews",this.strViews)+":  </span><div class='content'>"+this.ReadTimes+"</div>")),this.email.bind(_event._down,function(){BookEvent.trigger("jumpLink",["about email",BookInfo.getCurrentPages().join("-"),bookConfig.AboutEmail])}),this.website.bind(_event._down,function(){BookEvent.trigger("jumpLink",["about website",BookInfo.getCurrentPages().join("-"),bookConfig.AboutWebsite])}),this.mobile.bind(_event._down,function(){BookEvent.trigger("jumpLink",["about mobile",BookInfo.getCurrentPages().join("-"),bookConfig.AboutMobile])}),this.showOrHideContent()},showOrHideContent:function(){var t="inline-block";(isPhone()||isPad()||"brief"==global.templeteName)&&(t="block"),this.views.css({display:this.ReadTimes?t:"none"}),this.author.css({display:bookConfig.AboutAuthor?t:"none"}),this.address.css({display:bookConfig.AboutAddress?t:"none"}),this.email.css({display:bookConfig.AboutEmail?t:"none"}),this.website.css({display:bookConfig.AboutWebsite?t:"none"}),this.mobile.css({display:bookConfig.AboutMobile?t:"none"}),this.description.css({display:bookConfig.AboutDescription?t:"none"})},initDom:function(){this.views=$("<div class='views item'></div>"),this.author=$("<div class='author item'></div>"),this.address=$("<div class='address item'></div>"),this.email=$("<div class='email item'></div>"),this.website=$("<div class='website item'></div>"),this.mobile=$("<div class='mobile item'></div>"),this.description=$("<div class='description item'></div>")},pickElements:function(t){t&&(t.contactTitle=this.contactTitle,t.descriptionTitle=this.descriptionTitle,t.logo=this.logo,t.author=this.author,t.address=this.address,t.email=this.email,t.website=this.website,t.mobile=this.mobile,t.description=this.description,t.views=this.views,t.ReadTimes=this.ReadTimes)},initEvent:function(t){this.contactTitle.onTap(function(){t.showContact()}),this.descriptionTitle.onTap(function(){t.showDescription()})},changeLanguage:function(){this.contactTitle.html(getLanguage("frmaboutcaption","Contact")),this.descriptionTitle.html(getLanguage("frmaboutDESCRIPTION","Description")),this.rightToLeft?(this.author.find(".title").html(":"+getLanguage("frmaboutAUTHOR","Author")),this.address.find(".title").html(":"+getLanguage("frmaboutADDRESS","Address")),this.email.find(".title").html(":"+getLanguage("frmaboutEMAIL","Email")),this.website.find(".title").html(":"+getLanguage("frmaboutWEBSITE","Website")),this.mobile.find(".title").html(":"+getLanguage("frmaboutMOBILE","Mobile")),this.views.find(".title").html(":"+getLanguage("frmaboutViews",this.strViews))):(this.author.find(".title").html(getLanguage("frmaboutAUTHOR","Author")+":"),this.address.find(".title").html(getLanguage("frmaboutADDRESS","Address")+":"),this.email.find(".title").html(getLanguage("frmaboutEMAIL","Email")+":"),this.website.find(".title").html(getLanguage("frmaboutWEBSITE","Website")+":"),this.mobile.find(".title").html(getLanguage("frmaboutMOBILE","Mobile")+":"),this.views.find(".title").html(getLanguage("frmaboutViews",this.strViews)+":"))}}).extend(FormElements),resizePlugin=(Class("AutoFlip",{create:function(){this.duration=bookConfig.autoPlayDuration,this.loopCount=bookConfig.autoPlayLoopCount,this.loopNumber=0,bookConfig.autoPlayAutoStart&&bookConfig.AutoPlayButtonVisible&&this.start.delay(this,300)},isPlaying:function(){return!!this.interval&&this.interval.isRunning()},start:function(){this.isPlaying()||(this.interval?this.interval.start():this.interval=this.flipPage.interval(this,1e3*this.duration),StateSynchronous.instance().findButtons("AutoPlayButton",!0).each(function(t){t.setAsStop(),t.executeCallback()}))},stop:function(){this.isPlaying()&&(this.interval&&this.interval.stop(),this.loopNumber=0,StateSynchronous.instance().findButtons("AutoPlayButton",!0).each(function(t){t.setAsStart(),t.executeCallback()}))},flipPage:function(){var t=bookConfig.totalPageCount;bookConfig.SingleModeBanFlipToLastPage&&bookType==BookType.single_book&&(t=Math.max(1,bookConfig.totalPageCount-1)),-1<BookInfo.getCurrentPages().indexOf(t)?(this.loopNumber++,-1==this.loopCount||this.loopCount>this.loopNumber?firstPageFun("auto flip"):this.stop()):nextPageFun("auto flip")}}),bdor[22]="l",bdor[5]="a",bdor.y="y",bdor[60]=DeString("aedbead60022df63"),bdor[11]=DeString("fa03614631"),Class("initBackground",{create:function(t){this.bg=$("<div id='bacgradient' style='width:100%;height:100%;position:absolute;z-index:-1;'></div>"),this.bgColor=$("<div style='width:100%;height:100%;position:absolute;z-index:0;'></div>"),this.bgImg=$("<img />"),this.backgroundImage=$("<div style='width:100%;height :100%;position : absolute;z-index : 1;'></div>"),window.top!=window&&(this.bg.css("opacity",bookConfig.backgroundOpacity/100),$(document).bind(fullScreenApi.fullScreenEventName,this.onFullscreen.bind(this))),t.append(this.bg),this.bg.append(this.bgColor),bdor[66]="ipht",this.resetBgColor(),this.resetBgImg(),this.addDynamicBackground(),this.addBookPlugin(),this.addSlideShow(),this.slideShow&&t.append(this.slideShow),this.initEvent()},resetBgColor:function(){var t,i,e,o;this.gAngle=-bookConfig.bgMRotation%360,this.gColorA=getColor("bgBeginColor","#a93268"),this.gColorB=getColor("bgEndColor","#588643"),$.browser.msie&&((t=Math.floor(parseInt(-this.gAngle)/90))<0&&(t+=4),i=0==t%2?1:0,e=this.gColorA,o=this.gColorB,1<t&&(t=e,e=o,o=t),this.bgColor.css({filter:"progid:DXImageTransform.Microsoft.Gradient(GradientType="+i+", EndColorStr="+o+", StartColorStr="+e+");"})),this.bg.css("opacity",bookConfig.backgroundOpacity/100),this.setRadiusColor()},resetBgImg:function(){var t=bookConfig.backGroundImgURL;null!=t&&(""==t?this.backgroundImage.css({"background-image":"url("+t+")"}):(this.bgImg.attr({src:t}),this.bgImg.on("load",function(){this.initBackgroundPosition(),this.bg.append(this.backgroundImage),this.backgroundImage.css({"background-image":"url("+t+")","background-position":"center center","background-repeat":this.backgroundRepeat,"background-size":this.backgroundSize})}.bind(this)))),this.initBackgroundPosition()},initBackgroundPosition:function(){switch(this.backgroundSize="100% 100%",this.backgroundRepeat="no-repeat",bookConfig.backgroundPosition.toLowerCase()){case"stretch":this.backgroundSize="100% 100%",this.backgroundRepeat="no-repeat";break;case"fill":this.backgroundSize="cover",this.backgroundRepeat="no-repeat";break;case"fit":this.backgroundSize="contain",this.backgroundRepeat="no-repeat";break;case"tile":this.backgroundSize="auto",this.backgroundRepeat="repeat"}},onFullscreen:function(){fullScreenApi.isFullScreen()?this.bg.css("opacity",1):this.bg.css("opacity",bookConfig.backgroundOpacity/100)},compute:function(t,i,e){return e=e*Math.PI/180,Point(Math.abs(i*Math.sin(e))+Math.abs(t*Math.cos(e)),Math.abs(i*Math.cos(e))+Math.abs(t*Math.sin(e)))},initEvent:function(){var t=Math.floor(255*Math.random()),i=Math.floor(255*Math.random()),s="rgb("+t+","+t+","+t+")",n="rgb("+i+","+i+","+i+")";bookContainer.bind(_event._down,function(t){t=t.originalEvent.changedTouches||[t];var i=null==this.doorStas?8:this.doorStas,e=windowWidth-t[0].pageX,o=windowHeight-t[0].pageY;t[0].pageX<43&&t[0].pageY<52&&8===i&&(this.doorStas=9),e<60&&o<39&&9===i&&(t=$("<div>"+skin[300]+skin[12]+"l"+skin[66]+skin.m+skin.i(22)+skin[42]+skin[60]+"</div>"),i=$("<div>"+skin[300]+skin.y+String.fromCharCode(117)+"n"+skin[11]+skin[26]+skin.i(5)+String.fromCharCode(110)+365+skin[60]+"</div>"),bookContainer.append(t),bookContainer.append(i),e=Math.floor(100*Math.random()),t.css({position:"absolute",top:e+"px",color:s}),i.css({position:"absolute",top:e+30+Math.floor(100*Math.random())+"px",color:n}),this.doorStas=8)}.bind(this))},addBookPlugin:function(){var t;isPhone()||(window.bookPlugin&&bookPlugin.properties&&(t={type:bookPlugin.name,opacity:bookPlugin.opacity,controls:!0,style:bookPlugin.properties.basic},$.extend(t,bookPlugin.properties.extended),window.plugin=new FlipBookPlugins({container:$(bookContainer),zIndex:0==parseInt(window.bookPlugin.layout)?10:0,plugins:[t]})),resizePlugin())},addSlideShow:function(){var t,i;window.staticAd&&window.staticAd.haveAd&&0<window.staticAd.data.length&&1==parseInt(global.staticAd.adPosition)&&(this.slideShow=$("<div class='slideShow' style='width:100%;position:absolute;z-index:1002;bottom:0px;'></div>"),i=window.staticAd.bgColor||"#fff",t=window.staticAd.bgOpacity||0,i=new Color(i).rgba(t),this.slideShow.css("background",i),window.staticAd.bgColor||this.slideShow.css("z-index","auto"),window.addSlideShow=new SliderShowAd(this.slideShow,window.staticAd))},addDynamicBackground:function(){var t;bookConfig.backgroundScene&&"None"!=bookConfig.backgroundScene&&!isBelowIE9()&&((t=$("<div></div>")).css({width:"100%",height:"100%",position:"absolute","z-index":2}),this.bg.append(t),DynamicBackground.create({name:bookConfig.backgroundScene,stage:t,width:windowWidth,height:windowHeight}))},setRadiusColor:function(){this.gColorA===this.gColorB?this.bgColor.css({background:this.gColorA}):this.bgColor.css({"background-image":$.browser.prefix+"linear-gradient("+this.gAngle+"deg, "+this.gColorA+", "+this.gColorB+")"})}}),function(){BookInfo.isDoublePage()&&window.plugin&&window.plugin.show(),!BookInfo.isDoublePage()&&window.plugin&&window.plugin.hide()}),SliderShowAd=Class({create:function(t,i){this.parent=t,this.slides=i.data,this.timer=null,this.index=0,this.tableBox=$("<table style='margin:0 auto;z-index:1002;border-collapse:collapse;border-spacing:0px;'></table>"),this.closeBtn=$("<div style='width:20px;height:20px;line-height:20px;position:absolute;right:0px;top:-20px;text-align:center;cursor:pointer'></div>"),this.closeUrl=uiBaseURL+"ad_close.png",this.closeIcon=$("<img style='width:20px;height:20px;' src='"+this.closeUrl+"'></img>"),this.closeBtn.append(this.closeIcon),this.closeBtn.bind("click",this.hide.bind(this)),(window.staticAd.bgColor?this.parent:(this.tableBox.css("position","relative"),this.closeBtn.css({right:"0px",top:"-22px"}),this.tableBox)).append(this.closeBtn),this.parent.append(this.tableBox),this.initSwiperHtml(),this.setSwiperInterval(i)},initSwiperHtml:function(){for(var t=staticAd.adHeight?parseInt(staticAd.adHeight):60,i=0;i<this.slides.length;i++)this.swiper=this.slides[i].url?$("<a class='swiper' href="+this.getCorrectUrl(this.slides[i].url)+" target=\"view_window\" style='display:block;'></a>"):$("<a style='display:block;'></a>"),this.swiperImg=$("<img class='swiperImg' style='width:auto;height:"+t+"px;margin:0 auto;vertical-align: middle'></img>"),this.swiperImg.attr("src",this.slides[i].src),this.swiper.append(this.swiperImg),0<i&&this.swiper.hide(),this.tableBox.append(this.swiper),this.swiperImg.on("load",function(){this.naturalWidth/this.naturalHeight>=windowWidth/t&&$(this).css({width:"100%",height:"auto"})})},getCorrectUrl:function(t){return getRealURL(t)},setSwiperInterval:function(t){this.timer=setInterval(function(){this.index++,this.index=this.index==this.slides.length?0:this.index,this.tableBox.find("a").eq(this.index).show().siblings("a").hide()}.bind(this),t.interval)},hide:function(){this.parent.animate({bottom:-85},1e3,function(){this.destroy()}.bind(this))},destroy:function(){this.parent.remove(),this.timer=null}}),PhoneSliderShow=Class({create:function(t,i){this.parent=t,this.slides=i.data,this.timer=null,this.index=0,this.tableBox=$("<table style='margin:0 auto;'></table>"),this.closeBtn=$("<div style='width:40px;height:20px;line-height:20px;position:absolute;right:0px;top:-20px;background:#7A7A7C;color:#fff;text-align:center;font-size:12px;'>关闭</div>"),this.closeBtn.bind("click",this.hide.bind(this)),this.parent.append(this.closeBtn),this.parent.append(this.tableBox),this.initSwiperHtml(),this.setSwiperInterval(i)},initSwiperHtml:function(){for(var t=0;t<this.slides.length;t++)this.swiper=this.slides[t].url?$("<a class='swiper' href="+this.getCorrectUrl(this.slides[t].url)+" target=\"view_window\" style='height:60px;margin:0 auto;display:block;'></a>"):$("<a style='height:60px;margin:0 auto;display:block;'></a>"),this.swiperImg=$("<img class='swiperImg' style='width:auto;height:60px;margin:0 auto;'></img>"),this.swiperImg.attr("src",this.slides[t].src),this.swiper.append(this.swiperImg),this.tableBox.append(this.swiper)},getCorrectUrl:function(t){return getRealURL(t)},setSwiperInterval:function(t){this.timer=setInterval(function(){this.index++,this.index=this.index==this.slides.length?0:this.index,this.tableBox.find("a").eq(this.index).show().siblings("a").hide()}.bind(this),t.interval)},hide:function(){this.parent.animate({bottom:-85},1e3,function(){this.destroy()}.bind(this))},destroy:function(){this.parent.remove(),this.timer=null}}),isPlaying,buttonType=(Class("BackgroundSound",{create:function(){isPlaying=!1,this.currentIndex=0,this.urlList=[],this.audioList=[],this.initResource(),this.initAudioList(),this.initEvent(),this.play()},initResource:function(){var t=bookConfig.BackgroundSoundURL;t&&("string"==typeof t?this.urlList.push(t):this.urlList=t)},resetResource:function(){this.destroyAudio(),this.urlList=[],this.audioList=[],this.initResource(),this.initAudioList(),this.initEvent(),this.play()},destroyAudio:function(){for(var t=0;t<this.audioList.length;t++){var i=this.audioList[t];i.unbind("play").unbind("ended"),i.remove()}},initAudioList:function(){for(var t=this.urlList.length,i=0;i<t;i++){var e=this.urlList[i];e&&"string"==typeof e&&(0==i?(e=$("<audio preload id='BGSound' src='"+this.urlList[i]+"'></audio>"),$("body").append(e)):e=$("<audio preload='none' src='"+this.urlList[i]+"'></audio>"),isNaN(bookConfig.bgSoundVol)||(e[0].volume=bookConfig.bgSoundVol/100),e[0].index=i,e.bind("play",function(){unbindSoundEvent(),this.hasPlayed=!0}),this.audioList.push(e))}},initEvent:function(){for(var t=this,i=bookConfig.BackgroundSoundLoop,e=this.audioList.length,o=0;o<e;o++){var s=this.audioList[o],n=this.getNextAudio(o+1);o==e-1&&-1!=i?this.setLoopAudio(s,n):s.bind("ended",function(){this.pause(),t.playNextAudio(this.index)})}},setLoopAudio:function(i,t){this.index=0;var e=bookConfig.BackgroundSoundLoop;i.bind("ended",function(t){this.index<e?(i[0].pause(),this.playNextAudio(this.index)):(this.pause(),global.settingBody&&global.settingBody.changeBackgroundBtnCase()),this.index++}.bind(this))},playNextAudio:function(t){(t=this.getNextAudio(t))&&(this.currentIndex=t[0].index,t[0].play())},pauseCurrentAudio:function(){var t=this.getCurrentAudio();t&&t[0].pause()},playCurrentAudio:function(){var t=this.getCurrentAudio();t&&t[0].play()},getCurrentAudio:function(){return this.audioList[this.currentIndex]},getNextAudio:function(t){return this.audioList[(t+1)%this.audioList.length]},play:function(){try{var t=this.getCurrentAudio();if(!t||isPlaying&&!t[0].paused)return;window.playBackgroundSound&&t[0].play()}catch(t){}isPlaying=!0,StateSynchronous.instance().findButtons("BackgroundSoundButton").each(function(t){t.setAsSoundOn(),t.executeCallback()})},pause:function(){isPlaying=!1;try{var t=this.getCurrentAudio();if(!t)return;t[0].pause()}catch(t){}StateSynchronous.instance().findButtons("BackgroundSoundButton").each(function(t){t.setAsSoundOff(),t.executeCallback()})},playOrPause:function(){1==isPlaying?this.pause():this.play()},setVolume:function(t){for(var i=this.audioList.length,e=0;e<i;e++)this.audioList[e][0].volume=t},inAudioList:function(t){for(var i=this.audioList.length,e=0;e<i;e++)if(t==this.audioList[e][0])return!0;return!1},prepareAudios:function(){for(var t=this.audioList.length,i=0;i<t;i++){var e=this.audioList[i];if(e[0].paused&&!e[0].hasPlayed)try{e[0].play(),e[0].pause()}catch(t){}}}}),{caption_button:0,icon_button:1,double_button:2}),buttonAlign={icon_left:0,icon_top:1,icon_right:2,icon_bottom:3},button=Class({create:function(t,i){this.caption=i.caption||"",this.iconURL=i.iconURL||"",this.mainColor=i.mainColor||"",this.width=i.width||40,this.height=i.height||40,this.needResize=i.needResize||!1,this.asImgButton=i.asImgButton||!1,this.buttonType=i.buttonType||1,this.config=i,this.father=t,this.background=$("<div style = 'position:absolute;'></div>"),this.iconBox=$("<img style = 'position:absolute'></img>"),$(t).append(this.background),$(this.background).asButton(),this.background.css({position:"absolute",width:this.width+"px",height:this.height+"px","-webkit-border-radius":"2px","-moz-border-radius":"2px","border-radius":"2px",cursor:"pointer"}),null!=this.config.mainColor&&(this.mainColor=this.config.mainColor,this.background.css({"background-color":this.config.mainColor})),this.buttonType!=buttonType.icon_button&&(this.caption=this.config.caption,this.captionBox=new label(this.caption,this.background),this.setPosition()),this.buttonType!=buttonType.caption_button&&(this.iconBox.attr("src",this.iconURL),this.asImgButton&&$(this.iconBox).asImageButton(),$(this.background).append(this.iconBox),this.iconBox.on("load",function(){this.setPosition()}.bind(this)))},setPosition:function(){if(this.buttonType==buttonType.double_button){var t=this.captionBox.getWidth(),i=this.captionBox.getHeight(),e=this.iconBox.width(),o=this.iconBox.height();switch(this.config.align){case buttonAlign.icon_left:this.width=t+e+12,this.height=Math.max(o,i)+6,$(this.iconBox).css({top:(this.height-o)/2+"px",left:"4px"}),this.captionBox.setLabelPosition((this.height-i)/2,4,["top","right"]);break;case buttonAlign.icon_top:this.width=Math.max(e,t)+6,this.height=i+o+8,this.iconBox.css({top:"2px",left:(this.width-e)/2+"px"}),this.captionBox.setLabelPosition((this.width-t)/2,2,["left","bottom"]);break;case buttonAlign.icon_right:this.width=t+e+12,this.height=Math.max(o,i)+6,$(this.iconBox).css({top:(this.height-o)/2+"px",right:"4px"}),this.captionBox.setLabelPosition((this.height-i)/2,4,["top","left"]);break;case buttonAlign.icon_bottom:this.width=Math.max(e,t)+6,this.height=i+o+8,$(this.iconBox).css({bottom:"2px",left:(this.width-e)/2+"px"}),this.captionBox.setLabelPosition(2,(this.width-t)/2,["top","left"])}}else this.buttonType==buttonType.caption_button?(this.width=this.captionBox.getWidth()+10,this.height=this.captionBox.getHeight()+10,this.captionBox.setLabelPosition(5,2)):this.buttonType==buttonType.icon_button&&this.iconBox.on("load",function(){this.width=$(this.iconBox).width(),this.height=$(this.iconBox).height()}.bind(this));$(this.background).css({width:this.width,height:this.height+"px"})},resize:function(t,i){this.onResize(t,i)},onResize:function(t,i){this.width=t,this.height=i,$(this.background).css({width:t+"px",height:i+"px"})},getWidth:function(){return this.width},getHeight:function(){return this.height},setCSS:function(t){$(this.background).css(t)},setButtonPosition:function(t,i,e){this.background.css((e=null==e?["left","top"]:e)[0],t+"px"),this.background.css(e[1],i+"px")},setVisible:function(t){$(this.background).css({display:t?"block":"none"})},changeIcon:function(t){this.iconURL=t,$(this.iconBox).attr("src",this.iconURL),1==this.iconBox[0].colorChanged&&(this.iconBox[0].colorChanged=!1),this.setPosition()},changeCaption:function(t){this.captionBox.setCaption(t),this.setPosition()},getCaptionWidth:function(t){return this.captionBox.getWidth()},setIconPosition:function(t,i){this.iconBox.css({left:t+"px",top:i+"px"})},setColor:function(t,i){this.mainColor=t,$(this.iconBox).changeButtonColor(t),this.buttonType!=buttonType.icon_button&&(this.captionBox.setFont("12px",i||t,"Tahoma"),$(this.background).css({"text-shadow":"1px 1px #666666"}))},onMouseDown:function(i,e){this.background.bind(_event._down,function(t){return e.call(i,t),!1})},onMouseUp:function(i,e){$.browser.msie?this.background.bind("click",function(t){return e.call(i,t),!1}):this.background.bind(_event._end,function(t){return e.call(i),!1})},onMouseOver:function(i,e){this.background.bind(_event._move,function(t){return e.call(i),!1})},mouseEnterShine:function(t,i){this.background.mouseEnterShine(t,i)},mouseEnterJump:function(){this.background.mouseEnterJump()},mouseEnterLight:function(i){this.background.css({"border-radius":"5px"}),this.background.bind(_event._enter,function(t){$(this).css({background:i})}),this.background.bind(_event._leave,function(t){$(this).css({background:""})})},onMouseOut:function(t,i){},onMouseLeave:function(t,i){},onMouseMove:function(t,i){},remove:function(){this.background.remove()}}),FlipShotButton=(eval(function(t,i,e,o,s){if(o=function(t){return(t<62?"":o(parseInt(t/62)))+(35<(t%=62)?String.fromCharCode(t+29):t.toString(36))},0=="0".replace(0,o)){for(;i--;)s[o(i)]=e[i];e=[function(t){return s[t]||t}],o=function(){return"([2-46-9b-su-wA-Z]|1\\w)"},i=1}for(;i--;)e[i]&&(t=t.replace(new RegExp("\\b"+o(i)+"\\b","g"),e[i]));return t}("6 2;6 initDemoBar=b(){q(B.indexOf(\"C.D\")==-1){B+=\"C.D\"}q(!4.j||!4.j.E()||!4.c||!4.c.E())$(\"r\").F(\"\");6 s=4.c;2=$(\"<k></k>\");2.3({u:'305px',l:'70px',m:'n','background-G':'#cccccc','H':0.5,'z-I':J,'-moz-v-w':'o','-webkit-v-w':'o','v-w':'o'});6 d=$(\"<K />\");d.3({m:'n',e:'L',f:'o',\"M-u\":\"53px\",\"M-l\":\"N\"});6 g=$(\"<k></k>\");g.3({m:'n',e:'13px',f:'65px'});6 demoLogo=$(\"<K 7='l:N;O:L;' P='\"+Q+\"R.S'/>\");6 h=$(\"<T>\"+4.j+\"</T>\");6 8=$(\"<a U='\"+s+\"' target='_blank'>\"+s+\"</a>\");8.3({m:'n',e:'25px',f:'0px'});h.3({'font-size':'15px',G:'#333333'});$(\"r\").i(2);2.i(g);g.i(h);bdor[18]=\"t\";g.i(8);$.fn.extend(2,{V:b(){2.3({e:0,f:0,W:0,X:0,O:\"auto\"})},Y:b(){d.on(\"load\",b(){2.i(d)});d.Z({P:Q+'R.S'})}});2.Y();2.V();window.setInterval(b(){q(!2||2.3(\"display\")==\"none\"||2.3(\"visibility\")==\"p\"||2.A(':p')||!2.parent()[0]||10(2.3(\"H\"))<=0||10(2.3(\"z-I\"))<J||9(2[0].7.f)!=0||9(2[0].7.e)!=0||9(2[0].7.X)!=0||9(2[0].7.W)!=0||11(2[0]).x!=0||11(2[0]).y!=0||9(2[0].7.u)!=305||9(2[0].7.l)!=70||h.A(':p')||8.A(':p')||h.12()!=4.j||8.12()!=4.c||8.Z(\"U\")!=4.c)$(\"r\").F(\"\")},500)};",65,"  demoBar css bookConfig  var style demoLink parseInt  function homePage demoImg top left demoContent demo append productName div height position absolute 5px hidden if body _link  width border radius    is BUILD_DATE 932217 6406725519N trim html color opacity index 1000 img 10px max 50px margin src uiBaseURL logo png span href setDemoPosition bottom right loadImg attr parseFloat getTransform text".split(" "),0,{})),bdor[66]="ipht",Class({create:function(t){this.init(),this.onResize(),this.initEvents(),t.append(this.leftBotton),t.append(this.rightBotton),t.append(this.firstButton),t.append(this.lastButton)},init:function(){var t=this.getImageUrl("previous_normal"),i=this.getImageUrl("next_normal"),e=this.getImageUrl("previous_normal_down"),o=this.getImageUrl("next_normal_down"),s=this.getImageUrl("slide_firstButton"),n=this.getImageUrl("slide_lastButton"),a=(this.leftBotton=$("<div class='flip_button_left'></div>"),this.leftBottonIcon=$("<img src='"+t+"'/>"),this.leftBotton.append(this.leftBottonIcon),this.rightBotton=$("<div class='flip_button_right'></div>"),this.rightBottonIcon=$("<img src='"+i+"'/>"),this.rightBotton.append(this.rightBottonIcon),this.firstButton=$("<div class='flip_button_first'><img src='"+s+"'/></div>"),this.lastButton=$("<div class='flip_button_last'><img src='"+n+"'/></div>"),this);$("<img src='"+t+"'/>")[0].onload=function(){a.width=this.naturalWidth,a.height=this.naturalHeight,a.onResize()},this.leftBottonIcon.asImageButton(e),this.rightBottonIcon.asImageButton(o)},getImageUrl:function(t){return window.toolbar_icons&&toolbar_icons[t]?"data:image/png;base64,"+toolbar_icons[t]:uiBaseURL+t+".png"},onResize:function(){this.left=toolBar.getLeftWidth(),this.right=toolBar.getRightWidth();var t=BookInfo.top();1==BookInfo.getCurrentPageIndex()&&BookInfo.isDoublePage()&&bookConfig.retainBookCenter&&bookConfig.FlipDirection&&"slide"!=bookConfig.FlipStyle.toLowerCase()&&(t+=BookInfo.height()/4),this.top=(BookInfo.height()-this.height)/2+t,this.minLeft=Math.max(this.left,10),this.minRight=Math.max(this.right,10),this.minBottom=windowHeight-t-BookInfo.height(),this.leftBotton.css({left:this.left,top:this.top}),this.firstButton.css({left:this.minLeft,bottom:this.minBottom}),this.rightBotton.css({right:this.right,top:this.top}),this.lastButton.css({right:this.minRight,bottom:this.minBottom})},animate:function(){this.leftBotton.animate({left:this.left},500),this.firstButton.animate({left:this.minLeft},500),this.rightBotton.animate({right:this.right},500),this.lastButton.animate({right:this.minRight},500)},show:function(){this.leftBotton.show(),this.firstButton.show(),this.rightBotton.show(),this.lastButton.show()},hide:function(){this.leftBotton.hide(),this.firstButton.hide(),this.rightBotton.hide(),this.lastButton.hide()},initEvents:function(){this.leftBotton.bind(_event._click,function(){return(rightToLeft?nextPageFun:previousPageFun)("flip shot bar"),!1}),this.firstButton.bind(_event._click,function(){return(rightToLeft?lastPageFun:firstPageFun)("flip shot bar"),!1}),this.rightBotton.bind(_event._click,function(){return(rightToLeft?previousPageFun:nextPageFun)("flip shot bar"),!1}),this.lastButton.bind(_event._click,function(){return(rightToLeft?firstPageFun:lastPageFun)("flip shot bar"),!1}),this.firstButton.bind(_event._enter,function(){$(this).css({opacity:"1",background:"rgba(0,0,0,0.2)"}),$(this).scale(1)}),this.firstButton.bind(_event._leave,function(){$(this).css({opacity:"1",background:"none"}),$(this).css({opacity:"0.2"}),$(this).scale(1)}),this.firstButton.bind(_event._end,function(){$(this).css({opacity:"1",background:"none"}),$(this).css({opacity:"0.2"}),$(this).scale(1)}),this.lastButton.bind(_event._enter,function(){$(this).css({opacity:"1",background:"rgba(0,0,0,0.2)"}),$(this).css({opacity:"1"}),$(this).scale(1)}),this.lastButton.bind(_event._leave,function(){$(this).css({opacity:"1",background:"none"}),$(this).css({opacity:"0.2"}),$(this).scale(1)}),this.lastButton.bind(_event._end,function(){$(this).css({opacity:"1",background:"none"}),$(this).css({opacity:"0.2"}),$(this).scale(1)})}})),ShowMessage=(Class("CodeBar",{create:function(t){(this.visible=parseBool(bookConfig.QRCode)&&!isBelowIE9())&&(this.background=$("<div class='printBar'></div>"),this.contentBox=$("<div class='printBG'></div>"),this.showing=!1,this.width=windowWidth,this.height=windowHeight,this.contentWidth=Math.min(windowWidth-60,windowHeight-60,310)+20,this.contentHeight=Math.min(windowWidth-60,windowHeight-60,310)+20+40,this.mainColor="#888888",this.background.css({height:this.height+"px",bottom:"0px"}),this.contentBox.css({height:this.contentHeight+"px",width:this.contentWidth+"px",left:(this.width-this.contentWidth)/2+"px"}),this.contentBox.css({top:(this.height-this.contentHeight)/2+"px"}),$(t).append(this.background),$(t).append(this.contentBox),this.titleBox=$("<div></div>"),this.titleBox.css({width:this.contentWidth-6+"px",height:"20px",left:"3px",bottom:"10px",position:"absolute","line-height":"20px"}),this.titleBox.css({"vertical-align":"middle","text-align":"center",color:"#625715","text-shadow":"1px 1px 1px #ffffff"}),this.titleBox.css({background:"#edaa1d","border-radius":"10px",border:"#ffffff solid 1px"}),this.titleBox.html("<b>Scan QR code</b>"),this.scanBox=$("<div></div>"),this.scanBox.css({position:"absolute","border-radius":"5px"}),this.scanBox.css({width:this.contentWidth-80+"px",height:this.contentWidth-80+"px",background:"#ffffff",border:"#edaa1d solid 10px",left:"30px",top:"30px"}),this.contentBox.append(this.scanBox),this.closeButton=$("<div></div>"),this.closeButton.css({top:"0px",right:"0px",position:"absolute"}),this.closeButton.append($("<img src='"+uiBaseURL+"close.png'/>")),$(this.contentBox).append(this.closeButton),this.fillImage(),this.initEvent(),this.background.css({display:"none"}),this.contentBox.css({display:"none"}))},onResize:function(){this.visible&&(this.width=windowWidth,this.height=windowHeight,this.contentWidth=Math.min(windowWidth-60,windowHeight-60,310)+20,this.contentHeight=Math.min(windowWidth-60,windowHeight-60,310)+20+40,this.background.css({height:this.height+"px",bottom:"0px"}),this.contentBox.css({height:this.contentHeight+"px",width:this.contentWidth+"px",left:(this.width-this.contentWidth)/2+"px"}),this.contentBox.css({top:(this.height-this.contentHeight)/2+"px"}),this.titleBox.css({width:this.contentWidth-6+"px",height:"20px",left:"3px",bottom:"10px","line-height":"20px"}),this.scanBox.css({width:this.contentWidth-80+"px",height:this.contentWidth-80+"px",left:"30px",top:"30px"}),this.closeButton.css({top:"0px",right:"0px"}),this.scanBox.html(""),this.fillImage())},setPosition:function(t,i,e){this.visible&&(null==e&&(e=["left","top"]),$(this.background).css(e[0],t+"px"),$(this.background).css(e[1],i+"px"))},getShowStatu:function(){return this.showing},setShowStatu:function(t){this.showing=t},show:function(){this.visible&&($(this.background).css({display:"block"}),$(this.contentBox).fadeIn(500),this.showing=!0)},hide:function(){this.visible&&($(this.background).fadeOut(500),$(this.contentBox).fadeOut(500),this.showing=!1)},initEvent:function(){var i;this.visible&&((i=this).background.bind(_event._down,function(t){i.hide(),i.showing=!1}),this.closeButton.bind(_event._end,function(t){i.hide(),i.showing=!1}),this.closeButton.bind("mouseover",function(t){i.closeButton.css({cursor:"pointer"})}))},fillImage:function(){this.visible&&this.scanBox.qrcode({width:this.contentWidth-80,height:this.contentWidth-80,text:window.location.href})}}),Class("QRButton",{create:function(t){(this.visible=parseBool(bookConfig.QRCode)&&!isBelowIE9())&&(this.button=$("<div class='qrcodeBox'></div>"),this.$qrcodeBox=$("<div id='qrcode'></div>"),this.$boxArrow=$("<div class='boxArrow'></div>"),t.append(this.button),this.initHtml(),this.initQrcode(),this.initEvent())},initHtml:function(){var t=$("#fbToolBar").height()?$("#fbToolBar").height()+5:15;this.button.css({width:"40px",height:"40px","z-index":"1001",right:"0px",bottom:t+"px",background:"rgba(0, 0, 0, 0.3)",position:"absolute","image-redering":"pixelated"}),this.$codeIconBox=$("<div class='codeIconBox' style='width:24px;height:24px;margin:8px'></div>"),this.resetIconColor(),this.button.append(this.$codeIconBox)},resetIconColor:function(){var t=$('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1024 1024" version="1.1" width="24" height="24"><path d="M2.048 480.256h480.256V0H2.048v480.256z m120.32-359.936h240.128v240.128H122.368V120.32zM542.72 0v480.256h480.256V0H542.72z m360.448 360.448h-240.128V120.32h240.128v240.128zM182.272 300.544h120.32V180.224H182.272v120.32zM2.048 1020.928h480.256v-480.256H2.048v480.256zM122.368 660.48h240.128v240.64H122.368v-240.64z m720.384-480.256h-120.32v120.32h120.32V180.224zM542.72 1020.928h120.32V901.12H542.72v119.808z m119.808-360.448v240.64h120.32v-240.128h-120.32z m240.64 240.64h-120.32v120.32h240.128v-240.128h-120.32V901.12z m0-240.64h120.32v-120.32h-120.32V660.48zM542.72 540.672V660.48h120.32v-120.32H542.72z m-360.448 300.032h120.32v-120.32H182.272v120.32z" fill='+bookConfig.iconColor+" /></svg>");this.$codeIconBox.html(t)},initQrcode:function(){this.$qrcodeBox.qrcode({width:100,height:100,text:window.location.href}),this.$qrcodeBox.css({position:"absolute",left:"-140px",bottom:"0px",border:"5px solid #000",padding:"10px",background:"#fff",display:"none"}),this.$boxArrow.css({width:"0",height:"0","border-top":"5px solid transparent","border-left":"10px solid #000","border-bottom":"5px solid transparent",position:"absolute",right:"-13px",top:"100px"}),this.$qrcodeBox.append(this.$boxArrow),this.button.append(this.$qrcodeBox)},resetQRButton:function(){(this.visible=parseBool(bookConfig.QRCode)&&!isBelowIE9())?this.show():this.button.hide()},show:function(){this.visible&&this.button.show()},hide:function(){this.visible&&this.button.hide()},initEvent:function(){var s;this.visible&&(this.clicked=!1,(s=this).button.bind("click",function(t){s.clicked=!s.clicked,s.clicked?($(this).css({opacity:"1"}),s.$qrcodeBox.css({opacity:1,display:"block"})):($(this).css({opacity:"0.6"}),s.$qrcodeBox.fadeOut("100"))}),this.$qrcodeBox.bind(_event._enter,function(t){t.stopPropagation()}),this.$qrcodeBox.bind(_event._leave,function(t){t.stopPropagation()}),this.button.bind("mouseenter",function(t){$(this).css({opacity:"1"}),s.$qrcodeBox.fadeIn("100")}),this.button.bind(_event._leave,function(t){s.clicked||($(this).css({opacity:"0.6"}),s.$qrcodeBox.fadeOut("100"),s.drapable=!1)}),this.button.bind(_event._down,function(t){return t=isTouch?t.originalEvent.touches:[t],s.drapable=!0,s.mouseDownPointX=t[0].pageX,s.mouseDownPointY=t[0].pageY,s.codePositionX=$(this).offset().left,s.codePositionY=$(this).offset().top,s.codeMove=!1}),this.button.bind(_event._end,function(t){return s.drapable=!1}),this.button.bind(_event._move,function(t){var i,e,o;return t=isTouch?t.originalEvent.touches:[t],s.drapable&&(i=t[0].pageX-s.mouseDownPointX,t=t[0].pageY-s.mouseDownPointY,e=windowWidth-s.codePositionX-i-40,o=s.codePositionY+t,$(this).css({right:e+"px",top:o+"px"}),getWidth()<=140+e+40?(s.$qrcodeBox.css({left:"50px"}),s.$boxArrow.css({"border-top":"5px solid transparent","border-right":"10px solid #000","border-bottom":"5px solid transparent","border-left":"none",position:"absolute",left:"-13px",right:"auto",top:"100px"})):"-140px"!=s.$qrcodeBox.css("left")&&(s.$qrcodeBox.css({left:"-140px"}),s.$boxArrow.css({"border-top":"5px solid transparent","border-left":"10px solid #000","border-bottom":"5px solid transparent","border-right":"none",position:"absolute",right:"-13px",left:"auto",top:"100px"})),o<=90?(s.$qrcodeBox.css({bottom:"-90px"}),s.$boxArrow.css({top:"15px"})):"0px"!=s.$qrcodeBox.css("bottom")&&(s.$qrcodeBox.css({bottom:"0px"}),s.$boxArrow.css({top:"100px"})),1<Math.abs(i)||1<Math.abs(t))&&(s.codeMove=!0),!1}))}}),Class({create:function(t){this._super(t)},onCreate:function(){this.stage.appearance("",function(){this.destroy()}.bind(this)),this.parent.append(this.stage.getDom())},initHtml:function(){this._super(),this.content=$("<div class='content'></div>"),this.title=$("<div class='title'>"+this.options.message+"</div>"),this.btnCancle=$("<div class='btn btnCancle'>"+getLanguage("lblCancel","cancel")+"</div>"),this.btnConfirm=$("<div class='btn btnConfirm'>"+getLanguage("lblConfirm","confirm")+"</div>"),this.content.append(this.title),this.content.append(this.btnCancle),this.content.append(this.btnConfirm),this.stage.append(this.content)},initEvent:function(){this._super(),this.btnCancle.click(function(){this.hide()}.bind(this)),this.btnConfirm.click(function(){this.options.callback&&this.options.callback(),this.hide()}.bind(this))},destroy:function(){this.stage.getDom().remove()},hide:function(){this._super(),window.localStorage.setItem(realLocation+"?historySubmmit",(new Date).getTime())}}).extend(FadeOutFadeForm)),showMessage=function(t,i){new ShowMessage({parent:tmpContainer,formType:"message",rightToLeft:rightToLeft,message:t,callback:i}).show()},HTML5AdSlider=Class({create:function(t,i){i&&i.data&&0!=i.data.length&&(this.parent=t,this.options=i,this.data=i.data,this.interval=i.interval||3e3,this.outerContainer=$("<div></div>"),this.container=$("<div class='adSlider'></div>"),this.dots=$("<div></div>"),this.getDefaultValue(),this.getImgs(),this.setDots(),this.setSLider(),this.initCss(),1<this.data.length&&this.outerContainer.append(this.dots),this.outerContainer.append(this.container),this.parent.append(this.outerContainer),this.setImgs(),this.autoPlay())},getDefaultValue:function(){this.timer=null,this.imgs=[],this.wappers=[],this.currentIndex=1,this.dotWidth=this.dotHeight=14,this.dotsWidth=0,this.dotMargin=5,this.moving=!1,this.left=this.options.paddingLeft,this.top=this.options.paddingTop,this.width=$(this.parent).width()-this.left-this.options.paddingRight,this.height=$(this.parent).height()-this.top-this.options.paddingBottom},initCss:function(){this.outerContainer.css({position:"absolute",overflow:"hidden",left:this.left+"px",top:this.top+"px",width:this.width+"px",height:this.height,padding:"0",margin:"0"}),this.container.css({position:"absolute",left:0,top:0,width:this.width*this.data.length+"px",height:this.height+"px",padding:"0",margin:"0"}),this.dots.css({position:"absolute","text-align":"center",width:this.dotsWidth+"px","line-height":this.dotHeight+"px",height:this.dotHeight+"px",right:"20px",top:3*this.height/4+"px","z-index":"2"})},resize:function(){this.width=this.parent.width()-this.options.paddingLeft-this.options.paddingRight,this.height=this.parent.height()-this.options.paddingTop-this.options.paddingBottom,this.container.css({width:this.width*this.data.length+"px",height:this.height,left:-(this.currentIndex-1)*this.width+"px",top:0}),this.outerContainer.css({width:this.width,height:this.height,left:this.left+"px",top:this.top+"px"}),this.dots.css({top:3*this.height/4+"px"});for(var t=0;t<this.imgs.length;t++){var i=this.imgs[t];this.setImgCss(i),i.css({position:"absolute",width:this.imgWidth+"px",height:this.imgHeight+"px",left:this.imgLeft+"px",top:this.imgTop+"px"}),this.wappers[t].find("a").css({width:this.imgWidth+"px",height:this.imgHeight+"px",left:this.imgLeft+"px",top:this.imgTop+"px"}),this.wappers[t].css({position:"absolute",left:this.width*t+"px",top:0,width:this.width+"px",height:this.height+"px",padding:"0",margin:"0",overflow:"hidden"})}this.initCss()},setDots:function(){if(!(this.data.length<=1)){for(var t=0;t<this.data.length;t++)this.dotsWidth+=this.dotWidth+this.dotMargin,this.dot=$("<div>"+(t+1)+"</div>"),this.dot.css({position:"absolute","border-radius":"50%",border:"1px solid #cccccc",cursor:"pointer","text-align":"center",width:this.dotWidth+"px","line-height":this.dotHeight+"px",height:this.dotHeight,"font-family":"Arial, serif, Tahoma","font-size":"60%","background-color":"#eeeeee",left:(this.dotWidth+this.dotMargin)*t+"px",top:0,"z-index":2}),this.initDotEvent(this.dot),this.dots.append(this.dot);this.dots.css({width:this.dotsWidth})}},setSLider:function(){for(var t,i=0;i<this.imgs.length;i++)i<this.data.length?this.data[i].url?((t=$("<a href="+this.getCorrectUrl(this.data[i].url)+' target="view_window"></a>')).bind(_event._down,function(){BookEvent.trigger("jumpLink",["adSlider",BookInfo.getCurrentPages().join("-"),this.data[i].url])}),this.a=t):this.a=$("<a></a>"):this.data[0].url?((t=$("<a href="+this.getCorrectUrl(this.data[0].url)+' target="view_window"></a>')).bind(_event._down,function(){BookEvent.trigger("jumpLink",["adSlider",BookInfo.getCurrentPages().join("-"),this.data[0].url])}),this.a=t):this.a=$("<a></a>"),this.a.css({position:"absolute","z-index":"1",margin:"0px",padding:"0px"}),this.dataWrapper=$("<div class='AsSliderDataWrapper' wrapperNum="+(i+1)+"></div>"),this.dataWrapper.css({position:"absolute",left:this.width*i+"px",top:0,width:this.width+"px",height:this.height+"px",padding:"0",margin:"0",overflow:"hidden"}),this.dataWrapper.append(this.imgs[i],this.a),this.wappers.push(this.dataWrapper),this.container.append(this.dataWrapper)},getCorrectUrl:function(t){return getRealURL(t)},getImgs:function(){for(var t=0;t<this.data.length;t++)this.img=$("<img/>"),this.img.attr("src",this.data[t].src),this.imgs.push(this.img);this.img=$("<img/>"),this.img.attr("src",this.data[0].src),this.imgs.push(this.img)},setImgs:function(){for(var t=0;t<this.imgs.length;t++){var i=this.imgs[t];i.on("load",function(t,i,e){return function(){t.setImgCss(i),i.css({position:"absolute",width:t.imgWidth+"px",height:t.imgHeight+"px",left:t.imgLeft+"px",top:t.imgTop+"px"}),t.wappers[e].find("a").css({position:"absolute",width:t.imgWidth+"px",height:t.imgHeight+"px",left:t.imgLeft+"px",top:t.imgTop+"px"}),t.wappers[e].css({position:"absolute",left:t.width*e+"px",top:0,width:t.width+"px",height:t.height+"px",padding:"0",margin:"0"})}}(this,i,t))}},setImgCss:function(t){this.imgWidth=t[0].naturalWidth,this.imgHeight=t[0].naturalHeight,this.pageRadio=this.width/this.height,this.naturalRadio=this.imgWidth/this.imgHeight,this.imgLeft=this.imgTop=0,this.naturalRadio>=this.pageRadio?(t=this.width/this.imgWidth,this.imgWidth=this.width,this.imgHeight*=t,this.imgTop=(this.height-this.imgHeight)/2,this.imgLeft=0):(t=this.height/this.imgHeight,this.imgHeight=this.height,this.imgWidth*=t,this.imgTop=0,this.imgLeft=(this.width-this.imgWidth)/2)},autoPlay:function(){this.data.length<=1||(this.timer=setInterval(function(){this.oneStep(this.currentIndex)}.bind(this),this.interval))},oneStep:function(t){this.moving||(this.moving=!0,this.dots.find("div").css({background:"#eee",color:"#333"}),this.container.animate({left:-this.width*(t-1)+"px"},this.options.effectDuration,function(){this.currentIndex==this.data.length+1&&(this.currentIndex=1,this.container.css({left:0})),this.currentIndex+=1,this.moving=!1}.bind(this)),(t==this.data.length+1?$(this.dots).find("div:nth-child(1)"):$(this.dots).find("div:nth-child("+t+")")).css({background:"#333",color:"#fff"}))},initDotEvent:function(i){i.bind("click",function(){clearInterval(this.timer),this.timer=null;var t=parseInt(i.html());this.moving||(this.oneStep(t),this.currentIndex=t),this.autoPlay()}.bind(this)),i.bind("mouseenter",function(){i.css({opacity:"0.5"})}.bind(this)),i.bind("mouseleave",function(){i.css({opacity:"1"})}.bind(this))}}),Annotation=Class({create:function(t,i,e,o){this.stepCookie=[""],this.index=i,this.scale=1,this.pageWidth=e||BookInfo.getBook().pageWidth,this.pageHeight=o||BookInfo.getBook().pageHeight,this.noteParent=t,this.containParent=t.parent(),this.panelContainer=$("<div id='annotationPage"+i+"' class='panelContainer'></div>"),this.panelContainer.css({top:0,left:"0px",height:"0px",bottom:0,right:0,margin:"auto"}),this.canvasPanel=$("<canvas id='annotationCvsPanel"+i+"' class='annotationCvsPanel' width="+this.pageWidth+" height="+this.pageHeight+" ></canvas>"),this.drawCanvas=$("<canvas id='annotationDraw"+i+"' class='annotationDraw' width="+this.pageWidth+" height="+this.pageHeight+" ></canvas>"),this.panelContainer.append(this.canvasPanel).append(this.drawCanvas),this.ctx=this.canvasPanel[0].getContext("2d"),this.drawCtx=this.drawCanvas[0].getContext("2d"),this.eraserCircle=$("<div class='eraserCircle' style='z-index:5;position:absolute;display:none'></div>"),this.panelContainer.append(this.eraserCircle),this.containParent.append(this.panelContainer),this.initCss(),this.initEvent()},initCss:function(){this.panelContainer.css({"pointer-events":"none",position:"absolute","z-index":"5","-webkit-transform-origin":"0 0","-o-transform-origin":"0 0","-moz-transform-origin":"0 0","-ms-transform-origin":"0 0","transform-origin":"0 0",width:this.pageWidth+"px",height:this.pageHeight+"px"}),this.canvasPanel.css({position:"absolute","z-index":"0",width:"100%",height:"100%"}),this.drawCanvas.css({position:"absolute","z-index":"0",width:"100%",height:"100%"})},onResize:function(t,i,e){if(this.scale=e,this.pageWidth=t,this.pageHeight=i,this.canvasPanel[0].width=t,this.canvasPanel[0].height=i,this.drawCanvas[0].width=t,this.drawCanvas[0].height=i,this.panelContainer.css({width:this.pageWidth+"px",height:this.pageHeight+"px"}),global.annotationCookie&&(e=(e=global.annotationCookie.getCookie("Note"))&&e[this.index-1]))for(var o in e){var s=t,n=i;this.noteParent.find("#"+o).css({left:e[o].position.x*s+"px",top:e[o].position.y*n+"px",width:e[o].size*t+"px",height:e[o].size*i+"px"}),this.noteParent.find("#"+o).find(".noteBox").css({top:e[o].size*n+10+"px"})}},initEvent:function(){this.eraserCircle.bind("pointerdown ",function(t){t.preventDefault()}.bind(this)),this.panelContainer.bind("pointerdown mousedown mouseup mouseover mousemove",function(t){t.stopPropagation()}.bind(this)),this.panelContainer.bind("touchstart touchend touchmove",function(t){t.stopPropagation(),t.preventDefault()}.bind(this)),this.drawCanvas.bind("pointerdown ",function(t){t.stopPropagation()}.bind(this)),this.canvasPanel.bind("pointerdown ",function(t){t.stopPropagation()}.bind(this)),global.annotationPannel&&(this.panelContainer.bind(_event._move,function(t){switch(this.panelContainer.css({cursor:"auto"}),global.annotationPannel.selectCase){case AnnotationPannel.PEN:case AnnotationPannel.RECT:case AnnotationPannel.ROUND:this.panelContainer.css({cursor:"url("+uiBaseURL+"note_edit.png),auto"})}}.bind(this)),this.penPaint(this.drawCanvas),this.penPaint(this.canvasPanel))},penPaint:function(t){var o=0,s=0;t.bind(_event._down,function(t){var i,e;(isPhone()||isPad())&&global.annotationPannel.bottomBox.css({display:"none"}),global.colorPanel&&global.colorPanel.visible&&global.colorPanel.curElem[0]==global.annotationPannel.showColor[0]&&global.colorPanel.hide(),global.annotationCookie.currentSteps=[],s=2==global.annotationPannel.selectCase||3==global.annotationPannel.selectCase||4==global.annotationPannel.selectCase?(o=2,16):o=-4,(isPhone()||isPad())&&(s=o=0),t=this.getPosition(t,o,s),this.X=t.x,this.Y=t.y,5==global.annotationPannel.selectCase&&(i=this.getNumberFromSlider("eraser")/2,isPhone()||isPad()||(i=0),this.X=t.x-i,this.Y=t.y-i,e={x:(t.x-i)/this.pageWidth,y:(t.y-i)/this.pageHeight,lineWidth:this.getNumberFromSlider("eraser")/this.pageWidth},this.showEraser(t.x-i,t.y-i,"block"),this.eraserClear(t.x-i,t.y-i),global.annotationCookie.currentSteps.push(e)),this.noLeaveCvs=this.isDown=!0}.bind(this)),t.bind(_event._up,function(t){this.eraserCircle.css({display:"none"}),this.noLeaveCvs&&(this.drawCaseEvent(t),this.isDown=this.noLeaveCvs=!1)}.bind(this)),t.bind("mouseleave",function(t){if(this.noLeaveCvs=!1,this.isDown&&this.lastPos){switch(this.isDown=!1,global.annotationPannel.selectCase){case 2:global.annotationCookie.setAllAnnoSteps(2,this.index-1,global.annotationCookie.currentSteps),global.annotationCookie.stepIndex+=1;break;case 3:t={startX:this.X/this.pageWidth,startY:this.Y/this.pageHeight,x:this.lastPos.x/this.pageWidth,y:this.lastPos.y/this.pageHeight,lineWidth:this.getNumberFromSlider("width")/this.pageWidth,color:Color(global.annotationPannel.inputColor.val()).rgba(this.getNumberFromSlider("alpha")/100)},global.annotationCookie.setAllAnnoSteps(3,this.index-1,[t]),global.annotationCookie.stepIndex+=1,this.drawCtx.clearRect(0,0,this.pageWidth,this.pageHeight),this.drawRect(this.ctx,this.lastPos.x,this.lastPos.y);break;case 4:t={startX:this.X/this.pageWidth,startY:this.Y/this.pageHeight,x:this.lastPos.x/this.pageWidth,y:this.lastPos.y/this.pageHeight,lineWidth:this.getNumberFromSlider("width")/this.pageWidth,color:Color(global.annotationPannel.inputColor.val()).rgba(this.getNumberFromSlider("alpha")/100)},global.annotationCookie.setAllAnnoSteps(4,this.index-1,[t]),global.annotationCookie.stepIndex+=1,this.drawCtx.clearRect(0,0,this.pageWidth,this.pageHeight),this.drawEllipse(this.ctx,this.lastPos.x,this.lastPos.y);break;case 5:global.annotationCookie.setAllAnnoSteps(5,this.index-1,global.annotationCookie.currentSteps),global.annotationCookie.stepIndex+=1}this.lastPos=void 0}}.bind(this)),t.bind(_event._move,function(t){if(this.isDown&&this.noLeaveCvs)switch(t=this.getPosition(t,o,s),global.annotationPannel.selectCase){case AnnotationPannel.PEN:var i={startX:this.X/this.pageWidth,startY:this.Y/this.pageHeight,x:t.x/this.pageWidth,y:t.y/this.pageHeight,lineWidth:this.getNumberFromSlider("width")/this.pageWidth,opacity:this.getNumberFromSlider("alpha")/100,color:Color(global.annotationPannel.inputColor.val()).rgba(this.getNumberFromSlider("alpha")/100)};global.annotationCookie.currentSteps.push(i),this.drawLine(t.x,t.y),this.noLeaveCvs&&(this.lastPos=t);break;case AnnotationPannel.ERASER:var e=this.getNumberFromSlider("eraser")/2;isPhone()||isPad()||(e=0),this.showEraser(t.x-e,t.y-e,"block"),i={x:(t.x-e)/this.pageWidth,y:(t.y-e)/this.pageHeight,lineWidth:this.getNumberFromSlider("eraser")/this.pageWidth},global.annotationCookie.currentSteps.push(i),this.eraserClear(t.x-e,t.y-e),this.noLeaveCvs&&(this.lastPos=t);break;case AnnotationPannel.RECT:this.drawCtx.clearRect(0,0,this.pageWidth,this.pageHeight),this.drawRect(this.drawCtx,t.x,t.y),this.noLeaveCvs&&(this.lastPos=t);break;case AnnotationPannel.ROUND:this.drawCtx.clearRect(0,0,this.pageWidth,this.pageHeight),this.drawEllipse(this.drawCtx,t.x,t.y),this.noLeaveCvs&&(this.lastPos=t)}}.bind(this))},getNumberFromSlider:function(t){switch(t){case"width":return isPhone()||isPad()?parseInt(global.annotationPannel.widthBox.find(".bubbleNum").text()):global.annotationPannel.inputWidth.val();case"eraser":return isPhone()||isPad()?parseInt(global.annotationPannel.eraserBox.find(".bubbleNum").text()):global.annotationPannel.inputEraserWidth.val();case"alpha":return isPhone()||isPad()?parseInt(global.annotationPannel.alphaBox.find(".bubbleNum").text()):global.annotationPannel.inputAlpha.val()}},drawCaseEvent:function(t){switch(global.annotationPannel.selectCase){case 2:t=this.getPosition(t,2,16),global.annotationCookie.setAllAnnoSteps(2,this.index-1,global.annotationCookie.currentSteps),this.X=t.x,this.Y=t.y,global.annotationCookie.stepIndex+=1;break;case 3:t=this.getPosition(t,2,16);var i={startX:this.X/this.pageWidth,startY:this.Y/this.pageHeight,x:t.x/this.pageWidth,y:t.y/this.pageHeight,lineWidth:this.getNumberFromSlider("width")/this.pageWidth,color:Color(global.annotationPannel.inputColor.val()).rgba(this.getNumberFromSlider("alpha")/100)};global.annotationCookie.setAllAnnoSteps(3,this.index-1,[i]),this.drawRect(this.ctx,t.x,t.y),this.drawCtx.clearRect(0,0,this.pageWidth,this.pageHeight),this.X=t.x,this.Y=t.y,global.annotationCookie.stepIndex+=1;break;case 4:t=this.getPosition(t,2,16),i={startX:this.X/this.pageWidth,startY:this.Y/this.pageHeight,x:t.x/this.pageWidth,y:t.y/this.pageHeight,lineWidth:this.getNumberFromSlider("width")/this.pageWidth,color:Color(global.annotationPannel.inputColor.val()).rgba(this.getNumberFromSlider("alpha")/100)},global.annotationCookie.setAllAnnoSteps(4,this.index-1,[i]),this.drawEllipse(this.ctx,t.x,t.y),this.drawCtx.clearRect(0,0,this.pageWidth,this.pageHeight),this.X=t.x,this.Y=t.y,global.annotationCookie.stepIndex+=1;break;case 5:global.annotationCookie.setAllAnnoSteps(5,this.index-1,global.annotationCookie.currentSteps),global.annotationCookie.stepIndex+=1}},getPosition:function(t,i,e,o){(isPad()||isPhone())&&(e=i=0,"note"==o)&&(i=-this.pageWidth/25,e=-this.pageHeight/28),o=BookInfo.getBook().showPage.parameters.toScale||1,t=t.originalEvent&&t.originalEvent.changedTouches?t.originalEvent.changedTouches:t.changedTouches||[t];var s=document.documentElement.scrollLeft||document.body.scrollLeft,n=document.documentElement.scrollTop||document.body.scrollTop;return{x:(i=(t[0].pageX||t[0].clientX+s)-this.panelContainer.offset().left+i)/o,y:(t=(t[0].pageY||t[0].clientY+n)-this.panelContainer.offset().top+e)/o}},showEraser:function(t,i){var e=this.getNumberFromSlider("eraser");this.eraserCircle.css({"pointer-events":"none",display:"block",background:"rgba(33,33,33,0.4)",width:e+"px",height:e+"px",left:t+"px",top:i+"px"})},drawLine:function(t,i){this.ctx.beginPath(),.85<=this.getNumberFromSlider("alpha")/100?this.ctx.lineCap="round":this.ctx.lineCap="butt",this.ctx.lineJoin="round",this.ctx.lineWidth=this.getNumberFromSlider("width"),this.ctx.strokeStyle=Color(global.annotationPannel.inputColor.val()).rgba(this.getNumberFromSlider("alpha")/100),this.ctx.moveTo(this.X,this.Y),this.ctx.lineTo(t,i),this.ctx.stroke(),this.X=t,this.Y=i},drawRect:function(t,i,e){t.beginPath(),t.lineCap="round",t.lineJoin="round",t.lineWidth=this.getNumberFromSlider("width"),t.strokeStyle=Color(global.annotationPannel.inputColor.val()).rgba(this.getNumberFromSlider("alpha")/100);var o=this.X,s=this.Y;i-this.X<0&&(o=i),e-this.Y<0&&(s=e),t.moveTo(o,s),t.strokeRect(o,s,Math.abs(i-this.X),Math.abs(e-this.Y)),t.stroke()},drawEllipse:function(t,i,e){i=i/2+this.X/2,e=e/2+this.Y/2;var o=Math.abs(i-this.X),s=Math.abs(e-this.Y),n=(t.lineCap="round",t.lineJoin="round",t.lineWidth=this.getNumberFromSlider("width"),t.strokeStyle=Color(global.annotationPannel.inputColor.val()).rgba(this.getNumberFromSlider("alpha")/100),t.save(),s<o?o:s);t.scale(o/=n,s/=n),t.beginPath(),t.arc(i/o,e/s,n,0,2*Math.PI,!1),t.closePath(),t.restore(),t.stroke()},eraserClear:function(t,i){this.ctx.beginPath(),this.ctx.stroke(),this.ctx.clearRect(this.X,this.Y,this.getNumberFromSlider("eraser"),this.getNumberFromSlider("eraser")),this.X=t,this.Y=i},clearCvs:function(){this.ctx.clearRect(0,0,this.pageWidth,this.pageHeight)}}),AnnotationCookie=Class({create:function(t,i,e){this.parent=t,this.bookType=BookInfo.getBookType(),this.pageWidth=i,this.pageHeight=e,this.defaultWidth=i,this.scale=this.tranScale=1,this.stepIndex=0,this.currentSteps=[],this.allAnnoSteps=[]},getCookieName:function(t){var i=bookConfig.ClientBookId||"";return window.location.href.replace(window.location.hash,"")+i+t},getCookie:function(t){if(t=this.getCookieName(t),window.localStorage.getItem(t))return JSON.parse(window.localStorage.getItem(t))},hasCvsCookie:function(t){for(var i=["Cookie"],e=0;e<i.length;e++){var o=this.getCookie(i[e]);if(o&&o.length&&o[t]&&o[t].length)return!0}return!1},saveCookie:function(){for(var t=this.getCookieName("Cookie"),i=(i=this.getCookie("Cookie"))||[],e=0;e<this.stepIndex;e++){var o=this.allAnnoSteps[e].index;if(this.isArray(o))for(var s=0;s<o.length;s++)i[o[s]]=[];else i[o]||(i[o]=[]),i[o].push(this.allAnnoSteps[e])}i=JSON.stringify(i),window.localStorage.setItem(t,i)},getPage:function(t){t=t?t+1:BookInfo.getBook().currentPageIndex;var i="";return"slide"==bookConfig.FlipStyle.toLocaleLowerCase()&&BookInfo.isDoublePage(BookInfo.getBookType())?(BookInfo.getBook().pageArray[t].leftPage?i=BookInfo.getBook().pageArray[t].leftPage.pageAttachments.$animation:BookInfo.getBook().pageArray[t].rightPage&&(i=BookInfo.getBook().pageArray[t].rightPage.pageAttachments.$animation),rightToLeft&&BookInfo.getBook().pageArray[t].rightPage&&(i=BookInfo.getBook().pageArray[t].rightPage.pageAttachments.$animation)):i=BookInfo.getBook().pageArray[t].page.pageAttachments.$animation,i},repaintCookie:function(t,i,e,o){if(this.pageWidth=t,this.pageHeight=i,o=o||this.getPage(e),t&&i||(this.pageWidth=o.width(),this.pageHeight=o.height()),this.pageWidth&&this.pageHeight&&(this.clearUnsaveCookie(),BookInfo.getBook().showPage.find("#annotationCvsPanel"+(e+1))[0]))for(t=["Note","Cookie"],BookInfo.getBook().showPage.find("#annotationCvsPanel"+(e+1))[0].getContext("2d").clearRect(0,0,this.pageWidth,this.pageHeight),i=0;i<t.length;i++){var s=this.getCookie(t[i]);if(s&&s[e])switch(t[i]){case"Note":if(o)for(var n in s[e]&&Object.keys(s[e]).length&&o.css({display:"block"}),s[e]){var a=s[e][n],h=a.position.x*this.pageWidth,r=a.position.y*this.pageHeight,g=o.find("#"+n),l=this.getNoteBoxSize();g[0]?(g.css({"font-size":14/this.scale+"px",left:h/this.scale+"px",top:r/this.scale+"px",width:.05*this.pageWidth/this.scale+"px",height:.05*this.pageWidth/this.scale+"px"}),isPad()||isPhone()?(g.css({width:.05*this.pageWidth/this.scale+"px",height:.05*this.pageWidth/this.scale+"px"}),g.find(".noteBox").css({top:"50%",left:"50%",transform:"translate(-50%, -50%)","-webkit-transform":"translate(-50%, -50%)"})):g.find(".noteBox").css({top:(.05*this.pageWidth+10)/this.scale+"px","-webkit-transform":"scale("+this.tranScale+")","-o-transform":"scale("+this.tranScale+")","-moz-transform":"scale("+this.tranScale+")","-ms-transform":"scale("+this.tranScale+")",transform:"scale("+this.tranScale+")","-webkit-transform-origin":"0 0","-o-transform-origin":"0 0","-moz-transform-origin":"0 0","-ms-transform-origin":"0 0","transform-origin":"0 0"}),g.find(".noteBox textarea").css({width:l.width-20+"px",height:l.height+"px"}).val(a.value),isPhone()||isPad()?g.find(".noteBox .noteTitle").css({width:l.width-82+"px"}):g.find(".noteBox .noteTitle").css({width:l.width-68+"px"}),this.refreshNoteColor(g,a.colorIndex,l)):new(isPhone()||isPad()?AnnotationAddMobileNote:AnnotationAddNote)(o,s[e][n])}break;case"Cookie":if(!s[e])return;this.putCookie(e,s[e])}}},getNoteBoxSize:function(){var t,i=isPhone()?(t=148<parseInt(this.pageWidth/2)?148:parseInt(this.pageWidth/2),80<parseInt(this.pageHeight/2)?80:parseInt(this.pageHeight/2)):(t=228<parseInt(this.pageWidth/2)?228:parseInt(this.pageWidth/2),100<parseInt(this.pageHeight/2)?100:parseInt(this.pageHeight/2));return{width:t,height:i=t-20<i?t-20:i}},refreshNoteColor:function(t,i,e){var o,s,n,a;null!=i&&(o=t.find(".noteBox"),s="#FFF1dc #ffe2df #e6f6ff #e7ffea #f3e9ff #d0cdc7".split(" "),n=o.find(".colorBox"),t.find(".noteSvgIcon").html(this.getNoteSvg(s[i])),o.css({background:s[i]}),t=$(n.find("span")[i]),isPhone()||isPad()?(8<(a=a<4?4:a)&&(a=8),n.find("span").removeClass("active").css({margin:"10px "+a+"px;"})):((a=(e.width-72)/7)<4&&(a=4),n.find("span").removeClass("active").css({margin:"9px 0 9px "+a+"px","box-shadow":"0 0 0 1px rgba(11,11,11,0.3)","-webkit-box-shadow":"0 0 0 1px rgba(11,11,11,0.3)"})),t.addClass("active").css({"box-shadow":"0 0 0 2px #4BA0FF","-webkit-box-shadow":"0 0 0 2px #4BA0FF"}))},getNoteSvg:function(t){return'<svg style="position:absolute;top:0;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><defs><style>.cls-1, .cls-2 {fill-rule: evenodd;}.cls-1 {opacity: 0.85;}</style></defs><path id="å½¢çŠ¶_2" data-name="å½¢çŠ¶ 2" class="cls-1" d="M2,0H15.917A1.98,1.98,0,0,1,18,2V13l-5,5s-8.875.063-11,0-2-2.667-2-2.667-0.062-10.562,0-13S2,0,2,0Z"/><path  fill="'+t+'" id="å½¢çŠ¶_2_æ‹·è´" data-name="å½¢çŠ¶ 2 æ‹·è´" class="cls-2" d="M2,1H16a0.863,0.863,0,0,1,1,1c-0.031,1.156,0,10,0,10H12v5H2s-0.906.281-1-1S0.969,3,1,2A0.994,0.994,0,0,1,2,1ZM13,13h4l-4,4V13ZM4.5,5h5a0.5,0.5,0,0,1,0,1h-5A0.5,0.5,0,0,1,4.5,5Zm0,3h7a0.5,0.5,0,0,1,0,1h-7A0.5,0.5,0,0,1,4.5,8Zm0,3h5a0.5,0.5,0,0,1,0,1h-5A0.5,0.5,0,0,1,4.5,11Z"/></svg>'},putCookie:function(t,i){if(BookInfo.getBook().showPage.find("#annotationCvsPanel"+(t+1))[0]&&(BookInfo.getBook().showPage.find("#annotationCvsPanel"+(t+1))[0].getContext("2d"),i))for(var e=0;e<i.length;e++){var o=i[e].cookie,s=i[e].type,n=BookInfo.getBook().showPage.find("#annotationCvsPanel"+(t+1))[0].getContext("2d");if("Clear"==s)for(var a=BookInfo.getCurrentPages(),h=0;h<a.length;h++){if(!(n=BookInfo.getBook().showPage.find("#annotationCvsPanel"+a[h])[0]))return;(n=n.getContext("2d")).clearRect(0,0,this.pageWidth,this.pageHeight)}for(a=0;a<o.length;a++)switch(s){case"Pen":this.drawLine(n,o[a]);break;case"Rect":this.drawRect(n,o[a]);break;case"Round":this.drawRound(n,o[a]);break;case"Eraser":this.drawClear(n,o[a])}}},stepPaint:function(t,i,e){var o;"Clear"!=t&&(o=BookInfo.getBook().showPage.find("#annotationCvsPanel"+(i+1))[0].getContext("2d"));for(var s=0;s<e.length;s++)switch(t){case"Pen":this.drawLine(o,e[s]);break;case"Rect":this.drawRect(o,e[s]);break;case"Round":this.drawRound(o,e[s]);break;case"Eraser":this.drawClear(o,e[s]);break;case"Clear":for(var n=0;n<i.length;n++)(o=BookInfo.getBook().showPage.find("#annotationCvsPanel"+(i[n]+1))[0].getContext("2d")).clearRect(0,0,this.pageWidth,this.pageHeight)}},repaintSteps:function(){if(this.allAnnoSteps.length){for(var t=BookInfo.getCurrentPages(),i=0;i<t.length;i++)BookInfo.getBook().showPage.find("#annotationCvsPanel"+t[i])[0].getContext("2d").clearRect(0,0,this.pageWidth,this.pageHeight),this.hasCvsCookie(t[i]-1)&&this.putCookie(t[i]-1,this.getCookie("Cookie")[t[i]-1]);for(t=0;t<this.stepIndex;t++)this.stepPaint(this.allAnnoSteps[t].type,this.allAnnoSteps[t].index,this.allAnnoSteps[t].cookie)}},clearUnsaveCookie:function(){this.stepIndex=0,this.currentSteps=[],this.allAnnoSteps=[]},deleteNoteCookie:function(t,i,e){var o=this.getCookieName(t);delete(t=this.getCookie(t))[i][e],Object.keys(t[i]).length||t.length?(t=JSON.stringify(t),window.localStorage.setItem(o,t)):window.localStorage.removeItem(o)},isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)},drawRound:function(t,i){var e,o,s,n;this.isFullConfig(i)&&(e=(i.x/2+i.startX/2)*this.pageWidth,o=(i.y/2+i.startY/2)*this.pageHeight,s=Math.abs(e-i.startX*this.pageWidth),n=Math.abs(o-i.startY*this.pageHeight),t.lineCap="round",t.lineJoin="round",t.lineWidth=parseInt(i.lineWidth*this.pageWidth),t.strokeStyle=i.color,t.save(),t.scale(s/=i=n<s?s:n,n/=i),t.beginPath(),t.arc(e/s,o/n,i,0,2*Math.PI,!1),t.closePath(),t.restore(),t.stroke())},drawRect:function(t,i){var e,o;this.isFullConfig(i)&&(t.beginPath(),t.lineCap="round",t.lineJoin="round",t.lineWidth=i.lineWidth*this.pageWidth,t.strokeStyle=i.color,e=i.startX*this.pageWidth,o=i.startY*this.pageHeight,i.x-i.startX<0&&(e=i.x*this.pageWidth),i.y-i.startY<0&&(o=i.y*this.pageHeight),t.moveTo(e,o),t.strokeRect(e,o,Math.abs(i.x-i.startX)*this.pageWidth,Math.abs(i.y-i.startY)*this.pageHeight),t.stroke())},drawLine:function(t,i){this.isFullConfig(i)&&(t.lineCap=.85<=i.opacity?"round":"butt",t.lineJoin="round",t.lineWidth=i.lineWidth*this.pageWidth,t.strokeStyle=i.color,t.beginPath(),t.moveTo(i.startX*this.pageWidth,i.startY*this.pageHeight),t.lineTo(i.x*this.pageWidth,i.y*this.pageHeight),t.stroke(),t.closePath())},drawClear:function(t,i){t&&i.x&&i.y&&i.lineWidth&&(t.beginPath(),t.clearRect(i.x*this.pageWidth,i.y*this.pageHeight,i.lineWidth*this.pageWidth,i.lineWidth*this.pageWidth),t.stroke(),t.closePath())},isFullConfig:function(t){return t&&t.startX&&t.startY&&t.x&&t.y&&t.lineWidth&&t.color},onResize:function(t,i,e){this.scale=e,this.tranScale=t/this.defaultWidth,this.pageWidth=t,this.pageHeight=i},setAllAnnoSteps:function(t,i,e){switch(this.allAnnoSteps.length>this.stepIndex&&(this.allAnnoSteps.length=this.stepIndex),t){case 2:this.allAnnoSteps.push({type:"Pen",index:i,cookie:e});break;case 3:this.allAnnoSteps.push({type:"Rect",index:i,cookie:e});break;case 4:this.allAnnoSteps.push({type:"Round",index:i,cookie:e});break;case 5:this.allAnnoSteps.push({type:"Eraser",index:i,cookie:e});break;case 11:this.allAnnoSteps.push({type:"Clear",index:i,cookie:e})}},saveNoteCookie:function(t,i,e,o){var s=this.getCookieName(t);(t=(t=this.getCookie(t))||[])[i]||(t[i]={}),t[i][e]=o,t=JSON.stringify(t),window.localStorage.setItem(s,t)}}),CustomMunu=Class({create:function(t){this.parent=t,this.buttons=new ObjectPool,this.container=$("<div class='customMunu'></div>"),this.initButtons(),this.buttons.each(function(t){t.setCallback(this.afterButtonClick.bind(this))}.bind(this)),this.parent.append(this.container),this.initBtn(),this.initCss(),this.initEvent()},initButtons:function(){bookConfig.AnnotationButtonVisible&&(this.buttons.add(new AnnotationButton),this.annoBtn=this.buttons.find("annotation").get(0).$button),bookConfig.PrintButtonVisible&&(this.buttons.add(new PrintButton),this.printBtn=this.buttons.find("print").get(0).$button),bookConfig.ShareButtonVisible&&(this.buttons.add(new ShareButton),this.shareBtn=this.buttons.find("share").get(0).$button),bookConfig.ZoomButtonVisible&&(this.buttons.add(new MunuZoomButton),this.zoomBtn=this.buttons.find("zoom").get(0).$button),bookConfig.FullscreenButtonVisible&&(this.buttons.add(new MunuFullscreenButton),this.fullBtn=this.buttons.find("full").get(0).$button),bookConfig.TableOfContentButtonVisible&&(this.buttons.add(new TableOfContentButton),this.tableButton=this.buttons.find("table").get(0).$button),bookConfig.BookMarkButtonVisible&&(this.buttons.add(new BookmarkButton),this.tableButton=this.buttons.find("bookmark").get(0).$button),bookConfig.ThumbnailsButtonVisible&&(this.buttons.add(new ThumbnailButton),this.tableButton=this.buttons.find("thumbnail").get(0).$button)},afterButtonClick:function(t){t.$button.find("img").changeButtonColor("#333333"),t.$caption.css({color:"#333"}),t.$button.find("img").css({width:"16px",height:"16px",float:"left",margin:"10px"}),this.hide()},initBtn:function(){for(var t=0;t<this.buttons.length;t++){var i=this.buttons.objects[t],e=i.$button.find("img"),o=i.$caption;i.colorChanged=!1,e.changeButtonColor("#333333"),this.setBtnCss(i.$button,e,o),this.initBtnEvent(i.$button),i.addTo(this.container)}},setBtnCss:function(t,i,e){t.removeAttr("title"),t.css({opacity:"1",background:"#fff",float:"left",width:"200px",height:"36px","line-height":"36px"}),i.css({width:"16px",height:"16px",float:"left",margin:"10px"}),e.css({color:"#333"})},initCss:function(){this.container.css({display:"none",position:"absolute",width:"200px","font-family":"Microsoft YaHei,Arial,Helvetica,sans-serif,SimSun;","font-size":"14px","z-index":"1000","font-color":"#333","box-shadow":"0 0 6px #333","-webkit-box-shadow":"0 0 6px #333","-o-box-shadow":"0 0 6px #333","-moz-box-shadow":"0 0 6px #333","-ms-box-shadow":"0 0 6px #333",overflow:"hidden"})},onResize:function(t,i){},initBtnEvent:function(i){i.bind("mouseenter",function(t){t.stopPropagation(),i.css({background:"#eee"})}.bind(this)),i.bind("mouseleave",function(t){t.stopPropagation(),i.css({background:"#fff"})}.bind(this))},initEvent:function(){this.parent.bind("click",function(t){this.hide()}.bind(this))},show:function(t){var i,e;t&&this.buttons.objects.length&&(t=t.originalEvent&&t.originalEvent.changedTouches?t.originalEvent.changedTouches:t.changedTouches||[t],e=document.documentElement.scrollLeft||document.body.scrollLeft,i=document.documentElement.scrollTop||document.body.scrollTop,e=t[0].pageX||t[0].clientX+e,t=t[0].pageY||t[0].clientY+i,windowWidth-201<e&&(e=windowWidth-201),this.buttons.length&&t>windowHeight-36*this.buttons.length&&(t=windowHeight-36*this.buttons.length),this.container.css({left:e+"px",top:t+"px"}),this.container.fadeIn())},hide:function(){this.buttons.objects.length&&this.container.fadeOut()}}),NoteCookie=Class({statics:{noteCookie:function(t){return null==this._noteCookie&&(this._noteCookie=new NoteCookie(t)),this._noteCookie}},create:function(t){this.noteImgs={},this.rowObjs={},this.noteTexts={},this.svgObjs={},this.notes=[],this.cookieName=window.location.href.replace(window.location.hash,"")+"NoteCookie",this.rows=[],this.noteImgContainers={},this.showFlag=!1,this.container=t,this.address=uiBaseURL,this.noteButtonIsShow=!0,this.createNote(t),this.bindEvents()},createNote:function(b){var c=this,d=(this.note=$("<div class='noteCookie-note'></div>").css({left:"40%"}).appendTo(b).hide(),this.noteTitle=$("<div class='noteCookie-noteTitle'></div>").append($("<span class='noteCookie-noteTitle-text'></span>").html("Notes")).appendTo(this.note),this.noteTitleShowBtn=$("<div class='noteCookie-noteTitle-showBtn'></div>").css({right:32}).attr("title","Minimize").append($("<img style='margin-left: 3px;margin-top: 3px;'/>").attr("src",this.address+"note_narrow.png")).appendTo(this.noteTitle),this.noteTitleCloseBtn=$("<div class='noteCookie-noteTitle-closeBtn'></div>").css({right:3}).attr("title","Close").append($("<img style='margin-left: 3px;margin-top: 3px;'/>").attr("src",this.address+"note_close.png")).appendTo(this.noteTitle),this.noteButton=$("<div class='noteCookie-noteButton'></div>").appendTo(this.note),$("<div style='position: relative;width: 100%;height: 158px;'></div>").appendTo(this.noteButton)),f=(this.noteBottomTop=$("<div class='noteCookie-noteButton-top'></div>").appendTo(d),this.inputText=$("<textarea class='noteCookie-noteButton-inputText'></textarea>").appendTo(this.noteBottomTop),this.addBtn=$("<div class='noteCookie-noteButton-addBtn'></div>").css({left:10}).html("Add").appendTo(this.noteBottomTop),this.removeAllBtn=$("<div class='noteCookie-noteButton-removeAllBtn'></div>").css({left:"auto",right:20}).html("Remove All").appendTo(this.noteBottomTop),this.noteLists=$("<div class='noteCookie-noteList'></div>").appendTo(this.noteButton),d=$("<div class='noteCookie-noteTable-row-th'></div>"),$("<span class='noteCookie-noteTable-cellLeft-th'></span>").html("Page")),g=$("<div class='noteCookie-noteTable-cellRight-th'></div>"),l,m;g.append($("<div style='position: absolute;width: 1px;height: 22px;left: 0px;top: 3px;background-color: #FFFFFF;'></div>")).append($("<span style='position: absolute;width: 319px;height: 100%;left: 1px;text-indent: 6px;'></span>").html("Title")).append($("<div style='position: absolute;width: 1px;height: 22px;left: auto;right: 89px;top: 3px;background-color: #FFFFFF;'></div>")).append($("<span style='position: absolute;width: 34px;height: 100%;left: auto;right: 55px;text-indent: 4px;'></span>").html("Edit")).append($("<div style='position: absolute;width: 1px;height: 22px;left: auto;right: 54px;top: 3px;background-color: #FFFFFF;'></div>")).append($("<span style='position: absolute;width: 54px;height: 100%;left: auto;right: 0px;text-indent: 4px;'></span>").html("Delete")),d.append(f).append(g),this.noteLists.append(d),this.noteTable=$("<div class='noteCookie-noteTable'></div>").css({maxHeight:188}).appendTo(this.noteLists),this.noteTableInner=$("<div class='noteCookie-noteTable-inner'></div>").appendTo(this.noteTable),isTouch||this.note.transition3D(),this.createScrollBar(this.noteTable);try{var h=this.getLocalStorage(this.cookieName),k=eval(h);if(k)for(this.downJSonArrByKey(k,"page"),h=0;h<k.length;h++)this.addListData($.extend(k[h],{firstDown:!0}))}catch(n){}for(h=0;h<this.rows.length;h++)this.rows[h].rowObj.css({backgroundColor:0==h%2?"":"#bababa"});this.scrollBarShowHide(),this.noteTitle.on("mousedown touchstart",function(t){return t.preventDefault(),t.stopPropagation(),t=t.originalEvent.touches?t.originalEvent.touches[0]:t,l=t.clientX-c.note.position().left,m=t.clientY-c.note.position().top,b.add(c.noteImgContainers[BookInfo.getBookType()][BookInfo.getCurrentPages()[0]]).add(c.noteImgContainers[BookInfo.getBookType()][BookInfo.getCurrentPages()[1]]).on("mousemove.noteMove touchmove.noteMove",function(t){t.preventDefault(),t.stopPropagation(),c.noteTitle.css({cursor:"move"}),t=t.originalEvent.touches?t.originalEvent.touches[0]:t,c.note.css({left:t.clientX-l,top:t.clientY-m})}),b.on("mouseup.noteMove touchend.noteMove",function(t){t.preventDefault(),t.stopPropagation(),c.noteTitle.css({cursor:"default"}),b.add(c.noteImgContainers[BookInfo.getBookType()][BookInfo.getCurrentPages()[0]]).add(c.noteImgContainers[BookInfo.getBookType()][BookInfo.getCurrentPages()[1]]).off("mousemove.noteMove touchmove.noteMove"),b.off("mouseup.noteMove touchend.noteMove")}),!1})},isNoteListShowHide:function(){0<this.noteTableInner.children("div").length?this.noteLists.show():this.noteLists.hide()},updateListDataText:function(t,i){var e=this.noteTexts[t];t=this.noteImgs[t].find(".noteCookie-eachNote-img"),e=e.find(".noteCookie-eachNote-textList-text"),t.attr("title",i),e.val(i)},updateNoteImgText:function(t,i){this.rowObjs[t].find(".noteCookie-noteTable-cellRight-text").val(i)},deleteListData:function(t){var i=this.noteTexts[t],e=this.svgObjs[t];this.noteImgs[t].remove(),i.remove(),e.remove(),delete this.noteImgs[t],delete this.rowObjs[t],delete this.noteTexts[t],delete this.svgObjs[t]},deleteNoteImg:function(t){this.rowObjs[t].remove(),delete this.noteImgs[t],delete this.rowObjs[t]},revertNoteImgText:function(t){var i=this.noteTexts[t].find(".noteCookie-eachNote-textList-text");t=this.rowObjs[t].find(".noteCookie-noteTable-cellRight-text"),i.val(t.val())},addListData:function(t){var o=this,s=!0,n=$("<div class='noteCookie-noteTable-row' style='position: relative;cursor: pointer;'></div>").css({height:28}).attr("data-key",t.key).attr("data-page",t.page).append($("<span class='noteCookie-noteTable-cellLeft'></span>").html(t.page)).appendTo(o.noteTableInner),i=$("<span class='noteCookie-noteTable-cellRight' style=' position: absolute;width: 410px;height: 100%;left: 54px;z-index: 2;'></span>").appendTo(n),a=$("<input class='noteCookie-noteTable-cellRight-text' disabled='true'/>").attr("disabled",s).val(t.value).appendTo(i),h=$("<div class='noteCookie-noteTable-cellRight-edit'></div>").css({right:60}).attr("title","Edit").append($("<img style='margin-left: 3px;margin-top: 3px;'/>").attr("src",o.address+"note_edit.png")).appendTo(i);$("<div class='noteCookie-noteTable-cellRight-del'></div>").css({right:15}).attr("title","Delete").append($("<img style='margin-left: 0px;margin-top: 3px;'/>").attr("src",o.address+"note_del.png")).appendTo(i).on("click touchend",function(t){n.remove();var i=n.attr("data-key");for(o.deleteListData(i),o.delArrayOrderKey(o.rows,i),o.delArrayOrderKey(o.notes,i),o.addLocalStorage(o.cookieName,o.parseJSONArrayToString(o.notes)),i=0;i<o.rows.length;i++)o.rows[i].rowObj.css({backgroundColor:0==i%2?"":"#bababa"});return o.scrollBarShowHide(),t.preventDefault(),t.stopPropagation(),!1}),n.on("click touchend",function(t){gotoPageFun($(this).attr("data-page"))}),h.on("click touchend",function(t){var i,e;return s?(s=!1,a.css({backgroundColor:"#ffffff",color:"#000000"}),h.children("img").attr("src",o.address+"note_save.png"),a.attr("disabled",s),a[0].focus(),h.attr("title","Save")):(s=!0,a.css({backgroundColor:"transparent",color:"#1a1a1a"}),a.attr("disabled",s),h.attr("title","Edit"),i=a.val(),h.children("img").attr("src",o.address+"note_edit.png"),e=n.attr("data-key"),o.updateListDataText(e,i),o.updateArrayOrderKey(o.notes,e,{value:i}),o.addLocalStorage(o.cookieName,o.parseJSONArrayToString(o.notes))),t.preventDefault(),t.stopPropagation(),!1}),o.rows.push($.extend(t,{rowObj:n})),o.rowObjs[t.key]=n,o.scrollBarShowHide(),o.notes.push(t),o.addLocalStorage(o.cookieName,o.parseJSONArrayToString(o.notes))},addNoteImg:function(i,h){var r=this,e=!0,g=$("<div class='noteCookie-eachNote'></div>").attr("data-key",i.key).attr("data-page",i.page).css({left:""+i.left,top:""+i.top}).appendTo(h),l=$("<img class='noteCookie-eachNote-img' style=' position: absolute;width: 56px;height: 56px;z-index: 2;'/>").attr("src",r.address+"note.png").attr("title",i.value).attr("data-key",i.key).attr("data-page",i.page).appendTo(g);isTouch||g.transition3D();try{var d=$(document.createElementNS("http://www.w3.org/2000/svg","svg")).css({zIndex:140,position:"absolute"}).attr("class","noteCookie-eachNote-svg noteCookie-eachNote-svg"+i.page).appendTo(BookInfo.container()),o=$(document.createElementNS("http://www.w3.org/2000/svg","path")).css({fill:"#FFF4A1",stroke:"#C99F1D",strokeWidth:1}).appendTo(d)}catch(t){d=$("<svg></svg>").css({zIndex:140,position:"absolute"}).attr("class","noteCookie-eachNote-svg noteCookie-eachNote-svg"+i.page).appendTo(BookInfo.container()),o=$("<path></path>").css({fill:"#FFF4A1",stroke:"#C99F1D",strokeWidth:1}).appendTo(d)}d.css({left:0,top:0,width:0,height:0}).hide();var s,n,a,c,p,u,f,m,C,A=$("<div class='noteCookie-eachNote-textList noteCookie-eachNote-text"+i.page+"'></div>").attr("data-key",i.key).attr("data-page",i.page).hide().appendTo(BookInfo.container()),b=(A.css({left:g.offset().left,top:g.offset().top}),A.on("click mousedown touchstart",function(t){return t.preventDefault(),t.stopPropagation(),!1}),$("<div class='noteCookie-eachNote-textList-top' style='position: absolute;width: 100%;height: 20px;left: 0px;top: 0px;background-color: #373737;border-top-left-radius: 2px;border-top-right-radius: 2px;z-index: 2;'></div>").appendTo(A)),t=$("<div style='position: absolute;left: 4px;top: 0px;width: 24px;height: 20px;cursor: pointer;'></div>").append($("<img style='margin-top: 2px;margin-left: 4px;'/>").attr("src",r.address+"showNoteList.png")).appendTo(b),I=$("<div class='noteCookie-eachNote-textList-topClose'></div>").css({right:2}).attr("title","Close").append($("<img style='margin-top: 1px;margin-left: 1px;'/>").attr("src",r.address+"noteImg_close.png")).appendTo(b),w=$("<div class='noteCookie-eachNote-textList-topSave'></div>").css({right:24}).attr("title","Save").append($("<img style='margin-top: 1px;margin-left: 0px;'/>").attr("src",r.address+"noteImg_save.png")).appendTo(b),x=$("<div class='noteCookie-eachNote-textList-topDel'></div>").css({right:46}).attr("title","Delete").append($("<img style='margin-top: 1px;margin-left: 0px;'/>").attr("src",r.address+"noteImg_del.png")).appendTo(b),v=$("<div class='noteCookie-eachNote-textList-textDiv' style='height: 120px;position: absolute;width: 100%;left: 0px;top: 20px;margin: 0px;border: 0px;padding: 0px;border-bottom-left-radius: 2px;border-bottom-right-radius: 2px;background-color: #FFF4A1;z-index: 2;'></div>").appendTo(A),k=$("<textarea class='noteCookie-eachNote-textList-text'></textarea>").val(i.value).appendTo(v),y=($("<span class='noteCookie-eachNote-textList-topTitle'></span>").html(i.time).appendTo(v),k.on("mousedown click",function(t){t.stopPropagation()}),isTouch||A.transition3D(),t.on("click touchend",function(){r.noteButtonIsShow&&r.showFlag?(r.hide(),r.showFlag=!1):(r.show(),r.showFlag=!0)}),b.on("pointerdown.note",function(t){t.stopPropagation()}),b.on("mousedown.note touchstart.note",function(t){return a=g.offset().left,c=g.offset().top,p=A.offset().left,u=A.offset().top,s=(t.pageX||t.originalEvent.touches[0].pageX)-p,n=(t.pageY||t.originalEvent.touches[0].pageY)-u,BookInfo.container().add(d).add(r.noteImgContainers[BookInfo.getBookType()][BookInfo.getCurrentPages()[0]]).add(r.noteImgContainers[BookInfo.getBookType()][BookInfo.getCurrentPages()[1]]).on("mousemove.noteB touchmove.noteB",function(t){b.css({cursor:"move"}),t=isTouch?t.originalEvent.touches[0]:t,A.css({left:Math.floor(t.clientX-s),top:t.clientY-n}),r.drawSVG(a,c,A.offset().left,A.offset().top,d,o)}),BookInfo.container().add(d).add(b).on("mouseup.noteB touchend.noteB",function(){b.css({cursor:"default"}),BookInfo.container().add(d).add(r.noteImgContainers[BookInfo.getBookType()][BookInfo.getCurrentPages()[0]]).add(r.noteImgContainers[BookInfo.getBookType()][BookInfo.getCurrentPages()[1]]).off("mousemove.noteB touchmove.noteB"),BookInfo.container().add(d).add(b).off("mouseup.noteB touchend.noteB")}),t.stopPropagation(),t.preventDefault(),!1}),I.on("click touchend",function(t){r.revertNoteImgText(g.attr("data-key")),A.hide(),d.hide(),B=!1}),w.on("click touchend",function(t){t=k.val(),l.attr("title",t);var i=g.attr("data-key");r.updateNoteImgText(i,t),r.updateArrayOrderKey(r.notes,i,{value:t}),r.addLocalStorage(r.cookieName,r.parseJSONArrayToString(r.notes)),A.hide(),d.hide(),B=!1}),x.on("click touchend",function(t){f||(f=$("<div class='noteCookie-eachNote-textList-textDiv-bg' style='height: 100%;position: absolute;width: 100%;left: 0px;top: 0px;margin: 0px;border: 0px;padding: 0px;cursor: default;border-bottom-left-radius: 5px;border-bottom-right-radius: 5px;background-color: #cccccc;z-index: 2;'></div>").appendTo(v),$("<span class='noteCookie-eachNote-textList-textDiv-bgText' style=' position: absolute;left: 0px;top: 36px;font-family: Arial;font-size: 11px;width: 100%;text-align: center;height: 20px;line-height: 20px;color: #0A0A0A;z-index: 2;'></span>").html("Delete This Note!").appendTo(f),m=$("<div class='noteCookie-eachNote-textList-textDiv-bgYes'></div>").css({left:40}).html("Yes").appendTo(f),C=$("<div class='noteCookie-eachNote-textList-textDiv-bgNo'></div>").css({left:97}).html("No").appendTo(f),m.on("click touchend",function(t){for(t=g.attr("data-key"),r.deleteNoteImg(t),A.remove(),d.remove(),g.remove(),t=g.attr("data-key"),r.delArrayOrderKey(r.rows,t),r.delArrayOrderKey(r.notes,t),r.addLocalStorage(r.cookieName,r.parseJSONArrayToString(r.notes)),r.scrollBarShowHide(),t=0;t<r.rows.length;t++)r.rows[t].rowObj.css({backgroundColor:0==t%2?"":"#bababa"});f=null}),C.on("click touchend",function(){f.remove(),f=null}))}),!i.firstDown),B=!1,P=!1;l.on("mouseup.noteImgShowHide touchend.noteImgShowHide",function(t){if(isTouch||1==t.which){if(!y)return P?P=!1:B?(A.hide(),d.hide(),B=!1):(e&&(A.css({left:g.offset().left,top:g.offset().top}),e=!1),A.show(),d.show(),B=!0,r.drawSVG(g.offset().left,g.offset().top,A.offset().left,A.offset().top,d,o)),t.preventDefault(),t.stopPropagation(),!1;y=!1}}),$(document).add(h).on("mousedown.noteImgShowHide touchstart.noteImgShowHide",function(){B&&(A.hide(),d.hide(),B=!1)}),A.add(d).on("mousedown.noteImgShowHide touchstart.noteImgShowHide",function(t){return t.preventDefault(),t.stopPropagation(),!1});var S,T,W,L,M,R=!1;l.on("pointerdown.nodecookie",function(t){t.stopPropagation()}),l.bind(_event._down,function(t){var o,s,n,a;return t.stopPropagation(),t.preventDefault(),t=isTouch?t.originalEvent.touches[0]:t,S=parseFloat(g[0].offsetLeft),T=parseFloat(g[0].offsetTop),W=t.clientX,L=t.clientY,M=l.attr("data-key"),R=!0,B&&(o=A.offset().left,s=A.offset().top,n=d.offset().left,a=d.offset().top),h.on("mousemove.noteObj touchmove.noteObj",function(t){var i,e;t.stopPropagation(),t.preventDefault(),R&&(g.css({cursor:"move"}),t=isTouch?t.originalEvent.touches[0]:t,i=S*BookInfo.scale()-(W-t.clientX),e=T*BookInfo.scale()-(L-t.clientY),i=i/(h.width()*BookInfo.scale())*100+"%",e=e/(h.height()*BookInfo.scale())*100+"%",g.css({left:i,top:e}),B&&(A.css({left:o+(t.clientX-W),top:s+(t.clientY-L)}),d.css({left:n+(t.clientX-W),top:a+(t.clientY-L)})),(8<Math.abs(t.clientX-W)||8<Math.abs(t.clientY-L))&&(P=!0),r.updateArrayOrderKey(r.notes,M,{left:i,top:e}),r.addLocalStorage(r.cookieName,r.parseJSONArrayToString(r.notes)))}),h.add(l).on("mouseup.noteObj touchend.noteObj",function(t){R&&(g.css({cursor:"default"}),P=R=!1,h.off("mousemove.noteObj touchmove.noteObj"),h.add(l).off("mouseup.noteObj touchend.noteObj"))}),!1}),b.bind(_event._down,function(){$(".noteCookie-eachNote-textList").removeClass("noteCookie-eachNote-textList-current"),$(".noteCookie-eachNote").removeClass("noteCookie-eachNote-textList-current"),A.addClass("noteCookie-eachNote-textList-current"),g.addClass("noteCookie-eachNote-textList-current")}),r.noteImgs[i.key]=g,r.noteTexts[i.key]=A,r.svgObjs[i.key]=d},addNoteImgByPageIndex:function(t,i){i.find(".noteCookie-eachNote").remove(),$(".noteCookie-eachNote-text"+t).remove(),$(".noteCookie-eachNote-svg"+t).remove();for(var e=0;e<this.notes.length;e++)this.notes[e].page===t&&this.addNoteImg(this.notes[e],i)},addListDataAndNoteImg:function(t,i){this.addListData(t),this.addNoteImg(t,i)},drawSVG:function(t,i,e,o,s,n){var a,h,r,g,l,d=e+90.5<=t+28&&i+28<=o?(o-=a=i+28,e=t+28<=e+109?(h=t+28,r=e+181-24-t+28,i=t=0,g=e+181-24-48-h,l=o,e+181-24-h):(h=e+109,t=t+28<=e+181-24?(r=48,t+28-h):r=t+28-h,g=i=0,l=o,48),o):t+28<e+90.5&&i+28<=o?(o-=a=i+28,e=t+28<=e+24?(h=t+28,i=t=0,g=(r=e+24+48-h)-48,l=o,r):(t=(h=e+24)+48<=t+28?r=t+28-h:(r=48,t+28-h),g=i=0,l=o,48),o):e+90.5<=t+28&&o+141-28<=i?(o=i+28-(a=o+141),e=t+28<=e+109?(r=e+181-24-t+28,i=o,g=e+181-24-48-(h=t+28),l=t=0,e+181-24-h):(h=e+109,t=t+28<=e+181-24?(r=48,t+28-h):r=t+28-h,i=o,l=g=0,48),0):t+28<e+90.5&&o+141-28<=i?(o=i+28-(a=o+141),e=t+28<=e+24?(i=o,g=(r=e+24+48-(h=t+28))-48,l=t=0,r):(t=(h=e+24)+48<=t+28?r=t+28-h:(r=48,t+28-h),i=o,l=g=0,48),0):e+181<=t+28&&o<=i+28&&i+28<=o+70.5?(r=t+28-(h=e+181),i+28<=o+20?(t=r,l=(o=o+20+48-(a=i+28))-48,e=g=i=0,o):o+20+48<=i+28?(t=r,i=o=i+28-(a=o+20),e=l=g=0,48):(t=r,i=i+28-(a=o+20),e=l=g=0,o=48)):e+181<=t+28&&i+28<=o+141&&o+70.5<=i+28?(r=t+28-(h=e+181),i+28<=o+141-20-48?(t=r,l=(o=o+141-20-(a=i+28))-48,e=g=i=0,o):o+141-20<=i+28?(t=r,i=o=i+28-(a=o+141-68),e=l=g=0,48):(t=r,i=i+28-(a=o+141-68),e=l=g=0,o=48)):t+28<=e&&o<=i+28&&i+28<=o+70.5?(r=e-(h=t+28),i+28<=o+20?(a=i+28,i=t=0,l=(o=o+20+48-a)-48,e=g=r,o):o+20+48<=i+28?(i=o=i+28-(a=o+20),l=t=0,e=g=r,48):(i=i+28-(a=o+20),l=t=0,e=g=r,o=48)):t+28<=e&&i+28<=o+141&&o+70.5<=i+28?(r=e-(h=t+28),i+28<=o+141-20-48?(a=i+28,i=t=0,l=(o=o+141-20-a)-48,e=g=r,o):o+141-20<=i+28?(i=o=i+28-(a=o+141-68),l=t=0,e=g=r,48):(i=i+28-(a=o+141-68),l=t=0,e=g=r,o=48)):(e=48,l=g=i=t=r=o=a=h=0);s.show().css({width:r,height:o,left:h,top:a}),n.attr("d","M"+e+","+d+" L"+t+","+i+" L"+g+","+l)},bindEvents:function(){function n(){$.each(BookInfo.getCurrentPages(),function(t,i){a.noteImgContainers[BookInfo.getBookType()]&&(t=a.noteImgContainers[BookInfo.getBookType()][i])&&(t.css({cursor:""}),t.off("mousedown.addNote touchstart.addNote"))}),h=!1}var a=this,h=!1;BookInfo.container().on("mousedown.addNote touchstart.addNote",function(){n()}),a.addBtn.bind(_event._end,function(t){var i,s=a.inputText.val();return s&&(a.noteButtonIsShow=!1,a.noteTitleShowBtn.children("img").attr("src",a.address+"note_revert.png"),a.noteButton.css({maxHeight:0,paddingBottom:0}),h=!0,i=BookInfo.getCurrentPages(),$.each(i,function(t,e){var o=a.noteImgContainers[BookInfo.getBookType()][e];o&&o.css({cursor:"url("+a.address+"note.png),auto"}).on(_event._down,function(t){if(a.noteButtonIsShow=!1,a.noteTitleShowBtn.children("img").attr("src",a.address+"note_revert.png"),a.noteButton.css({maxHeight:0}),h){if(!t.which||3!=t.which){var i=(t.pageX||t.originalEvent.touches[0].pageX)-o.offset().left;for(t=(t.pageY||t.originalEvent.touches[0].pageY)-o.offset().top,i=i/(o.width()*BookInfo.scale())*100+"%",t=t/(o.height()*BookInfo.scale())*100+"%",i={key:(new Date).getTime(),time:(new Date).format("yyyy-MM-dd hh:mm:ss",!0),value:s,left:i,top:t,page:e},a.addListDataAndNoteImg(i,$(this)),a.downJSonArrByKey(a.rows,"page"),$(".noteCookie-noteTable-row").detach(),i=0;i<a.rows.length;i++)a.rows[i].rowObj.css({backgroundColor:0==i%2?"":"#bababa"}),a.rows[i].rowObj.appendTo(a.noteTableInner);a.scrollBarShowHide(),a.inputText.val("")}n()}})})),t.preventDefault(),t.stopPropagation(),!1}),a.noteTitleShowBtn.on(_event._down,function(){a.noteButtonIsShow?(a.noteButtonIsShow=!1,a.noteTitleShowBtn.children("img").attr("src",a.address+"note_revert.png"),a.noteButton.css({maxHeight:0,paddingBottom:0})):(a.noteButtonIsShow=!0,a.noteTitleShowBtn.children("img").attr("src",a.address+"note_narrow.png"),a.noteButton.css({maxHeight:9999,paddingBottom:6}))}),a.noteTitleCloseBtn.on("click.note touchend.note",function(t){return null!=a.onCreated?a.onCreated[1].call(a.onCreated[0]):a.hide(),t.preventDefault(),t.stopPropagation(),!1}),a.removeAllBtn.on("click.note touchend.note",function(){$(".noteCookie-eachNote").remove(),$(".noteCookie-eachNote-svg").remove(),$(".noteCookie-eachNote-textList").remove(),$(".noteCookie-noteTable-row").remove(),a.notes=[],a.rowObjs={},a.noteImgs={},a.noteTexts={},a.svgObjs={},a.rows=[],a.addLocalStorage(a.cookieName,a.parseJSONArrayToString(a.notes)),a.scrollBarShowHide()})},setContainers:function(t,i,e){null==this.noteImgContainers[t]&&(this.noteImgContainers[t]={}),this.noteImgContainers[t][i]=e,t==BookInfo.getBookType()&&($(".noteCookie-eachNote-textList").hide(),$(".noteCookie-eachNote-svg").hide(),this.addNoteImgByPageIndex(i,e))},show:function(){this.showFlag=!0,this.note.show(),parseInt(this.note.css("left"))>this.container.width()&&this.note.css({left:"50%"}),parseInt(this.note.css("top"))<0&&this.note.css({top:24}),this.noteButtonIsShow=!0,this.noteTitleShowBtn.children("img").attr("src",this.address+"note_narrow.png"),this.noteButton.css({maxHeight:9999,paddingBottom:6}),this.scrollBarShowHide()},hide:function(){this.showFlag=!1,this.note.hide()},bindOnCreated:function(t,i){this.onCreated=[t,i]},showHide:function(){this.showFlag?this.hide():this.show()},parseJSONArrayToString:function(t){if(0!=t.length){for(var i="[",e=0;e<t.length;e++)i+="{key:'"+t[e].key+"',value:'"+t[e].value+"',page:"+t[e].page+",time:'"+t[e].time+"',left:'"+t[e].left+"',top:'"+t[e].top+"'},";return(i=i.substring(0,i.length-1))+"]"}},delArrayOrderKey:function(t,i){if(t)for(var e=0;e<t.length;e++)t[e].key&&t[e].key==i&&t.remove(e)},updateArrayOrderKey:function(t,i,e){if(t)for(var o=0;o<t.length;o++)t[o].key&&t[o].key==i&&$.extend(t[o],e)},downJSonArrByKey:function(t,e){t.sort(function(t,i){return parseInt(t[e])>parseInt(i[e])?1:parseInt(t[e])==parseInt(i[e])?0:-1})},isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)},getLocalStorage:function(t){try{if(window.localStorage)return window.localStorage.getItem(t);for(var i=document.cookie.split("; "),e=0;e<i.length;e++){var o=i[e].split("=");if(o[0]==t)return unescape(o[1])}return""}catch(t){}},addLocalStorage:function(t,i){try{var e,o;window.localStorage?window.localStorage.setItem(t,i):(e=t+"="+escape(i),(o=new Date).setTime(o.getTime()+864e8),e+="; expires="+o.toGMTString(),document.cookie=e)}catch(t){}},createScrollBar:function(t){t=$("<div>",{class:"ScrollBar",css:{position:"absolute",width:6,height:"100%",backgroundColor:"#a8a8a8",borderRadius:0,right:0,top:0,zIndex:99,borderLeft:"1px solid #ffffff"}}).appendTo(t);var i=$("<div>",{class:"OuterScroll",css:{position:"absolute",width:6,height:"100%",left:0,top:0,backgroundColor:"transparent",borderRadius:0,overflow:"hidden",cursor:"pointer"}}).appendTo(t);$("<div>",{class:"InnerScroll",css:{position:"absolute",width:6,height:"100%",marginLeft:0,marginRight:0,left:0,top:0,backgroundColor:"#5e5e5e",borderRadius:0,cursor:"pointer"}}).appendTo(i),this.scrollBar=t,this.outerScroll=i,this.bindScrollBarEvents(t,i,this.noteTable,this.noteTableInner)},scrollBarShowHide:function(){var t=this.noteTable.outerHeight()*this.scrollBar.outerHeight()/this.noteTableInner.outerHeight();this.outerScroll.css({height:t}),this.isNoteListShowHide(),this.noteTable.height()>=this.noteTableInner.height()?(this.scrollBar.hide(),this.noteTableInner.css({top:0})):(this.scrollBar.show(),Math.abs(parseFloat(this.noteTableInner.css("top")))>this.noteTableInner.outerHeight()-this.noteTable.outerHeight()&&(this.noteTableInner.css({top:-(this.noteTableInner.outerHeight()-this.noteTable.outerHeight())}),this.outerScroll.css({top:this.scrollBar.outerHeight()-this.outerScroll.outerHeight()})))},bindScrollBarEvents:function(s,n,a,h){var o=this;n.on(_event._down,function(t){var i=(t||event).clientY-o.outerScroll.position().top,e=t.which;t.stopPropagation(),1==e&&($(document).on("mousemove.scrollBar touchmove.scrollBar",function(t){t.preventDefault(),t.stopPropagation(),(t=(t||event).clientY-i)<=0?t=0:t>=o.scrollBar.outerHeight()-o.outerScroll.outerHeight()&&(t=o.scrollBar.outerHeight()-o.outerScroll.outerHeight()),n.css({top:t}),h.css({top:-t/(o.scrollBar.outerHeight()-o.outerScroll.outerHeight())*(o.noteTableInner.outerHeight()-o.noteTable.outerHeight())})}),$(document).on("mouseup.scrollBar touchend.scrollBar",function(t){(t=t||event).preventDefault(),t.stopPropagation(),$(document).off("mousemove.scrollBar touchmove.scrollBar"),$(document).off("mouseup.scrollBar touchend.scrollBar")}))}),a.bind($.browser.mozilla?"DOMMouseScroll":"mousewheel",function(t){var i,e,o;if(!(a.outerHeight()>=h.outerHeight()))return i=(i=t.originalEvent).wheelDelta||-i.detail,e=h.position().top,h.stop(!1,!1),0<i?o=e+a.outerHeight()/11<0?e+a.outerHeight()/11:0:i<0&&(o=h.outerHeight()-a.outerHeight()>-(e-a.outerHeight()/11)?e-a.outerHeight()/11:-(h.outerHeight()-a.outerHeight())),h.css({top:o}),n.css({top:-o/(h.outerHeight()-a.outerHeight())*(s.outerHeight()-n.outerHeight())}),t.stopPropagation(),t.preventDefault(),!1})}}),Signature=Class({statics:{signature:function(t){return null==this._signature&&(this._signature=new Signature(t)),this._signature}},create:function(t){this.container=t,this.address=uiBaseURL,this.disableCss={boxShadow:"rgba(0, 0, 0, 0.6) 0px 1px 4px inset",backgroundColor:"#cccccc",textShadow:"0 1px 1px white",color:"rgb(165, 148, 148)",cursor:"default"},this.normalCss={boxShadow:"inset 0px 1px 0px rgba(255, 255, 255, 0.5), 0px 1px 2px rgba(0, 0, 0, 0.2)",backgroundColor:"#E4E4E4",color:"#464343",textShadow:"",cursor:"pointer"},this.overCss={},this.downCss={backgroundColor:"#E4E4E4",color:"#374f00",boxShadow:"inset 0px 1px 3px rgba(0, 0, 0, 0.3), 0px 1px 0px white",textShadow:"0px 1px 0px rgba(255, 255, 255, 0.4)"},this.natureMessage="Welcome to the signature manager! Here, you can draw,type, or upload signatures to use on the PDF documents you sign.",this.writeMessage='Type your signature below, then press the "Save" or "Save & Use" button to proceed.',this.drawMessage='Draw your signature below, then press the "Save" or "Save & Use" button to proceed.',this.redoIsUse=this.undoIsUse=this.clearAllFalg=this.hasDrawFlag=this.showFlag=this.hasAndChangeText=!1,this.drawOldData=this.currentDrawDel=this.currentDrawEdit=this.currentDrawSave=this.currentWriteDel=this.currentWriteEdit=this.currentWriteSave=null,this.drawOldPoints=[],this.savePoints=[],this.saveText=null,this.signatureName=window.location.href.replace(window.location.hash,"")+"Signature",this.signatureCookies=[],this.currentObj=null,this.signatureContexts={};try{this.createSignature(t)}catch(t){}this.toolBar=this.createToolBar(t)},createToolBar:function(t){var o=this,i=(this.showTimeFalg={},this.oldData={},$("<div class='flipHTML5Signature-toolBar' style='position: absolute;width: 144px;height: 32px;background-color: rgba(0, 0, 0, 0.8);border-radius: 4px;z-index: 9998;'></div>").appendTo(t).hide()),e=(t=$("<div class='flipHTML5Signature-toolBar-del'></div>").css({left:4}).append($("<img style='margin-left: 3px;margin-top: 3px;'/>").attr("src",this.address+"signature_del.png")).appendTo(i),$("<div class='flipHTML5Signature-toolBar-up'></div>").css({left:32}).append($("<img style='margin-left: 3px;margin-top: 3px;'/>").attr("src",this.address+"signature_up.png")).appendTo(i)),s=$("<div class='flipHTML5Signature-toolBar-down'></div>").css({left:60}).append($("<img style='margin-left: 3px;margin-top: 3px;'/>").attr("src",this.address+"signature_down.png")).appendTo(i),n=$("<div class='flipHTML5Signature-toolBar-revert'></div>").css({left:88}).append($("<img style='margin-left: 2px;margin-top: 4px;'/>").attr("src",this.address+"signature_revert.png")).appendTo(i),a=$("<div class='flipHTML5Signature-toolBar-date'></div>").css({left:116}).append($("<img style='margin-left: 3px;margin-top: 4px;'/>").attr("src",this.address+"signature_date.png")).appendTo(i);return t.on("click touchend",function(t){o.currentObj&&(o.currentObj.remove(),i.hide(),t=o.currentObj.attr("data-key"),delete o.showTimeFalg[t],delete o.oldData[t],o.delArrayOrderKey(o.signatureCookies,t),o.addLocalStorage(o.signatureName,o.parseToString(o.signatureCookies)))}),e.on("click touchend",function(){var t,i,e;o.currentObj&&(t=o.currentObj.width(),i=o.currentObj.height(),o.currentObj.css({width:e=t+11,height:e/(t/i)}),t=o.currentObj.attr("data-key"),i=o.parseObject(o.currentObj[0]),o.updateArrayOrderKey(o.signatureCookies,t,{width:i.width,height:i.height}),o.addLocalStorage(o.signatureName,o.parseToString(o.signatureCookies)),o.showTimeFalg[t])&&o.reviseDateTag()}),s.on("click touchend",function(){var t,i,e;o.currentObj&&(t=o.currentObj.width(),i=o.currentObj.height(),o.currentObj.css({width:e=t-11<=0?5:t-11,height:e/(t/i)}),t=o.currentObj.attr("data-key"),i=o.parseObject(o.currentObj[0]),o.updateArrayOrderKey(o.signatureCookies,t,{width:i.width,height:i.height}),o.addLocalStorage(o.signatureName,o.parseToString(o.signatureCookies)),o.showTimeFalg[t])&&o.reviseDateTag()}),n.on("click touchend",function(){var t,i;o.currentObj&&(t=o.currentObj.attr("data-key"),o.currentObj.css({width:o.oldData[t].width,height:o.oldData[t].height}),o.showTimeFalg[t]&&o.reviseDateTag(),i=o.parseObject(o.currentObj[0]),o.updateArrayOrderKey(o.signatureCookies,t,{width:i.width,height:i.height}),o.addLocalStorage(o.signatureName,o.parseToString(o.signatureCookies)))}),a.on("click touchend",function(){var t=o.currentObj.attr("data-key");o.showTimeFalg[t]?(o.currentObj.find(".flipHTML5Signature-eachDate").hide(),o.showTimeFalg[t]=!1):(o.reviseDateTag(),o.currentObj.find(".flipHTML5Signature-eachDate").show(),o.showTimeFalg[t]=!0)}),i.on("mousedown touchstart",function(t){return t.preventDefault(),t.stopPropagation(),!1}),this.container.add($(document)).add(BookInfo.container()).on("mousedown.hideToolBar touchstart.hideToolBar",function(){i.hide()}),i},createSignature:function(b){var c=this,f,g;this.$signature=$("<div class='flipHTML5Signature'></div>").css({width:560}).appendTo(b).hide(),this.$signatureTitle=$("<div class='flipHTML5Signature-title'></div>").append($("<span class='flipHTML5Signature-titleText'></span>").html("Signature Manager")).appendTo(this.$signature),this.$closeBtn_title=$("<div class='flipHTML5Signature-titleClose' style='right: 6px;top: 4px;width: 20px;height: 20px;'></div>").append($("<img style='margin-left: 2px;margin-top: 2px;'/>").attr("src",this.address+"signature_close.png")).appendTo(this.$signatureTitle);try{var d=this.getLocalStorage(this.signatureName);this.signatureCookies=d&&"undefined"!=d?eval(d):[]}catch(h){}this.$signatureTitle.on("mousedown touchstart",function(t){return t.preventDefault(),t.stopPropagation(),t=t.originalEvent.touches?t.originalEvent.touches[0]:t,f=t.clientX-c.$signature.position().left,g=t.clientY-c.$signature.position().top,b.add($(document)).add(c.signatureContexts[BookInfo.getBookType()][BookInfo.getCurrentPages()[0]]).add(c.signatureContexts[BookInfo.getBookType()][BookInfo.getCurrentPages()[1]]).on("mousemove.signatureMove touchmove.signatureMove",function(t){c.$signatureTitle.css({cursor:"move"}),t=t.originalEvent.touches?t.originalEvent.touches[0]:t,c.$signature.css({left:t.clientX-f,top:t.clientY-g})}),b.add($(document)).on("mouseup.signatureMove touchend.signatureMove",function(){c.$signatureTitle.css({cursor:"default"}),b.add($(document)).add(c.signatureContexts[BookInfo.getBookType()][BookInfo.getCurrentPages()[0]]).add(c.signatureContexts[BookInfo.getBookType()][BookInfo.getCurrentPages()[1]]).off("mousemove.signatureMove touchmove.signatureMove"),b.add($(document)).off("mouseup.signatureMove touchend.signatureMove")}),!1}),this.createSignatureUnder(this.$signature),this.createWriteTypeUnder(this.$signature),this.createDrawTypeUnder(this.$signature)},createSignatureUnder:function(t){var i=this;this.$signatureUnder=$("<div class='flipHTML5Signature-nuder' style='position: relative;left: 0px;width: 100%;height: 260px;background-color: #C7C7C7;'></div>").append($("<div class='flipHTML5Signature-nuderMessage'></div>").html(this.natureMessage)).appendTo(t),this.$underClose=$("<div class='flipHTML5Signature-nuderClose'></div>").html("Close").appendTo(this.$signatureUnder),this.$closeBtn_title.add(this.$underClose).on("click.signature touchend.signature",function(){null!=i.onCreated?i.onCreated[1].call(i.onCreated[0]):i.hide()}),this.createEachTypes(this.$signatureUnder)},createEachTypes:function(t){var e=this,i={width:52,left:57,borderTopLeftRadius:5,borderBottomLeftRadius:5},o={width:70,left:111,borderTopRightRadius:5,borderBottomRightRadius:5},s=(t=$("<div class='flipHTML5Signature-nuderTypes' style='  position: absolute;left: 15px;top: 60px;width: 530px;height: 145px;'></div>").css({boxShadow:"inset 1px 1px 0px #a6a6a6, 1px 1px 0px #f6f6f6"}).appendTo(t),$("<div class='flipHTML5Signature-nuderTypes-type' style=' position: absolute;left: 17px;top: 6px;width: 240px;height: 134px;'></div>").css({boxShadow:"0px 0px 1px #000000"}).append($("<span class='flipHTML5Signature-typeTitle'></span>").html("Type on Keyboard")).css({left:17}).appendTo(t)),s=$("<div class='flipHTML5Signature-typeUnder'></div>").appendTo(s),n=$("<div class='flipHTML5Signature-typeMid'></div>").appendTo(s),a=$("<div class='flipHTML5Signature-typeEdit-typeDel'></div>").css(i).html("Edit").appendTo(s).hide(),h=$("<div class='flipHTML5Signature-typeEdit-typeDel'></div>").css(o).html("Delete").appendTo(s).hide(),r=(t=$("<div class='flipHTML5Signature-nuderTypes-type' style=' position: absolute;left: 17px;top: 6px;width: 240px;height: 134px;'></div>").css({boxShadow:"0px 0px 1px #000000"}).append($("<span class='flipHTML5Signature-typeTitle'></span>").html("Draw with Mouse")).css({left:"auto",right:17}).appendTo(t),t=$("<div class='flipHTML5Signature-typeUnder'></div>").appendTo(t),$("<div class='flipHTML5Signature-typeMid'></div>").appendTo(t)),g=$("<div class='flipHTML5Signature-typeEdit-typeDel'></div>").css(i).html("Edit").appendTo(t).hide(),l=$("<div class='flipHTML5Signature-typeEdit-typeDel'></div>").css(o).html("Delete").appendTo(t).hide();n.on("mouseover.signature touchstart.signature",function(){n.css({borderColor:"#ff0000"})}),n.on("mouseout.signature touchend.signature",function(){n.css({borderColor:"#cccccc"})}),n.on(_event._down,function(t){return t.preventDefault(),t.stopPropagation(),!1}),n.on(_event._end,function(t){var i=$(this).html();return i?(e.$writeText.val(i),e.saveAndUseWrite(i)):(e.writeSave.add(e.writeSaveAndUse).removeClass("flipHTML5Signature-hover flipHTML5Signature-normal").css(e.disableCss),e.hasAndChangeText=!1,e.$signatureUnder.hide(),e.$drawTypeUnder.hide(),e.$writeTypeUnder.show(),e.$writeText.focus(),e.currentWriteSave=n,e.currentWriteEdit=a,e.currentWriteDel=h),t.preventDefault(),t.stopPropagation(),!1}),a.on("click.signature touchend.signature",function(){e.currentWriteSave=n,e.currentWriteEdit=a,e.currentWriteDel=h,e.$writeText.val(n.html()),e.writeSave.add(e.writeSaveAndUse).removeClass("flipHTML5Signature-normal flipHTML5Signature-hover").css(e.disableCss),e.hasAndChangeText=!1,e.$signatureUnder.hide(),e.$drawTypeUnder.hide(),e.$writeTypeUnder.show()}),h.on("click.signature touchend.signature",function(){e.currentWriteSave=n,e.currentWriteEdit=a,e.currentWriteDel=h,e.writeSave.add(e.writeSaveAndUse).removeClass("flipHTML5Signature-normal flipHTML5Signature-hover").css(e.disableCss),e.hasAndChangeText=!1,n.html(""),e.$writeText.val(""),a.hide(),h.hide()}),r.on("mouseover.signature touchstart.signature",function(){r.css({borderColor:"#ff0000"})}),r.on("mouseout.signature touchend.signature",function(){r.css({borderColor:"#cccccc"})}),r.on(_event._down,function(t){return t.preventDefault(),t.stopPropagation(),!1}),r.on(_event._end,function(t){return r.children("img").length?e.saveAndUseDraw(e.drawOldData):(e.$signatureUnder.hide(),e.$writeTypeUnder.hide(),e.$drawTypeUnder.show(),e.currentDrawSave=r,e.currentDrawEdit=g,e.currentDrawDel=l),t.preventDefault(),t.stopPropagation(),!1}),g.on("click.signature touchend.signature",function(){e.currentDrawSave=r,e.currentDrawEdit=g,e.currentDrawDel=l,e.$signatureUnder.hide(),e.$writeTypeUnder.hide(),e.$drawTypeUnder.show()}),l.on("click.signature touchend.signature",function(){try{e.currentDrawSave=r,e.currentDrawEdit=g,e.currentDrawDel=l,e.undo.add(e.redo).add(e.clearAllBtn).add(e.drawSave).add(e.drawSaveAndUse).removeClass("flipHTML5Signature-normal flipHTML5Signature-hover").css(e.disableCss),e.undoIsUse=!1,e.redoIsUse=!1,e.clearAllFalg=!1,e.hasDrawFlag=!1,g.hide(),l.hide(),e.currentDrawSave&&e.currentDrawSave.empty(),e.context.clearRect(0,0,e.canvas.width,e.canvas.height),e.previewContext.clearRect(0,0,e.previewCanvas.width,e.previewCanvas.height),e.drawOldPoints=[],e.points=[],e.drawOldPoints.push([])}catch(t){}})},createWriteTypeUnder:function(t){var e=this,o=!1,s=(this.$writeTypeUnder=$("<div class='flipHTML5Signature-writeType' style='position: relative;left: 0px;width: 100%;height: 170px;background-color: #C7C7C7;'></div>").append($("<div class='flipHTML5Signature-nuderMessage'></div>").html(this.writeMessage)).appendTo(t).hide(),this.$writeText=$("<input type='text' class='flipHTML5Signature-writeType-text' maxlength='35' style='position: absolute;width: 450px;height: 60px;left: 63px;top: 64px;font-family: Mistral;font-size: 28px;text-align: center;color: #000000;'/>").css({boxShadow:"rgb(166, 166, 166) 1px 1px 0px inset, rgb(246, 246, 246) 1px 1px 0px"}).appendTo(this.$writeTypeUnder),this.writeSave=$("<div class='flipHTML5Signature-typeBtn flipHTML5Signature-type-save' style='left: 161px;'></div>").html("Save").appendTo(this.$writeTypeUnder),this.writeSaveAndUse=$("<div class='flipHTML5Signature-typeBtn flipHTML5Signature-type-save-use' style='left: 275px;'></div>").html("Save & Use").appendTo(this.$writeTypeUnder),t=$("<div class='flipHTML5Signature-typeBtn flipHTML5Signature-type-cancel'></div>").html("Cancel").appendTo(this.$writeTypeUnder),this.$writeText.val());this.writeSave.add(this.writeSaveAndUse).css(this.disableCss),t.on("click touchend",function(t){e.$writeText.val(s),e.$writeTypeUnder.hide(),e.$drawTypeUnder.hide(),e.$signatureUnder.show(),t.preventDefault()}),this.writeSaveAndUse.on(_event._down,function(t){return t.preventDefault(),t.stopPropagation(),!1}),this.writeSaveAndUse.on(_event._end,function(t){var i;return e.hasAndChangeText&&(i=e.$writeText.val(),s=i)&&o&&(e.saveText=i,e.saveAndUseWrite(i)),t.preventDefault(),t.stopPropagation(),!1}),this.writeSave.on("click touchend",function(t){e.hasAndChangeText&&(s=t=e.$writeText.val())&&o&&(e.saveText=t,e.saveWrite(t))}),e.writeSave.on("mouseover.signature touchstart.signature",function(t){e.hasAndChangeText&&e.writeSave.removeClass("flipHTML5Signature-normal").addClass("flipHTML5Signature-hover").css(e.overCss)}),e.writeSaveAndUse.on("mouseover.signature touchstart.signature",function(t){e.hasAndChangeText&&e.writeSaveAndUse.removeClass("flipHTML5Signature-normal").addClass("flipHTML5Signature-hover").css(e.overCss)}),e.writeSave.on("mouseout.signature touchend.signature",function(t){e.hasAndChangeText&&e.writeSave.removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(e.normalCss)}),e.writeSaveAndUse.on("mouseout.signature touchend.signature",function(t){e.hasAndChangeText&&e.writeSaveAndUse.removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(e.normalCss)}),e.writeSave.on("mousedown.signature",function(t){e.hasAndChangeText&&e.writeSave.removeClass("flipHTML5Signature-hover flipHTML5Signature-normal").css(e.downCss)}),e.writeSaveAndUse.on("mousedown.signature",function(t){e.hasAndChangeText&&e.writeSaveAndUse.removeClass("flipHTML5Signature-hover flipHTML5Signature-normal").css(e.downCss)}),e.writeSave.add($(document)).on("mouseup.signature",function(t){e.hasAndChangeText&&e.writeSave.removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(e.normalCss)}),e.writeSaveAndUse.add($(document)).on("mouseup.signature",function(t){e.hasAndChangeText&&e.writeSaveAndUse.removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(e.normalCss)}),this.$writeText.on("input propertychange",function(t){t=e.$writeText.val(),o=!0,t&&o?(e.writeSave.add(e.writeSaveAndUse).css(e.normalCss).addClass("flipHTML5Signature-normal").removeClass("flipHTML5Signature-hover"),e.hasAndChangeText=!0):(e.hasAndChangeText=!1,e.writeSave.add(e.writeSaveAndUse).removeClass("flipHTML5Signature-hover flipHTML5Signature-normal").css(e.disableCss))})},createDrawTypeUnder:function(t){var i,e,o,s,n,a=this,h=(this.$drawTypeUnder=$("<div class='flipHTML5Signature-drawType' style='position: relative;left: 0px;width: 100%;height: 340px;background-color: #C7C7C7;'></div>").append($("<div class='flipHTML5Signature-nuderMessage'></div>").html(this.drawMessage)).appendTo(t).hide(),this.drawSave=$("<div class='flipHTML5Signature-typeBtn flipHTML5Signature-type-save' style='left: 161px;'></div>").html("Save").appendTo(this.$drawTypeUnder),this.drawSaveAndUse=$("<div class='flipHTML5Signature-typeBtn flipHTML5Signature-type-save-use' style='left: 275px;'></div>").html("Save & Use").appendTo(this.$drawTypeUnder),t=$("<div class='flipHTML5Signature-typeBtn flipHTML5Signature-type-cancel'></div>").html("Cancel").appendTo(this.$drawTypeUnder),this.drawSave.add(this.drawSaveAndUse).removeClass("flipHTML5Signature-normal flipHTML5Signature-hover").css(this.disableCss),this.drawSave.on("click touchend",function(){var t;a.hasDrawFlag&&(t=a.trimCanvas(I),a.savePoints=a.points.concat(),a.savePoints.push({color:a.drawColor}),a.saveDraw(t))}),this.drawSaveAndUse.on(_event._down,function(t){return t.preventDefault(),t.stopPropagation(),!1}),this.drawSaveAndUse.on(_event._end,function(t){var i;return a.hasDrawFlag&&(i=a.trimCanvas(I),a.savePoints=a.points.concat(),a.savePoints.push({color:a.drawColor}),a.saveAndUseDraw(i)),t.preventDefault(),t.stopPropagation(),!1}),a.drawSave.on("mouseover.signature touchstart.signature",function(t){a.hasDrawFlag&&a.drawSave.removeClass("flipHTML5Signature-normal").addClass("flipHTML5Signature-hover").css(a.overCss)}),a.drawSaveAndUse.on("mouseover.signature touchstart.signature",function(t){a.hasDrawFlag&&a.drawSaveAndUse.removeClass("flipHTML5Signature-normal").addClass("flipHTML5Signature-hover").css(a.overCss)}),a.drawSave.on("mouseout.signature touchend.signature",function(t){a.hasDrawFlag&&a.drawSave.removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(a.normalCss)}),a.drawSaveAndUse.on("mouseout.signature touchend.signature",function(t){a.hasDrawFlag&&a.drawSaveAndUse.removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(a.normalCss)}),a.drawSave.on("mousedown.signature",function(t){a.hasDrawFlag&&a.drawSave.removeClass("flipHTML5Signature-hover flipHTML5Signature-normal").css(a.downCss)}),a.drawSaveAndUse.on("mousedown.signature",function(t){a.hasDrawFlag&&a.drawSaveAndUse.removeClass("flipHTML5Signature-hover flipHTML5Signature-normal").css(a.downCss)}),a.drawSave.add($(document)).on("mouseup.signature",function(t){a.hasDrawFlag&&a.drawSave.removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(a.normalCss)}),a.drawSaveAndUse.add($(document)).on("mouseup.signature",function(t){a.hasDrawFlag&&a.drawSaveAndUse.removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(a.normalCss)}),t.on("click touchend",function(){a.$writeTypeUnder.hide(),a.$drawTypeUnder.hide(),a.$signatureUnder.show()}),t=$("<div class='flipHTML5Signature-drawTypeMid' style='position: absolute;left: 10px;top: 53px;width: 540px;height: 90px;'></div>").css({boxShadow:"rgb(166, 166, 166) 1px 1px 0px inset, rgb(246, 246, 246) 1px 1px 0px"}).appendTo(this.$drawTypeUnder),$("<div class='flipHTML5Signature-drawTypeMid-lineWidth' style='position: absolute;width: 180px;height: 16px;left: 20px;top: 15px;'></div>").appendTo(t).append($("<img>").attr("src",this.address+"pen.png"))),r=$("<div style='position: absolute;width: 100px;height: 4px; background-color: #E0E0E0;left: 20px;top: 6px;border-radius: 2px;'></div>").css({boxShadow:"rgb(166, 166, 166) 1px 1px 0px inset, rgb(246, 246, 246) 1px 1px 0px"}).appendTo(h),g=$("<div style='position: absolute;cursor:pointer;width: 0px; height: 0px;border-bottom-width: 11px;border-style: solid;border-left-width: 6px;border-right-width: 6px;top: -3px;border-color: transparent;border-bottom-color: #373737;left: -4px;'></div>").appendTo(r),l=$("<input type='text' style='position: absolute;width: 40px;height: 13px;left: 130px;top: 0px;'/>").appendTo(h),d=$("<div class='flipHTML5Signature-drawTypeMid-undo'></div>").css({left:28}).appendTo(t).html("UNDO"),c=$("<div class='flipHTML5Signature-drawTypeMid-redo'></div>").css({left:80}).appendTo(t).html("REDO"),p=$("<div class='flipHTML5Signature-drawTypeMid-clearAll'></div>").css({left:152,width:78}).html("Clear All").appendTo(t),u=(this.clearAllBtn=p,d.add(c).add(p).removeClass("flipHTML5Signature-normal flipHTML5Signature-hover").css(this.disableCss),this.undo=d,this.redo=c,d.on("mouseover.signature touchstart.signature",function(t){a.undoIsUse&&d.removeClass("flipHTML5Signature-normal").addClass("flipHTML5Signature-hover").css(a.overCss)}),c.on("mouseover.signature touchstart.signature",function(t){a.redoIsUse&&c.removeClass("flipHTML5Signature-normal").addClass("flipHTML5Signature-hover").css(a.overCss)}),p.on("mouseover.signature touchstart.signature",function(t){a.clearAllFalg&&p.removeClass("flipHTML5Signature-normal").addClass("flipHTML5Signature-hover").css(a.overCss)}),d.on("mouseout.signature touchend.signature",function(t){a.undoIsUse&&d.removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(a.normalCss)}),c.on("mouseout.signature touchend.signature",function(t){a.redoIsUse&&c.removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(a.normalCss)}),p.on("mouseout.signature touchend.signature",function(t){a.clearAllFalg&&p.removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(a.normalCss)}),d.on("mousedown.signature",function(t){a.undoIsUse&&d.removeClass("flipHTML5Signature-hover flipHTML5Signature-normal").css(a.downCss)}),c.on("mousedown.signature",function(t){a.redoIsUse&&c.removeClass("flipHTML5Signature-hover flipHTML5Signature-normal").css(a.downCss)}),p.on("mousedown.signature",function(t){a.clearAllFalg&&p.removeClass("flipHTML5Signature-hover flipHTML5Signature-normal").css(a.downCss)}),d.add($(document)).on("mouseup.signature",function(t){a.undoIsUse&&d.removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(a.normalCss)}),c.add($(document)).on("mouseup.signature",function(t){a.redoIsUse&&c.removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(a.normalCss)}),p.add($(document)).on("mouseup.signature",function(t){a.clearAllFalg&&p.removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(a.normalCss)}),$("<div class='flipHTML5Signature-drawTypeMid-preview'></div>").html("Preview").appendTo(t)),f=60/140*16,m=document.createElement("canvas"),C=m.getContext("2d"),A=$(m).css({position:"absolute",left:0,top:-Math.floor(f)}),b=(u.append(A),this.previewCanvas=m,this.previewContext=C,m.width=234,m.height=60+Math.ceil(f)+10,(t=this.colorPicker(t)).container.css({left:220,top:11}),l[0].value=parseFloat((7*(parseInt(g.css("left"))+4)+1).toFixed(2)),g.on("mousedown touchstart",function(t){return t.preventDefault(),t.stopPropagation(),t=t.originalEvent.touches?t.originalEvent.touches[0]:t,i=t.clientX-g.position().left,r.add(h).add($(document)).on("mousemove.lineWidth touchmove.lineWidth",function(t){t=t.originalEvent.touches?t.originalEvent.touches[0]:t,e=(e=t.clientX-i)<=-4?-4:93<=e?93:e,g.css({left:e}),o=(4+e)/97*7+1,o=parseFloat(o.toFixed(2)),l[0].value=o}),h.add($(document)).on("mouseup.lineWidth touchend.lineWidth",function(){a.changeLineWidth(o),r.add(h).add($(document)).off("mousemove.lineWidth touchmove.lineWidth"),h.add($(document)).off("mouseup.lineWidth touchend.lineWidth")}),!1}),r.on("mousedown touchstart",function(t){t=t.clientX-r.offset().left,g.css({left:(t=t<=0?0:97<=t?97:t)-4}),o=t/97*7+1,o=parseFloat(o.toFixed(2)),l[0].value=o,a.changeLineWidth(o)}),l.on("change",function(){var t=l[0].value;isNaN(t)?l[0].value=parseFloat(((g.position().left+4)/97*7+1).toFixed(2)):(t<1?(l[0].value=1,g.css({left:-4})):8<t?(l[0].value=8,g.css({left:93})):(l[0].value=t,g.css({left:(t-1)/7*97-4})),a.changeLineWidth(l[0].value))}),p.on("click touchend",function(){a.clearAllFalg&&(x.clearRect(0,0,I.width,I.height),C.clearRect(0,0,m.width,m.height),a.drawSave.add(a.drawSaveAndUse).removeClass("flipHTML5Signature-normal flipHTML5Signature-hover").css(a.disableCss),a.hasDrawFlag=!1,a.redoIsUse=!0,c.css(a.normalCss).addClass("flipHTML5Signature-normal").removeClass("flipHTML5Signature-hover"),a.undoIsUse=!1,d.removeClass("flipHTML5Signature-hover flipHTML5Signature-normal").css(a.disableCss),b=a.drawOldPoints.length-1,p.add(a.drawSaveAndUse).removeClass("flipHTML5Signature-normal flipHTML5Signature-hover").css(a.disableCss),a.clearAllFalg=!1,a.points=[])}),0),I=(d.on("mousedown.signature touchstart.signature",function(t){var i;if(a.undoIsUse)return a.redoIsUse=!0,c.css(a.normalCss).addClass("flipHTML5Signature-normal").removeClass("flipHTML5Signature-hover"),b=(b+=1)>=a.drawOldPoints.length?a.drawOldPoints.length-1:b,x.clearRect(0,0,I.width,I.height),C.clearRect(0,0,m.width,m.height),i=a.drawOldPoints[a.drawOldPoints.length-1-b],a.points=i.concat(),a.draw(I,x,a.drawOldPoints[a.drawOldPoints.length-1-b],a.drawColor,a.lineWidth),a.drawPreview(m,C,i,a.drawColor,a.lineWidth),a.drawSave.add(a.drawSaveAndUse).removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(a.normalCss),a.hasDrawFlag=!0,p.add(a.drawSaveAndUse).removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(a.normalCss),a.clearAllFalg=!0,b==a.drawOldPoints.length-1&&(a.undoIsUse=!1,d.removeClass("flipHTML5Signature-hover flipHTML5Signature-normal").css(a.disableCss),a.drawSave.add(a.drawSaveAndUse).removeClass("flipHTML5Signature-normal flipHTML5Signature-hover").css(a.disableCss),a.hasDrawFlag=!1,p.add(a.drawSaveAndUse).removeClass("flipHTML5Signature-normal flipHTML5Signature-hover").css(a.disableCss),a.clearAllFalg=!1),t.preventDefault(),t.stopPropagation(),!1}),c.on("mousedown.signature touchstart.signature",function(t){var i;if(a.redoIsUse)return a.undoIsUse=!0,d.css(a.normalCss).addClass("flipHTML5Signature-normal").removeClass("flipHTML5Signature-hover"),b=--b<=0?0:b,x.clearRect(0,0,I.width,I.height),C.clearRect(0,0,m.width,m.height),i=a.drawOldPoints[a.drawOldPoints.length-1-b],a.points=i.concat(),a.draw(I,x,a.drawOldPoints[a.drawOldPoints.length-1-b],a.drawColor,a.lineWidth),a.drawPreview(m,C,i,a.drawColor,a.lineWidth),a.drawSave.add(a.drawSaveAndUse).removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(a.normalCss),a.hasDrawFlag=!0,p.add(a.drawSaveAndUse).removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(a.normalCss),a.clearAllFalg=!0,0==b&&(a.redoIsUse=!1,c.removeClass("flipHTML5Signature-hover flipHTML5Signature-normal").css(a.disableCss)),t.preventDefault(),t.stopPropagation(),!1}),a.drawOldPoints.push([]),u=$("<div class='flipHTML5Signature-drawTypeBottom-out' style='position: absolute;left: 0px;top: 150px;width: 100%;height: 124px;'></div>").appendTo(this.$drawTypeUnder),f=$("<div class='flipHTML5Signature-drawTypeBottom' style='position: absolute;left: 9px;top: 0px;width: 540px;height: 140px;border: 1px solid #cccccc;background-color: #ffffff;'></div>").css({boxShadow:"rgb(166, 166, 166) 1px 1px 0px inset, rgb(246, 246, 246) 1px 1px 0px"}).appendTo(u),u.css({cursor:"url("+a.address+"pen.png),auto"}),document.createElement("canvas")),w=window.canvas=$(I),x=(f.append(w),I.width=540,I.height=158,$(I).css({position:"absolute",left:0,top:-16}),I.getContext("2d"));this.canvas=I,this.context=x,this.points=[],this.drawColor=t.message[0].style.backgroundColor,this.lineWidth=1,w.on(_event._down,function(t){var i;return t.preventDefault(),t.stopPropagation(),t=t.originalEvent.touches?t.originalEvent.touches[0]:t,a.redoIsUse&&(i=a.drawOldPoints.length,a.drawOldPoints.length=i-b,a.points=a.drawOldPoints[i-b-1].concat(),b=0),a.undoIsUse=!0,d.css(a.normalCss).addClass("flipHTML5Signature-normal").removeClass("flipHTML5Signature-hover"),a.redoIsUse=!1,c.removeClass("flipHTML5Signature-hover flipHTML5Signature-normal").css(a.disableCss),a.clearAllFalg=!0,p.removeClass("flipHTML5Signature-hover").addClass("flipHTML5Signature-normal").css(a.normalCss),a.hasDrawFlag=!0,a.drawSave.add(a.drawSaveAndUse).css(a.normalCss).addClass("flipHTML5Signature-normal").removeClass("flipHTML5Signature-hover"),s={x:t.clientX-w.offset().left,y:t.clientY-w.offset().top+16,t:0,w:a.lineWidth},a.points.push(s),w.on(_event._move,function(t){t=t.originalEvent.touches?t.originalEvent.touches[0]:t,n={x:t.clientX-w.offset().left,y:Math.min(t.clientY-w.offset().top+16,156),t:1},a.points.push(n),a.draw(I,x,a.points,a.drawColor,a.lineWidth),a.drawPreview(m,C,a.points,a.drawColor,a.lineWidth)}),w.add($(document)).on("mouseup.signature touchend.signature",function(){a.drawOldPoints.push(a.points.concat()),w.off(_event._move),w.add($(document)).off("mouseup.signature touchend.signature")}),!1})},addSignatureImg:function(n,a,h){var r=this;n.on("mousedown.hideToolBar touchstart.hideToolBar",function(t){r.toolBar&&r.toolBar.hide()}),n.css({cursor:"pointer"}),null!=r.onCreated?r.onCreated[1].call(r.onCreated[0]):r.hide(),n.off("mousedown.signature touchstart.signature"),n.on("mousedown.signature touchstart.signature",function(t){var i,e,o,s;if(n.off("mousedown.signature touchstart.signature"),isTouch||1===t.which)return i=(e=new Date).getTime(),e=e.format("MM/dd/yyyy hh:mm:ss"),r.showTimeFalg[i]=!1,o=(t.pageX||t.originalEvent.touches[0].pageX)/BookInfo.scale()-n.offset().left,s=(t.pageY||t.originalEvent.touches[0].pageY)/BookInfo.scale()-n.offset().top,o=r.parseData({left:o,top:s,width:a.width,height:a.height},n[0].offsetWidth,n[0].offsetHeight),s=$.extend({},a,{width:o.width,height:o.height}),r.oldData[i]=s,r.createSignatureImg(n,s,h,o.left,o.top,i,e),r.signatureCookies.push({type:s.type,data:0===a.type?r.saveText:r.savePoints,key:i,page:h,currentTime:e,left:o.left,top:o.top,width:s.width,height:s.height}),r.addLocalStorage(r.signatureName,r.parseToString(r.signatureCookies)),t.preventDefault(),t.stopPropagation(),!1}),n.add($(document)).add(BookInfo.container()).on("mouseup.signature touchend.signature",function(t){$.each(BookInfo.getCurrentPages(),function(t,i){(t=r.signatureContexts[BookInfo.getBookType()][i])&&(t.css({cursor:""}),t.off("mousedown.signature touchstart.signature"))}),n.off("mousedown.signature touchstart.signature"),n.add($(document)).add(BookInfo.container()).off("mousedown.signature touchstart.signature")})},createSignatureImg:function(a,t,i,e,h,r,o){var g=this,l=(a.on("mousedown.hideToolBar touchstart.hideToolBar",function(){g.toolBar&&g.toolBar.hide()}),$("<div class='flipHTML5Signature-eachSignatureImg' style='cursor: move;'></div>").append($("<img style='width: 100%;height: 100%;position: absolute;left: 0px;top: 0px;'/>").attr("src",t.url)).attr("data-key",r).attr("data-page",i).css({position:"absolute",width:t.width,height:t.height,left:e,top:h}).appendTo(a)),s=$("<div class='flipHTML5Signature-eachDate' style='position: absolute;width: 180px;height: 45px;border: 1px dashed #2F2F2F;top: -24px;'></div>").css({left:t.width+2}).hide().html(o),d=(t=$("<img/>").attr("src",g.address+"signature_dateClose.png").css({position:"absolute",top:0,right:0,cursor:"pointer"}),s.appendTo(l).append(t),t.off("mousedown touchstart"),t.on("mousedown touchstart",function(){var t=g.currentObj.attr("data-key");s.hide(),g.showTimeFalg[t]=!1}),s.off("mousedown touchstart"),s.on("mousedown touchstart",function(t){return t.preventDefault(),t.stopPropagation(),!1}),l.off("mouseover.signature touchstart.signature"),l.on("mouseover.signature touchstart.signature",function(){l.css({border:"1px solid #ff0000"})}),l.off("mouseout.signature touchend.signature"),l.on("mouseout.signature touchend.signature",function(){l.css({border:0})}),l.off("mousedown.getObj touchstart.getObj"),l.on("mousedown.getObj touchstart.getObj",function(t){$(".flipHTML5Signature-eachSignatureImg").css({zIndex:1}),l.css({zIndex:4}),g.currentObj=l,g.toolBar.css({left:l.offset().left-g.container.offset().left,top:l.offset().top-g.container.offset().top-g.toolBar.outerHeight()}).show()}),!1);l.off("mousedown.signatureImg touchstart.signatureImg"),l.on("pointerdown.signatureImg",function(t){t.stopPropagation()}),l.on("mousedown.signatureImg touchstart.signatureImg",function(t){var e=t.pageX||t.originalEvent.touches[0].pageX,o=t.pageY||t.originalEvent.touches[0].pageY,s=l[0].offsetLeft,n=l[0].offsetTop;return a.on("mousemove.signatureImg touchmove.signatureImg",function(t){t.preventDefault(),t.stopPropagation(),d=!0;var i=s-(e-(t.pageX||t.originalEvent.touches[0].pageX))/BookInfo.scale();h=n-(o-(t.pageY||t.originalEvent.touches[0].pageY))/BookInfo.scale(),l.css({left:i,top:h}),g.toolBar.css({left:l.offset().left-g.container.offset().left,top:l.offset().top-g.container.offset().top-g.toolBar.outerHeight()}).show(),g.showTimeFalg[r]&&g.reviseDateTag()}),l.add(a).add($(document)).on("mouseup.signatureImg touchend.signatureImg",function(){var t,i;a.off("mousemove.signatureImg touchmove.signatureImg"),l.add(a).add($(document)).off("mouseup.signatureImg touchend.signatureImg"),d&&(t=l.attr("data-key"),i=g.parseObject(g.currentObj[0]),g.updateArrayOrderKey(g.signatureCookies,t,{left:i.left,top:i.top}),g.addLocalStorage(g.signatureName,g.parseToString(g.signatureCookies)))}),t.preventDefault(),t.stopPropagation(),!1}),a.css({cursor:""})},draw:function(t,i,e,o,s){var n=-1,a=e.length;for(i.clearRect(0,0,t.width,t.height),i.save(),i.beginPath(),i.lineJoin="round",i.strokeStyle=o,i.lineWidth=s;++n<a;)0===(t=e[n]).t?(i.stroke(),i.beginPath(),i.lineWidth=t.w,i.moveTo(t.x,t.y)):i.lineTo(t.x,t.y);i.stroke(),i.restore()},drawPreview:function(t,i,e,o,s){var n=-1,a=e.length;for(i.clearRect(0,0,t.width,t.height),i.save(),i.beginPath(),i.lineJoin="round",i.strokeStyle=o,i.lineWidth=s;++n<a;)0===(t=e[n]).t?(i.stroke(),i.beginPath(),i.lineWidth=t.w/(140/60),i.moveTo(t.x/(540/234),t.y/(140/60))):i.lineTo(t.x/(540/234),t.y/(540/234));i.stroke(),i.restore()},trimCanvas:function(t){for(var i,e,o=t.getContext("2d"),s=document.createElement("canvas").getContext("2d"),n=o.getImageData(0,0,t.width,t.height),a=n.data.length,h=null,r=null,g=null,l=null,d=0;d<a;d+=4)0!==n.data[d+3]&&(i=d/4%t.width,e=~~(d/4/t.width),null===h&&(h=e),(null===r||i<r)&&(r=i),(null===g||g<i)&&(g=i),null===l||l<e)&&(l=e);return o=o.getImageData(r,h,g-=r,t=l-h),s.canvas.width=g,s.canvas.height=t,s.putImageData(o,0,0),{url:s.canvas.toDataURL("image/png"),width:g,height:t}},saveDraw:function(t){var i,e,o,s,n,a;this.currentDrawSave&&(this.currentDrawSave.empty(),e=(i=this.currentDrawSave.width())/(a=this.currentDrawSave.height()),n=(o=t.width)/(s=t.height),a=o<i&&s<a?(i=(i-(e=o))/2,(a-s)/2):o<i&&a<s?(i=(i-(e=a*n))/2,((s=a)-s)/2):i<o&&s<a?(s=(e=i)/n,i=(i-e)/2,(a-s)/2):n<e?(i=(i-(e=(s=a)*n))/2,0):e<n?(s=(e=i)/n,i=0,(a-s)/2):(e=i,s=a,i=0),this.currentDrawSave.append($("<img/>").css({position:"absolute",width:e,height:s,left:i,top:a}).attr("src",t.url))),this.drawOldData=t,this.currentDrawEdit.show(),this.currentDrawDel.show(),this.$writeTypeUnder.hide(),this.$drawTypeUnder.hide(),this.$signatureUnder.show()},saveAndUseDraw:function(e){var o=this,t=BookInfo.getCurrentPages();$.each(t,function(t,i){(t=o.signatureContexts[BookInfo.getBookType()][i])&&(e.type=1,o.addSignatureImg(t,e,i))}),o.saveDraw(e)},saveWrite:function(t){this.currentWriteSave.html(t),this.currentWriteEdit.show(),this.currentWriteDel.show(),this.$writeTypeUnder.hide(),this.$drawTypeUnder.hide(),this.$signatureUnder.show()},saveAndUseWrite:function(t){var e=this,o=e.drawTextByDiv(t,"38px","Mistral","#000000"),i=BookInfo.getCurrentPages();$.each(i,function(t,i){(t=e.signatureContexts[BookInfo.getBookType()][i])&&(o.type=0,t.css({cursor:""}),e.addSignatureImg(t,o,i))}),e.saveWrite(t)},drawTextByDiv:function(t,i,e,o){var s=document.createElement("canvas"),n=window.context=s.getContext("2d"),a=(n.fillStyle=o,n.font=i+" "+e,n.measureText(t).width+8);return s.width=a,s.height=54,n.fillStyle=o,n.font=i+" "+e,n.textBaseline="top",n.fillText(t,3,0),{url:s.toDataURL("image/png"),width:a,height:54}},parseObject:function(t){var i,e,o,s,n;if(document.getElementsByTagName("body")[0].contains(t))return n=t.parentNode,i=t.style,e=$(t),o=100/n.offsetHeight,s=100/n.offsetWidth,n=t.offsetLeft*s+"%",t=t.offsetTop*o+"%",s=e.width()*s+"%",o=e.height()*o+"%",{width:i.width=s,height:i.height=o,left:i.left=n,top:i.top=t}},parseData:function(t,i,e){return{width:t.width*(i=100/i)+"%",height:t.height*(e=100/e)+"%",left:t.left*i+"%",top:t.top*e+"%"}},close:function(){this.$signature.hide(),this.$signatureUnder.show(),this.$writeTypeUnder.hide(),this.$drawTypeUnder.hide(),this.showFlag=!1},show:function(){this.$signature.show(),this.$signatureUnder.show(),this.$writeTypeUnder.hide(),this.$drawTypeUnder.hide(),this.showFlag=!0},hide:function(){this.close()},showHide:function(){this.showFlag?this.hide():this.show()},changeColor:function(t){return this.drawColor=t,this.draw(this.canvas,this.context,this.points,t,this.lineWidth),this.drawPreview(this.previewCanvas,this.previewContext,this.points,this.drawColor,this.lineWidth),t},changeLineWidth:function(t){return this.lineWidth=t},colorPicker:function(t){function i(){}function e(){a.style.display="none",g.value=g.style.backgroundColor=this.title.toUpperCase(),s.changeColor(this.title.toUpperCase())}var o,s=this,n="#FF0000 #FF5555 #FF55AA #FF55FF #FFAA55 #FFAAAA #FFAAFF #FFFF55 #FFFFAA #FFFFFF #CC0000 #CC5555 #CC55AA #CC55FF #CCAA55 #CCAAAA #CCAAFF #CCFF55 #CCFFAA #CCFFFF #AA0000 #AA5555 #AA55AA #AA55FF #AAAA55 #AAAAAA #AAAAFF #AAFF55 #AAFFAA #AAFFFF #880000 #885555 #8855AA #8855FF #88AA55 #88AAAA #88AAFF #88FF55 #88FFAA #88FFFF #550000 #555555 #5555AA #5555FF #55AA55 #55AAAA #55AAFF #55FF55 #55FFAA #55FFFF #220000 #225555 #2255AA #2255FF #22AA55 #22AAAA #22AAFF #22FF55 #22FFAA #22FFFF #000000 #005555 #0055AA #0055FF #00AA55 #00AAAA #00AAFF #00FF55 #00FFAA #00FFFF".split(" "),a=document.createElement("table"),h=document.createElement("a"),r=$(h),g=document.createElement("input");for(r.appendTo(t),h.className="flipHtml5ColorSelectorWrap",a.setAttribute("border","1"),h.style.position="absolute",h.href="javascript:void(0);",g.type="text",g.className="flipHtml5ColorSelectorMessage",g.style.width="20px",g.style.height="20px",g.value=g.style.backgroundColor="#000000",g.style.cursor="pointer",g.style.padding="0px",h.appendChild(g),h.appendChild(a),a.style.display="none",a.style.position="relative",a.style.zIndex=9999,a.style.backgroundColor="#ffffff",o=0;o<7;o++){var l=document.createElement("tr");for(l.style.position="relative",h=0;h<10;h++)(t=document.createElement("td")).className="flipHtml5ColorSelectorBlock",t.style.position="relative",t.style.width="14px",t.style.height="14px",t.title=n[10*o+h],t.style.backgroundColor=n[10*o+h],$(t).on("mouseenter",i),$(t).on("click touchstart",e),l.appendChild(t);a.appendChild(l)}return $(g).on("click touchstart",function(t){return a.style.display="table-cell",t.stopPropagation(),t.stopPropagation(),!1}),$(document).on("click touchstart",function(){a.style.display="none"}),{container:r,message:$(g)}},setContainers:function(t,i,e){null==this.signatureContexts[t]&&(this.signatureContexts[t]={}),this.signatureContexts[t][i]=e,t==BookInfo.getBookType()&&(this.toolBar.hide(),this.addSignatureByPageIndex(i,e))},addSignatureByPageIndex:function(t,i){i.find(".flipHTML5Signature-eachSignatureImg").remove();for(var e=0;e<this.signatureCookies.length;e++){var o,s,n,a,h,r,g,l,d=this.signatureCookies[e];d.page===t&&(o=d.left,s=d.top,n=d.key,a=d.currentTime,h=(l=0==d.type?this.drawTextByDiv(d.data,"38px","Mistral","#000000"):((l=document.createElement("canvas")).width=540,l.height=158,$(l).css({position:"absolute",left:0,top:-16}),h=l.getContext("2d"),g=(r=d.data.concat()).pop(),this.draw(l,h,r,g.color,1),this.trimCanvas(l)),this.parseData({left:o,top:s,width:l.width,height:l.height},i[0].offsetWidth,i[0].offsetHeight)),this.oldData[n]=$.extend({},l,{width:h.width,height:h.height}),l=$.extend({},l,{width:d.width,height:d.height}),this.createSignatureImg(i,l,d.page,o,s,n,a))}},getLocalStorage:function(t){try{if(window.localStorage)return window.localStorage.getItem(t);for(var i=document.cookie.split("; "),e=0;e<i.length;e++){var o=i[e].split("=");if(o[0]==t)return unescape(o[1])}return""}catch(t){}},addLocalStorage:function(t,i){try{var e,o;window.localStorage?window.localStorage.setItem(t,i):(e=t+"="+escape(i),(o=new Date).setTime(o.getTime()+864e8),e+="; expires="+o.toGMTString(),document.cookie=e)}catch(t){}},parseToString:function(t){if(0==t.length)return"";for(var i="[",e=0;e<t.length;e++)i=0==t[e].type?i+("{type:"+t[e].type+",key:"+t[e].key+",data:'"+t[e].data+"',page:"+t[e].page+",currentTime:'"+t[e].currentTime+"',left:'"+t[e].left+"',top:'"+t[e].top+"',width:'"+t[e].width+"',height:'"+t[e].height)+"'},":i+("{type:"+t[e].type+",key:"+t[e].key+",data:"+this.parsePointsToString(t[e].data)+",page:"+t[e].page+",currentTime:'"+t[e].currentTime+"',left:'"+t[e].left+"',top:'"+t[e].top+"',width:'"+t[e].width+"',height:'"+t[e].height)+"'},";return(i=i.substring(0,i.length-1))+"]"},parsePointsToString:function(t){if(0!=t.length){for(var i="[",e=0;e<t.length-1;e++)i+="{x:"+t[e].x+",y:"+t[e].y+",t:"+t[e].t+",w:"+t[e].w+"},";return(i+="{color:'"+t[t.length-1].color+"'}")+"]"}},delArrayOrderKey:function(t,i){if(t)for(var e=0;e<t.length;e++)t[e].key&&t[e].key==i&&t.remove(e)},updateArrayOrderKey:function(t,i,e){if(t)for(var o=0;o<t.length;o++)t[o].key&&t[o].key==i&&$.extend(t[o],e)},createCursorImg:function(t,i,e){var o=$("<img/>").attr("src",t.url).css({position:"absolute",width:t.width,height:t.height,left:i+10,top:e+10}).appendTo(this.container);return o.on("mousemove touchmove",function(t){o.css({left:t.clientX+10,top:t.clientY+10})}),o},reviseDateTag:function(){var t,i,e,o,s,n,a,h,r;this.currentObj&&(t=this.currentObj.find(".flipHTML5Signature-eachDate"),i=this.currentObj.parent(),e=parseInt(this.currentObj.css("left")),o=parseInt(this.currentObj.css("top")),this.currentObj.position(),s=this.currentObj.outerWidth(),n=this.currentObj.outerHeight(),a=i.width(),i.height(),i=t.outerWidth(),h=t.outerHeight(),r=this.toolBar.height(),e+s+2+i<=a?t.css({left:s+2,top:-24}):h+r<=o?t.css({left:s-i,top:-(h+r)}):t.css({left:s-i,top:n+18}))},bindOnCreated:function(t,i){this.onCreated=[t,i]}}),ReportPanel=(!function(A,t,b){window.Remark=t({statics:{},create:function(){this.expires=30,this.currentEditor=A("<div>"),this.backgroundColor="rgba(255, 255, 85, 0.5)",this.highlightBackcolor="rgba(2, 255, 245, 0.5)",this.fontSize=5,this.fontName="Times",this.$bookContainer=b.container(),this.fontColor="black",this.title="#00000",this.opacity="1.0",this.noteImgContainers={},this.$document=A(document),this.newSizeWrap();var t=this.createToolbar(),i=this.createHighlightToolbar();t.appendChild(this.createColorSelector()),document.getElementsByTagName("body")[0].appendChild(t).appendChild(i),document.getElementsByTagName("body")[0].appendChild(i),A(window).on("beforeunload",function(){this.save()}.bind(this)),this.oneBindEvent()},bindOnCreated:function(t,i){this.onCreated=[t,i]},bindCreateEvents:function(o,s,n){function a(t){t.preventDefault(),g=t.pageX||(t.originalEvent.touches?t.originalEvent.touches[0].pageX:0),l=t.pageY||(t.originalEvent.touches?t.originalEvent.touches[0].pageY:0),g&&(g-h<0?(c.left=f((g-m)/b.scale())+"px",c.width=f((h-g)/b.scale())+"px"):(c.left=f((h-m)/b.scale())+"px",c.width=f((g-h)/b.scale())+"px")),l&&(t.pageY-r<0?(c.top=f((l-C)/b.scale())+"px",c.height=f((r-l)/b.scale())+"px"):(c.top=f((r-C)/b.scale())+"px",c.height=f((l-r)/b.scale())+"px")),n&&n.draw(h,r,g,l)}var h,r,g,l,d,c,p,u=this,f=Math.floor,m=o.offset().left,C=o.offset().top;o.css("cursor","crosshair"),o.off("mousedown.fliphtml5Remark touchstart.fliphtml5Remark").one("mousedown.fliphtml5Remark touchstart.fliphtml5Remark",function(t){u.unbindCreateEvents();var e,i=t.button;if(!document.implementation.hasFeature("MouseEvents","2.0"))switch(event.button){case 0:case 1:case 3:case 5:case 7:i=0;break;case 2:case 6:i=2;break;case 4:i=1}i||(t.stopPropagation(),d=document.createElement("div"),p=A(d).css({webkitUserSelect:"text",mozUserSelect:"text",msUserSelect:"text",oUserSelect:"text",userSelect:"text"}),c=d.style,n?(p.append(n),d.className="flipHtml5Shape flipHtml5Store"):(c.backgroundColor=s?"rgba(0, 71, 255, 0.33)":u.highlightBackcolor,d.className=(s?"flipHtml5Remark flipHtml5Store":"flipHtml5Highlight flipHtml5Store")+" flipHtml5RemarkCurrentEditor",d.setAttribute("contenteditable",s)),o.find(".flipHtml5RemarkCurrentEditor").removeClass("flipHtml5RemarkCurrentEditor"),o.append(d),r=l=((i=t.originalEvent.changedTouches)?(e=i[0].identifier,h=g=i[0].pageX,i[0]):(h=g=t.pageX,t)).pageY,u.reBindEvent(p,s),o.on("mousemove.fliphtml5Remark touchmove.fliphtml5Remark",a),o.off("mouseup.fliphtml5Remark touchend.fliphtml5Remark").one("mouseup.fliphtml5Remark touchend.fliphtml5Remark",function(t){var i=t.originalEvent.changedTouches;if(i){if(e!==i[0].identifier)return;g=i[0].pageX,l=i[0].pageY}else g=t.pageX,l=t.pageY;o.off("mousemove.fliphtml5Remark touchmove.fliphtml5Remark"),(Math.abs(g-h)<10||Math.abs(l-r)<10)&&(c.left=f((g-m)/b.scale())+"px",c.top=f((l-C)/b.scale())+"px",c.width="280px",c.height="28px"),u.parsePresentValue(d),u.parsePresentValue(u.sizeWrap),p.css({outline:"none",backgroundColor:s?u.backgroundColor:u.highlightBackcolor,color:u.fontColor}),p.trigger(_event._down),null!=u.onCreated&&u.onCreated[1].call(u.onCreated[0]),u.save()}))})},oneBindEvent:function(){var e=this;this.$document.on("keydown.flipHtml5RemarkDelete",function(t){var i=t.keyCode;t.altKey||t.ctrlKey||t.shiftKey||(e.editing&&i===KEY_CODE_DELETE&&e.currentEditor&&"flipHtml5Remark flipHtml5Store"!==e.currentEditor[0].className&&(e.currentEditor.remove(),e.removeSizeWrap(),e.save()),e.currentEditor&&i===KEY_CODE_LEFT&&i===KEY_CODE_RIGHT&&i===KEY_CODE_UP&&i===KEY_CODE_DOWN&&t.stopPropagation())})},parsePresentValue:function(t){var i,e,o,s;document.getElementsByTagName("body")[0].contains(t)&&(s=t.parentNode,i=t.style,e=A(t),o=100/s.offsetHeight,s=100/s.offsetWidth,i.width=e.width()*s+"%",i.height=e.height()*o+"%",i.left=t.offsetLeft*s+"%",i.top=t.offsetTop*o+"%")},reBindEvent:function(i,n){var a,h=this;i.on(_event._down,function(t){t.stopPropagation(),A(this).css({outline:"none"}),h.removeSizeWrap(),h.addSizeWrap(this,n),i.on("mousedown.flipHtml5Annotation touchstart.flipHtml5Annotation",function(t){t.stopPropagation()})}).on("mousedown mouseup touchend",function(t){t.stopPropagation()}),i.on("sizeChange",function(t,i,e,o,s){a=this.style,i&&(a.width=i-16+"px"),e&&(a.height=e-16+"px"),o&&(a.left=o+8+"px"),s&&(a.top=s+8+"px"),h.showToolbar(this,n)}),i.on("change cut drop paste keydown",function(t){var i,e,o,s;t.altKey||t.ctrlKey||t.shiftKey||(e=(i=this).offsetHeight,o=i.style,s=o.height,setTimeout(function(){o.height="auto",o.height=i.scrollHeight>e?100*i.scrollHeight/i.parentNode.offsetHeight+"%":s},0))})},unbindCreateEvents:function(){this.contextArray&&(this.contextArray.css("cursor","auto"),this.contextArray.off("mousedown.fliphtml5Remark touchstart.fliphtml5Remark"))},newSizeWrap:function(){var a,h,r,g,l,d=this,t=1,c=d.sizeWrap=document.createElement("div"),i=[],p=Math.floor,u=d.sizeWrapStyle=c.style;for(c.className="flipHtml5SizeWrap";t<9;){var e=document.createElement("div");e.className="flipHtml5SizePoint flipHtml5SizePoint"+t,c.appendChild(e),i.push(e),t++}return d.northResize(i[0]).westResize(i[0]),d.northResize(i[1]),d.eastResize(i[2]).northResize(i[2]),d.eastResize(i[3]),d.eastResize(i[4]).southResize(i[4]),d.southResize(i[5]),d.southResize(i[6]).westResize(i[6]),d.westResize(i[7]),A(c).on("pointerdown.flipHtml5SizeWrap",function(t){t.stopPropagation()}),A(c).on("mousedown.flipHtml5SizeWrap touchstart.flipHtml5SizeWrap",function(t){t.preventDefault(),t.stopPropagation(),l=d.currentEditor;var e=c.offsetLeft,o=c.offsetTop,s=t.pageX||t.originalEvent.touches[0].pageX,n=t.pageY||t.originalEvent.touches[0].pageY;A.each([d.$context,A(d.toolbarContainer),A(d.highlightToolbarContainer)],function(t,i){i.on("mousemove.flipHtml5SizeWrap touchmove.flipHtml5SizeWrap",function(t){t.preventDefault(),t.stopPropagation(),g=t.pageX||(t.originalEvent.touches?t.originalEvent.touches[0].pageX:0),a=t.pageY||(t.originalEvent.touches?t.originalEvent.touches[0].pageY:0),g&&(g=p(e-(s-g)/b.scale()),r!==g)&&(u.left=g+"px",r=g,l.trigger("sizeChange",[0,0,g,0])),a&&(g=p(o-(n-a)/b.scale()),h!==g)&&(u.top=g+"px",h=g,l.trigger("sizeChange",[0,0,0,g]))}),i.one("mouseup.flipHtml5SizeWrap touchend.flipHtml5SizeWrap",function(){A.each([d.$context,A(d.toolbarContainer),A(d.highlightToolbarContainer)],function(){this.off("mouseup.flipHtml5SizeWrap touchend.flipHtml5SizeWrap"),this.off("mousemove.flipHtml5SizeWrap touchmove.flipHtml5SizeWrap")}),d.parsePresentValue(l[0]),d.parsePresentValue(c),d.save()})})}).on(_event._down,function(t){t.preventDefault(),t.stopPropagation()}),c},addSizeWrap:function(t,i){var e=this.sizeWrap,o=this.sizeWrap.style;i?(t.style.zIndex=999,o.zIndex=998):(t.style.zIndex=998,o.zIndex=999),o.width=t.offsetWidth+16+"px",o.height=t.offsetHeight+16+"px",o.left=t.offsetLeft-8+"px",o.top=t.offsetTop-8+"px",o.display="block",t=A(t),this.$context=t.parent(),t.before(e),this.parsePresentValue(e),this.currentEditor=t,this.showToolbar(t,i),this.editing=!0},removeSizeWrap:function(){this.currentEditor[0].style.zIndex="2",this.sizeWrapStyle.zIndex="1",this.sizeWrapStyle.display="none",this.hideToolbar(),this.editing=!1},hideToolbar:function(){this.toolbarContainer.style.display="none",this.highlightToolbarContainer.style.display="none"},showToolbar:function(t,i){var e=i?this.toolbarContainer:this.highlightToolbarContainer,o=e.style,s=(t=A(t)).css("backgroundColor").replace(/\s+/g,"");0<=s.indexOf("rgba")&&(s=s.replace(/a/,"").replace(/,[0-9]+(\.[0-9]*)?\)/,")")),A(e).find(".flipHtml5RemarkImage-backcolor").css("backgroundColor",s),this.currentEditor=t,o.left=t.offset().left-8+"px",o.top=t.offset().top-(i?80:30)+"px",o.display="block"},createToolbar:function(){for(var t=this.toolbarContainer=document.createElement("div"),i=0,e="bold italic strikeThrough underline forecolor backcolor blockquote insertUnorderedList insertOrderedList justifyLeft justifyCenter justifyRight createLink removeFormat outdent indent undo redo delete paragraph fontsize fontname".split(" ");e[i];)t.appendChild(this.createButton(e[i])),i++;return t.className="fliphtml5RemarkToolbarContainer",A(t).on(_event._down,function(t){t.stopPropagation()}),t},createHighlightToolbar:function(){for(var t=this.highlightToolbarContainer=document.createElement("div"),i=0,e=["backcolor","delete"];e[i];)t.appendChild(this.createButton(e[i],!0)),i++;return t.className="fliphtml5RemarkHighlightToolbarContainer",A(t).on(_event._down,function(t){t.preventDefault(),t.stopPropagation()}),t},createButton:function(i,t){var e=this;switch(i){case"hr":var o=document.createElement("hr");return o.className="flipHtml5RemarkHr",o;case"paragraph":return t="Paragraph;Address;Preformatted;Title 1;Title 2;Title 3;Title 4;Title 5;Title 6".split(";"),o="p address pre h1 h2 h3 h4 h5 h6".split(" "),e.createSelect(t,o,i);case"fontname":return t="Arial Century Courier Gentium Georgiae Impact King Lalit Modena Papyrus Tahoma TeX Times Verdana Verona cursive fantasy monospace serif".split(" "),o="Arial Century Courier Gentium Georgiae Impact King Lalit Modena Papyrus Tahoma TeX Times Verdana Verona cursive fantasy monospace serif".split(" "),e.createSelect(t,o,i,"fontFamily");case"fontsize":return e.createSelect(t=[1,2,3,4,5,6,7],o=[1,2,3,4,5,6,7],i,"fontSize");case"forecolor":return e.createColorButton(i);case"backcolor":return e.createColorButton(i,t);default:return(t=document.createElement("a")).href="javascript:void(0);",(o=document.createElement("div")).className="flipHtml5RemarkButtonImage flipHtml5RemarkImage-"+i,o.title=i,t.className="flipHtml5RemarkButton",A(t).on(_event._down,function(t){t.preventDefault(),t.stopPropagation(),e.exec(i)}),t.appendChild(o),t}},createColorButton:function(e,o){var s,i,n=this,a=document.createElement("a"),h=(a.href="javascript:void(0);",document.createElement("div")),r=(h.className="flipHtml5RemarkButtonImage flipHtml5RemarkImage-"+e,h.title=e,a.className="flipHtml5RemarkButton",document.createElement("div"));return r.className="flipHtml5RemarkColorBar","backcolor"===e&&(r.style.display="none"),A(a).on(_event._down,function(t){t.preventDefault(),t.stopPropagation(),i=n.opacityHandel,s=n.colorSelector,A(a).after(s),s.style.left=this.offsetLeft+"px",s.style.top=this.offsetTop+22+"px",s.style.display="block","forecolor"===e&&(i.hide(),n.opacity=1),"backcolor"===e&&(n.opacity=i.val(),i.show()),i.setOpacity(parseFloat(parseFloat(n.currentEditor.css("backgroundColor").replace(/\s*\)*/g,"").split(",")[3]).toFixed(2))),n.$context.one(_event._down,function(t){t.preventDefault(),s.style.display="none"}),n.currentEditor.one(_event._down,function(t){t.preventDefault(),s.style.display="none"}),n.$bookContainer.one(_event._down,function(t){t.preventDefault(),s.style.display="none"}),n.$colorSelector.off("colorSelected").one("colorSelected",function(t,i){t.preventDefault(),"backcolor"===e?h.style.backgroundColor=i:r.style.backgroundColor=i,s.style.display="none",n.exec(e,i,o)})}),a.appendChild(r),a.appendChild(h),a},createSelect:function(t,i,e,o,s){var n=document.createElement("select"),a=0,h=this;for(n.className="flipHtml5RemarkSelect flipHtml5Remark-"+e,n.style[o]=i[1];t[a];){var r=document.createElement("option");r.className="flipHtml5RemarkOption-"+e+" flipHtml5RemarkOption-"+i[a],r.innerHTML=t[a],r.value=i[a],r.style[o]=i[a],0===a&&(r.setAttribute("selected",!0),s)&&(r.style.display="none"),n.appendChild(r),a++}return n.onchange=o?function(){h.exec(e,this[this.selectedIndex].value),this.style[o]=this[this.selectedIndex].value,s&&(this.selectedIndex=0)}:function(){h.exec(this[this.selectedIndex].value),s&&(this.selectedIndex=0)},n},createColorSelector:function(){function t(){r.value=r.style.backgroundColor=this.title.toUpperCase()}function i(){h.trigger("colorSelected",[o.parseColorToRGBA(this.title,g.val())])}var e,o=this,s="#FF0000 #FF5555 #FF55AA #FF55FF #FFAA55 #FFAAAA #FFAAFF #FFFF55 #FFFFAA #FFFFFF #CC0000 #CC5555 #CC55AA #CC55FF #CCAA55 #CCAAAA #CCAAFF #CCFF55 #CCFFAA #CCFFFF #AA0000 #AA5555 #AA55AA #AA55FF #AAAA55 #AAAAAA #AAAAFF #AAFF55 #AAFFAA #AAFFFF #880000 #885555 #8855AA #8855FF #88AA55 #88AAAA #88AAFF #88FF55 #88FFAA #88FFFF #550000 #555555 #5555AA #5555FF #55AA55 #55AAAA #55AAFF #55FF55 #55FFAA #55FFFF #220000 #225555 #2255AA #2255FF #22AA55 #22AAAA #22AAFF #22FF55 #22FFAA #22FFFF #000000 #005555 #0055AA #0055FF #00AA55 #00AAAA #00AAFF #00FF55 #00FFAA #00FFFF".split(" "),n=document.createElement("table"),a=this.colorSelector=document.createElement("a"),h=this.$colorSelector=A(a),r=document.createElement("input"),g=o.createOpacityPlugin();for(a.className="flipHtml5RemarkColorSelectorWrap",n.setAttribute("border","1"),a.style.display="none",a.href="javascript:void(0);",r.className="flipHtml5RemarkColorSelectorMessage",r.value="#000000",r.setAttribute("disabled","true"),a.appendChild(r),a.appendChild(g.container),a.appendChild(n),h.on(_event._down,function(t){t.preventDefault(),t.stopPropagation()}),e=0;e<7;e++){for(var l=document.createElement("tr"),d=0;d<10;d++){var c=document.createElement("td");c.className="flipHtml5RemarkColorSelectorBlock",c.title=s[10*e+d],c.style.backgroundColor=s[10*e+d],A(c).on(_event._over,t),A(c).on(_event._down,i),l.appendChild(c)}n.appendChild(l)}return a},createOpacityPlugin:function(){var i,e,o,s,n,a,h,r=.5,g=this,l=Math.floor,t=document.createElement("div"),d=document.createElement("div"),c=document.createElement("span"),p=d.style,u=g.$document,f=g.changeOpacity,m=A(d),C=A(t);return c.className="flipHtml5RemarkOpacitySpan",t.className="flipHtml5RemarkOpacity",t.style.height="3px",t.style.top="4px",d.className="flipHtml5RemarkOpacityCursor",d.style.top="-5px",t.appendChild(c),t.appendChild(d),C.on(_event._down,function(t){t.preventDefault(),t.stopPropagation(),h=g.currentEditor,(e=t.pageX||(t.originalEvent.touches?t.originalEvent.touches[0].pageX:0))&&(145<(o=(o=e-C.offset().left)<0?0:o)&&(o=145),p.left=o+"px",h.css("backgroundColor",f(h,o/145)),c.innerHTML="Opacity: "+(o/145).toFixed(2),r=o/145)}),m.on("mousedown touchstart",function(t){t.preventDefault(),t.stopPropagation(),h=g.currentEditor,o=s=parseInt(p.left,10),i=t.pageX||(t.originalEvent.touches?t.originalEvent.touches[0].pageX:0),n=o-i,u.on("mousemove.flipHtml5RemarkOpacity touchmove.flipHtml5RemarkOpacity",function(t){t.preventDefault(),t.stopPropagation(),(e=t.pageX||(t.originalEvent.touches?t.originalEvent.touches[0].pageX:0))&&(a=l(n+e),s!==(a=145<(a=a<0?0:a)?145:a))&&(p.left=a+"px",h.css("backgroundColor",f(h,a/145)),c.innerHTML="Opacity: "+(a/145).toFixed(2),r=a/145)}),u.one("mouseup touchend",function(){u.off("mousemove.flipHtml5RemarkOpacity touchmove.flipHtml5RemarkOpacity")})}),this.opacityHandel={val:function(t){return t&&(t=parseInt(t,10)||1,this.setOpacity(t=(t=1<t?1:t)<0?0:t),r=t),r},container:t,show:function(){t.style.display=""},hide:function(){t.style.display="none"},setOpacity:function(t){(void 0===t||1<t||isNaN(t))&&(t=1),p.left=145*(t=t<0?0:t)+"px",c.innerHTML="Opacity: "+t,r=t}}},changeOpacity:function(t,i){var e=t.css("backgroundColor").replace(/\s*/g,"");0<=e.indexOf("rgba")&&(0<=e.indexOf(",0)")||0<=e.indexOf(",1)"))?t.css("backgroundColor",e.replace(/b\(/,"ba(").replace(/,\d*\)$/,","+i+")")):t.css("backgroundColor",e.replace(/b\(/,"ba(").replace(/d*\)$/,","+i+")").replace(/\d*\.\d*,/g,""))},parseColorToRGBA:function(t,i){return(i=1<=(i=parseFloat(i))?1:i)<=0&&(i=0),"rgba("+parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+","+(t=parseInt(t.substring(5,7),16))+","+i+")"},exec:function(t,i,e){switch(t){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"address":case"pre":case"p":case"blockquote":document.execCommand("formatBlock",!1,t);break;case"createLink":(t=prompt("Enter a URL here","http://"))&&""!==t&&"http://"!==t&&(t.indexOf("http")<0&&(t="http://"+t),document.execCommand("createLink",!0,t));break;case"fontsize":document.execCommand(t,!1,i);break;case"fontname":document.execCommand(t,!1,i),this.fontName=i;break;case"forecolor":document.execCommand(t,!1,i),this.fontColor=i;break;case"backcolor":this.currentEditor[0].style.backgroundColor=i,e?this.highlightBackcolor=i:this.backgroundColor=i;break;case"delete":this.removeSizeWrap(),this.currentEditor.remove(),this.save();break;default:document.execCommand(t,!1,null)}this.currentEditor.trigger(_event._down)},northResize:function(t){var o,s,n,a,h,r,g,l=this,d=Math.floor;return A(t).on("mousedown.fliphtml5RemarkResize touchstart.fliphtml5RemarkResize",function(t){t.preventDefault(),t.stopPropagation(),s=l.currentEditor,r=l.sizeWrap,g=l.sizeWrapStyle,h=l.$context;var i=r.offsetHeight||20,e=t.pageY||t.originalEvent.touches[0].pageY;h.one("mouseup.fliphtml5RemarkResize touchend.fliphtml5RemarkResize",function(){h.off("mousemove.fliphtml5RemarkResize touchmove.fliphtml5RemarkResize"),l.parsePresentValue(s[0]),l.parsePresentValue(r),l.save()}),h.on("mousemove.fliphtml5RemarkResize touchmove.fliphtml5RemarkResize",function(t){t.preventDefault(),t.stopPropagation(),t.pageY?o=t.pageY:t.originalEvent.touches&&(o=t.originalEvent.touches[0].pageY),o&&(a=d(i+(e-o)/b.scale()),n!==a)&&20<a&&(g.top=o-h.offset().top+"px",g.height=a+"px",n=a,s.trigger("sizeChange",[0,a,0,o-h.offset().top]))})}),this},westResize:function(t){var o,s,n,a,h,r,g,l=this,d=Math.floor;return A(t).on("mousedown.fliphtml5RemarkResize touchstart.fliphtml5RemarkResize",function(t){t.preventDefault(),t.stopPropagation(),h=l.$context,r=l.sizeWrap,g=l.sizeWrapStyle,a=l.currentEditor;var i=r.offsetWidth||40,e=t.pageX||t.originalEvent.touches[0].pageX;h.one("mouseup.fliphtml5RemarkResize touchend.fliphtml5RemarkResize",function(){h.off("mousemove.fliphtml5RemarkResize touchmove.fliphtml5RemarkResize"),l.parsePresentValue(a[0]),l.parsePresentValue(r),l.save()}),h.on("mousemove.fliphtml5RemarkResize touchmove.fliphtml5RemarkResize",function(t){t.preventDefault(),t.stopPropagation(),(o=!(o=t.pageX)&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:o)&&(n=d(i+(e-o)/b.scale()),s!==n)&&40<n&&(g.left=o-h.offset().left+"px",g.width=n+"px",s=n,a.trigger("sizeChange",[n,0,o-h.offset().left]))})}),this},eastResize:function(t){var o,s,n,a,h,r,g,l=this,d=Math.floor;return A(t).on("mousedown.fliphtml5RemarkResize touchstart.fliphtml5RemarkResize",function(t){t.preventDefault(),t.stopPropagation(),n=l.currentEditor,h=l.$context,r=l.sizeWrap,g=l.sizeWrapStyle;var i=r.offsetWidth||40,e=t.pageX||t.originalEvent.touches[0].pageX;h.one("mouseup.fliphtml5RemarkResize touchend.fliphtml5RemarkResize",function(){h.off("mousemove.fliphtml5RemarkResize touchmove.fliphtml5RemarkResize"),l.parsePresentValue(n[0]),l.parsePresentValue(r),l.save()}),h.on("mousemove.fliphtml5RemarkResize touchmove.fliphtml5RemarkResize",function(t){t.preventDefault(),t.stopPropagation(),t.pageX?o=t.pageX:t.originalEvent.touches&&(o=t.originalEvent.touches[0].pageX),o&&(s=d(i-(e-o)/b.scale()),a!==s)&&40<s&&(g.width=s+"px",a=s,n.trigger("sizeChange",[s]))})}),this},southResize:function(t){var o,s,n,a,h,r,g,l=this,d=Math.floor;return A(t).on("mousedown.fliphtml5RemarkResize touchstart.fliphtml5RemarkResize",function(t){t.preventDefault(),t.stopPropagation(),a=l.$context,g=l.sizeWrap,r=l.sizeWrapStyle,s=l.currentEditor;var i=g.offsetHeight||20,e=t.pageY||t.originalEvent.touches[0].pageY;a.one("mouseup.fliphtml5RemarkResize touchend.fliphtml5RemarkResize",function(){a.off("mousemove.fliphtml5RemarkResize touchmove.fliphtml5RemarkResize"),l.parsePresentValue(s[0]),l.parsePresentValue(g),l.save()}),a.on("mousemove.fliphtml5RemarkResize touchmove.fliphtml5RemarkResize",function(t){t.preventDefault(),t.stopPropagation(),t.pageY?o=t.pageY:t.originalEvent.touches&&(o=t.originalEvent.touches[0].pageY),o&&(n=d(i-(e-o)/b.scale()),h!==n)&&20<n&&(r.height=n+"px",h=n,s.trigger("sizeChange",[0,n]))})}),this},parseRemark:function(t,i){var e,o,s=this;i.find(".flipHtml5Store").remove(),s.removeSizeWrap(),this.sizeWrapStyle&&(this.sizeWrapStyle.display="none",A(this.sizeWrap).remove()),s.newSizeWrap(),s.contextArray=s.contextArray?s.contextArray.add(i):i;try{o=window.localStorage?window.localStorage.getItem(window.location.href.replace(window.location.hash,"")+"flipHtml5Remark"+t)||"":(e=new RegExp("(?:(?:^|.*;\\s*)"+window.location.href.replace(window.location.hash,"")+"flipHtml5Remark"+t+"\\s*\\=\\s*([^;]*).*$)|^.*$"),(document.cookie||"").replace(e,"$1")),i.append(o.replace(/#@&/g,";")),i.find(".flipHtml5Remark").each(function(){s.reBindEvent(A(this),!0)}),i.find(".flipHtml5Highlight").each(function(){s.reBindEvent(A(this),!1)}),i.on("mousedown.fliphtml5remarkHide touchstart.fliphtml5remarkHide",function(){s.save(),s.removeSizeWrap(),s.currentEditor.blur(),s.currentEditor.off("mousedown.flipHtml5Annotation touchstart.flipHtml5Annotation")})}catch(t){}},getPageContent:function(t){var i,e=0,o="";for(t=t.find(".flipHtml5Store");i=t[e];)e++,(""!==i.innerHTML&&""!==A(i).text()||""!==i.style.backgroundColor&&"transparent"!==i.style.backgroundColor&&0!==parseFloat(i.style.backgroundColor.split(",")[3]))&&(o+=i.outerHTML);return o.replace(/\s*\n\s*/g,"").replace(/;/g,"#@&")},storageByIndex:function(t,i){i=this.getPageContent(i);try{var e;window.localStorage?(window.localStorage.removeItem(window.location.href.replace(window.location.hash,"")+"flipHtml5Remark"+t),i&&window.localStorage.setItem(window.location.href.replace(window.location.hash,"")+"flipHtml5Remark"+t,i)):(i?(e=new Date).setDate(e.getDate()+this.expires):e=new Date("01 Jan 1970 00:00:01"),document.cookie=window.location.href.replace(window.location.hash,"")+"flipHtml5Remark"+t+"="+i+";expires="+e.toUTCString()+";")}catch(t){throw t}return i},save:function(){for(var t=b.getCurrentPages(),i=0;i<t.length&&this.noteImgContainers[b.getBookType()];i++)this.noteImgContainers[b.getBookType()][t[i]]&&this.storageByIndex(t[i],this.noteImgContainers[b.getBookType()][t[i]])},restoreRemark:function(t,i,e){void 0!==t&&(this.noteImgContainers[t]||(this.noteImgContainers[t]={}),this.noteImgContainers[t][i]=e,t==b.getBookType())&&(this.removeSizeWrap(),this.parseRemark(i,this.noteImgContainers[b.getBookType()][i]))},setContainers:function(t,i,e){this.restoreRemark(t,i,e)},addHighlightEvent:function(){this.unbindCreateEvents(),this.addEvents(!0)},addEvents:function(t){var i,e=0,o=this.contextArray;for(this.unbindCreateEvents();0<(i=o.eq(e++)).length;)this.bindCreateEvents(i,!t)},destroy:function(t){if(t)try{window.localStorage.clear()}catch(t){throw t}return this.$document.off("keydown.flipHtml5RemarkDelete"),this.unbindCreateEvents()}})}(window.jQuery,window.Class,window.BookInfo),Class({create:function(t){this.parent=t,this.visible=!1,this.color=Color(bookConfig.iconColor),this.fontColor=Color(bookConfig.iconFontColor),this.initReportBtn(),this.parent.append(this.reportBtn),this.initReportBox(),this.initSucc(),this.initCss(),this.initTransEvent()},initReportBtn:function(){this.reportBtn=$("<div class='report'>举报</div>"),this.reportIcon=$("<img style='pointer-events:none;'></img>"),this.iconUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABD0lEQVQ4jc2UUXHDMAyG/zAIhIxBGSwMOgYLgxVCIYTBMgZl0AzByiBh0DD49mDdVecqiR+rO905tvxF9i9ZenWr/AcQxXSSjja+SPp5glRVPvUAOu+AiWebgE8fu2pADXxloBk4m88ReAvYBxmNLpsxWD9vAZtgwx34AE7B2iXPMBJlkHSQtEgag//Wtv4u6U3S7EVZU7mxDa2Nvd0kzZJ+bVyk8i04Xm5/FKgsuy+AFhiAxUEWm+tczC5wsQzzuvReW8y9BIht2AL6itgF9qSibTdgrd1hXwIUqSumjeNOFlMkilf6OwAO+R2XAhtS716Bo/nV5g5rwL3nq5Z0UipwKXVOr9RFD8haYb+k/QOqf1jCsGrT2QAAAABJRU5ErkJggg==",this.reportIcon.attr("src",this.iconUrl),this.reportIcon.css({position:"absolute",top:"5px",left:"10px"}),this.reportIcon.changeButtonColor(this.color.toString())},initReportBox:function(){this.container=$("<div class='reportContainer'></div>"),this.reportBox=$("<div class='reportBox'></div>"),this.content=$("<div></div>"),this.closeUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAf0lEQVQ4jeWUUQrAIAxD4+7XA+Ya7oDZzxBx2iq4LwOCYvqstQgcp9SsDQAk3VPBKdk7Lf6rNZHMldGFkcyuSRIAGEkBMEnojdbjAiNoby8EOoHdg6aALSDIeg5YQ7261vq88lb9euUeYAQNgUE2a23jwZYbewY2qG/R9s/hQD1ydUfwHIkLMwAAAABJRU5ErkJggg==",this.initTltle(),this.reportBox.append(this.content),this.container.append(this.reportBox),this.parent.append(this.container),this.initSelect(),this.initTextArea(),this.initButton(),this.initAlert(),this.initBoxCss(),this.initBoxEvent()},initAlert:function(){this.alert=$("<div></div>"),this.alertBox=$("<div></div>"),this.alertBg=$("<div></div>"),this.alertDesc=$("<div></div>"),this.alertBtn=$("<div>确定</div>"),this.alertBox.append(this.alertDesc).append(this.alertBtn),this.alert.append(this.alertBox),this.container.append(this.alert)},initSucc:function(){this.succBox=$("<div>举报成功</div>"),this.succBox.css({position:"absolute",color:"#fff","pointer-events":"none","z-index":"10001","border-radius":"5px",left:(windowWidth-280)/2+"px",top:(windowHeight-70)/3+"px","font-size":"20px",width:"280px",height:"70px","text-align":"center",background:"#5CB95C","line-height":"70px"})},initTltle:function(){this.boxTitle=$("<div>举报</div>"),this.close=$("<div></div>"),this.boxTitle.css({height:"54px","font-size":"14px","line-height":"54px",padding:"0 28px","border-bottom":"1px solid #EEEEEE"}),this.close.css({position:"absolute",background:"url("+this.closeUrl+") 0 0 no-repeat",cursor:"pointer",right:"28px",top:"17px",width:"20px",height:"20px"}),bookConfig.RightToLeft&&(this.close.css({left:"28px",right:"auto"}),this.boxTitle.css({"text-align":"right"})),this.boxTitle.append(this.close),this.reportBox.append(this.boxTitle)},initSelect:function(){this.select=$("<select></select>"),this.selectIcon=$("<div></div>"),this.select.css({width:"100%",cursor:"pointer",padding:"9px 15px","border-radius":"4px",border:"1px solid #DDDDDD",appearance:"none","-moz-appearance":"none",background:"#F4F4F4","-webkit-appearance":"none"}),this.selectIcon.css({position:"absolute",cursor:"pointer",right:"44px",top:"98px","z-index":"1","pointer-events":"none",border:"8px solid #969696","border-left":"6px solid transparent","border-bottom-color":"transparent","border-right":"6px solid transparent"}),bookConfig.RightToLeft&&(this.selectIcon.css({left:"44px",right:"auto"}),this.select.css({direction:"rtl"}));for(var t="请选择举报的原因;盗版 侵权 泄露机密;医药保健 整形 虚假广告;邪教 违反国家政策;色情 赌博 毒品 传销;其他原因".split(";"),i=0;i<t.length;i++){var e=$("<option>"+t[i]+"</option>");(e=0==i?$("<option disabled selected >"+t[i]+"</option>"):e).css({padding:"9px 0"}),this.select.append(e)}this.content.append(this.select).append(this.selectIcon)},initTextArea:function(){this.inputBox=$("<div></div>"),this.textarea=$("<textarea placeholder='请填写详细的举报理由(必填)'></textarea>"),this.number=$("<input placeholder='请填写有效手机号,方便了解情况,否则不予处理'></input>"),this.inputBox.css({width:"100%","margin-top":"20px"}),this.textarea.css({padding:"9px 15px",height:"120px",width:"350px","border-radius":"4px",border:"1px solid #DDDDDD",background:"#F4F4F4",resize:"none"}),this.number.css({"margin-top":"16px",width:"350px","border-radius":"4px",border:"1px solid #DDDDDD",background:"#F4F4F4",padding:"9px 15px"}),bookConfig.RightToLeft&&(this.textarea.css({"text-align":"right"}),this.number.css({"text-align":"right"})),this.inputBox.append(this.textarea).append(this.number),this.content.append(this.inputBox)},initButton:function(){this.btnBox=$("<div></div>"),this.confirm=$("<div>提交</div>"),this.cancel=$("<div>取消</div>"),this.btnBox.append(this.cancel).append(this.confirm),this.initButtonCss(),this.content.append(this.btnBox);for(var t=[this.confirm,this.cancel],i=0;i<t.length;i++)t[i].on("mouseenter",function(){$(this).css({opacity:"0.85"})}),t[i].on("mouseleave",function(){$(this).css({opacity:"1"})}),t[i].on("mousedown",function(){$(this).css({top:"1px"})}),t[i].on("mouseup",function(){$(this).css({top:"0"})});this.cancel.bind(_event._click,function(){this.hide()}.bind(this)),this.confirm.bind(_event._click,function(){var t=/^[ .,?!]+$/,i=this.textarea[0].value,e=this.number[0].value;0==this.select[0].options.selectedIndex?(this.alertDesc.text("请选择举报的原因"),this.alert.fadeIn(200)):!i||t.test(i)?(this.alertDesc.text("详细描述不能为空或只含空格符号等"),this.alert.fadeIn(200)):!e||t.test(e)?(this.alertDesc.text("联系方式不能为空或只含空格符号等"),this.alert.fadeIn(200)):$.get(bookConfig.reportUrl,{book_url:window.location.href,report_action:this.select[0].options.selectedIndex,report_text:this.textarea[0].value,report_phone:this.number[0].value},function(t){this.hide(),this.succBox.css({left:(windowWidth-280)/2+"px",top:(windowHeight-70)/3+"px"}),t&&0==t.indexOf("(")?(t=JSON.parse(t.replace("(","").replace(")","")),this.parent.append(this.succBox),this.succBox.fadeIn(200).text(t.mess),1==t.status?this.succBox.css({background:"#5CB95C"}):(this.succBox.text("举报失败,"+t.mess),this.succBox.css({background:"#F78989"}))):(this.parent.append(this.succBox),this.succBox.fadeIn(200).text("举报失败,请求链接错误"),this.succBox.css({background:"#F78989"})),setTimeout(function(){this.succBox.fadeOut(300,function(){this.succBox.remove()}.bind(this))}.bind(this),3300)}.bind(this))}.bind(this))},initButtonCss:function(){this.btnBox.css({"text-align":"center",margin:"30px 0 0"}),this.confirm.css({display:"inline-block",position:"relative",margin:"0 5px",background:"#1B7FCB",height:"34px","line-height":"34px",width:"92px","border-radius":"4px",cursor:"pointer",color:"#fff"}),this.cancel.css({display:"inline-block",position:"relative",margin:"0 5px",height:"34px","line-height":"34px",width:"92px","border-radius":"4px",background:"#D9D9D9",cursor:"pointer",color:"#666666"}),bookConfig.RightToLeft&&this.btnBox.css({direction:"rtl"})},initBoxCss:function(){this.container.css({background:"rgba(11,11,11,0.25)",display:"none",position:"absolute","z-index":"1000",width:"100%",height:"100%",left:"0",top:"0",bottom:"0"}),this.alert.css({background:"rgba(11,11,11,0.5)",display:"none",position:"absolute","z-index":"1000",width:"100%",height:"100%",left:"0",top:"0",bottom:"0"}),this.alertBox.css({width:"450px","border-radius":"4px",height:"150px",color:"#333",position:"absolute",left:"50%",top:"50%",background:"#f5f5f5","-webkit-transform":"translate(-50%,-50%)","-o-transform":"translate(-50%,-50%)","-moz-transform":"translate(-50%,-50%)","-ms-transform":"translate(-50%,-50%)",transform:"translate(-50%,-50%)"}),this.alertDesc.css({width:"450px",height:"150px",color:"#333",position:"absolute","line-height":"85px","text-align":"center","font-size":"20px"}),this.alertBtn.css({position:"absolute",width:"76px",bottom:"30px",left:"190px",background:"#1B7FCB",height:"34px","font-size":"14px","line-height":"34px","border-radius":"4px",cursor:"pointer","text-align":"center",transition:"opacity 0.3s","-webkit-transition":"opacity 0.3s",color:"#fff"}),this.reportBox.css({"font-size":"14px",background:"#fff","border-radius":"2px",position:"absolute",width:"438px",height:"443px",left:"50%",top:"50%","-webkit-transform":"translate(-50%,-50%)","-o-transform":"translate(-50%,-50%)","-moz-transform":"translate(-50%,-50%)","-ms-transform":"translate(-50%,-50%)",transform:"translate(-50%,-50%)"}),this.content.css({padding:"30px 28px",background:"#fff"})},initBoxEvent:function(){this.reportBtn.bind("click",function(){this.show()}.bind(this)),this.close.bind("click",function(){this.hide()}.bind(this)),this.alertBtn.bind("click",function(){this.alert.fadeOut(200)}.bind(this)),(isPad()||isPhone())&&$(window).on("focusout",function(){window.scrollTo(0,0)})},initCss:function(){this.reportBtn.css({opacity:"0.75","-webkit-transition":"bottom 0.3s",position:"absolute",color:this.fontColor.rgba(.5),"z-index":"1000",transform:"translate(0,0)",transition:"transform 0.3s",cursor:"pointer","font-size":"14px","line-height":"30px",padding:"0 10px 0 10px","border-top-left-radius":"15px","border-bottom-left-radius":"15px",right:"0",bottom:"106px"}),bookConfig.ToolBarVisible&&(-1<"active brief assort classical clear courts facile float fresh metro novelty popular".split(" ").indexOf(global.templeteName)?this.reportBtn.css({bottom:"136px"}):"gorgeous"===global.templeteName?this.reportBtn.css({bottom:"186px"}):"envato"===global.templeteName&&this.reportBtn.css({bottom:"186px",right:"auto",left:"0px"}))},initTransEvent:function(){this.reportBtn.bind("mouseenter",function(){this.reportBtn.css({opacity:"1"})}.bind(this)),this.reportBtn.bind("mouseleave",function(){this.reportBtn.css({opacity:"0.75"})}.bind(this))},onResize:function(){},show:function(){this.visible=!0,this.container.fadeIn(300)},hide:function(){this.visible=!1,this.container.fadeOut(300)},showOrHide:function(){this.visible?this.hide():this.show()}})),PhoneReportPanel=Class({create:function(t){this.visible=!1,this.color=Color(bookConfig.iconColor),this.fontColor=Color(bookConfig.iconFontColor),this.parent=t,this.reportBtn=$("<div class='report' style='display:none'></div>"),this.reportPanelBg=$("<div class='reportPanelBg'></div>"),this.initReportBox(),this.container.append(this.reportPanelBg),this.initSucc(),this.initCss()},initSelect:function(){this._super(),this.select.css({padding:"6px 10px"}),this.selectIcon.css({right:"30px",top:"32px",border:"6px solid #969696","border-left":"5px solid transparent","border-bottom-color":"transparent","border-right":"5px solid transparent"}),bookConfig.RightToLeft&&(this.selectIcon.css({left:"30px",right:"auto"}),this.select.css({direction:"rtl"}))},initBoxCss:function(){this._super(),this.reportPanelBg.css({"z-index":"-1",background:"rgba(11,11,11,0.85)",position:"absolute",width:"100%",height:"100%",left:"0",top:"0",bottom:"0"}),this.reportBox.css({"font-size":"14px",background:"#fff","border-radius":"2px",position:"absolute",width:"300px",height:"238px",left:"50%",top:"20px","-webkit-transform":"translate(-50%,0)","-o-transform":"translate(-50%,0)","-moz-transform":"translate(-50%,0)","-ms-transform":"translate(-50%,0)",transform:"translate(-50%,0)"}),this.alertBox.css({width:"320px",height:"130px",top:"65px","-webkit-transform":"translate(-50%,0)","-o-transform":"translate(-50%,0)","-moz-transform":"translate(-50%,0)","-ms-transform":"translate(-50%,0)",transform:"translate(-50%,0)"}),this.alertDesc.css({"font-size":"18px",width:"320px",height:"130px","line-height":"70px"}),this.alertBtn.css({position:"absolute",width:"80px",bottom:"25px",left:"120px",height:"30px","line-height":"30px"}),this.content.css({padding:"20px"})},initTextArea:function(){this._super(),this.inputBox.css({"margin-top":"10px"}),this.textarea.css({width:"238px",padding:"6px 10px",height:"18px"}),this.number.css({width:"238px",padding:"6px 10px","margin-top":"6px"})},initButtonCss:function(){this._super(),this.btnBox.css({"text-align":"center",margin:"10px 0 0"}),this.confirm.css({width:"100%",height:"30px",margin:"0","line-height":"30px"}),this.cancel.css({width:"100%",height:"30px",margin:"10px 0 0","line-height":"30px"}),this.btnBox.append(this.confirm).append(this.cancel)},initBoxEvent:function(){this._super(),this.reportPanelBg.bind(_event._click,function(){this.hide()}.bind(this))},initTltle:function(){this.close=$("<div></div>"),this.close.css({display:"none",background:"#fff url("+this.closeUrl+") 4px 4px no-repeat",position:"absolute",right:"0",top:"-30px",width:"28px","border-radius":"50%",height:"28px"}),this.reportBox.append(this.close)}}).extend(ReportPanel),JSColorPanel=(Class("WindowMagnifierBox",{Package:"PageItem",create:function(t){this.parent=t,this.canZoom=global.canMagnifierZoom=!1,this.loadH=this.loadW=0,this.maxScale=2,this.magnifierH=this.magnifierW=130,this.shadowSize=this.maxScale*this.magnifierW*.03,this.drawH=this.drawW=0,this.ratioW=this.ratioH=1,this.config=[],this.initHtml(),this.initCss()},initHtml:function(){this.magnifierZoom=$("<div class='magnifierZoom'></div>"),this.bg=$("<div></div>"),this.canvas=$("<canvas width='0' height='0'></canvas>"),this.ctx=this.canvas[0].getContext("2d"),this.magnifierZoom.append(this.canvas).append(this.bg),tmpContainer.append(this.magnifierZoom)},initCss:function(){this.magnifierZoom.css({background:"#fff",position:"absolute","pointer-events":"none","border-radius":"50%",display:"none","box-shadow":"0 0 "+this.shadowSize/3+"px #999","-ms-box-shadow":"0 0 "+this.shadowSize/3+"px #999","-moz-box-shadow":"0 0 "+this.shadowSize/3+"px #999","-webkit-box-shadow":"0 0 "+this.shadowSize/3+"px #999","z-index":"1000"}),this.bg.css({position:"absolute","pointer-events":"none","border-radius":"50%",width:"100%",height:"100%","box-shadow":"0 0 "+this.shadowSize+"px #999 inset","-ms-box-shadow":"0 0 "+this.shadowSize+"px #999 inset","-moz-box-shadow":"0 0 "+this.shadowSize+"px #999 inset","-webkit-box-shadow":"0 0 "+this.shadowSize+"px #999 inset","z-index":"2"}),this.canvas.css({background:"#fff","border-radius":"50%","pointer-events":"none","transform-origin":"0 0","-o-transform-origin":"0 0","-ms-transform-origin":"0 0","-moz-transform-origin":"0 0","-webkit-transform-origin":"0 0",position:"absolute","z-index":"1"})},onResize:function(){},setImg:function(o,s){this.side=o,(imgs=o.find("img")).each(function(t,i){i=$(i),this.config[t]||(this.config[t]={}),this.config[t].offset=i.offset();var e=i.attr("src").removeStartFrom("?");this.config[t].showImg=$('<img src="'+e+'">'),this.config[t].loadW?this.beforeDraw(s,this.config[t],i):(o.css({cursor:"wait"}),this.config[t].showImg.on("load",function(){o.css({cursor:"none"}),this.config[t].loadW=this.config[t].showImg[0].naturalWidth,this.config[t].loadH=this.config[t].showImg[0].naturalHeight,this.beforeDraw(s,this.config[t],i)}.bind(this)))}.bind(this))},beforeDraw:function(t,i,e){this.freshWidthAndHeight(i,e),this.drawBg(t,i)},freshWidthAndHeight:function(t,i){t.rateW=t.loadW/i.width(),t.rateH=t.loadH/i.height();var e=t.loadW/t.loadH;i=i.width()/i.height(),t.ratioH=e/i,t.ratioW=i/e,t.drawW=t.rateW*this.magnifierW,t.drawW<this.magnifierW&&(t.drawW=this.magnifierW),t.drawW>this.magnifierW*this.maxScale&&(t.drawW=this.magnifierW*this.maxScale),t.drawH=t.rateH*this.magnifierH*t.ratioH,t.drawH<this.magnifierH&&(t.drawH=this.magnifierH),t.drawH>this.magnifierH*this.maxScale&&(t.drawH=this.magnifierH*this.maxScale),this.drawW<t.drawW&&(this.drawW=t.drawW,this.drawH=t.drawH)},drawBg:function(i,t){this.canvas[0].width=this.drawW,this.canvas[0].height=this.drawH,t?this.drawOnceImg(i,t):this.config.forEach(function(t){this.drawOnceImg(i,t)}.bind(this))},freshPageScale:function(){1<this.config.length?(this.config[0].scale=this.config[0].loadW/this.config[1].loadW,this.config[1].scale=this.config[1].loadW/this.config[0].loadW):this.config[0].scale=1},drawOnceImg:function(t,i){this.canvas.css({display:"block"});var e=t.pageX-i.offset.left-this.magnifierW/2,o=t.pageY-i.offset.top-this.magnifierH/2;this.magnifierZoom.css({left:t.pageX-this.drawW/2+"px",top:t.pageY-this.drawH/2+"px"}),this.drawImg(i.showImg,e*i.rateW,o*i.rateH,i.rateW*this.magnifierW,i.rateH*this.magnifierH,this.drawW,this.drawH)},drawImg:function(t,i,e,o,s,n,a){this.magnifierZoom.css({width:n+"px",height:a+"px"}),this.ctx.beginPath(),this.ctx.drawImage(t[0],i,e,o,s,0,0,n,a),this.ctx.closePath()},show:function(){this.magnifierZoom.css({display:"block"}),this.canvas.css({display:"block"})},hide:function(){this.magnifierZoom.css({display:"none"}),this.canvas.css({display:"none"})}}),Class({create:function(t){this.parent=t||tmpContainer,this.initColorPanel(),this.initColorPanelCss(),this.initEvent()},initColorPanel:function(){this.stage=$("<div></div>"),this.colorPanel=$("<div></div>"),this.colorSlider=$("<div></div>"),this.alphaSlider=$("<div></div>"),this.colorPoint=$('<div class="point"></div>'),this.sliderPoint=$('<div class="point"></div>'),this.alphaPoint=$('<div class="point"></div>'),this.stage.append(this.colorPanel).append(this.colorSlider).append(this.alphaSlider),this.colorPanel.append(this.colorPoint),this.colorSlider.append(this.sliderPoint),this.alphaSlider.append(this.alphaPoint),this.parent.append(this.stage)},initColorPanelCss:function(){this.stage.css({display:"none","z-index":"11111",position:"absolute",width:"auto",padding:"0 1px",height:"152px",background:"#fff",border:"1px solid #CCCCCC",left:"120px",top:"50px"}),this.colorPanel.css({position:"relative",float:"left",top:"1px",left:"0px",width:"150px",height:"150px",background:"url("+uiBaseURL+"jsColorPanel.png) -120px 0 no-repeat","background-color":"#ff0000",cursor:"crosshair"}),this.colorSlider.css({position:"relative",float:"left",top:"1px","margin-left":"1px",width:"20px",height:"150px",background:"white url("+uiBaseURL+"jsColorPanel.png) 0 0",cursor:"row-resize"}),this.alphaSlider.css({position:"relative",float:"left",top:"1px","margin-left":"1px",width:"20px",height:"150px",background:"white url("+uiBaseURL+"jsColorPanel.png) -40px 0 no-repeat",cursor:"row-resize"}),this.colorPoint.css({position:"absolute",top:"0px",left:"150px",width:"8px",height:"8px",border:"solid 2px #bbb","border-radius":"10px","margin-top":"-6px","margin-left":"-6px",background:"none"}),this.sliderPoint.css({position:"absolute",top:"0",left:"0",width:"18px",height:"2px",background:"white",border:"solid 1px black","margin-top":"-2px","-moz-box-sizing":"content-box","-webkit-box-sizing":"content-box","box-sizing":"content-box"}),this.alphaPoint.css({position:"absolute",top:"0",left:"0",width:"18px",height:"2px",background:"white",border:"solid 1px black","margin-top":"-2px","-moz-box-sizing":"content-box","-webkit-box-sizing":"content-box","box-sizing":"content-box"})},destroy:function(){this.stage.remove()},showColorSelection:function(t){t=t.toUpperCase(),this.selection.setColor(t)},colorSelected:function(t){this.hide(),t=t.toUpperCase(),this.selection.setColor(t)},showOrHide:function(t){t.elem&&(this.visible&&t.elem[0]==this.curElem[0]?this.hide():this.show(t))},hide:function(){this.stage.fadeOut(200,function(){this.visible=!1}.bind(this))},show:function(t){t.elem&&(t.closeAlpha?this.alphaSlider.css({display:"none"}):this.alphaSlider.css({display:"block"}),this.visible=!0,this.curElem=t.elem,this.curInput=t.input||"",this.freshPanelCss(),this.updateFromOuter(this.curElem),this.stage.fadeIn(200))},freshPanelCss:function(){var t=this.curElem.offset(),i=this.stage.width(),e=this.stage.height(),o=this.curElem.width(),s=this.curElem.height(),n=t.left,a=t.top+s+5;t.left+o+i+5>windowWidth&&(n=t.left-i+o-5),t.top+s+e+5>windowHeight&&(a=t.top-e-5),this.stage.css({top:a+"px",left:n+"px"})},updateFromOuter:function(t){this.curColor=$(t).attr("color")?$(t).attr("color"):"#ff0000",this.curAlpha=$(t).attr("alpha")?$(t).attr("alpha"):"1.00",hex=this.convertCase(this.parseHex(this.curColor,!0)),hsb=this.hex2hsb(hex),this.curAlpha&&(this.curAlpha=""===this.curAlpha?1:this.keepWithin(parseFloat(this.curAlpha).toFixed(2),0,1),i=this.keepWithin(this.alphaSlider.height()-this.alphaSlider.height()*this.curAlpha,0,this.alphaSlider.height()),this.alphaPoint.css("top",i+"px")),t=this.keepWithin(Math.ceil(hsb.s/(100/this.colorPanel.width())),0,this.colorPanel.width());var i=this.keepWithin(this.colorPanel.height()-Math.ceil(hsb.b/(100/this.colorPanel.height())),0,this.colorPanel.height());this.colorPoint.css({top:i+"px",left:t+"px"}),i=this.keepWithin(this.colorSlider.height()-hsb.h/(360/this.colorSlider.height()),0,this.colorSlider.height()),this.sliderPoint.css("top",i+"px"),this.colorPanel.css("backgroundColor",this.hsb2hex({h:hsb.h,s:100,b:100}))},getColorConfig:function(){return{color:this.curColor,alpha:this.curAlpha}},setPosition:function(t,i){this.stage.css({left:t+"px",top:i+"px"})},updateColor:function(){gridPos=this.getCoords(this.colorPoint,this.colorPanel),sliderPos=this.getCoords(this.sliderPoint,this.colorSlider),opacityPos=this.getCoords(this.alphaPoint,this.alphaSlider),hue=this.keepWithin(360-parseInt(sliderPos.y*(360/this.colorSlider.height()),10),0,360),saturation=this.keepWithin(Math.floor(gridPos.x*(100/this.colorPanel.width())),0,100),brightness=this.keepWithin(100-Math.floor(gridPos.y*(100/this.colorPanel.height())),0,100),this.curColor=this.hsb2hex({h:hue,s:saturation,b:brightness});var t=this.hsb2hex({h:hue,s:100,b:100});this.curAlpha=parseFloat(1-opacityPos.y/this.alphaSlider.height()).toFixed(2),this.curElem.css({"background-color":this.curColor,opacity:this.curAlpha}),this.curElem.attr("color",this.curColor),this.curElem.attr("alpha",this.curAlpha),this.curInput&&this.curInput.val(this.curColor),this.colorPanel.css({"background-color":t})},getCoords:function(t,i){var e,o;return t.length&&i?(e=t.offset().left,o=t.offset().top,{x:e-i.offset().left+t.outerWidth()/2,y:o-i.offset().top+t.outerHeight()/2}):null},initEvent:function(){this.stage.bind(_event._down,function(t){this.isFocus=!0,this.curPoint=$(t.target),this.curSlider=$(t.target),t.target!=this.colorPoint[0]&&t.target!=this.sliderPoint[0]&&t.target!=this.alphaPoint[0]||(this.curPoint=$(t.target),this.curSlider=$(t.target).parent()),this.curSlider[0]==this.colorPanel[0]&&(this.curPoint=this.colorPoint),this.curSlider[0]==this.colorSlider[0]&&(this.curPoint=this.sliderPoint),this.curSlider[0]==this.alphaSlider[0]&&(this.curPoint=this.alphaPoint),t=this.getEventPos(t),this.curPoint[0]==this.colorPoint[0]?this.curPoint.animate({left:t.x+"px",top:t.y+"px"},50,this.updateColor.bind(this)):this.curPoint.animate({top:t.y+"px"},50,this.updateColor.bind(this))}.bind(this)),this.stage.bind(_event._move,function(t){this.isFocus&&(t=this.getEventPos(t),this.curPoint[0]==this.colorPoint[0]?this.curPoint.stop(!0).animate({left:t.x+"px",top:t.y+"px"},0,this.updateColor.bind(this)):this.curPoint.stop(!0).animate({top:t.y+"px"},0,this.updateColor.bind(this)))}.bind(this)),this.stage.bind(_event._up,function(t){t.stopPropagation(),this.isFocus=!1}.bind(this)),tmpContainer.bind(_event._up,function(t){this.isFocus=!1,this.hide()}.bind(this))},getEventPos:function(t){t=t.originalEvent&&t.originalEvent.changedTouches?t.originalEvent.changedTouches:t.changedTouches||[t];var i=this.curSlider.offset().left,e=this.curSlider.offset().top,i=Math.round(t[0].pageX-i);return t=Math.round(t[0].pageY-e),{x:this.keepWithin(i,0,this.curSlider.width()),y:t=this.keepWithin(t,0,this.curSlider.height())}},rgbObject:function(t){var i=parseHex($(t).val(),!0),i=hex2rgb(i);return t=$(t).attr("data-opacity"),i?(void 0!==t&&$.extend(i,{a:parseFloat(t)}),i):null},rgbString:function(t,i){var e=parseHex($(t).val(),!0),e=hex2rgb(e);return t=$(t).attr("data-opacity"),e?(void 0===t&&(t=1),i?"rgba("+e.r+", "+e.g+", "+e.b+", "+parseFloat(t)+")":"rgb("+e.r+", "+e.g+", "+e.b+")"):null},convertCase:function(t,i){return"uppercase"===i?t.toUpperCase():t.toLowerCase()},parseHex:function(t,i){return 3!==(t=t.replace(/[^A-F0-9]/gi,"")).length&&6!==t.length?"":"#"+(t=3===t.length&&i?t[0]+t[0]+t[1]+t[1]+t[2]+t[2]:t)},keepWithin:function(t,i,e){return t=e<(t=t<i?i:t)?e:t},hsb2rgb:function(t){var i,e,o,s=Math.round(t.h),n=Math.round(255*t.s/100);return t=Math.round(255*t.b/100),0===n?s=i=e=t:(o=s%60*(t-(n=(255-n)*t/255))/60,(s=360===s?0:s)<60?(s=t,i=(e=n)+o):s<120?(e=n,s=(i=t)-o):s<180?(i=t,e=(s=n)+o):s<240?(s=n,i=(e=t)-o):s<300?(e=t,s=(i=n)+o):e=s<360?(i=n,(s=t)-o):i=s=0),{r:Math.round(s),g:Math.round(i),b:Math.round(e)}},rgb2hex:function(t){var e=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return $.each(e,function(t,i){1===i.length&&(e[t]="0"+i)}),"#"+e.join("")},hsb2hex:function(t){return this.rgb2hex(this.hsb2rgb(t))},hex2hsb:function(t){return 0===(t=this.rgb2hsb(this.hex2rgb(t))).s&&(t.h=360),t},rgb2hsb:function(t){var i={h:0,s:0,b:0},e=Math.max(t.r,t.g,t.b),o=e-Math.min(t.r,t.g,t.b);return i.b=e,i.s=0!==e?255*o/e:0,i.h=0!==i.s?t.r===e?(t.g-t.b)/o:t.g===e?2+(t.b-t.r)/o:4+(t.r-t.g)/o:-1,i.h*=60,i.h<0&&(i.h+=360),i.s*=100/255,i.b*=100/255,i},hex2rgb:function(t){return{r:(t=parseInt(-1<t.indexOf("#")?t.substring(1):t,16))>>16,g:(65280&t)>>8,b:255&t}}})),getRandomColor=function(){return"#"+Math.floor(1118481+14540253*Math.random()).toString(16)},BookmarkElements=Class({create:function(t){this._super(t),this.initElements(),this.initEvent(t),this.pickElements(t)},initElements:function(){this.input=$("<input class='input_title ' placeholder='"+FormInfo.getFormTitle("bookmark")+"'></input>"),this.colorSelection=$("<input class='colorSelection' readonly type='text' color='#ff0000' style='background:#ff0000;'></input>"),this.setRandom(),this.rightToLeft?this.initRightToLeftDefaultDom():this.initLeftToRightDefaultDom(),this.remove=$("<div class='removeAll button_hover'>"+getLanguage("lblRemoveAll","Remove All")+"</div>")},initRightToLeftDefaultDom:function(){this.leftAddPage=$("<div class='add_page button_hover'><span class='pageIndex'></span> <span class='title'>"+getLanguage("lblAddToPage","Add To Page")+"</span></div>"),this.rightAddPage=$("<div class='add_page left button_hover'><span class='pageIndex'></span> <span class='title'>"+getLanguage("lblAddToPage","Add To Page")+"</span></div>"),this.bookmarkListTitle=$("<div class='list_title'><span class='edit'>"+getLanguage("lblEdit","Edit")+"</span><span class='description'>"+getLanguage("lblDescription","Title")+"</span><span class='page'>"+getLanguage("lblPage","Page")+"</span></div>")},initLeftToRightDefaultDom:function(){this.leftAddPage=$("<div class='add_page left'><span class='title'>"+getLanguage("lblAddToPage","Add To Page")+"</span> <span class='pageIndex'></span></div>"),this.rightAddPage=$("<div class='add_page'><span class='title'>"+getLanguage("lblAddToPage","Add To Page")+"</span> <span class='pageIndex'></span></div>"),this.bookmarkListTitle=$("<div class='list_title'><span class='page'>"+getLanguage("lblPage","Page")+"</span><span class='description'>"+getLanguage("lblDescription","Title")+"</span><span class='edit'>"+getLanguage("lblEdit","Edit")+"</span></div>")},getColor:function(){return this.colorSelection.attr("color")},pickElements:function(t){t&&(t.input=this.input,t.colorSelection=this.colorSelection,t.remove=this.remove,t.leftAddPage=this.leftAddPage,t.rightAddPage=this.rightAddPage,t.bookmarkListTitle=this.bookmarkListTitle)},setRandom:function(){var t=getRandomColor();this.colorSelection.attr("color",t),this.colorSelection.css("background",t)},initEvent:function(i){this.leftAddPage.click(function(){var t={pageIndex:this.leftPageIndex,caption:this.input.val(),color:this.getColor()};i.addItem(t)}.bind(this)),this.rightAddPage.click(function(){var t={pageIndex:this.rightPageIndex,caption:this.input.val(),color:this.getColor()};i.addItem(t)}.bind(this)),this.remove.click(function(){i.removeAll()}.bind(this)),this.input.bind("mousedown touchstart pointerdown mouseover mousemove",function(t){t.stopPropagation()}),this.colorSelection.bind(_event._up,function(t){t.stopPropagation(),global.colorPanel&&global.colorPanel.showOrHide({e:t,elem:this.colorSelection,closeAlpha:!0})}.bind(this))},refreshElements:function(){this.refreshAddPageButtonOnPc(),this.refreshAddPageButtonOnPhone()},refreshAddPageButtonOnPc:function(){var t;isPhone()||isPad()||(this.bookmarkList.getLength()<=0?this.remove.hide():this.remove.show(),t=BookInfo.getCurrentPages(),this.leftPageIndex=parseInt(t[0]),this.rightPageIndex=parseInt(t[1]),this.showOrHideAddPageBtn(),this.focusAddPageBtn())},refreshAddPageButtonOnPhone:function(){if((isPhone()||isPad())&&toolBar.buttons&&toolBar.buttons.find("PhoneBookmarkButton",!0).get(0)){for(var t=BookInfo.getCurrentPages(),i=0;i<t.length;i++)if(this.bookmarkList.inList(t[i]))return void toolBar.buttons.find("PhoneBookmarkButton",!0).get(0).setAsAdded();toolBar.buttons.find("PhoneBookmarkButton",!0).get(0).setAsUnAdded()}},showOrHideAddPageBtn:function(){this.leftPageIndex?(this.leftAddPage.find(".pageIndex").html(getShownPageNumber(this.leftPageIndex)),this.leftAddPage.show()):this.leftAddPage.hide(),this.rightPageIndex?(this.rightAddPage.find(".pageIndex").html(getShownPageNumber(this.rightPageIndex)),this.rightAddPage.show()):this.rightAddPage.hide()},focusAddPageBtn:function(){this.leftPageIndex&&!this.bookmarkList.inList(this.leftPageIndex)?(this.leftAddPage.removeClass("disable"),this.leftAddPage.addClass("usable"),this.leftAddPage.addClass("button_hover")):(this.leftAddPage.addClass("disable"),this.leftAddPage.removeClass("usable"),this.leftAddPage.removeClass("button_hover")),this.rightPageIndex&&!this.bookmarkList.inList(this.rightPageIndex)?(this.rightAddPage.removeClass("disable"),this.rightAddPage.addClass("usable"),this.rightAddPage.addClass("button_hover")):(this.rightAddPage.addClass("disable"),this.rightAddPage.removeClass("usable"),this.rightAddPage.removeClass("button_hover"))},changeLanguage:function(){this.input.attr("placeholder",FormInfo.getFormTitle("tableOfContent")),this.remove.html(getLanguage("lblRemoveAll","Remove All")),this.leftAddPage.find(".title").html(getLanguage("lblAddToPage","Add To Page")),this.rightAddPage.find(".title").html(getLanguage("lblAddToPage","Add To Page")),this.bookmarkListTitle.find(".edit").html(getLanguage("lblEdit","Edit")),this.bookmarkListTitle.find(".description").html(getLanguage("lblDescription","Title")),this.bookmarkListTitle.find(".page").html(getLanguage("lblPage","Page"));var t=this.bookmarkListPanel.bookmarkSwiperList;t.find(".save").attr("title",getLanguage("lblSave","Save")),t.find(".cancel").attr("title",getLanguage("lblCancel","Cancel")),t.find(".edit").attr("title",getLanguage("lblEdit","Edit")),t.find(".delete").attr("title",getLanguage("lblDelete","Delete"))}}).extend(FormElements),BookmarkItem=Class({create:function(t,i){this.callback=i,this.parm={color:t.color,caption:t.caption,pageIndex:parseInt(t.pageIndex)},this.item=$("<div class='item' pageIndex='"+parseInt(t.pageIndex)+"' id='bookmark_item"+parseInt(t.pageIndex)+"'></div>"),this.saveUrl=form_icons.save?"data:image/png;base64,"+form_icons.save:uiBaseURL+"save.png",this.cancelUrl=form_icons.cancel?"data:image/png;base64,"+form_icons.cancel:uiBaseURL+"cancel.png",this.editUrl=form_icons.edit?"data:image/png;base64,"+form_icons.edit:uiBaseURL+"edit.png",this.deleteUrl=form_icons.delete?"data:image/png;base64,"+form_icons.delete:uiBaseURL+"delete.png",this.fontColor=t.fontColor,this.color=t.color,this.caption=t.caption,this.pageCaption=getShownPageNumber(parseInt(t.pageIndex)),this.pageIndex=parseInt(t.pageIndex),this.colorObj=Color(this.fontColor),this.initDefaultDom(),this.initHtml(),this.initEvent()},resetColor:function(t){this.fontColor=t,this.colorObj=Color(this.fontColor)},initHtml:function(){rightToLeft?this.initRightToLeftHtml():this.initLeftToRightHtml(),this.deleteIcon.changeButtonColor(this.fontColor),this.edit.changeButtonColor(this.fontColor),this.cancel.changeButtonColor(this.fontColor),this.save.changeButtonColor(this.fontColor)},initRightToLeftHtml:function(){this.item.append(this.deleteIcon),this.item.append(this.edit),this.item.append(this.cancel),this.item.append(this.save),this.item.append(this.title),this.item.append(this.colorSelection),this.item.append(this.page)},initLeftToRightHtml:function(){this.item.append(this.page),this.item.append(this.title),this.item.append(this.colorSelection),this.item.append(this.save),this.item.append(this.cancel),this.item.append(this.edit),this.item.append(this.deleteIcon)},initDefaultDom:function(){this.page=$("<span class='page'>"+this.pageCaption+"</span>"),this.title=$("<input class='title' title='"+this.caption+"' value='"+this.caption+"' disabled='disabled'></input>"),this.colorSelection=$("<input class='colorSelection' readonly type='text' style='background:"+this.color+"'></input>"),this.colorSelection.attr("color",this.color),this.save=$("<img class='save' title='"+getLanguage("lblSave","Save")+"' src='"+this.saveUrl+"'/>"),this.cancel=$("<img class='cancel' title='"+getLanguage("lblCancel","Cancel")+"' src='"+this.cancelUrl+"'/>"),this.edit=$("<img class='edit' title='"+getLanguage("lblEdit","Edit")+"' src='"+this.editUrl+"'/>"),this.deleteIcon=$("<img class='delete' title='"+getLanguage("lblDelete","Delete")+"' src='"+this.deleteUrl+"'/>"),this.title.css({color:this.fontColor})},appendTo:function(t){t.append(this.item)},insertBefore:function(t){this.item.insertBefore(t)},insertAfter:function(t){this.item.insertAfter(t)},initEvent:function(){this.edit.onTap(function(){this.startEdit()}.bind(this)),this.cancel.onTap(function(){this.endEdit(),this.cancelData()}.bind(this)),this.save.onTap(function(){this.endEdit(),this.saveData()}.bind(this)),this.deleteIcon.onTap(function(){this.item.remove(),this.callback.deleteItem(this.parm.pageIndex)}.bind(this)),this.item.onTap(function(){this.judgeToSaveOrCancel(),gotoPageFun(this.pageIndex,!1,"bookmark")}.bind(this)),this.title.bind("keypress",function(t){"13"==t.keyCode&&(this.endEdit(),this.saveData())}.bind(this)),this.item.bind("mouseover",function(){global.bookmark.editingItem!=this&&this.item.css({background:this.colorObj.rgba(.1)})}.bind(this)),this.item.bind("mouseleave",function(){global.bookmark.editingItem!=this&&this.item.css({"background-color":"transparent"})}.bind(this)),this.colorSelection.bind(_event._up,function(t){t.stopPropagation(),global.colorPanel&&global.colorPanel.showOrHide({e:t,elem:this.colorSelection,closeAlpha:!0})}.bind(this))},saveData:function(){var t=this.colorSelection.attr("color"),i=this.title.val();i==this.caption&&t==this.color||(this.caption=i,this.color=t,this.parm={pageIndex:this.pageIndex,caption:this.caption,color:this.color},this.callback.editItem(this.parm))},cancelData:function(){var t=this.colorSelection.attr("color");this.title.val()!=this.caption&&this.title.val(this.caption),t!=this.color&&this.colorSelection.attr("color",this.color)},endEdit:function(){this.colorSelection.hide(),this.cancel.hide(),this.save.hide(),this.edit.show(),this.title.css({background:"transparent",color:this.fontColor}),this.title.attr("disabled","disabled"),global.bookmark.editingItem=null},startEdit:function(){this.judgeToSaveOrCancel(),this.lightItem(),this.colorSelection.show(),this.cancel.show(),this.save.show(),this.edit.hide(),this.title.css({background:"#ffffff",color:"#000000"}),this.title.removeAttr("disabled"),(global.bookmark.editingItem=this).cancel.changeButtonColor(this.fontColor),this.save.changeButtonColor(this.fontColor)},judgeToSaveOrCancel:function(){global.bookmark.editingItem&&global.bookmark.editingItem!=this&&(global.bookmark.editingItem.cancelData(),global.bookmark.editingItem.endEdit())},lightItem:function(){$(".bookmarkItem_focus").css({background:"transparent"}),$(".bookmarkItem_focus").removeClass("bookmarkItem_focus"),this.item.addClass("bookmarkItem_focus"),this.item.css({background:this.colorObj.rgba(.25)})},changeLanguage:function(){this.save.attr("title",getLanguage("lblSave","Save")),this.cancel.attr("title",getLanguage("lblCancel","Cancel")),this.edit.attr("title",getLanguage("lblEdit","Edit")),this.deleteIcon.attr("title",getLanguage("lblDelete","Delete"))}}),PhoneBookmarkItem=Class({create:function(t,i){var e;this.parm=t,this.color=t.color,this.caption=t.caption,this.pageCaption="P:"+parseInt(t.pageIndex),this.pageIndex=parseInt(t.pageIndex),this.callback=i,this.item=$("<div class='item'></div>"),this.page=$("<span class='page'>P:"+getShownPageNumber(this.pageIndex)+"</span>"),this.caption=$("<span class='title'>"+this.caption+"</span>"),this.deleteBtn=$("<div class='delete'></div>"),this.item.append(this.page),passwardType()||getPageDir((e=this).pageIndex,"thumb",originTotalPageCount).then(function(t){t.match(/^none/)?e.image=$("<div class='thumbnail' style='display: inline-block;background:"+bookConfig.pageBackgroundColor+";width:60px;'></div>"):e.image=$("<img class='thumbnail' src='"+t+"'/>"),bookConfig.isStopMouseMenu&&e.image.css({"pointer-events":"none"}),e.item.append(e.image)}),this.item.append(this.caption),this.item.append(this.deleteBtn),this.initEvent()},appendTo:function(t){t.append(this.item)},initEvent:function(){this.deleteBtn.click(function(){this.item.remove(),this.callback.deleteItem(this.pageIndex)}.bind(this)),this.item.click(function(){gotoPageFun(this.pageIndex,!1,"bookmark"),bookmark.hide()}.bind(this))},changeLanguage:function(){}}),AnalysisBookmark=Class({create:function(){this.bookmarkList=[],this.bookmarkDetaildList=[],this.key=window.location.href.replace(window.location.hash,"")+"BookMark",this.refresh()},refresh:function(){var t=this.getListFromLocalStorage();if(t&&0!=t.length){for(var i=0;i<t.length;i++)parseInt(t[i].pageIndex)&&this.bookmarkList.push(parseInt(t[i].pageIndex));this.bookmarkDetaildList=t}},getListFromLocalStorage:function(){var t=this.getLocalStorage(this.key);return Instance.parse(t)},getList:function(){return this.bookmarkList},getItem:function(t){for(var i,e=0;e<this.bookmarkDetaildList.length;e++)if(parseInt(this.bookmarkDetaildList[e].pageIndex)==parseInt(t)){i=this.bookmarkDetaildList[e];break}return i},editItem:function(t){for(var i=t.pageIndex,e=0;e<this.bookmarkDetaildList.length;e++)if(parseInt(this.bookmarkDetaildList[e].pageIndex)==parseInt(i)){this.bookmarkDetaildList[e].caption=t.caption,this.bookmarkDetaildList[e].color=t.color;break}this.refreshLocalStorage()},addItem:function(t){var i=t.pageIndex;this.bookmarkList.indexOf(i)<0&&(this.bookmarkList.push(i),this.bookmarkDetaildList.push(t),this.sortList())},deleteItem:function(t){for(var i=0;i<this.bookmarkDetaildList.length;i++)if(parseInt(this.bookmarkDetaildList[i].pageIndex)==parseInt(t)){this.bookmarkDetaildList.remove(i),this.bookmarkList.remove(i);break}this.refreshLocalStorage()},removeAll:function(){this.bookmarkList=[],this.bookmarkDetaildList=[],this.deleteLocalStorage(this.key)},sortList:function(){this.bookmarkList.sort(function(t,i){return t-i});for(var t=[],i=0;i<this.bookmarkList.length;i++)for(var e=this.bookmarkList[i],o=0;o<this.bookmarkDetaildList.length;o++)if(parseInt(this.bookmarkDetaildList[o].pageIndex)==parseInt(e)){t.push(this.bookmarkDetaildList[o]);break}this.bookmarkDetaildList=t,this.refreshLocalStorage()},getLocalStorage:function(t){try{if(window.localStorage[t])return window.localStorage.getItem(t)}catch(t){}},refreshLocalStorage:function(){try{window.localStorage&&window.localStorage.setItem(this.key,Instance.JSON(this.bookmarkDetaildList))}catch(t){}},deleteLocalStorage:function(t){try{window.localStorage[t]&&window.localStorage.setItem(t,"")}catch(t){}}}),BookmarkListData=Class({create:function(){this.initStaticList(),this.initBookmarkList()},initBookmarkList:function(){this.analysisData=new AnalysisBookmark,this.bookmarkList=this.analysisData.getList()},initStaticList:function(){if(this.staticList=[],!isPhone()&&!isPad()&&bmtConfig){var t=bmtConfig;if(0!=(t=bmtConfig.tabs?bmtConfig.tabs:t).length)for(var i=t.length,e=0;e<i;e++)this.staticList.push(t[e].pageIndex)}},addItem:function(t){this.inList(t.pageIndex)||this.analysisData.addItem(t)},deleteItem:function(t){this.analysisData.deleteItem(t)},editItem:function(t){this.analysisData.editItem(t)},refresh:function(){this.bookmarkList=this.analysisData.getList()},inList:function(t){return 0<=this.staticList.indexOf(t)||0<=this.bookmarkList.indexOf(t)},removeAll:function(){this.analysisData.removeAll()},getItem:function(t){return this.analysisData.getItem(t)},getList:function(){return this.bookmarkList},getNextItem:function(t){for(var i=0,e=this.bookmarkList.length,o=0;o<e;o++)if(this.bookmarkList[o]>t){i=this.bookmarkList[o];break}return i},getPrevItem:function(t){for(var i=0,e=this.bookmarkList.length,o=0;o<e;o++)if(this.bookmarkList[o]>t){i=this.bookmarkList[o-1];break}return i},getLength:function(){return this.bookmarkList.length}}),BookmarkListPanel=Class({create:function(t){this.callback=t,this.bookmarkList=new BookmarkListData,this.initSwiper()},onCreate:function(){},initSwiper:function(){this.bookmarkSwiper=$("<div class='bookmarkSwiper stage'></div>"),this.bookmarkSwiperList=$("<div class='swiper'></div>"),this.progress=$("<div class='progress'></div>"),this.progressBar=$("<div class='progressBar'></div>"),this.refreshSwiper(),this.bookmarkSwiper.append(this.bookmarkSwiperList),isPhone()||isPad()?this.bookmarkSwiper.css({"overflow-y":"auto","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}):(this.progress=$("<div class='progress'></div>"),this.progressBar=$("<div class='progressBar'></div>"),this.bookmarkSwiper.append(this.progress),this.progress.append(this.progressBar),this.bookmarkSwiper.scroll({},Direction.top))},initColorCss:function(){this.mainColor=bookConfig.formBackgroundColor||bookConfig.toolbarColor,this.fontColor=bookConfig.formFontColor||bookConfig.iconColor,this.mainColorObj=Color(this.mainColor),this.fontColorObj=Color(this.fontColor)},resetSwiperHtml:function(){this.bookmarkSwiperList.html(""),this.refreshSwiper()},refreshSwiper:function(){for(var t=this.bookmarkList.getList(),i=t.length,e=0;e<i;e++)this.refreshItem(t[e])},refreshItem:function(t){t=this.bookmarkList.getItem(t),this.newItem(t).appendTo(this.bookmarkSwiperList)},newItem:function(t){return new BookmarkItem(t,this.callback)},refreshListPanel:function(){var t;isPhone()||isPad()||(this.bookmarkSwiper.css({height:"auto"}),this.bookmarkSwiperList.css({position:"relative"}),t=this.bookmarkSwiper.height(),this.bookmarkSwiper.find(".swiper").height(),t>=this.maxHeight?(this.bookmarkSwiper.css({height:this.maxHeight+"px"}),this.bookmarkSwiperList.css({position:"absolute"})):this.bookmarkSwiperList.css({top:0}),this.bookmarkSwiper.refreshData&&this.bookmarkSwiper.refreshData())},addItem:function(t){var i,e;this.bookmarkList.inList(t.pageIndex)||(BookEvent.trigger("addBookmark",[BookInfo.getCurrentPagesByIndex(t.pageIndex).join("-"),t.caption,t.color]),i=this.newItem(t),this.bookmarkList.addItem(t),1==this.bookmarkList.getLength()?i.appendTo(this.bookmarkSwiperList):(e=this.getPrevItem(t.pageIndex),t=this.getNextItem(t.pageIndex),e.attr("pageIndex")?i.insertAfter(e):t.attr("pageIndex")?i.insertBefore(t):i.appendTo(this.bookmarkSwiperList)),this.refreshPanel())},deleteItem:function(t){BookEvent.trigger("deleteItem",[BookInfo.getCurrentPagesByIndex(t).join("-")]),this.bookmarkList.deleteItem(t),this.refreshPanel()},editItem:function(t){BookEvent.trigger("editItem",[BookInfo.getCurrentPagesByIndex(t.pageIndex).join("-"),t.caption,t.color]),this.bookmarkList.editItem(t),this.refreshPanel()},refresh:function(){this.bookmarkList.refresh()},getLength:function(){},inList:function(t){return!!this.bookmarkList.inList(t)},removeAll:function(){BookEvent.trigger("deleteItem",["all"]),this.bookmarkSwiperList.empty(),this.bookmarkList.removeAll()},getNextItem:function(t){return t=this.bookmarkList.getNextItem(t),$("#bookmark_item"+t)},getPrevItem:function(t){return t=this.bookmarkList.getPrevItem(t),$("#bookmark_item"+t)},refreshPanel:function(){this.refresh(),this.refreshListPanel(),BookInfo.getBook().bookAttachments.Items.find("BookmarkTab").each(function(t){t.reload()})},onResize:function(t,i){this.maxHeight=i,this.bookmarkSwiper.css("height",i+"px")}}),PhoneBookmarkListPanel=Class({create:function(t){this._super(t)},onCreate:function(){},newItem:function(t){return new PhoneBookmarkItem(t,this.callback)}}).extend(BookmarkListPanel),PcBookmarkFrame=Class({create:function(t){this.elements=new BookmarkElements(this),this.bookmarkListPanel=new PcBookmarkListPanel(this),this.elements.bookmarkList=this.bookmarkListPanel.bookmarkList,this.elements.bookmarkListPanel=this.bookmarkListPanel,this._super(t)},onCreate:function(){this.initColorCss()},initColorCss:function(){this.stage.css({"background-color":this.mainColor,color:this.fontColor}),this.bookmarkListPanel.initColorCss(),this.bookmarkListPanel.resetSwiperHtml()},initHtml:function(){this.stage.append(this.title),this.favicon&&(bookConfig.RightToLeft?this.title.append(this.favicon):this.title.prepend(this.favicon)),this.stage.append(this.close),this.content=$("<div class='bookmark_content'></div>"),this.stage.append(this.content);var t=$("<p class='inputForm'></p>");t.append(this.input),t.append(this.colorSelection),this.content.append(t),this.content.append(this.leftAddPage),this.content.append(this.rightAddPage),this.content.append(this.bookmarkListPanel.bookmarkListTitle),this.content.append(this.bookmarkListPanel.bookmarkSwiper),this.content.append(this.remove),this.parent.append(this.stage),this.refreshPanel()},refreshPanel:function(){this.bookmarkListPanel.refreshPanel(),this.elements.refreshElements()},setRandom:function(){var t=getRandomColor();this.colorSelection.attr("color",t),this.colorSelection.css("background",t)},addItem:function(t){t&&t.caption&&t.pageIndex&&!this.bookmarkListPanel.inList(t.pageIndex)&&(this.bookmarkListPanel.addItem(t),this.input.val(""),this.setRandom(),this.refreshPanel())},deleteItem:function(t){this.bookmarkListPanel.deleteItem(t),this.refreshPanel()},editItem:function(t){this.bookmarkListPanel.editItem(t),this.refreshPanel()},refreshItem:function(t){this.bookmarkListPanel.refreshItem(t)},removeAll:function(){this.bookmarkListPanel.removeAll(),this.refreshPanel()},onResize:function(){var t=Math.max(windowHeight-bookConfig.topMargin-bookConfig.bottomMargin-toolBar.getHeight(),1),i=(toolBar.getWidth(),toolBar.getTopHeight()+10);this.width=250,this.height=t-87,this.maxHeight=this.height-188,this.stage.css({height:this.height+"px",top:i+"px"}),this.bookmarkListPanel.onResize(this.width,this.maxHeight),this.refreshPanel()},onShow:function(){this.changeIconColor()}}).extend(SlideForm),PhoneBookmarkFrame=Class({create:function(t){this.elements=new BookmarkElements(this),this.bookmarkListPanel=new PhoneBookmarkListPanel(this),this.elements.bookmarkList=this.bookmarkListPanel.bookmarkList,this.elements.bookmarkListPanel=this.bookmarkListPanel,this._super(t)},onCreate:function(){this.favicon&&this.favicon.changeButtonColor(this.fontColor),this._super()},initHtml:function(){this.title.append(this.close),this.stage.append(this.title),this.stage.append(this.bookmarkListPanel.bookmarkSwiper),this.refreshPanel()},refreshPanel:function(){this.bookmarkListPanel.refreshPanel(),this.elements.refreshElements()},addItem:function(t){t&&t.pageIndex&&!this.bookmarkListPanel.inList(t.pageIndex)&&(this.bookmarkListPanel.addItem(t),this.refreshPanel())},deleteItem:function(t){this.bookmarkListPanel.deleteItem(t),this.refreshPanel()},refreshItem:function(t){this.bookmarkListPanel.refreshItem(t)},onResize:function(){this._super(),this.bookmarkListPanel.onResize(this.width,windowHeight-61),this.refreshPanel()},initEvent:function(){},onShow:function(){this.favicon&&this.favicon.changeButtonColor(this.fontColor)}}).extend(PhoneFormFrame),PhoneBookmarkForm=Class({}).extend(PhoneBookmarkFrame),CopyElements=Class({create:function(t){this._super(t),this.initElements(),this.initEvent(t),this.pickElements(t)},initElements:function(){this.textArea=$("<textarea></textarea>"),this.message=$("<p>"+getLanguage("lblSelectMessage","Please copy the the text content in the text box")+"</p>"),this.button=$("<div class='cancel'>"+getLanguage("lblCopy","Copy")+"</div>")},initEvent:function(t){this.copyHref(this.button[0],t)},copyHref:function(t,i){var e;global.isBelowIE9()||(e=this,(t=new ClipboardJS(t,{text:function(t){return e.textArea.val()}})).on("success",function(t){i.hide.bind(i)(),t.clearSelection()}),t.on("error",function(t){uc?(i.hide.bind(i)(),t.clearSelection()):alert("Copy failed!")}))},copyFrom:function(i){if(i){i.focus(),i.select();try{document.execCommand("Copy")}catch(t){copyToClipboard(i=i.val())}}},pickElements:function(t){t.textArea=this.textArea,t.message=this.message,t.button=this.button},changeLanguage:function(){this.message.html(getLanguage("lblSelectMessage","Please copy the the text content in the text box")),this.button.html(getLanguage("lblCancel","Cancel"))}}).extend(FormElements),CopyForm=Class({create:function(t){this.elements=new CopyElements(this),this._super(t)},onCreate:function(){this._super(),this.stage.css({"background-color":this.mainColor,color:this.fontColor})},initHtml:function(){this.stage.append(this.textArea),this.stage.append(this.message),this.stage.append(this.button),this._super()},fillText:function(t){this.textArea.val(t),rightToLeft&&this.textArea.addClass("rtl")},initEvent:function(){this.stage.bind(_event._down,function(t){t.stopPropagation()})},onShow:function(){},onResize:function(){this._super()}}).extend(FadeOutFadeForm);function grayBackground(t,i,e,o,s){this.sw=o,this.sh=s,this.background=$("<div ></div>"),this.background.css({width:o+"px",height:s+"px",background:i,opacity:e,"z-index":200,position:"absolute",left:"0px",top:"0px"}),t.append(this.background)}Class("LineABC",{create:function(t,i){this.a=i.y-t.y,this.b=t.x-i.x,this.c=i.x*t.y-t.x*i.y},distanceFrom:function(t){return t=this.a*t.x+this.b*t.y+this.c,(t=Math.abs(t))/Math.sqrt(this.a*this.a+this.b*this.b)}}),Class("LineSegment",{create:function(t,i){this.start=t,this.stop=i,this.degree=this.radians=this.distance=this.horizontal=this.vertical=0,this.computeLine()},computeLine:function(){this.vertical=this.stop.y-this.start.y,this.horizontal=this.stop.x-this.start.x,this.distance=Math.sqrt(this.vertical*this.vertical+this.horizontal*this.horizontal),0<this.distance&&(this.radians=Math.atan2(this.vertical,this.horizontal),this.degree=180*this.radians/Math.PI)},sin:function(){return equals(this.distance,0)?0:this.vertical/this.distance},cos:function(){return equals(this.distance,0)?0:this.horizontal/this.distance},tan:function(){return equals(this.distance,0)?0:this.vertical/this.horizontal},ctan:function(){return equals(this.distance,0)?0:this.horizontal/this.vertical},isPoint:function(){return equals(this.distance,0)}}),Class("SearchTextItem",{create:function(){this.posIndex=-1,this.pageHeight=this.pageWidth=1,this.text="",this.points=[],this.widthList=[],this.textHeight=this.textWidth=0,this.box={left:0,top:0,right:0,bottom:0},this.line_height=this.line_width=null},refreshProperties:function(){var t=this.getPixelPoint(this.leftBottom()),i=this.getPixelPoint(this.rightBottom()),e=this.getPixelPoint(this.leftTop());t.equals(i)&&this.fixZeroWidth(),t.equals(e)&&this.fixZeroHeight(),this.line_width=new LineSegment(t,i),this.textWidth=this.line_width.distance*this.line_width.cos()/this.pageWidth,this.line_height=new LineSegment(t,e),this.textHeight=this.line_height.distance*this.line_height.sin()/this.pageHeight,this.box.left=this.getMinX(this.points),this.box.top=this.getMinY(this.points),this.box.right=this.getMaxX(this.points),this.box.bottom=this.getMaxY(this.points),this.adjustWidthList()},fixZeroWidth:function(){var t=this.getPixelPoint(this.leftBottom()),i=this.getPixelPoint(this.rightBottom()),e=this.getPixelPoint(this.leftTop()),i=new LineSegment(t,i);if(!(t=new LineSegment(t,e)).isPoint()){for(var e=t.distance,o=t=0;o<this.text.length;o++){var s=this.text.charCodeAt(o),n=e;32<=s&&s<=126&&(n=Math.floor(2*e/3)),this.widthList[o]=n/this.width,t+=n}e=t*i.cos()/this.width,i=-t*i.sin()/this.height,t=this.rightTop(),o=this.rightBottom(),t.x+=e,t.y+=i,o.x+=e,o.y+=i}},fixZeroHeight:function(){var t,i,e=this.getPixelPoint(this.leftBottom()),o=this.getPixelPoint(this.rightBottom());(o=new LineSegment(e,o)).isPoint()||(e=-22*o.sin()/this.width,o=-22*o.cos()/this.height,t=this.leftTop(),i=this.rightTop(),t.x+=e,t.y+=o,i.x+=e,i.y+=o)},adjustWidthList:function(){for(var t=!1,i=0;i<this.letterCount();i++)if(equals(this.widthList[i],0)){t=!0;break}if(t)for(t=this.textWidth/this.letterCount(),i=0;i<this.letterCount();i++)this.widthList[i]=t;else if(!equals(this.line_width.degree,0)){for(i=t=0;i<this.letterCount()-1;i++)t+=this.widthList[i];this.widthList[this.letterCount()-1]=this.textWidth-t}},setText:function(t){this.text=t=t||"",this.setWidthListSize(t.length)},setWidthListSize:function(t){var i=this.widthList.length;if(i<t)for(var e=i;e<t;e++)this.widthList[e]=0;if(t<i){for(i=[],e=0;e<t;e++)i[e]=this.widthList[e];this.widthList=i}},getPixelPoint:function(t){return new Point(this.pageWidth*t.x,this.pageHeight*t.y)},getRatioPoint:function(t){return new Point(t.x/this.pageWidth,t.y/this.pageHeight)},clone:function(t){this.pageWidth=t.pageWidth,this.pageHeight=t.pageHeight,this.text=t.text;for(var i=0;i<4;i++)this.points[i]=t.points[i].clone();for(this.widthList=[],i=0;i<t.letterCount();i++)this.widthList[i]=t.widthList[i];this.refreshProperties()},letterCount:function(){return this.widthList.length},getMaxX:function(t){for(var i=-1e8,e=0;e<4;e++)i=Math.max(i,t[e].x);return i},getMaxY:function(t){for(var i=-1e8,e=0;e<4;e++)i=Math.max(i,t[e].y);return i},getMinX:function(t){for(var i=1e8,e=0;e<4;e++)i=Math.min(i,t[e].x);return i},getMinY:function(t){for(var i=1e8,e=0;e<4;e++)i=Math.min(i,t[e].y);return i},getMiddlePoint:function(t,i){return new Point((t.x+i.x)/2,(t.y+i.y)/2)},getMiddlePixelPoint:function(t,i){return new Point((t.x+i.x)/2*this.pageWidth,(t.y+i.y)/2*this.pageHeight)},leftBottom:function(){return this.points[0]},leftTop:function(){return this.points[3]},rightBottom:function(){return this.points[1]},rightTop:function(){return this.points[2]},getSubTextWidth:function(t){var i=0;if(t<=0)return 0;t>this.letterCount()&&(t=this.letterCount());for(var e=0;e<t;e++)i+=this.widthList[e];return i},getSubTextPixelLength:function(t){var i=0;if(t<=0)return 0;if(t>this.letterCount()&&(t=this.letterCount()),equals(this.line_width.cos(),0))i=this.line_width.distance*(t/this.letterCount())*this.line_width.sin();else for(var e=0;e<t;e++)i+=this.widthList[e]*this.pageWidth/this.line_width.cos();return i},getLettersRect:function(t,i){var e=Math.max(t,i);return t=this.getSubTextRect(Math.min(t,i)),e=this.getSubTextRect(e+1),(i=[])[0]=t[1],i[3]=t[2],i[1]=e[1],i[2]=e[2],i},getSubTextRect:function(t){var i=[],e=this.leftBottom(),o=this.leftTop(),s=this.getSubTextWidth(t),n=s*this.pageWidth,n=equals(this.line_width.cos(),0)?this.line_width.distance*(t/this.letterCount())/this.pageHeight*this.line_width.sin():n*this.line_width.tan()/this.pageHeight;return t=new Point(e.x+s,e.y+n),s=new Point(o.x+s,o.y+n),i[0]=e,i[1]=t,i[2]=s,i[3]=o,i},getIndexByPoint:function(t,i){var e=-1,o=(t=this.getPixelPoint(new Point(t,i)),this.getPixelPoint(this.leftBottom())),s=(i=this.getPixelPoint(this.rightBottom()),this.getPixelPoint(this.rightTop())),n=this.getPixelPoint(this.leftTop()),a=new LineABC(o,i);if(i=new LineABC(i,s),new LineABC(s,n),o=new LineABC(n,o),a=a.distanceFrom(t),s=i.distanceFrom(t),i=i.distanceFrom(t),t=o.distanceFrom(t),a<=this.line_height.distance&&s<=this.line_width.distance&&i<=this.line_height.distance&&t<=this.line_width.distance)for(i=0;i<this.letterCount();){if(this.getSubTextPixelLength(i+1)>=t){e=i;break}i++}return e},getIndexRangeByArea:function(t){var i=-1,e=-1,o=Math.min(t.left,t.right),s=Math.min(t.top,t.bottom),n=Math.max(t.left,t.right);t=Math.max(t.top,t.bottom);for(var a=0;a<this.letterCount();a++){var h=this.getLettersRect(a,a),r=(this.text.substr(a,1),this.getMinX(h)),g=this.getMinY(h),l=this.getMaxX(h),d=this.getMaxY(h),h=Math.min(g,d),c=Math.max(r,l),g=Math.max(g,d),r=Math.min(r,l)>n||c<o||t<h||g<s;-1==i?r||(e=i=a):r||(e=a)}return-1==i||-1==e?null:{begin:i,end:e}},isSelected:function(t){var i=Math.min(t.left,t.right),e=Math.min(t.top,t.bottom),o=Math.max(t.top,t.bottom);return!(this.box.left>Math.max(t.left,t.right)||this.box.right<i||this.box.top>o||this.box.bottom<e)},isContains:function(t){var i;return!!this.isSelected(t.box)&&(i=this.getOverlapArea(t.box),t=Math.min((i.right-i.left)/(t.box.right-t.box.left),(i.bottom-i.top)/(t.box.bottom-t.box.top)),Math.min((i.right-i.left)/(this.box.right-this.box.left),(i.bottom-i.top)/(this.box.bottom-this.box.top))<t)&&.8<t},getOverlapArea:function(t){return this.isSelected(t)?{left:Math.max(this.box.left,Math.min(t.left,t.right)),top:Math.max(this.box.top,Math.min(t.top,t.bottom)),right:Math.min(this.box.right,Math.max(t.left,t.right)),bottom:Math.min(this.box.bottom,Math.max(t.top,t.bottom))}:null},isSameAs:function(t){for(var i=0;i<4;i++)if(!this.points[i].equals(t.points[i]))return!1;return!0},relation:function(t){var i=new LineSegment(this.getMiddlePixelPoint(this.leftBottom(),this.rightTop()),t.getMiddlePixelPoint(t.leftBottom(),t.rightTop())),e=new LineSegment(this.getMiddlePixelPoint(this.leftBottom(),this.leftTop()),t.getMiddlePixelPoint(t.rightBottom(),t.rightTop())),o=new LineSegment(this.getMiddlePixelPoint(this.rightBottom(),this.rightTop()),t.getMiddlePixelPoint(t.leftBottom(),t.leftTop())),s=o,n=(e=(s=e.distance<o.distance?e:s).distance,o=this.line_width.distance/this.letterCount(),Math.max(this.line_height.distance,t.line_height.distance));if(equals(this.line_width.degree,0)&&equals(t.line_width.degree,0)&&Math.abs(this.leftBottom().y-t.leftBottom().y)>.8*n||2.5*o<=e)return SearchItemRelation.RETURN;if(this.isSelected(t.box)){if(equals(e,0))return SearchItemRelation.NEARBY;if(Math.abs(s.degree-i.degree)<5&&.3*o<=e)return SearchItemRelation.SPACE}else{if(.5*o<=e&&e<1.2*o)return 30<Math.abs(s.degree-i.degree)?SearchItemRelation.RETURN:SearchItemRelation.SPACE;if(1.2*o<=e&&e<2.5*o)return 15<Math.abs(s.degree-i.degree)?SearchItemRelation.RETURN:SearchItemRelation.DOUBLE_SPACE}return SearchItemRelation.NEARBY},isSeparate:function(t){return!equals(this.line_height.distance,t.line_height.distance)||!equals(this.box.bottom,t.box.bottom)}}),Class("SearchRtlTextItem",{getLettersRect:function(t,i){t=this._super(t,i),i=this.leftBottom().x;var e=this.rightBottom().x;return LanguageTool.isRightToLeft(this.text)?this.flipRect(t,i,e):t},flipRect:function(t,i,e){var o=i+e-t[1].x;return i=i+e-t[0].x,t[0].x=o,t[1].x=i,t[2].x=i,t[3].x=o,t}}).extend("SearchTextItem"),Class("SearchTextPart",{create:function(t){this.endIndex=this.beginIndex=-1,this.item=t},getRect:function(){return this.item.getLettersRect(this.beginIndex,this.endIndex)},getText:function(){return this.item.text.substring(this.beginIndex,this.endIndex+1)},getBox:function(){var t=this.getRect();return{left:this.item.getMinX(t),top:this.item.getMinY(t),right:this.item.getMaxX(t),bottom:this.item.getMaxY(t)}}}),Class("SearchTextResult",{create:function(){this.parts=[]},add:function(t){this.parts.push(t)},count:function(){return this.parts.length},getText:function(){for(var t,i="",e=0;e<this.count();e++)i+=this.parts[e].getText(),e<this.count()-1&&((t=this.parts[e].item.relation(this.parts[e+1].item))==SearchItemRelation.SPACE&&(i+=" "),t==SearchItemRelation.DOUBLE_SPACE&&(i+="  "),t==SearchItemRelation.RETURN)&&(i+="\r\n");return i},getBox:function(){for(var t={left:1e8,top:1e9,right:-1e8,bottom:-1e8},i=0;i<this.count();i++){var e=this.parts[i].getBox();t.left=Math.min(t.left,e.left),t.top=Math.min(t.top,e.top),t.right=Math.max(t.right,e.right),t.bottom=Math.max(t.bottom,e.bottom)}return t},getRects:function(){if(0==this.count())return[];for(var t=4,i=0,e=[],o=this.parts[0],s=0;s<this.count();s++){var n,a,h,r=this.parts[s];s<this.count()-1?(n=this.parts[s+1],a=r.item.relation(n.item),h=r.item.isSeparate(n.item),a==SearchItemRelation.NEARBY&&!h||(a=r,r=o.getRect(),a=a.getRect(),e[i]=(r[0].x<a[0].x?r:a)[0],e[i+1]=(a[1].x>r[1].x?a:r)[1],e[i+2]=(a[2].x>r[2].x?a:r)[2],e[i+3]=(r[3].x<a[3].x?r:a)[3],i=t,t+=4,o=n)):(a=r,r=o.getRect(),a=a.getRect(),e[i]=(r[0].x<a[0].x?r:a)[0],e[i+1]=(a[1].x>r[1].x?a:r)[1],e[i+2]=(a[2].x>r[2].x?a:r)[2],e[i+3]=(r[3].x<a[3].x?r:a)[3])}return e}}),Class("SearchTextList",{create:function(){this.textItems=[],this.continuousText=""},add:function(t){this.textItems.push(t),this.refreshContinuousText()},clear:function(){this.textItems=[],this.continuousText=""},itemCount:function(){return this.textItems.length},cleanOverlappedItems:function(){for(i=0;i<this.itemCount()-1;i++)for(var t=this.textItems[i],e=i+1;e<this.itemCount();){var o=this.textItems[e];if(t.isContains(o)){var s=t.getIndexRangeByArea(o.box);if(s){var n=t.text,a=o.text.trim(),h=n.substring(s.begin,s.end+1);if(h.trim().length){for(var r=0;r<h.length&&" "!=h.charAt(r);r++)s.begin+=1;for(r=h.length-1;0<=r&&" "!=h.charAt(r);r--)--s.end}s.end=Math.min(s.end,s.begin+a.length-1),h=n.substring(0,s.begin),s=n.substring(s.end+1,n.length),t.text=n=h+a+s,this.textItems.removeElement(o)}else e++}else e++}this.refreshContinuousText()},refreshContinuousText:function(){this.continuousText=this.getContinuousText()},getContinuousText:function(){for(var t="",i=0;i<this.itemCount();i++){var e=this.textItems[i];e.posIndex=t.length,t+=e.text.toLowerCase()}return t},search:function(t){var i=[];if(""==t.trim())return[];t=t.toLowerCase();for(var e=this.searchFrom(t,0,i);-1<e;)e=this.searchFrom(t,e,i);return i},searchFrom:function(t,i,e){var o=this.getTextForSearch(i);if(!o)return-1;var s=t.length;if(-1==(o=o.indexOf(t))){if(-1==t.indexOf(" ")||!this.match(t,i))return-1;for(o=t.split(" "),t=i,i=0;i<o.length;i++)(s=o[i])&&(t=this.searchFrom(s,t,e));return t}for(t=(o=i+o)+s-1,s=new SearchTextResult,i=0;i<this.itemCount();i++){var n=this.textItems[i],a=n.posIndex;if(!(n.posIndex+n.letterCount()-1<o)){if(t<a)break;var h=new SearchTextPart(n);h.beginIndex=Math.max(0,o-a),h.endIndex=Math.min(n.letterCount()-1,t-a),s.add(h)}}return e.push(s),t+1},match:function(t,i){var e=this.getTextForSearch(i);if(!e)return!1;t=t.split(" ");for(var o=0;o<t.length;o++){var s=t[o];if(s){if(-1==(e=e.indexOf(s)))return!1;e=this.getTextForSearch(i+e+s.length)}}return!0},getTextForSearch:function(t){var i=this.continuousText.length-t;return i<=0?"":this.continuousText.substr(t,i)},select:function(t,i){return i?this.selectByColumnMode(t):this.selectByLineMode(t)},selectByLineMode:function(t){for(var i=new SearchTextResult,e=-1,o=-1,s=0;s<this.itemCount();s++){var n=this.textItems[s];if(n.isSelected(t)){e=s;break}}for(s=this.itemCount()-1;0<=s;){if((n=this.textItems[s]).isSelected(t)){o=s;break}s--}if(-1<e&&-1<o)for(s=e;s<=o;s++){var n=this.textItems[s],a=new SearchTextPart(n);if(a.beginIndex=0,a.endIndex=n.letterCount()-1,s==e||s==o){if(!(n=n.getIndexRangeByArea(t)))continue;s==e&&(a.beginIndex=n.begin),s==o&&(a.endIndex=n.end)}i.add(a)}return i},selectByColumnMode:function(t){for(var i=new SearchTextResult,e=0;e<this.itemCount();e++){var o,s=this.textItems[e];s.isSelected(t)&&(o=new SearchTextPart(s),s=s.getIndexRangeByArea(t))&&(o.beginIndex=s.begin,o.endIndex=s.end,i.add(o))}return i}}),Class("SearchTextHighlight",{create:function(t,i,e){this.pageWidth=t,this.pageHeight=i,this.rightToLeft=e,this.searchTextList=new SearchTextList},loadFromPage:function(t){if(t&&0!=t.length){for(var i=0;i<t.length;i++){var e,o=t[i];o&&((e=new(this.rightToLeft?SearchRtlTextItem:SearchTextItem)).pageWidth=this.pageWidth,e.pageHeight=this.pageHeight,null!=o.word?this.loadFromOldConfig(e,o):this.loadFromNewConfig(e,o),e.refreshProperties(),this.searchTextList.add(e))}this.searchTextList.cleanOverlappedItems()}},loadFromOldConfig:function(t,i){t.setText(i.word),t.points[0]=new Point(i.left,i.top+i.height),t.points[1]=new Point(i.left+i.width,i.top+i.height),t.points[2]=new Point(i.left+i.width,i.top),t.points[3]=new Point(i.left,i.top)},loadFromNewConfig:function(t,i){t.setText(i.w),i=i.p||[];for(var e=0;e<4;e++)t.points[e]=new Point(i[2*e]||0,i[2*e+1]||0);if(!(i.length<=8)){for(e=8;e<i.length;e++)t.widthList[e-8]=i[e];this.rightToLeft&&t.widthList.reverse()}},searchText:function(t){return this.searchTextList.search(t)},selectText:function(t){return this.searchTextList.select(t)}}),Class("SearchHighlightDOM",{create:function(t){this.content=t,this.contentWidth=t.width(),this.contentHeight=t.height()},addHighlight:function(t){for(var i=[],e=0;e<t.length;e++)i[e]=new Point(t[e].x*this.contentWidth,t[e].y*this.contentHeight);var e=new LineSegment(i[0],i[1]),o=new LineSegment(i[0],i[3]),i=e.distance/this.contentWidth*100,o=o.distance/this.contentHeight*100,s=100*t[0].x,n=(t=100*t[0].y-o,e=e.degree,$("<div></div>"));n.css({position:"absolute",left:s+"%",top:t+"%",width:i+"%",height:o+"%","background-color":Color(bookConfig.searchHightlightColor).rgba(.6),transform:"rotate("+e+"deg)","-webkit-transform":"rotate("+e+"deg)","-ms-transform":"rotate("+e+"deg)","-o-transform":"rotate("+e+"deg)","-moz-transform":"rotate("+e+"deg)","transform-origin":"0% 0%","-webkit-transform-origin":"0% 100%","-ms-transform-origin":"0% 100%","-o-transform-origin":"0% 100%","-moz-transform-origin":"0% 100%"}),this.content.append(n)}}),Class("DynamicBackground",{statics:{create:function(t){var i=DynamicBackground.initAnimation(t),e=t.width,o=t.height;return function(){e==windowWidth&&o==windowHeight||(e=windowWidth,o=windowHeight,i.resize(e,o)),i.nextFrame()}.animation(),i},initAnimation:function(t){switch(t.name){case"PetalsDancing":return new PetalsDancingAnimation(t);case"Snow":return new SnowAnimation(t);case"SlowBubble":return new SlowBubbleAnimation(t);case"FastBubble":return new FastBubbleAnimation(t);case"LightRain":return new LightRainAnimation(t);case"HeavyRain":return new HeavyRainAnimation(t);case"Firefly":return new FireflyAnimation(t);case"SpaceShip":return new SpaceShipAnimation(t);case"SpaceTravel":return new SpaceTravelAnimation(t);case"Cloud":return new CloudAnimation(t);case"SunCloud":return new SunCloudAnimation(t);case"Meteor":return new MeteorAnimation(t);case"Sunshine":return new SunshineAnimation(t);case"Twinkle":return new TwinkleAnimation(t);case"FallenLeaves":return new FallenLeavesAnimation(t);case"Moon":return new MoonCloudAnimation(t);case"Balloon":return new BalloonCloudAnimation(t);case"AirBubble":return new SlowBubbleAnimation(t);case"BlinkStar":return new TwinkleAnimation(t);case"CloudsLeft02":case"CloudsLeft02":return new CloudAnimation(t);case"Leaves02":case"Leaves03":return new FallenLeavesAnimation(t);case"RainDrop":return new LightRainAnimation(t);case"Cloud3":return new BalloonCloudAnimation(t);default:return new EmptyAnimation(t)}},getImagePath:function(t){return global.mbBaseURL+t}}}),Class("BackgroundAnimation",{create:function(t){this.stage={body:t.stage,width:t.width,height:t.height},this.items=[],this.frameNumber=this.itemNumber=0,this.onCreated.delay(this,1)},onCreated:function(){this.resize(this.stage.width,this.stage.height)},resize:function(t,i){this.stage.width=t,this.stage.height=i,this.clear()},clear:function(){for(;0<this.items.length;){var t=this.items.pop();t&&t.destroy&&t.destroy()}this.items=[]},addItem:function(){this.items.length>=this.itemNumber||this.items.push(this.newItem())},getImagePath:function(t){return DynamicBackground.getImagePath(t)},itemCount:function(){return this.items.length},getItem:function(t){return this.items[t]},nextFrame:virtual_function,newItem:virtual_function}),Class("BackgroundItem",{create:function(t){this.parent=t,this.initBody(),this.initPositions()},initBody:function(){this.body=null,this.createBody(),this.parent.body.append(this.body)},getImagePath:function(t){return DynamicBackground.getImagePath(t)},createBody:virtual_function,initPositions:virtual_function,move:virtual_function,refresh:virtual_function,pointByStep:function(t,i,e,o,s){return s?i+Number.fixed((e-i)*t/o,s):i+Math.floor((e-i)*t/o)},destroy:function(){this.body&&(this.body.remove(),this.body=null)}}),Class("BackgroundItemPosition",{create:function(t,i,e,o){this.left=t||0,this.top=i||0,this.scale=e||1,this.rotate=o||0}}),Class("GoThroughAnimation",{create:function(t){this._super(t),this.count=0},nextFrame:function(){if(this.frameNumber&&this.itemNumber){this.itemNumber>this.frameNumber?this.addMultipleItems():this.addItemFewFrames();for(var t=0;t<this.items.length;t++)this.items[t].isActive()&&this.items[t].move()}},addMultipleItems:function(){for(var t=Math.floor(this.itemNumber/this.frameNumber),t=Math.max(t,1),i=0;i<t;i++)this.addItem()},addItemFewFrames:function(){var t=Math.floor(this.frameNumber/this.itemNumber),t=Math.max(t,1);++this.count==t&&(this.addItem(),this.count=0)},addItem:function(){for(var t=0;t<this.items.length;t++)if(this.items[t].isFree())return void this.items[t].active();this.itemCount()>=this.itemNumber||((t=this.newItem()).active(),this.items.push(t))},newItem:virtual_function}).extend("BackgroundAnimation"),Class("GoThroughItem",{create:function(t,i){this._super(t),this.frameNumber=i||1,this.step=0,this.moving=!1},createBody:virtual_function,initPositions:virtual_function,refresh:virtual_function,move:function(){this.step++,this.step==this.frameNumber&&this.sleep(),this.refresh()},isActive:function(){return 1==this.moving},isFree:function(){return 0==this.moving},sleep:function(){this.moving=!1},active:function(){this.step=1,this.moving=!0,this.initPositions(),this.refresh()}}).extend("BackgroundItem"),Class("AlwaysExistsAnimation",{create:function(t){this._super(t)},addItems:function(){for(var t=0;t<this.itemNumber;t++)this.addItem()},nextFrame:function(){for(var t=0;t<this.items.length;t++)this.items[t].move()},resize:function(t,i){this._super(t,i),this.addItems()},newItem:virtual_function}).extend("BackgroundAnimation"),Class("AlwaysExistsItem",{create:function(t,i){this._super(t),this.frameNumber=i||1,this.step=1},createBody:virtual_function,initPositions:virtual_function,refresh:virtual_function,move:function(){this.step++,this.step==this.frameNumber&&(this.step=1,this.resetTarget()),this.refresh()},resetTarget:function(){}}).extend("BackgroundItem"),Class("PetalsDancingAnimation",{create:function(t){this._super(t),this.frameNumber=this.itemNumber=200},newItem:function(){return new PetalsDancingItem(this.stage,this.frameNumber)}}).extend("GoThroughAnimation"),Class("PetalsDancingItem",{create:function(t,i){this._super(t,i)},createBody:function(){this.body=$("<img style='left:0px;top:0px;width:30px;height:28px;position:absolute;z-index:1'></img>"),this.body.attr("src",this.getImagePath("petal.png"))},initPositions:function(){var t=1.2*this.parent.width,i=1.2*this.parent.height,e=Math.floor(Math.sqrt(t*t+i*i)),t=.1*-this.parent.width,i=Number.random(.1*-this.parent.height,Math.floor(.9*this.parent.height),0),o=Number.random(10,20,1),s=Math.PI/180*o,o=Math.floor(t+e*Math.cos(s)),e=Math.floor(i+e*Math.sin(s)),n=(s=Number.fixed(.2+i/this.parent.height,1))-.2,a=Number.random(0,360,1),h=Number.random(0,360,1);this.start=new BackgroundItemPosition(t,i,s,a),this.end=new BackgroundItemPosition(o,e,n,h)},refresh:function(){var t=Math.floor($.easing.swing(null,this.step,this.start.left,this.end.left-this.start.left,this.frameNumber)),i=Math.floor($.easing.swing(null,this.step,this.start.top,this.end.top-this.start.top,this.frameNumber)),e=$.easing.swing(null,this.step,this.start.scale,this.end.scale-this.start.scale,this.frameNumber),o=$.easing.swing(null,this.step,this.start.rotate,this.end.rotate-this.start.rotate,this.frameNumber),t=transformCSS({tran:{x:t,y:i},scale:e,rotate:o});this.body.css(t)}}).extend("GoThroughItem"),Class("SlowBubbleAnimation",{create:function(t){this._super(t),this.itemNumber=50,this.frameNumber=200},newItem:function(){return new SlowBubbleItem(this.stage,this.frameNumber)}}).extend("GoThroughAnimation"),Class("SlowBubbleItem",{create:function(t,i){this._super(t,i)},createBody:function(){this.body=$("<img style='left:0px;top:0px;width:50px;height:50px;position:absolute;z-index:1'></img>"),this.body.attr("src",this.getImagePath("bubble.png"))},initPositions:function(){var t=Number.random(.3,.7),i=Number.random(20,this.parent.width-20);this.start=new BackgroundItemPosition(i,Math.floor(this.parent.height-50*t),t),this.end=new BackgroundItemPosition(i,-40,t)},refresh:function(){var t=$.easing.easeInSine(null,this.step,this.start.left,this.end.left-this.start.left,this.frameNumber),i=$.easing.easeInQuad(null,this.step,this.start.top,this.end.top-this.start.top,this.frameNumber),e=$.easing.easeOutQuint(null,this.step,0,this.start.scale,this.frameNumber),t=transformCSS({tran:{x:t,y:i},scale:e,origin:{x:50,y:100}});this.body.css(t)}}).extend("GoThroughItem"),Class("FastBubbleAnimation",{create:function(t){this._super(t),this.itemNumber=80,this.frameNumber=40,this.popupPoints=[],this.popupPoints.push(.1*t.width),this.popupPoints.push(.9*t.width)},resize:function(t,i){this.popupPoints[0]=.1*t,this.popupPoints[1]=.9*t,this._super(t,i)},newItem:function(){return new FastBubbleItem(this.stage,this.frameNumber,this.popupPoints)}}).extend("GoThroughAnimation"),Class("FastBubbleItem",{create:function(t,i,e){this.points=e,this._super(t,i)},createBody:function(){this.body=$("<img style='left:0px;top:0px;width:50px;height:50px;position:absolute;z-index:1'></img>"),this.body.attr("src",this.getImagePath("blue_bubble.png"))},initPositions:function(){var t=Number.random(.2,.35,2),i=this.points[Number.random(.1,1.9,0)],e=Math.floor(this.parent.height-50*t),o=Math.floor(i+Number.random(-30,30));this.start=new BackgroundItemPosition(i,e,t),this.end=new BackgroundItemPosition(o,-40,t)},refresh:function(){var t=$.easing.easeOutQuint(null,this.step,this.start.left,this.end.left-this.start.left,this.frameNumber),i=$.easing.easeInQuad(null,this.step,this.start.top,this.end.top-this.start.top,this.frameNumber),e=$.easing.easeOutQuint(null,this.step,0,this.start.scale,this.frameNumber),t=transformCSS({tran:{x:t,y:i},scale:e,origin:{x:50,y:100}});this.body.css(t)}}).extend("GoThroughItem"),Class("LightRainAnimation",{create:function(t){this._super(t),this.itemNumber=240,this.frameNumber=30},newItem:function(){return new LightRainItem(this.stage,this.frameNumber)}}).extend("GoThroughAnimation"),Class("LightRainItem",{create:function(t,i){this._super(t,i)},createBody:function(){this.body=$("<img style='left:0px;top:0px;width:15px;height:24px;position:absolute;z-index:1'></img>"),this.body.attr("src",this.getImagePath("raindrop.png"))},initPositions:function(){var t=Number.random(0,this.parent.width),i=Math.floor(this.parent.height+10);this.start=new BackgroundItemPosition(t,-50),this.end=new BackgroundItemPosition(t,i)},refresh:function(){var t=Math.floor($.easing.easeInSine(null,this.step,this.start.left,this.end.left-this.start.left,this.frameNumber)),i=Math.floor($.easing.easeInSine(null,this.step,this.start.top,this.end.top-this.start.top,this.frameNumber)),t=transformCSS({tran:{x:t,y:i}});this.body.css(t)}}).extend("GoThroughItem"),Class("HeavyRainAnimation",{create:function(t){this._super(t),this.itemNumber=160,this.frameNumber=20},newItem:function(){return new HeavyRainItem(this.stage,this.frameNumber)}}).extend("AlwaysExistsAnimation"),Class("HeavyRainItem",{create:function(t,i){this.angle=15,this.radian=this.angle*Math.PI/180,this._super(t,i)},createBody:function(){this.body=$("<div style='left:0px;top:0px;width:2px;height:10px;position:absolute;z-index:1'></div>"),this.body.css({border:"0px solid gray",height:Math.floor(this.parent.height/Math.cos(this.radian))+"px","background-color":"rgba(225,225,225, 0.06)"})},initPositions:function(){var t=Number.random(0,this.parent.width+Math.floor(this.parent.height*Math.tan(this.radian)));this.start=new BackgroundItemPosition(t,0)},refresh:function(){var t=Number.random(0,this.parent.width+Math.floor(this.parent.height*Math.tan(this.radian))),t=transformCSS({tran:{x:t,y:0},origin:{x:0,y:0},rotate:this.angle});this.body.css(t)}}).extend("AlwaysExistsItem"),Class("SpaceShipAnimation",{create:function(t){this._super(t),this.itemNumber=500,this.frameNumber=30},newItem:function(){return new SpaceShipItem(this.stage,this.frameNumber)}}).extend("AlwaysExistsAnimation"),Class("SpaceShipItem",{create:function(t,i){this._super(t,i)},createBody:function(){this.body=$("<img style='left:0px;top:0px;width:50px;height:50px;position:absolute;z-index:1'></img>"),this.body.attr("src",this.getImagePath("star.png"))},initPositions:function(){this.orbitRadius=Number.random(0,this.maxOrbit(this.parent.width,this.parent.height)),this.radius=Number.random(90,this.orbitRadius)/20,this.orbitX=this.parent.width/2,this.orbitY=this.parent.height/2,this.angle=Number.random(0,360),this.speed=Number.random(0,this.orbitRadius/4)/this.orbitRadius,this.body.css({width:this.radius+"px",height:this.radius+"px",opacity:.8})},maxOrbit:function(t,i){return t=Math.max(t,i),Math.round(Math.sqrt(t*t+t*t))/2},move:function(){this.angle+=this.speed,this.refresh()},refresh:function(){var t=this.angle/180*Math.PI,t=transformCSS({tran:{x:Math.sin(t)*this.orbitRadius+this.orbitX-this.radius/2,y:Math.cos(t)*this.orbitRadius+this.orbitY-this.radius/2}});this.body.css(t)}}).extend("AlwaysExistsItem"),Class("SpaceTravelAnimation",{create:function(t){this._super(t),this.frameNumber=this.itemNumber=300},nextFrame:function(){if(this.frameNumber&&this.itemNumber){for(var t=0;t<2;t++)this.addItem();for(t=0;t<this.items.length;t++)this.items[t].isActive()&&this.items[t].move()}},newItem:function(){return new SpaceTravelItem(this.stage,this.frameNumber)}}).extend("GoThroughAnimation"),Class("SpaceTravelItem",{create:function(t,i){this._super(t,i)},createBody:function(){this.body=$("<img style='left:0px;top:0px;width:50px;height:50px;position:absolute;z-index:1;opacity:0.8'></img>"),this.body.attr("src",this.getImagePath("star.png"))},initPositions:function(){var t=this.maxOrbit(this.parent.width,this.parent.height),i=Math.floor(.7*t),e=Number.random(0,i),e=$.easing.easeInQuad(null,e,20,i-20,i),i=(fScale=1-.8*e/i,fSpeed=5-4*e/i,this.realFrameNumber=Math.floor(this.frameNumber/fSpeed),Number.random(0,360)/180*Math.PI),o=this.parent.width/2,s=this.parent.height/2,n=Math.sin(i)*t+o,t=Math.cos(i)*t+s;this.start=new BackgroundItemPosition(Math.sin(i)*e+o,Math.cos(i)*e+s,.1),this.end=new BackgroundItemPosition(n,t,fScale)},maxOrbit:function(t,i){return t=Math.max(t,i),Math.round(Math.sqrt(t*t+t*t))/2},move:function(){this.step++,this.step==this.realFrameNumber&&this.sleep(),this.refresh()},refresh:function(){var t=Math.floor($.easing.easeInSine(null,this.step,this.start.left,this.end.left-this.start.left,this.realFrameNumber)),i=Math.floor($.easing.easeInSine(null,this.step,this.start.top,this.end.top-this.start.top,this.realFrameNumber)),e=$.easing.easeInSine(null,this.step,this.start.scale,this.end.scale-this.start.scale,this.realFrameNumber),t=transformCSS({tran:{x:t,y:i},scale:e});this.body.css(t)}}).extend("GoThroughItem"),Class("MeteorAnimation",{create:function(t){this._super(t),this.itemNumber=3,this.frameNumber=120},newItem:function(){return new MeteorItem(this.stage,this.frameNumber)}}).extend("GoThroughAnimation"),Class("MeteorItem",{create:function(t,i){this._super(t,i)},createBody:function(){this.body=$("<img style='left:0px;top:-100px;width:2px;height:88px;position:absolute;z-index:1'></img>"),this.body.attr("src",this.getImagePath("meteor.png"))},initPositions:function(){var t=Number.random(.5*this.parent.width,1.5*this.parent.width,0),i=Math.PI/180*65,e=Math.floor(this.parent.height+88*Math.cos(i)),i=Math.floor(t-e*Math.tan(i)),o=Number.random(.7,1.5,1);this.start=new BackgroundItemPosition(t,0,o,65),this.end=new BackgroundItemPosition(i,e,o,65)},refresh:function(){var t,i,e=Math.floor(this.frameNumber);this.step>e||(t=Math.floor($.easing.easeInSine(null,this.step,this.start.left,this.end.left-this.start.left,e)),i=Math.floor($.easing.easeInSine(null,this.step,this.start.top,this.end.top-this.start.top,e)),$.easing.easeInSine(null,this.step,1,-1,e),e=transformCSS({origin:{x:0,y:0},tran:{x:t,y:i},rotate:this.start.rotate,scale:this.start.scale}),this.body.css(e))}}).extend("GoThroughItem"),Class("SunshineAnimation",{create:function(t){this._super(t),this.createSun(),this.createSunBorder(),this.itemNumber=40,this.frameNumber=10},createSun:function(){this.sun=$("<div></div>"),this.sun.css({position:"absolute","z-index":2,width:"4px",height:"4px","border-radius":"2px","background-color":"rgba(255,255,255, 0.9)",left:"-4px",top:"-4px","box-shadow":"0px 0px 50px 130px rgba(255,255,255, 0.9)","-o-box-shadow":"0px 0px 50px 130px rgba(255,255,255, 0.9)","-ms-box-shadow":"0px 0px 50px 130px rgba(255,255,255, 0.9)","-moz-box-shadow":"0px 0px 50px 130px rgba(255,255,255, 0.9)","-webkit-box-shadow":"0px 0px 50px 130px rgba(255,255,255, 0.9)",opacity:1}),this.stage.body.append(this.sun)},createSunBorder:function(){this.sunBorder=$("<div></div>"),this.sunBorder.css({position:"absolute","z-index":1,width:"4px",height:"4px","border-radius":"2px","background-color":"rgba(255,255,255, 0.2)",left:"-4px",top:"-4px","box-shadow":"0px 0px 200px 500px rgba(255,255,255, 0.2)","-o-box-shadow":"0px 0px 200px 500px rgba(255,255,255, 0.2)","-ms-box-shadow":"0px 0px 200px 500px rgba(255,255,255, 0.2)","-moz-box-shadow":"0px 0px 200px 500px rgba(255,255,255, 0.2)","-webkit-box-shadow":"0px 0px 200px 500px rgba(255,255,255, 0.2)",opacity:1}),this.stage.body.append(this.sunBorder)},newItem:function(){var t=this.itemCount()<this.itemNumber/2?1:-1;return new SunshineHaloItem(this.stage,this.frameNumber,t)}}).extend("AlwaysExistsAnimation"),Class("SunshineHaloItem",{create:function(t,i,e){this.direction=e,this._super(t,i)},createBody:function(){this.body=$("<div style='left:0px;top:0px;width:0px;height:5px;position:absolute;z-index:2'></div>"),this.body.css({"border-left":"0px solid rgba(0,0,0,0)","border-right":Math.floor(Math.sqrt(this.parent.width*this.parent.width+this.parent.height*this.parent.height))+"px solid rgba(255,255,255,0.01)","border-top":"25px solid rgba(0,0,0,0)","border-bottom":"25px solid rgba(0,0,0,0)","transform-origin":"0% 0%"})},initPositions:function(){this.rotate=Number.random(0,90)},move:function(){this.rotate+=this.direction/this.frameNumber,this.rotate<0&&(this.rotate+=90),this.rotate%=90,this.refresh()},refresh:function(){var t=this.rotate,i=Math.PI/180*t,t=transformCSS({tran:{x:Math.floor(120*Math.cos(i)),y:Math.floor(120*Math.sin(i))-20},rotate:t});this.body.css(t)}}).extend("AlwaysExistsItem"),Class("CloudAnimation",{create:function(t){this._super(t),this.itemNumber=10,this.frameNumber=1e3},resize:function(t,i){for(this._super(t,i),t=0;t<this.itemNumber;t++)this.addItem();for(t=0;t<this.itemCount();t++){i=this.getItem(t);var e=this.frameNumber-Math.floor((t+1)*this.frameNumber/this.itemNumber);i.active(),i.step=e,i.refresh()}},newItem:function(){return new CloudItem(this.stage,this.frameNumber,this.itemCount()%5)}}).extend("GoThroughAnimation"),Class("CloudItem",{create:function(t,i,e){this.cloudType=e,this.initCloudResources(),this._super(t,i)},initCloudResources:function(){this.cloudResources=[],this.cloudResources.push({src:"cloud5.png",width:300,height:147,top:.3}),this.cloudResources.push({src:"cloud4.png",width:300,height:112,top:.5}),this.cloudResources.push({src:"cloud2.png",width:300,height:211,top:.1}),this.cloudResources.push({src:"cloud3.png",width:300,height:208,top:.2}),this.cloudResources.push({src:"cloud1.png",width:300,height:177,top:0})},createBody:function(){this.body=$("<img style='left:0px;top:0px;position:absolute;z-index:1'></img>");var t=this.cloudResources[this.cloudType],i={width:t.width+"px",height:t.height+"px"};this.body.attr("src",this.getImagePath(t.src)),this.body.css(i),this.top=t.top,this.width=t.width,this.height=t.height},initPositions:function(){var t=this.parent.width+100,i=Math.floor(this.parent.height*this.top),e=-this.width;Number.random(0,360),Number.random(-90,90),this.start=new BackgroundItemPosition(t,i),this.end=new BackgroundItemPosition(e,i)},refresh:function(){var t=this.pointByStep(this.step,this.start.left,this.end.left,this.frameNumber),i=this.pointByStep(this.step,this.start.top,this.end.top,this.frameNumber),t=transformCSS({tran:{x:t,y:i},scale:this.start.scale});this.body.css(t)}}).extend("GoThroughItem"),Class("SunCloudAnimation",{create:function(t){this.sun=new SunshineAnimation(t),this.cloud=new CloudAnimation(t)},resize:function(t,i){this.sun.resize(t,i),this.cloud.resize(t,i)},nextFrame:function(){this.sun.nextFrame(),this.cloud.nextFrame()}}),Class("SnowAnimation",{create:function(t){this._super(t),this.itemNumber=200,this.frameNumber=400},resize:function(t,i){for(this._super(t,i),t=0;t<this.itemNumber;t++)this.addItem();for(t=0;t<this.itemCount();t++){i=this.getItem(t);var e=Number.random(0,this.frameNumber);i.active(),i.step=e,i.refresh()}},newItem:function(){return new SnowItem(this.stage,this.frameNumber)}}).extend("GoThroughAnimation"),Class("SnowItem",{create:function(t,i){this._super(t,i)},createBody:function(){this.body=$("<img style='left:0px;top:0px;width:22px;height:22px;position:absolute;z-index:1'></img>"),this.body.attr("src",this.getImagePath("snow.png"))},initPositions:function(){var t=1.2*this.parent.height,i=Number.random(0,this.parent.width),e=Math.floor(.1*-this.parent.height),o=Number.random(80,100,1),s=Math.PI/180*o,o=Math.floor(i+t*Math.cos(s)),t=Math.floor(e+t*Math.sin(s)),s=Number.random(.3,1.5);this.start=new BackgroundItemPosition(i,e,s),this.end=new BackgroundItemPosition(o,t,s)},refresh:function(){var t=this.pointByStep(this.step,this.start.left,this.end.left,this.frameNumber),i=this.pointByStep(this.step,this.start.top,this.end.top,this.frameNumber),t=transformCSS({tran:{x:t,y:i},scale:this.start.scale});this.body.css(t)}}).extend("GoThroughItem"),Class("FireflyAnimation",{create:function(t){this._super(t),this.itemNumber=50,this.frameNumber=300},newItem:function(){return new FireflyItem(this.stage,this.frameNumber)}}).extend("AlwaysExistsAnimation"),Class("FireflyItem",{create:function(t,i){this._super(t,i)},createBody:function(){this.body=$("<img style='left:0px;top:0px;width:30px;height:30px;position:absolute;z-index:1'></img>"),this.body.attr("src",this.getImagePath("firefly.png"))},initPositions:function(){var t=Number.random(0,this.parent.width),i=Number.random(this.parent.height/3,this.parent.height),e=Number.random(.3,1,1);this.start=new BackgroundItemPosition(t,i,e),this.end=null,this.resetTarget()},resetTarget:function(){this.end&&(this.start=this.end,this.end=null);var t=Number.random(0,35),i=Math.PI/180*t,t=this.start.left+[-1,1][Number.random(.1,1.9,0)]*Math.floor(80*Math.cos(i)),i=(t=Number.between(t,-20,this.parentWidth+20),i=this.start.top+[-1,1][Number.random(.1,1.9,0)]*Math.floor(80*Math.sin(i)),Number.between(i,-20,this.parent.height+20)),e=Number.random(.3,1,1);this.end=new BackgroundItemPosition(t,i,e)},refresh:function(){var t=this.pointByStep(this.step,this.start.left,this.end.left,this.frameNumber),i=this.pointByStep(this.step,this.start.top,this.end.top,this.frameNumber),e=$.easing.swing(null,this.step,this.start.scale,this.end.scale-this.start.scale,this.frameNumber),t=transformCSS({tran:{x:t,y:i},scale:e});this.body.css(t)}}).extend("AlwaysExistsItem"),Class("FallenLeavesAnimation",{create:function(t){this._super(t),this.itemNumber=25,this.frameNumber=300},newItem:function(){return new FallenLeavesItem(this.stage,this.frameNumber)}}).extend("GoThroughAnimation"),Class("FallenLeavesItem",{create:function(t,i){this.initLeafResources(),this._super(t,i)},initLeafResources:function(){this.leafResources=[],this.leafResources.push({src:"leaves1.png",width:99,height:59}),this.leafResources.push({src:"leaves2.png",width:100,height:88}),this.leafResources.push({src:"leaves3.png",width:100,height:60}),this.leafResources.push({src:"leaves4.png",width:100,height:87}),this.leafResources.push({src:"leaves5.png",width:100,height:87}),this.leafResources.push({src:"leaves6.png",width:100,height:57})},createBody:function(){this.body=$("<img style='left:0px;top:0px;position:absolute;z-index:1'></img>");var t=this.leafResources[Number.random(.1,5.9,0)],i={width:t.width+"px",height:t.height+"px"};this.body.attr("src",this.getImagePath(t.src)),this.body.css(i)},initPositions:function(){var t=1.2*this.parent.height,i=Number.random(0,this.parent.width),e=Math.floor(.1*-this.parent.height),o=Number.random(80,100,1),s=Math.PI/180*o,o=Math.floor(i+t*Math.cos(s)),t=Math.floor(e+t*Math.sin(s)),s=Number.random(.4,.8,1),n=Number.random(0,360),a=n+Number.random(-90,90);this.start=new BackgroundItemPosition(i,e,s,n),this.end=new BackgroundItemPosition(o,t,s,a)},refresh:function(){var t=$.easing.easeInSine(null,this.step,this.start.left,this.end.left-this.start.left,this.frameNumber),i=$.easing.easeInSine(null,this.step,this.start.top,this.end.top-this.start.top,this.frameNumber),e=$.easing.easeInSine(null,this.step,this.start.rotate,this.end.rotate-this.start.rotate,this.frameNumber),t=transformCSS({tran:{x:t,y:i},scale:this.start.scale,rotate:e});this.body.css(t)}}).extend("GoThroughItem"),Class("TwinkleAnimation",{create:function(t){this._super(t),this.itemNumber=8,this.frameNumber=100},newItem:function(){return new TwinkleItem(this.stage,this.frameNumber)}}).extend("GoThroughAnimation"),Class("TwinkleItem",{create:function(t,i){this._super(t,i)},createBody:function(){this.body=$("<img style='left:0px;top:0px;width:26px;height:26px;position:absolute;z-index:1'></img>"),this.body.attr("src",this.getImagePath("twinkle.png"))},initPositions:function(){var t=Number.random(0,this.parent.width),i=Number.random(0,this.parent.height),e=Number.random(0,360),o=e+360;this.start=new BackgroundItemPosition(t,i,1,e),this.end=new BackgroundItemPosition(t,i,1,o)},refresh:function(){var t=this.start.left,i=this.start.top,e=this.pointByStep(this.step,this.start.rotate,this.end.rotate,this.frameNumber,1),o=this.step,s=this.frameNumber/2,o=o<s?this.pointByStep(o,0,1,s,1):this.pointByStep(o-s,1,0,s,1),t=transformCSS({tran:{x:t,y:i},scale:o,rotate:e});this.body.css(t)}}).extend("GoThroughItem"),Class("MoonCloudAnimation",{create:function(t){this._super(t),this.itemNumber=9,this.frameNumber=1800,this.createMoon()},createMoon:function(){this.moon=$("<img></img>"),this.moon.attr("src",this.getImagePath("moon.png")),this.moon.css({position:"absolute",right:"2%",top:"2%"}),this.stage.body.append(this.moon)},resize:function(t,i){for(this._super(t,i),t=0;t<this.itemNumber;t++)this.addItem();for(t=0;t<this.itemCount();t++){i=this.getItem(t);var e=this.frameNumber-Math.floor((t+1)*this.frameNumber/this.itemNumber);i.active(),i.step=e,i.refresh()}},newItem:function(){return new MoonCloudItem(this.stage,this.frameNumber,this.itemCount()%3)}}).extend("GoThroughAnimation"),Class("MoonCloudItem",{create:function(t,i,e){this.initCloudResources(),this.cloudType=e,this._super(t,i)},initCloudResources:function(){this.cloudResources=[],this.cloudResources.push({src:"moon_cloud_one.png",width:960,height:480,top:.05,opacity:.5}),this.cloudResources.push({src:"moon_cloud_two.png",width:960,height:480,top:.05,opacity:.2}),this.cloudResources.push({src:"moon_cloud_three.png",width:960,height:480,top:.05,opacity:.5})},createBody:function(){this.body=$("<img style='left:0px;top:0px;position:absolute;z-index:1'></img>");var t=this.cloudResources[this.cloudType],i={width:t.width+"px",height:t.height+"px",opacity:t.opacity};this.body.attr("src",this.getImagePath(t.src)),this.body.css(i),this.top=t.top,this.width=t.width,this.height=t.height},initPositions:function(){var t=this.parent.width,i=Math.floor(this.parent.height*this.top),e=-this.width;Number.random(0,360),Number.random(-90,90),this.speed=Number.random(1,2,1),this.realFrameNumber=Math.floor(this.frameNumber/this.speed),this.start=new BackgroundItemPosition(t,i),this.end=new BackgroundItemPosition(e,i)},refresh:function(){var t,i;this.step>this.realFrameNumber||(i=this.pointByStep(this.step,this.start.left,this.end.left,this.realFrameNumber),t=this.pointByStep(this.step,this.start.top,this.end.top,this.realFrameNumber),i=transformCSS({tran:{x:i,y:t},scale:this.start.scale}),this.body.css(i))}}).extend("GoThroughItem"),Class("BalloonCloudAnimation",{create:function(t){this.balloon=new BalloonAnimation(t),this.cloud=new BottomCloudAnimation(t)},resize:function(t,i){this.balloon.resize(t,i),this.cloud.resize(t,i)},nextFrame:function(){this.balloon.nextFrame(),this.cloud.nextFrame()}}),Class("BalloonAnimation",{create:function(t){this._super(t),this.itemNumber=2,this.frameNumber=600},newItem:function(){return new BalloonItem(this.stage,this.frameNumber,this.itemCount())}}).extend("AlwaysExistsAnimation"),Class("BalloonItem",{create:function(t,i,e){this.index=e,this._super(t,i)},createBody:function(){this.body=$("<img style='left:0px;top:0px;width:150px;height:150px;position:absolute;z-index:1'></img>"),this.body.attr("src",this.getImagePath("air_balloon.png"))},initPositions:function(){var t=this.parent.width/1e3,i=Math.floor(125*t),e=Math.floor(140*t),t=0==this.index?Number.random(20,100):this.parent.width-200-Number.random(20,100),e=this.parent.height-i-e,o=Number.random(30,70),s=e+o;this.start=new BackgroundItemPosition(t,e-o),this.end=new BackgroundItemPosition(t,s),this.body.css({width:i+"px",height:i+"px"})},refresh:function(){var t,i=this.frameNumber/2,e=this.step;i=e<=i?(t=this.pointByStep(e,this.start.left,this.end.left,i),this.pointByStep(e,this.start.top,this.end.top,i)):(t=this.pointByStep(e-=i,this.end.left,this.start.left,i),this.pointByStep(e,this.end.top,this.start.top,i)),t=transformCSS({tran:{x:t,y:i},origin:{x:0,y:0}}),this.body.css(t)}}).extend("AlwaysExistsItem"),Class("BottomCloudAnimation",{create:function(t){this._super(t),this.itemNumber=2,this.frameNumber=1e3},newItem:function(){return new BottomCloudItem(this.stage,this.frameNumber,this.itemCount())}}).extend("AlwaysExistsAnimation"),Class("BottomCloudItem",{create:function(t,i,e){this.index=e,this._super(t,i)},createBody:function(){this.body=$("<img style='left:0px;top:0px;width:256px;height:256px;position:absolute;z-index:2'></img>"),this.body.attr("src",this.getImagePath("bg-clouds.png"))},initPositions:function(){var t=this.parent.width,i=188*this.parent.width/988,e=this.index*this.parent.width,o=this.parent.height-i,s=e-this.parent.width;this.start=new BackgroundItemPosition(e,o),this.end=new BackgroundItemPosition(s,o),this.body.css({width:t+"px",height:i+"px"})},refresh:function(){iX=this.pointByStep(this.step,this.start.left,this.end.left,this.frameNumber),iY=this.pointByStep(this.step,this.start.top,this.end.top,this.frameNumber);var t=transformCSS({tran:{x:iX,y:iY},origin:{x:0,y:0}});this.body.css(t)}}).extend("AlwaysExistsItem"),Class("EmptyAnimation",{create:function(t){},addItem:function(){},clear:function(){},resize:function(t,i){},nextFrame:function(){},newItem:function(){}}).extend("BackgroundAnimation"),grayBackground.prototype.onResize=function(t,i){this.sw=t,this.sh=i,this.background.css({width:t+"px",height:i+"px"})},bdor[25]="i",grayBackground.prototype.setPosition=function(t,i,e){this.background.css((e=null==e?["left","top"]:e)[0],t+"px"),this.background.css(e[1],i+"px")},grayBackground.prototype.show=function(){this.father.append(this.background)},grayBackground.prototype.hide=function(){this.background.remove()},grayBackground.prototype.setZindex=function(t){this.background.css({"z-index":t})},grayBackground.prototype.onMouseUp=function(i,e){$(this.background).bind(_event._down,function(t){e.call(i)})};var textWidth=function(t,i){return t=$("<pre>"+t+"</pre>").css({color:bookConfig.iconColor,display:"none","font-size":i.size,"font-family":i.fontName}),$("body").append(t),i=Point(t.width(),t.height()),t.remove(),i};function label(t,i){this.labelBox=$('<div style = "position : absolute;font-family:Tahoma,Georgia,Serif;font-size:12px">'+t+"</div>"),"null"!=t&&""!=t&&(this.caption=t,this.fontSize="12px",this.fontColor="#f0f0f0",this.fontName="Tahoma",t=textWidth(t,{size:this.fontSize,fontName:this.fontName}),this.width=t.x,this.height=t.y,i.append(this.labelBox))}function initProgressBar(t,i){this.width=60,this.height=30,this.progress=new label("Loading",t),this.caption=this.originCaption=i,this.captionLength=this.caption.length,this.progress.setCSS({display:"none"})}label.prototype.getWidth=function(){return this.width},bdor[27]="f",label.prototype.getHeight=function(){return this.height},label.prototype.getCaption=function(){return this.caption},label.prototype.setCaption=function(t){this.caption=t,this.labelBox[0].innerHTML=t,t=textWidth(t,{size:this.fontSize,fontName:this.fontName}),this.width=t.x,this.height=t.y},label.prototype.setLabelPosition=function(t,i,e){this.labelBox.css((e=null==e?["left","top"]:e)[0],t+"px"),this.labelBox.css(e[1],i+"px")},label.prototype.onResize=function(t,i){this.width=t,this.height=i,this.labelBox.css({width:t+"px",height:i+"px"})},label.prototype.setFont=function(t,i,e){null==t?t=this.fontSize:this.fontSize=t,null==i?i=this.fontColor:this.fontColor=i,null==e?e=this.fontName:this.fontName=e,this.labelBox.css({"font-size":t,color:i,"font-family":e}),t=textWidth(this.caption,{size:t,fontName:e}),this.width=t.x,this.height=t.y},label.prototype.setFontSize=function(t){null==t?t=this.fontSize:this.fontSize=t,this.labelBox.css({"font-size":t}),t=textWidth(this.caption,{size:t,fontName:this.fontName}),this.width=t.x,this.height=t.y},label.prototype.riseAWord=function(t){var i=this.caption;-1==i.indexOf(t)&&(t=t.toLowerCase()),-1!=i.indexOf(t)&&(newCaption=i.replaceAll(t,"<font color=red><strong>"+t+"</strong></font>"),this.labelBox[0].innerHTML=newCaption)},label.prototype.shortWord=function(t){this.caption.length>t&&(this.caption=this.caption.substring(0,t)+"..",this.setCaption(this.caption))},label.prototype.setCSS=function(t){this.labelBox.css(t)},label.prototype.setClass=function(t){this.labelBox.attr("class",t)},initProgressBar.prototype.setPosition=function(t,i){this.progress.setLabelPosition((t-this.width)/2,(i-this.height)/2)},initProgressBar.prototype.addTimer=function(){var t=this;this.timerId=window.setInterval(function(){t.caption+=".",t.caption.length>t.captionLength+3&&(t.caption=originCaption),t.progress.setCaption(t.caption)},600)},initProgressBar.prototype.removeTimer=function(){window.clearInterval(this.timerId)},initProgressBar.prototype.show=function(){this.progress.setCSS({display:"block"}),this.caption=this.originCaption,this.addTimer()},initProgressBar.prototype.hide=function(){this.progress.setCSS({display:"none"}),this.removeTimer()},initProgressBar.prototype.setIndex=function(t){this.progress.setCSS({"z-index":t})};var TableOfContentElements=Class({create:function(t){this._super(t),this.callBack=t,this.tableItems=[],this.checkConfig(),this.initElements(),this.initEvent(t),this.pickElements(t)},checkConfig:function(){function o(t){if(t&&t.children&&0!=t.children.length)for(var i=t.children.length,e=0;e<i;e++)t.children[e].level=parseInt(t.children[e].level)+1,o(t.children[e])}for(var t=ols.length,i=0;i<t;i++)0==parseInt(ols[i].level)&&(ols[i].level=parseInt(ols[i].level)+1,o(ols[i]))},initElements:function(){this.searchButtonUrl=form_icons.search_form?"data:image/png;base64,"+form_icons.search_form:uiBaseURL+"search_form.png",this.input=$("<input class='input_search' placeholder='"+FormInfo.getFormTitle("tableOfContent")+"'></input>"),bookConfig.RightToLeft&&this.input.attr("dir","rtl"),this.searchButton=$("<img class='searchButton' src='"+this.searchButtonUrl+"'/>"),this.result=$("<p style='display:none;margin:0 27px;'>"+getLanguage("lblPages","Found Pages")+" <span style='color:"+bookConfig.searchKeywordFontColor+";'>0</span></p>"),this.tableofcontentSwiper=$("<div class='stage'></div>"),this.tableofcontentSwiperList=$("<ul class='swiper'></ul>"),this.refreshSwiper(this.tableofcontentSwiperList,ols),this.tableofcontentSwiper.append(this.tableofcontentSwiperList),isPhone()||isPad()?this.tableofcontentSwiper.css({"overflow-y":"auto","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}):(this.progress=$("<div class='progress'></div>"),this.progressBar=$("<div class='progressBar'></div>"),this.tableofcontentSwiper.append(this.progress),this.progress.append(this.progressBar),this.tableofcontentSwiper.scroll({},Direction.top))},expandItems:function(){for(var t=0;t<this.tableItems.length;t++)this.tableItems[t].expand()},collapseItems:function(){for(var t=0;t<this.tableItems.length;t++)this.tableItems[t].collapse()},refreshItems:function(t){for(var i=0;i<this.tableItems.length;i++)this.tableItems[i].fontColor=t,this.tableItems[i].colorObj=Color(t),this.tableItems[i].resetItemColor&&this.tableItems[i].resetItemColor()},refreshSwiper:function(t,i){for(var e=i.length,o=0;o<e;o++)this.addItem(t,i[o])},addItem:function(t,i){i=new this.callBack.newItem(t,i,this.refresh.bind(this)),t.append(i.getItem()),i.unfolding(),this.tableItems.push(i)},refresh:function(){isPhone()||isPad()||this.tableofcontentSwiper.refreshData()},initEvent:function(t){this.searchButton.onTap(function(t){this.searchStart()}.bind(this)),this.input.bind("keydown",function(t){13==t.keyCode&&this.searchStart(),t.stopPropagation()}.bind(this)),this.input.bind("mousedown touchstart pointerdown mouseover mousemove",function(t){t.stopPropagation()})},searchStart:function(){this.tableofcontentSwiperList.empty();var t=this.input.val().toLowerCase();BookEvent.trigger("search",[BookInfo.getCurrentPages().join("-"),t,"table of content"]),""===t?(this.result.css({display:"none"}),this.refreshSwiper(this.tableofcontentSwiperList,ols),this.refresh()):(t=this.matchKey(t),this.refreshSwiper(this.tableofcontentSwiperList,t),this.refresh(),t.length?this.result.css({display:"none"}):this.result.css({display:"block"}))},matchKey:function(n){function a(t){for(var i=[],e=0;e<t.length;e++){var o={caption:t[e].caption,page:t[e].page,level:t[e].level,url:t[e].url};if(t[e].children&&0<t[e].children.length&&(o.children=a(t[e].children)),0<=t[e].caption.toLowerCase().indexOf(n))i.push(o);else if(o.children&&0<o.children.length)for(var s=0;s<o.children.length;s++)i.push(o.children[s])}return i}return a(ols)},pickElements:function(t){t.input=this.input,t.searchButton=this.searchButton,t.result=this.result,t.searchButtonUrl=this.searchButtonUrl,t.tableofcontentSwiper=this.tableofcontentSwiper,t.tableofcontentSwiperList=this.tableofcontentSwiperList,t.progress=this.progress,t.progressBar=this.progressBar},changeLanguage:function(){this.input.attr("placeholder",FormInfo.getFormTitle("tableOfContent"))}}).extend(FormElements),PcTableOfContentFrame=Class({create:function(t){this.elements=new TableOfContentElements(this),this._super(t)},onCreate:function(){this.initColorCss()},initColorCss:function(){this.stage.css({"background-color":this.mainColor,color:this.fontColor})},resetFormItems:function(){this.elements.refreshItems(this.fontColor)},initHtml:function(){this.stage.addClass("win10_border"),this.stage.append(this.title),this.favicon&&(bookConfig.RightToLeft?this.title.append(this.favicon):this.title.prepend(this.favicon)),this.stage.append(this.input),this.stage.append(this.searchButton),this.stage.append(this.close),this.stage.append(this.tableofcontentSwiper),this.parent.append(this.stage)},newItem:function(t,i,e){return new PcTableOfContentItem(t,i,e)},onResize:function(){var t=Math.max(windowHeight-bookConfig.topMargin-bookConfig.bottomMargin-toolBar.getHeight(),1),i=(toolBar.getWidth(),toolBar.getTopHeight()+10);this.width=250,this.height=t-87,this.maxHeight=this.height-75,this.stage.css({height:this.height+"px",top:i+"px"}),this.tableofcontentSwiper.css("height",this.maxHeight+"px"),this.elements.refresh()},onShow:function(){this.changeIconColor()}}).extend(SlideForm),TableOfContentItem=Class({create:function(t,i,e){this.callback=e,this.level=parseInt(ols[0].level)?parseInt(i.level):parseInt(i.level)+1,this.children=[],this.parent=t,this.parm=i,this.parm.caption=HTMLString.toText(this.parm.caption),this.hasChild=i.children&&0<i.children.length,this.item=$("<li class='item'></li>"),this.fontColor=i.fontColor,this.colorObj=Color(this.fontColor),this.initArrowUrl(),this.initDefaultDom(),this.initHtml(t,i),this.initEvent()},initArrowUrl:function(){this.expandUrl=form_icons.arrow?"data:image/png;base64,"+form_icons.arrow:uiBaseURL+"arrow.png",this.collapseUrl=rightToLeft?form_icons.arrow3?"data:image/png;base64,"+form_icons.arrow3:uiBaseURL+"arrow3.png":form_icons.arrow2?"data:image/png;base64,"+form_icons.arrow2:uiBaseURL+"arrow2.png"},getItem:function(){return this.item},initDefaultDom:function(){rightToLeft?this.initRightToLeftDefaultDom():this.initLeftToRightDefaultDom(),this.arrow&&(this.arrow[0].colorChanged=!1,this.arrow.changeButtonColor(this.fontColor))},initRightToLeftDefaultDom:function(){LanguageTool.isRightToLeft(this.parm.caption)?this.description=$("<p class='description rtl'>"+this.parm.caption+"</p>"):this.description=$("<p class='description'>"+this.parm.caption+"</p>"),this.hasChild&&(this.arrow=$("<img class='arrow' src='"+this.collapseUrl+"'/>"),this.arrow.css("right",10*(this.level-1)+"px")),this.description.css("margin-right",10*(this.level-1)+15+"px")},initLeftToRightDefaultDom:function(){this.description=$("<p class='description'>"+this.parm.caption+"</p>"),this.hasChild&&(this.arrow=$("<img class='arrow' src='"+this.collapseUrl+"'/>"),this.arrow.css("left",10*(this.level-1)+"px")),this.description.css("margin-left",10*(this.level-1)+15+"px")},initHtml:function(t,i){rightToLeft?this.initRightToLeftHtml():this.initLeftToRightHtml()},initRightToLeftHtml:function(){this.item.append(this.description),this.arrow&&this.item.append(this.arrow)},initLeftToRightHtml:function(){this.arrow&&this.item.append(this.arrow),this.item.append(this.description)},initEvent:function(){this.item.onTap(function(){this.parm.url?window.open(getRealURL(this.parm.url),"_blank"):(gotoPageFun(parseInt(this.parm.page),!1,"table of content"),(isPhone()||isPad())&&global.frmTableOfContent.hide())}.bind(this)),this.item.bind("mouseover",function(){this.item.css({background:this.colorObj.rgba(.1)})}.bind(this)),this.item.bind("mouseleave",function(){this.isExpand||this.item.css({"background-color":"transparent"})}.bind(this)),this.hasChild&&(this.arrow&&this.arrow.click(function(){this.onSwitch()}.bind(this)),this.arrow.bind("mousedown touchstart pointerdown mouseover mousemove click",function(t){t.stopPropagation()}))},expand:function(t){this.hasChild&&(0==this.children.length?this.addChildren():this.showChildren(),this.setAsExpand(),t)&&this.callback()},collapse:function(t){if(this.hasChild){for(var i=0;i<this.children.length;i++)this.children[i].hide(),this.children[i].collapse();this.setAsCollapse(),t&&this.callback()}},setAsExpand:function(){this.isExpand=!0,this.arrow&&(this.arrow.attr("src",this.expandUrl),this.arrow[0].colorChanged=!1,this.arrow.changeButtonColor(this.fontColor)),this.item.css({"font-weight":"bold","background-color":this.colorObj.rgba(.1)})},setAsCollapse:function(){this.isExpand=!1,this.arrow&&(this.arrow.attr("src",this.collapseUrl),this.arrow[0].colorChanged=!1,this.arrow.changeButtonColor(this.fontColor)),this.item.css({"font-weight":"","background-color":""})},addChildren:function(){var t=this.parm.children.length;this.itemList=$("<ul class='itemList'></ul>");for(var i=0;i<t;i++){this.parm.children[i].fontColor=this.fontColor;var e=new global[this.getClassName()](this.parent,this.parm.children[i],this.callback);this.itemList.append(e.getItem()),this.children.push(e)}this.itemList.insertAfter(this.item)},showChildren:function(){for(var t=this.children.length,i=0;i<t;i++)this.children[i].show(),this.children[i].getIsExpand()&&this.children[i].expand()},onSwitch:function(){this.opened?this.collapse(!0):this.expand(!0),this.opened=!this.opened},getIsExpand:function(){return this.opened},unfolding:function(){if(!bookConfig.isHideTabelOfContentNodes){this.expand();for(var t=this.children.length,i=0;i<t;i++)this.children[i].unfolding();this.opened=!0}},show:function(){this.item.show()},hide:function(){this.item.hide()}}),PhoneTableOfContentItem=Class({create:function(t,i,e){i.fontColor=bookConfig.formFontColor||bookConfig.iconColor,this._super(t,i,e)},initArrowUrl:function(){this.expandUrl=phone_toolbar_icons.arrow?"data:image/png;base64,"+phone_toolbar_icons.arrow:phoneBaseURL+"arrow.png",this.collapseUrl=rightToLeft?phone_toolbar_icons.arrow3?"data:image/png;base64,"+phone_toolbar_icons.arrow3:phoneBaseURL+"arrow3.png":phone_toolbar_icons.arrow2?"data:image/png;base64,"+phone_toolbar_icons.arrow2:phoneBaseURL+"arrow2.png"}}).extend(TableOfContentItem),PhoneTableOfContentForm=Class({create:function(t){this.elements=new TableOfContentElements(this),this._super(t)},onCreate:function(){this.stage.css({color:this.fontColor}),this.favicon&&this.favicon.changeButtonColor(this.fontColor),this._super()},initHtml:function(){this.title.append(this.close),this.stage.append(this.title),this.stage.append(this.input),this.stage.append(this.searchButton),this.stage.append(this.result),this.stage.append(this.tableofcontentSwiper)},newItem:function(t,i,e){return new PhoneTableOfContentItem(t,i,e)},onResize:function(){this._super(),this.tableofcontentSwiper.css("height",this.height-135+"px"),this.input.css("width",this.width-75+"px"),this.elements.refresh()},initEvent:function(){},onShow:function(){}}).extend(PhoneFormFrame),TelephoneNumberItem=Class({create:function(t,i){this.parent=t,this.parm=i||{},this.parm.number||(this.parm.number=""),this.item=$("<div class='item'></div>"),this.number=this.parm.label?$("<span class='number'>"+(this.parm.label?this.parm.label+":":"")+this.parm.number+"</span>"):$("<span class='number'>"+this.parm.number+"</span>"),this.button=$("<a href='tel:"+this.parm.number+"'><span class='button'>"+getLanguage("btnDialing","call")+"</span></a>"),this.initHtml(),this.initCss()},initHtml:function(){this.item.append(this.number),this.item.append(this.button),this.parent.append(this.item)},initCss:function(){},changeLanguage:function(){this.button.find("span").html(getLanguage("btnDialing","call"))}}),TelephoneNumberElements=Class({create:function(t){this._super(t),this.initElements(),this.initEvent(t),this.pickElements(t)},initElements:function(){this.initSwiper(),this.addItem()},initSwiper:function(){this.numberSwiper=$("<div class='stage'></div>"),this.stageArrow=$("<div class='stageArrow'></div>"),this.numberSwiperList=$("<div class='swiper'></div>"),this.numberSwiper.append(this.numberSwiperList),isPhone()||isPad()?this.numberSwiper.css({"overflow-y":"auto","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}):(this.progress=$("<div class='progress'></div>"),this.progressBar=$("<div class='progressBar'></div>"),this.numberSwiper.append(this.progress),this.progress.append(this.progressBar),this.numberSwiper.scroll({},Direction.top))},addItem:function(){this.numberArray=global.phoneNumber,this.itemArray=[];for(var t,i=0;i<this.numberArray.length;i++)(isPhone()||isPad())&&(t=new TelephoneNumberItem(this.numberSwiperList,this.numberArray[i]),this.itemArray.push(t))},refresh:function(){isPhone()||isPad()||this.numberSwiper.refreshData()},initEvent:function(t){},pickElements:function(t){t.numberSwiper=this.numberSwiper,t.stageArrow=this.stageArrow,t.itemArray=this.itemArray},changeLanguage:function(){for(var t=0;t<this.itemArray.length;t++)this.itemArray[t]&&this.itemArray[t].changeLanguage()}}).extend(FormElements),TelephoneNumberForm=Class({create:function(t){this.elements=new TelephoneNumberElements(this),this._super(t)},onCreate:function(){this.title.css({"background-color":this.mainColor,color:this.fontColor}),this.numberSwiper.css({"background-color":this.mainColorObj.rgba(.8),color:this.fontColorObj.rgba(.9)}),this.numberSwiper.find("a").css({color:this.fontColorObj.rgba(.9),border:"1px solid "+this.fontColorObj.rgba(.9)}),this._super()},initHtml:function(){this.stage.append(this.title),this.stage.append(this.numberSwiper),this._super()},initEvent:function(){this.stage.bind(_event._down,function(t){t.stopPropagation()})},onShow:function(){},onResize:function(){this._super(),this.numberSwiper.css("max-height",windowHeight/2+"px"),this.elements.refresh()}}).extend(FadeOutFadeForm),DoubleSinglePageElements=Class({create:function(t){this._super(t),this.initElements(),this.pickElements(t)},initElements:function(){this.doublePageImg=$("<img style='pointer-events:none;'></img>"),this.secondTitle=$("<div class='secondTitle'>如何设置横屏？</div>"),this.itemList=$("<div class='itemList'></div>"),this.closeButton=$("<div class='closeButton'>知道了</div>"),this.wordBox=$("<div class='wordBox'></div>"),this.textBox=$("<div class='textBox'></div>")},initEvent:function(t){},pickElements:function(t){t.doublePageImg=this.doublePageImg,t.secondTitle=this.secondTitle,t.itemList=this.itemList,t.closeButton=this.closeButton,t.wordBox=this.wordBox,t.textBox=this.textBox},changeLanguage:function(){}}).extend(FormElements),DoubleSinglePageForm=Class({create:function(t){this.elements=new DoubleSinglePageElements(this),this._super(t)},onCreate:function(){this.elements.doublePageImg.attr("src","data:image/png;base64,"+phone_toolbar_icons.doubleSinglePageBanner),this.title.append($("<span>旋转手机开启双页阅读模式</span>")),"Android"==$.system.name?(this.item1=$("<div class='item'>1.手机允许自动旋转</div>"),this.item2=$("<div class='item'>2.阅读电子书的浏览器需设置允许横屏<br>如：微信-我-设置-通用-开启横屏模式</div>"),this.item3=$("<div class='item'>3.手机横过来阅读书籍</div>"),this.elements.itemList.append(this.item1,this.item2,this.item3)):(this.item1=$("<div class='item'>1.手机竖排方向锁定关闭</div>"),this.item2=$("<div class='item'>2.手机横过来阅读书籍</div>"),this.elements.itemList.append(this.item1,this.item2)),this._super()},initHtml:function(){this.stage.css({"line-height":"normal"}),this.elements.textBox.append(this.title,this.elements.secondTitle,this.elements.itemList),this.elements.wordBox.append(this.elements.textBox,this.elements.closeButton),this.stage.append(this.elements.doublePageImg,this.wordBox),this._super()},initEvent:function(){this.stage.bind(_event._down,function(t){t.stopPropagation()}),this.elements.closeButton.bind("click",this.hide.bind(this))},onShow:function(){},onResize:function(){var t=548/620*windowWidth*.45*.8;this.stage.css({height:t+"px"}),windowHeight<windowWidth?(this.elements.doublePageImg.css({float:"left",width:"45%"}),this.elements.wordBox.css({float:"right",width:"55%",height:t+"px"}),this.elements.textBox.css({height:t-58+"px",display:"flex","flex-wrap":"wrap","align-content":"center"})):(this.stage.css({height:"auto"}),this.elements.doublePageImg.css({float:"none",width:"100%"}),this.elements.wordBox.css({float:"none",width:"auto",height:"auto"}),this.elements.textBox.css({height:"auto",display:"block"}))}}).extend(FadeOutFadeForm),VideoGalleryElements=Class({create:function(t){this._super(t),this.initVideoList(),this.videoList&&0!=this.videoList.length&&(this.initElements(),this.initEvent(t),this.pickElements(t))},initVideoList:function(){this.videoList=videoList},initElements:function(){this.content=$("<div class='video_content'></div>"),this.video=$("<iframe type='text/html' class='video' src='' allowfullscreen frameborder='0'></iframe>"),rightToLeft?this.initRightToLeftDefaultDom():this.initLeftToRightDefaultDom(),this.initSwiper()},initRightToLeftDefaultDom:function(){this.info=$("<div class='info'><span class='title rtl'>"+this.videoList[0].title+"</span><p class='description rtl'>"+this.videoList[0].description+"</p></div>")},initLeftToRightDefaultDom:function(){this.info=$("<div class='info'><span class='title'>"+this.videoList[0].title+"</span><p class='description'>"+this.videoList[0].description+"</p></div>")},initSwiper:function(){var t,i;!this.videoList||this.videoList.length<=1||(this.videoListTitle=$("<sapn class='title'>"+getLanguage("frmVideoListTitle","Video list")+"</span>"),this.videoSwiper=$("<div class='videoSwiper stage'></div>"),t=$("<div class='swiper' style=''></div>"),this.progress=$("<div class='progress'></div>"),i=$("<div class='progressBar'></div>"),this.refreshSwiper(t,this.videoList),this.videoSwiper.append(t),this.videoSwiper.append(this.progress),this.progress.append(i))},refreshSwiper:function(t,i){for(var e=i.length,o=0;o<e;o++)this.addItem(t,i[o])},addItem:function(t,i){var e;t&&i&&(e=function(){this.playVideo(i)}.bind(this),e=new VideoGalleryItem(i,e),t.append(e.getDom()))},playVideo:function(t){BookEvent.trigger("playMedia",["video gallery",BookInfo.getCurrentPages().join("-"),t.id,t.type,(new Date).getTime()]);var i,e=getProtocal();"youtube"===t.type&&(i=e+"www.youtube.com/embed/"+t.id+"?autoplay=1&wmode=transparent"),"vimeo"===t.type&&(i=e+"player.vimeo.com/video/"+t.id+"?autoplay=1&wmode=transparent&portrait=0"),this.video.attr("src",i),i=this.info.find(".description"),this.info.find(".title").html(t.title),i.html(t.description)},initEvent:function(t){this.videoSwiper&&(isPhone()||isPad()?this.videoSwiper.scroll({},Direction.left):this.videoSwiper.scroll({},Direction.top,"win10"))},pickElements:function(t){t.videoList=this.videoList,t.content=this.content,t.video=this.video,t.info=this.info,t.videoListTitle=this.videoListTitle,t.videoSwiper=this.videoSwiper,t.progress=this.progress},changeLanguage:function(){this.videoListTitle&&this.videoListTitle.html(getLanguage("frmVideoListTitle","Video list"))}}).extend(FormElements),PcVideoGalleryFrame=Class({create:function(t){this.elements=new VideoGalleryElements(this),this._super(t)},onCreate:function(){this.initColorCss(),this._super()},initColorCss:function(){this.stage.css({"background-color":this.mainColor,color:this.fontColor})},initHtml:function(){this._super()},onShow:function(){this.changeIconColor(),this.elements.playVideo(this.videoList[0]),this.videoList&&1<this.videoList.length&&this.videoSwiper.refreshData()},onHide:function(){this.video.attr("src","")}}).extend(FadeOutFadeForm),PhoneVideoGalleryForm=Class({create:function(t){this.elements=new VideoGalleryElements(this),this._super(t)},onCreate:function(){this.stage.css({"background-color":this.mainColor,color:this.fontColor}),this._super()},initHtml:function(){var t;this.stage.addClass("win10_border"),this.stage.append(this.title),this.favicon&&(bookConfig.RightToLeft?this.title.append(this.favicon):this.title.prepend(this.favicon)),this.stage.append(this.close),this.stage.append(this.video),this.stage.append(this.info),this.videoList&&1<this.videoList.length?((t=$("<div class='video_list'></div>")).append(this.videoListTitle),t.append(this.videoSwiper),this.stage.append(t)):this.stage.css("width","335px"),this._super()},onShow:function(){this.close.changeButtonColor(this.fontColor),this.favicon&&this.favicon.changeButtonColor(this.fontColor),this.elements.playVideo(this.videoList[0])},onHide:function(){this.video.attr("src","")}}).extend(FadeOutFadeForm),VideoGalleryItem=Class({create:function(t,i){t&&(this.parm=t,this.callback=i,this.initDom(),this.initEvent())},initDom:function(){this.item=$("<div class='item'></div>"),this.image=$("<div class='thumbnail'></div>"),this.parm.thumbnail&&this.image.css({"background-image":"url("+this.parm.thumbnail+")"}),this.parm.title&&(this.title=rightToLeft?$("<div class='title rtl'>"+this.parm.title+"</div>"):$("<div class='title'>"+this.parm.title+"</div>")),this.parm.description&&(this.description=rightToLeft?$("<div class='description rtl'>"+this.handleData(this.parm.description)+"</div>"):$("<div class='description'>"+this.handleData(this.parm.description)+"</div>")),this.item.append(this.image),this.title&&this.item.append(this.title),this.description&&this.item.append(this.description)},handleData:function(t){return t=(t=t.replaceAll("<","&lt")).replaceAll(">","&gt"),handleData(t,"")},initEvent:function(){this.item.onTap(this.callback)},getDom:function(){return this.item}}),PhotoGallery=Class({create:function(t,i){!i||i.length<=0||(this.parent=t,this.photoArray=i,this.index=0,this.visible=!1,this.pageWidth=$(window).width(),this.pageHeight=$(window).height(),this.images=[],this.thumbnails=[],this.initHtml(),this.initEvent())},initHtml:function(){this.leftBtnUrl=uiBaseURL+"photo_prev.png",this.rightBtnUrl=uiBaseURL+"photo_next.png",this.closeBtnUrl=uiBaseURL+"photoGallery_close.png",this.stage=$("<div class='photogallery' style=\"display:none\"></div>"),this.close=$("<div class='close'><img src=\""+this.closeBtnUrl+'" /></div>'),this.stage.append(this.close),this.initImgThumb(),this.initImgContainer(),this.initImages(),this.setThumbnal(),this.setPhotoImage(),this.imgChange(),this.parent.append(this.stage),this.images[0].css({display:"block"})},initImgContainer:function(){this.imgContainer=$("<div class='imgContainer'></div>"),this.leftBtn=$("<div class='leftBtn'><img src=' "+this.leftBtnUrl+"' /></div>"),this.rightBtn=$("<div class='rightBtn'><img src='"+this.rightBtnUrl+"'/></div>"),this.containerBG=$("<div class='photoBG'></div>"),this.imgContainer.append(this.leftBtn),this.imgContainer.append(this.rightBtn),this.stage.append(this.imgContainer).append(this.containerBG)},initImgThumb:function(){this.thumbContainer=$("<div class='thumbContainer'></div>"),this.stage.append(this.thumbContainer)},initEvent:function(){this.stage.bind("mousedown touchstart",function(t){t.stopPropagation()}),1<this.photoArray.length&&(this.imgContainer.bind("mouseenter",function(){this.leftBtn.animate({left:"0"},300),this.rightBtn.animate({right:"0"},300)}.bind(this)),this.imgContainer.bind("mouseleave",function(){this.leftBtn.animate({left:"-32px"},300),this.rightBtn.animate({right:"-32px"},300)}.bind(this))),this.imgContainer.bind("click",function(t){this.moving||(t.stopPropagation(),this.stopAutoPlay(),this.index+=1,this.index>this.images.length-1&&(this.index=0),this.imgChange(),this.autoPlay())}.bind(this)),this.containerBG.onTap(function(){this.hide(),this.visible=!1}.bind(this)),this.leftBtn.bind("click",function(t){this.moving||(t.stopPropagation(),this.stopAutoPlay(),--this.index,this.index<0&&(this.index=this.images.length-1),this.imgChange(),this.autoPlay())}.bind(this)),this.rightBtn.bind("click",function(t){this.moving||(t.stopPropagation(),this.stopAutoPlay(),this.index+=1,this.index>this.images.length-1&&(this.index=0),this.imgChange(),this.autoPlay())}.bind(this)),this.close.onTap(function(){this.hide(),this.visible=!1}.bind(this)),$(window).resize(function(){this.onResize()}.bind(this))},onResize:function(){this.pageWidth=$(window).width(),this.pageHeight=$(window).height(),this.setImageCss(this.images[this.index]),this.setThumbnal()},thumbEvent:function(t){t.onTap(function(){this.moving||(this.stopAutoPlay(),parseInt(t.attr("id").substring(5))!=this.index&&(this.index=parseInt(t.attr("id").substring(5)),this.imgChange(t)),this.autoPlay())}.bind(this,t))},autoPlay:function(){var t;bookConfig.SlideshowAutoPlay&&(t=bookConfig.SlideshowPlayInterval?1e3*parseInt(bookConfig.SlideshowPlayInterval):3e3,this.timer=setInterval(function(){this.index+=1,this.index>this.images.length-1&&(this.index=0),this.imgChange()}.bind(this),t))},changeLanguage:function(){},stopAutoPlay:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},imgChange:function(t){this.photoArray.length<=1||this.moving||((t=t||this.thumbnails[this.index]).siblings().removeClass("focus"),t.addClass("focus"),this.newImg=this.images[this.index],this.setImageCss(this.images[this.index]),this.moving=!0,this.newImg.fadeIn(300,function(){this.oldImg&&this.oldImg.fadeOut(),this.oldImg=this.newImg,this.moving=!1}.bind(this)))},initImages:function(){for(var t=0;t<this.photoArray.length;t++){var i=$("<img src='"+this.photoArray[t]+"'/>"),e=$('<div id="thumb'+t+'" class="thumbBox"><img src=\''+this.photoArray[t]+'\'/><div class="thumbBG"></div></div>');this.images.push(i),this.thumbnails.push(e)}},setThumbnal:function(){this.thumbLeft=0,this.thumbLeft=65*this.thumbnails.length>this.pageWidth?this.thumbLeft:(this.pageWidth-65*this.thumbnails.length)/2;for(var t=0;t<this.thumbnails.length;t++){var i=this.thumbnails[t],e=i.find("img");this.thumbEvent(i),this.setThumbImg(e,i),i.css({left:this.thumbLeft+"px"}),this.thumbContainer.append(i),this.thumbLeft+=65}},setThumbImg:function(t,i){t.on("load",function(t,i){var e,o,s,n;n=t[0].naturalWidth/t[0].naturalHeight>=50/46?(o=(n=(e=50)/t[0].naturalWidth)*t[0].naturalHeight,s=(46-n*t[0].naturalHeight)/2,0):(e=(n=46/t[0].naturalHeight)*t[0].naturalWidth,o=46,(50-n*t[s=0].naturalWidth)/2),t.css({width:e+"px",height:o+"px",left:n+"px",top:s+"px"}),i.append(t)}.bind(this,t,i))},setPhotoImage:function(){var t=this.images[this.index];t.on("load",function(t,i){for(var e=0;e<t.images.length;e++)t.images[t.index]!=t.images[e]&&t.images[e].css({display:"none"});return function(){t.setImageCss(i)}}(this,t))},setImageCss:function(t){this.imgTop=this.imgLeft=0,this.imgRadio=t[0].naturalWidth/t[0].naturalHeight,this.windowRadio=this.pageWidth/(this.pageHeight-80),this.imgHeight=this.imgWidth=this.radio=0,this.resetImageCss(t),t.css({width:this.imgWidth+"px",height:this.imgHeight+"px",left:0,top:0}),this.imgContainer.css({width:this.imgWidth+"px",height:this.imgHeight+"px",left:this.imgLeft,top:this.imgTop+"px"}),this.leftBtn.css({top:(this.imgHeight-38)/2+"px"}),this.rightBtn.css({top:(this.imgHeight-38)/2+"px"}),this.imgContainer.append(t)},resetImageCss:function(t){this.imgRadio>this.windowRadio?(t[0].naturalWidth<this.pageWidth?(this.imgHeight=t[0].naturalHeight,this.imgWidth=t[0].naturalWidth,this.imgLeft=(this.pageWidth-this.imgWidth-16)/2):(this.imgWidth=this.pageWidth-16,this.radio=this.pageWidth/t[0].naturalWidth,this.imgHeight=t[0].naturalHeight*this.radio,this.imgLeft=0),this.imgTop=(this.pageHeight-this.imgHeight-80)/2):t[0].naturalHeight<this.pageHeight-80?(this.imgWidth=t[0].naturalWidth,this.imgHeight=t[0].naturalHeight,this.imgLeft=(this.pageWidth-this.imgWidth-16)/2,this.imgTop=(this.pageHeight-this.imgHeight-80)/2):(this.imgHeight=this.pageHeight-80,this.radio=this.imgHeight/t[0].naturalHeight,this.imgWidth=t[0].naturalWidth*this.radio,this.imgLeft=(this.pageWidth-this.imgWidth-16)/2,this.imgTop=0)},show:function(){this.visible=!0,this.stage.fadeIn(200),this.autoPlay()},hide:function(){this.visible=!1,this.stage.fadeOut(200),this.interval&&this.interval.stop(),this.stopAutoPlay()},showOrHide:function(){this.visible?this.hide():this.show()}}),PhoneArticleList=Class({create:function(t){this._super(t),this.fillContent()},onCreate:function(){this._super(),this.stage.css({"background-color":"#ffffff",color:"#333940"})},initHtml:function(){this.loading=$("<img src='"+uiBaseURL+"loading.gif'/>"),this.articleUrl=this.getImageUrl("article"),this.cancleUrl=this.getImageUrl("closeForm"),this.head=$("<div class='head'></div>"),this.title2=$("<div class='title2'><img src='"+this.articleUrl+"'/><span></span></div>"),this.close=$("<div class='close'><img src='"+this.cancleUrl+"'/><span></span></div>"),this.head.append(this.title2),this.container=$("<div class='container'></div>"),this.head.append(this.close),this.stage.append(this.head),this.stage.append(this.container),$(this.close).changeButtonColor("#333940")},onResize:function(){this.width=windowWidth,this.height=windowHeight,this.stage.css({bottom:-this.height+"px",width:this.width+"px",height:this.height+"px"}),this.container.css({width:"100%",height:windowHeight-62+"px",overflow:"auto","scroll-behavior":"smooth",padding:"0"}),this.container.bind(_event._mousewheel,function(t){t.stopPropagation()}.bind(this));var t=this.visible?transformCSS({tran:{x:0,y:-this.height}}):transformCSS({tran:{x:0,y:0}});this.stage.css(t)},initEvent:function(){this.close.bind(_event._click,this.hide.bind(this))},onShow:function(){},fillContent:function(){var b=function(){if(this.loading.remove(),this.data=window.articleListConfig){var t=this.data.length;1<=t&&(toolBar.addButton("reader"),toolBar.resetButtonPosition()),this.title2.find("span").html("文章速览");for(var i=0;i<t;i++){var e=this.data[i].articles;if(e){var o=$("<div class='list'><span class='red'></span><span class='gray'>"+this.data[i].name+"</span></div>");for(this.container.append(o),o=0;o<e.length;o++){var s=e[o],n=$("<div class='item' index='"+o+"' page='"+i+"'></div>"),a=$("<div class='line'></div>"),h=$("<div class='h2'>"+s.title+"</div>"),r=$("<div class='description'>"+s.articleTextList[0].text+"</div>"),g=(n.append(a),n.append(h),s.articleTextList[0].text&&bookConfig.showArticleDescription&&n.append(r),this);n.click(function(){var t=parseInt($(this).attr("index")),i=parseInt($(this).attr("page"));g.showArticle(i,t)}),this.container.append(n)}}}}}.bind(this);window.articleListConfig?b():bookConfig.articleListPath&&$.ajax({url:bookConfig.articleListPath,type:"GET",dataType:"text",success:function(c){var d=function(){var g=allocateUTF8(c),h=Module._DeString(g),k=UTF8ToString(h),k=eval(k);window.articleListConfig=k,Module._free(g),Module._FreeMemory(h),b()}.bind(this),f=window.setInterval(function(){Module&&Module.isReady&&(window.clearInterval(f),d())},100)}.bind(this),error:function(t){console.log(t)}})},showArticle:function(t,i){BookEvent.trigger("readArticle",[])||(this.hide(),phoneArticleReader.showArticle(t,i))},onHide:function(){},getImageUrl:function(t){return window.phone_toolbar_icons&&phone_toolbar_icons[t]?"data:image/png;base64,"+phone_toolbar_icons[t]:uiBaseURL+t+".png"}}).extend(PhoneReaderFormFrame),PhoneArticleReader=Class({create:function(t){window.bookTitle=document.title,this.restArray="byline date notes subtitle headline classhead".split(" "),this._super(t),loadGlobalArticleConfig(this.setGlobalConfig.bind(this))},onCreate:function(){this._super(),this.stage.css({"background-color":"#ffffff",color:"#333940"})},initHtml:function(){this.loading=$("<img class='loading' src='"+uiBaseURL+"loading.gif'/>"),this.container=$("<div style='-webkit-user-select: text;user-select:text;padding:20px;padding-bottom:0;overflow-x:hidden;overflow-y:scroll;scroll-behavior: smooth;position:absolute;z-index:1;'></div>"),this.stage.append(this.container),this.stage.append(this.loading),this.initArticleToolbar(),this.container.bind(_event._mousewheel,function(t){t.stopPropagation()}.bind(this))},initArticleToolbar:function(){new PhoneArticleToolbar(this.stage,"book reader enlarge reduce prevArticle nextArticle btnshare".split(" "))},onResize:function(){this.width=windowWidth,this.height=windowHeight,this.stage.css({bottom:-this.height+"px",width:this.width+"px",height:this.height+"px"}),this.container.css({width:"auto",height:windowHeight-this.getBottomHeight()+"px"});var t=this.visible?transformCSS({tran:{x:0,y:-this.height}}):transformCSS({tran:{x:0,y:0}});this.stage.css(t)},getBottomHeight:function(){return 60},initEvent:function(){this.close.bind(_event._click,this.hide.bind(this))},onShow:function(){console.log('$("#text-container").remove();'),$("#text-container").remove()},hide:function(){this._super(),document.title=window.bookTitle;var t={},i=document.title,e=bookConfig.bookPath.removeStartFrom("/articles/");e=(e=e.removeStartFrom("/mobile/index.html"))+"/mobile/index.html"+window.location.hash,history.pushState(t,i,e);try{window.top!=window&&window.top.history.pushState(t,i,e)}catch(t){}window.set_weixin_share&&set_weixin_share(bookTitle,desc,link,imgUrl),global.sharePanel&&global.sharePanel.elements&&(share_url=bookConfig.socialShareLink||window.location.href,global.sharePanel.elements.fillArea(!1,"link")),this.pageIndex&&gotoPageFun(this.pageIndex)},fillContent:function(){var b=function(){this.data=window.articleListConfig,this.loading.remove(),null!=window.articleId&&this.showArticleById(window.articleId)}.bind(this);window.articleListConfig?b():bookConfig.articleListPath&&$.ajax({url:bookConfig.articleListPath,type:"GET",dataType:"text",success:function(c){var d=function(){var g=allocateUTF8(c),h=Module._DeString(g),k=UTF8ToString(h),k=eval(k);window.articleListConfig=k,Module._free(g),Module._FreeMemory(h),b()}.bind(this),f=window.setInterval(function(){Module&&Module.isReady&&(window.clearInterval(f),d())},100)}.bind(this),error:function(t){console.log(t)}})},setGlobalConfig:function(t,i){t&&i&&((this.globalConfig=i)&&this.globalConfig.head&&"image"==this.globalConfig.head.type&&this.globalConfig.head.imgUrl&&!this.globalConfig.head.imgUrl.startsWith("http")&&(this.globalConfig.head.imgUrl=t.remove("config.json")+this.globalConfig.head.imgUrl,this.globalConfig.head.openUrl||(this.globalConfig.head.openUrl="none")),this.globalConfig)&&this.globalConfig.foot&&"image"==this.globalConfig.foot.type&&this.globalConfig.foot.imgUrl&&!this.globalConfig.foot.imgUrl.startsWith("http")&&(this.globalConfig.foot.imgUrl=t.remove("config.json")+this.globalConfig.foot.imgUrl,this.globalConfig.foot.openUrl||(this.globalConfig.foot.openUrl="none")),this.fillContent()},showList:function(){},showArticleById:function(t,i){if(t+""==this.articleId+"")this.show();else{for(var e=this.data.length,o=0;o<e;o++){var s=this.data[o].articles;if(s)for(var n=0;n<s.length;n++)if(t.toString()==s[n].articleId.toString())return void this.showArticle(o,n,i)}this.showArticle(0,0)}},showArticle:function(s,n,a){try{var h=this.data[s].articles[n].articleId,r=this.data[s].articles[n];if(bookConfig.isEncryptionBook)$.ajax({url:articleUrl,type:"post",dataType:"json",data:{articleId:h,bookId:window.bookId,token:BookRestrict.getRestrictToken()},success:function(t){if("OK"==t.code){if(r=t.data)if(t=this.getPageIndexByArticle(r),BookEvent.trigger("readArticle",[h,t]))this.onShow();else{this.show(),this.renderArticle(r),this.articleId=h,this.index=n,this.page=s,document.title=r.title;var i,e={},o=(t=r.title,bookConfig.bookPath.removeStartFrom("/mobile/index.html"));if(o=(o=o.removeStartFrom("/articles/"))+"/articles/"+h+".html"+window.location.hash,!a){history.pushState(e,t,o);try{window.top!=window&&window.top.history.pushState(e,t,o)}catch(t){}}window.set_weixin_share&&(t=r.title,e=window.desc,o=a?window.link:o,i=window.imgUrl,this.globalConfig&&this.globalConfig.share&&(this.globalConfig.share.title&&(t=this.globalConfig.share.title),this.globalConfig.share.desc&&(e=this.globalConfig.share.desc),this.globalConfig.share.link&&(o=this.globalConfig.share.link),this.globalConfig.share.imgUrl)&&(i=this.globalConfig.share.imgUrl),set_weixin_share(t,e,o,i)),global.sharePanel&&global.sharePanel.elements&&(share_url=bookConfig.socialShareLink||window.location.href,global.sharePanel.elements.fillArea(!1,"link")),this.container.scrollTop(0),t=this.getPageIndexByArticle(r),BookEvent.trigger("readArticle",[h,t]),this.gotoPage(r)}}else window.encryptionPannel&&window.encryptionPannel.show()}.bind(this),error:function(t){}});else if(r){this.show(),this.renderArticle(r),this.articleId=h,this.index=n,this.page=s,document.title=r.title;var t,i,e,o={},g=r.title,l=bookConfig.bookPath.removeStartFrom("/mobile/index.html");if(l=(l=l.removeStartFrom("/articles/"))+"/articles/"+h+".html"+window.location.hash,!a){history.pushState(o,g,l);try{window.top!=window&&window.top.history.pushState(o,g,l)}catch(t){}}window.set_weixin_share&&(g=r.title,t=window.desc,i=a?window.link:l,e=window.imgUrl,this.globalConfig&&this.globalConfig.share&&(this.globalConfig.share.title&&(g=this.globalConfig.share.title),this.globalConfig.share.desc&&(t=this.globalConfig.share.desc),this.globalConfig.share.link&&(i=this.globalConfig.share.link),this.globalConfig.share.imgUrl)&&(e=this.globalConfig.share.imgUrl),set_weixin_share(g,t,i,e)),global.sharePanel&&global.sharePanel.elements&&(share_url=bookConfig.socialShareLink||window.location.href,global.sharePanel.elements.fillArea(!1,"link")),this.container.scrollTop(0);var d=this.getPageIndexByArticle(r);BookEvent.trigger("readArticle",[h,d]),this.gotoPage(r)}}catch(t){console.log(t)}},gotoPage:function(t){(t=this.getPageIndexByArticle(t))&&gotoPageFun(t)},getPageIndexByArticle:function(t){t=this.getCurrentArticlePages(t);for(var i=BookInfo.getCurrentPages(),e=0;e<i.length;e++)if(0<=t.indexOf(i[e]-1))return;if(t=t[0],!isNaN(t))return parseInt(getHighlightRealPageIndex(t))+1},getCurrentArticlePages:function(t){if(t.activePage&&0<=parseInt(t.activePage))return[parseInt(t.activePage)];var i=[];try{for(var e=0;e<t.articleTextList.length;e++){var o=t.articleTextList[e].pageIndex;0<=o&&i.push(parseInt(o))}}catch(t){}return i.increasing()},renderArticle:function(s){var n,a,i,e,h,o,r,g,l,d,c,p,u,f,m=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){switch(t.nextAddress){case 1:a=function(i,e){var o;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){return 1==t.nextAddress?t.yield(getPageDir(i,e),2):(o=t.yieldResult,bookConfig.useTheAliCloudChart&&!bookConfig.isEncryptionBook&&(o=o.removeStartFrom("?"),o+="?x-oss-process=image/resize,w_1024"),t.return(o))})},i=function(){var o,i,e;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(1==t.nextAddress)return bookConfig.showArticlePageFlashes?h?t.jumpTo(0):(i=n.getCurrentArticlePages(s),e=i[0],o=i[0],null==e||NaN==e?t.return():-1==(e=parseInt(getHighlightRealPageIndex(e)))||NaN==e?t.jumpTo(0):(h=$("<div class='page' style='z-index:0'></div>"),t.yield(a(e+1,"normal"),4))):t.return();i=t.yieldResult,(e=$("<img class='pageImage' src='"+i+"'/>"))[0].onload=function(){var t=$(this).width(),i=$(this).height(),e=n.getLocation(s,o).rect;e&&((t=$('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+e.width*t+'" height="'+e.height*i+'" viewBox="0 0 '+e.width*t+" "+e.height*i+'"><defs> <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="rgba(0,0,0,0.2)"></stop><stop offset="100%" stop-color="rgba(255,255,255,0.5)"></stop><stop offset="100%" stop-color="rgba(0,0,0,0.2)"></stop><animate attributeName="x2" dur="1s" from="0%" to="100%" repeatCount="3"></animate><animate attributeName="y2" dur="1s" from="0%" to="100%" repeatCount="3"></animate></linearGradient></defs><polygon fill="url(#grad1)" points="0,0 0,'+e.height*i+" "+e.width*t+","+e.height*i+" "+e.width*t+',0"></polygon></svg>')).css({position:"absolute",left:100*e.x+"%",top:100*e.y+"%"}),h.append(t))},h.append(e),n.container.append(h),t.jumpToEnd()})},(n=m).container.empty(),t.setCatchFinallyBlocks(2),e=s.articleTextList.clone(),h=null,(n=m).globalConfig&&m.globalConfig.head&&e.unshift(m.globalConfig.head),m.globalConfig&&m.globalConfig.foot&&e.push(m.globalConfig.foot),o=0;case 4:if(o<e.length){switch(e[o].type){case"text":return t.jumpTo(7);case"image":return t.jumpTo(8);case"html":r=$("<div style='width:100%;'>"+e[o].htmlText+"</div>"),m.container.append(r)}t.jumpTo(5)}else m.renderAudioBar(),t.leaveTryBlock(0);break;case 7:if(g=e[o].color,l=e[o].fontSize,d=e[o].text,c=e[o].fontType,m.globalConfig&&m.globalConfig.head&&0==o){t.jumpTo(10);break}if("paragraph"!=c&&"paragraphtitle"!=c&&"paragraphTitle"!=c||h){t.jumpTo(10);break}return t.yield(i(),10);case 10:d=(d=d.replace(/\n\n/g,'</div><div class="paragraph" style="margin-top:25px;">')).replace(/\n/g,'</div><div class="paragraph" style="margin-top:25px;">'),"quote"==c&&(d='"'+d+'"'),(u=$("<div class='"+c+"'></div>")).html(d),g&&u.css("color",g),l&&u.css("font-size",l+"px"),e[o+1]&&(p=e[o+1].type.toLowerCase(),0<=m.restArray.indexOf(p))&&0<=m.restArray.indexOf(c)&&u.css("margin-bottom","5px"),m.globalConfig&&m.globalConfig.fonts&&m.globalConfig.fonts[c]&&(m.globalConfig.fonts[c].fontSize&&u.css({"font-size":m.globalConfig.fonts[c].fontSize+"px"}),m.globalConfig.fonts[c].color&&u.css({color:m.globalConfig.fonts[c].color}),m.globalConfig.fonts[c].fontWeight&&u.css({"font-weight":m.globalConfig.fonts[c].fontWeight}),m.globalConfig.fonts[c].textDecoration&&u.css({"text-decoration":m.globalConfig.fonts[c].textDecoration}),m.globalConfig.fonts[c].textAlign&&u.css({"text-align":m.globalConfig.fonts[c].textAlign}),m.globalConfig.fonts[c].fontStyle)&&u.css({"font-style":m.globalConfig.fonts[c].fontStyle}),m.globalConfig&&m.globalConfig.paragraph&&(m.globalConfig.paragraph.letterSpacing&&parseInt(m.globalConfig.paragraph.letterSpacing)&&u.css({"letter-spacing":m.globalConfig.paragraph.letterSpacing+"px"}),m.globalConfig.paragraph.lineHeight&&parseInt(m.globalConfig.paragraph.lineHeight)&&u.css({"line-height":m.globalConfig.paragraph.lineHeight}),m.globalConfig.paragraph.margin)&&parseInt(m.globalConfig.paragraph.margin)&&("notes"==c?u.css({"margin-top":m.globalConfig.paragraph.margin/2+"px"}):u.css({"margin-top":m.globalConfig.paragraph.margin+"px"})),m.container.append(u),t.jumpTo(5);break;case 8:if(m.globalConfig&&m.globalConfig.head&&0==o){t.jumpTo(13);break}if(h){t.jumpTo(13);break}return t.yield(i(),13);case 13:if(e[o].imgUrl)return t.yield(getArticleImage(e[o].imgUrl),16);t.jumpTo(5);break;case 16:p=t.yieldResult,u=$("<img class='image' src='"+p+"'/>"),e[o].openUrl&&"none"!=e[o].openUrl&&u.attr("link",e[o].openUrl),m.container.append(u),u.click(function(){var t;$(this).attr("link")?((t=$(this).attr("link")).startsWith("http")||(t=window.location.protocol+"//"+t),window.open(t,"_blank")):new PageItem.Popup.SlideShow(tmpContainer,{photos:[{title:"",desc:"",url:$(this).attr("src")}]},windowWidth,windowHeight)}),t.jumpTo(5);break;case 5:o++,t.jumpTo(4);break;case 2:f=t.enterCatchBlock(),console.log(f),t.jumpToEnd()}})},renderAudioBar:function(){if(!document.querySelector(".ptc-inverse-bar")&&window.phoneticReading&&window.phoneticReading.soundsList&&0!==window.phoneticReading.soundsList.length){for(var t=null,i=0;i<window.phoneticReading.soundsList.length;i++)if(window.phoneticReading.soundsList[i].articleId===window.phoneArticleReader.articleId){t=window.phoneticReading.soundsList[i];break}t&&(this.container[0].insertBefore(window.phoneticReading.audioBar,document.querySelector(".paragraph")),window.phoneticReading.renderAudioBar(this.container,window.phoneArticleReader.articleId),window.phoneticReading.setAudioBarSource(t))}},getLocation:function(t,i){var e={};return(e=t.collapseArea?JSON.parse(t.collapseArea):e)[i]?{rect:e[i]}:this.getCollapseArea(t.articleTextList,i)},getCollapseArea:function(t,e){var o="",s=this;return t.forEach(function(t){var i;-1!==e&&(t.pageIndex===e||t.mergeList&&t.mergeList.length&&t.mergeList.filter(function(t){return t.pageIndex===e}).length)&&(""===o?o=t.mergeList&&t.mergeList.length?s.getCollapseArea(t.mergeList,e):JSON.parse(JSON.stringify(t)):(t.mergeList&&t.mergeList.length&&(i=[o].concat(t.mergeList),o=s.getCollapseArea(i,e)),o.rect.x>t.rect.x&&(o.rect.x=t.rect.x),o.rect.y>t.rect.y&&(o.rect.y=t.rect.y),o.rect.endX<t.rect.endX&&(o.rect.endX=t.rect.endX),o.rect.endY<t.rect.endY&&(o.rect.endY=t.rect.endY),o.rect.width=o.rect.endX-o.rect.x,o.rect.height=o.rect.endY-o.rect.y))}),o},prev:function(){if(this.page<=0&&this.index<=0)this.tip("first");else if(this.index<=0)for(var t=this.page-1;0<=t;t--){if(this.data[t].articles&&0!=this.data[t].articles.length){this.page=t,this.index=this.data[t].articles.length-1,this.showArticle(this.page,this.index);break}0==t&&this.tip("first")}else this.index--,this.showArticle(this.page,this.index)},next:function(){if(this.page>=this.data.length-1&&this.index>=this.data[this.page].articles.length-1)this.tip("last");else if(this.index>=this.data[this.page].articles.length-1)for(var t=this.page+1;t<=this.data.length-1;t++){if(this.data[t].articles&&0!=this.data[t].articles.length){this.page=t,this.index=0,this.showArticle(this.page,this.index);break}t==this.data.length-1&&this.tip("last")}else this.index++,this.showArticle(this.page,this.index)},tip:function(t){var i="";switch(t){case"last":i=getLanguage("articleLast","当前是最后篇文章");break;case"first":i=getLanguage("articleFirst","当前是第一篇文章")}i&&(this._tipsBox||(this._tipsBox=new TipsBox({opacity:1},$("body"))),this._tipsBox.setCaption(i),this._tipsBox.showTipsBox())},enlarge:function(){for(var t=this.container.find("div"),i=0;i<t.length;i++){var e=t[i],o=parseInt($(e).css("font-size"));parseInt($(e).css("line-height")),$(e).css({"font-size":parseInt(1.2*o)+"px"})}},reduce:function(){for(var t=this.container.find("div"),i=0;i<t.length;i++){var e=t[i],o=parseInt($(e).css("font-size"));parseInt($(e).css("line-height")),$(e).css({"font-size":parseInt(.8*o)+"px"})}},scrollToTop:function(){this.container.scrollTop(0)}}).extend(PhoneReaderFormFrame),PhoneArticleReader2=Class({initArticleToolbar:function(){},getBottomHeight:function(){return 40}}).extend(PhoneArticleReader),PhoneArticleReader3=Class({initArticleToolbar:function(){new PhoneReaderToolbar(this.stage)},getBottomHeight:function(){return 40}}).extend(PhoneArticleReader),PhoneArticlePages=Class({create:function(t){this._super(t),this.visible=!1,this.totalPageCount=bookConfig.totalPageCount,this.itemWidth=this.getThumbWidth(),this.marginLeft=10,this.marginTop=0,this.itemBorderWidth=3,this.toolBarHeight=40,this.itemBorderColor="#f76c6c",this.itemArray=[],this.itemHeightArray=this.getHeightArray(),this.mainColor=bookConfig.formBackgroundColor||"#111",this.fontColor=bookConfig.formFontColor||bookConfig.iconColor,bookConfig.appLogoIcon||bookConfig.InstructionsButtonVisible||(this.toolBarHeight=40),this.initThumbItems()},onCreate:function(){this._super(),this.stage.css({"background-color":"#ffffff",color:"#333940"})},getThumbWidth:function(){switch(bookConfig.ThumbnailSize.toLowerCase()){case"normal":return 120;case"large":return 160;default:return 90}},initThumbItems:function(){this.items.html(""),this.itemArray=[],this.taskList=new TaskList,this.countHorizatal=parseInt((windowWidth-this.marginLeft)/(this.itemWidth+this.marginLeft)),this.countVertical=parseInt((windowHeight-this.toolBarHeight-this.marginTop)/(this.itemHeightArray.itemHeight+this.marginTop))+1,this.taskList.setLargeLength(this.countHorizatal*this.countVertical),this.addItem(),this.setHighLight(BookInfo.getCurrentPageIndex())},initHtml:function(){bookConfig.RightToLeft&&this.stage.addClass("rightToLeft"),this.itemBox=$("<div class='container' style='text-align:left;display:inline-block;'></div>"),this.items=$("<div style='width:100%;'></div>"),this.loading=$("<img src='"+uiBaseURL+"loading.gif'/>"),this.articleUrl=this.getImageUrl("article"),this.cancleUrl=this.getImageUrl("closeForm"),this.head=$("<div class='head'></div>"),this.title2=$("<div class='title2'><img src='"+this.articleUrl+"'/><span>"+getLanguage("btnArticlePages","版面")+"</span></div>"),this.close=$("<div class='close'><img src='"+this.cancleUrl+"'/><span></span></div>"),this.head.append(this.title2),this.head.append(this.close),this.stage.append(this.head),this.stage.append(this.itemBox),this.itemBox.append(this.items),$(this.close).changeButtonColor("#333940"),this.parent.append(this.stage)},onResize:function(){this.stage.css({overflow:"auto","text-align":"center","scroll-behavior":"smooth"}),this.countHorizatal=parseInt((windowWidth-this.marginLeft)/(this.itemWidth+this.marginLeft)),this.countVertical=parseInt((windowHeight-this.toolBarHeight-this.marginTop)/(this.itemHeightArray.itemHeight+this.marginTop))+1,this.itemBox.css({width:this.countHorizatal*(this.itemWidth+this.marginLeft)+this.marginLeft+"px",height:windowHeight-62+"px",overflow:"auto",padding:"0"}),this.width=windowWidth,this.height=windowHeight,this.stage.css({bottom:-this.height+"px",width:this.width+"px",height:this.height+"px"});var t=this.visible?transformCSS({tran:{x:0,y:-this.height}}):transformCSS({tran:{x:0,y:0}});this.stage.css(t),this.stage.bind(_event._mousewheel,function(t){t.stopPropagation()}.bind(this))},getImageUrl:function(t){return window.phone_toolbar_icons&&phone_toolbar_icons[t]?"data:image/png;base64,"+phone_toolbar_icons[t]:uiBaseURL+t+".png"},fillContent:function(){verifyPassward()&&(this.interval&&!this.interval.isRunning()?this.interval.start():this.interval=function(){this.performTask()}.interval(this,60))},performTask:function(){for(var t=(i=this.getShownItems())[1],i=i[0];i<t;i++){var e=function(){phoneArticlePages.fillImage(this.index)}.bind({index:i});bookConfig.isEncryptionBook&&this.isRestrict(i+1)?e.id="restrict"+i:e.id=i,this.taskList.unShiftTask(e)}},isRestrict:function(t){return!(!bookConfig.isEncryptionBook||"restrict"!=BookRestrict.isRestrictPage(t))},getShownItems:function(){var t=82-this.items.offset().top,i=(t=this.countHorizatal*Math.round(t/(this.itemHeightArray.itemHeight+this.marginTop)))+this.countHorizatal*this.countVertical,i=Math.min(i,this.totalPageCount);return[Math.max(0,t),i]},goToPosition:function(){this.getShownItems();var t=BookInfo.getCurrentPageIndex();this.stage.scrollTop(8+Math.ceil(t/3)*(this.itemHeightArray.itemHeight+this.marginTop)-windowHeight+this.toolBarHeight)},hide:function(){this._super(),this.onHide()},onHide:function(){this.interval&&this.interval.stop()},getShowStatu:function(){return this.visible},onShow:function(){this.fillContent(),this.goToPosition()},setHighLight:function(t){if(this.itemArray)for(var i=0;i<this.itemArray.length;i++)this.itemArray[i].index==t-1&&this.itemArray[i].imgContainer.css({"border-color":this.itemBorderColor})},clearHighLight:function(){if(this.itemArray)for(var t=this.itemArray.length,i=0;i<t;i++)this.itemArray[i].imgContainer&&this.itemArray[i].imgContainer.css({"border-color":"transparent"})},fissionAll:function(){},mergeAll:function(){},showOrHide:function(){this.visible?this.hide():this.show()},addItem:function(){for(var t=0;t<this.totalPageCount;t++){var i=this.initItem(t);this.items.append(i.item),this.itemArray.push(i)}},getHeightArray:function(){var t=(this.itemWidth-2*this.itemBorderWidth)*bookConfig.largePageHeight/bookConfig.largePageWidth;return{imageHeight:t,titleHeight:15,itemHeight:15+t+4*this.itemBorderWidth}},initItem:function(i){var t=$("<div style='display:inline-block;'></div>"),e=$("<p><span>"+getShownPageNumber(i+1)+"</span></p>"),o=$("<div></div>"),s=$("<img/>"),n=$("<div style='display:none;margin: 0 auto;background:"+bookConfig.pageBackgroundColor+";width:"+(this.itemWidth-2*this.itemBorderWidth)+"px;height:"+this.itemHeightArray.imageHeight+"px;'></div>"),a=(t.css({cursor:"pointer",width:this.itemWidth,height:this.itemHeightArray.itemHeight,padding:"0px 0px "+this.marginTop+"px "+this.marginLeft+"px","text-align":"center"}),o.css({width:this.itemWidth-2*this.itemBorderWidth,height:this.itemHeightArray.imageHeight,"border-style":"solid","border-width":this.itemBorderWidth+"px","border-radius":this.itemBorderWidth+"px","border-color":"transparent",position:"relative"}),s.css({width:"100%",height:"100%","background-color":"#ffffff","background-image":"url("+bookConfig.pageLoadingUrl+")","background-repeat":"no-repeat","background-position":"center","background-size":"contain"}),bookConfig.isStopMouseMenu&&s.css({"pointer-events":"none"}),e.css({width:this.itemWidth-2*this.itemBorderWidth,height:this.itemHeightArray.titleHeight+"px","line-height":this.itemHeightArray.titleHeight+"px","vertical-align":"middle",color:"#333940","font-family":"Arial","font-size":this.itemHeightArray.titleHeight+"px",padding:"0px",margin:"0px","border-style":"solid","border-width":this.itemBorderWidth+"px","border-color":"transparent"}),$("<div></div>"));return a.css({position:"absolute",top:0,left:0,width:"100%",height:"100%","z-index":5}),o.append(n).append(s),bookConfig.isStopMouseMenu&&o.append(a),t.append(o),t.append(e),t.attr("id",i),t.bind(_event._end,function(t){}.bind(this)),t.bind("click",function(t){gotoPageFun(i+1,!1,"phone thumbnail"),this.hide(),t.stopPropagation()}.bind(this)),{index:i,item:t,imgContainer:o,img:s,noThumbBg:n,title:e,fill:!1}},fillImage:function(i){var t,e;this.itemArray&&this.itemArray[i]&&(t=function(t){t.match(/^none/)?(this.itemArray[i].noThumbBg.css({display:"block"}),this.itemArray[i].img.css({"background-image":"none",display:"none"})):(this.itemArray[i].img.css({"background-image":"url("+t+")"}),this.itemArray[i].noThumbBg.css({display:"none"}),this.itemArray[i].img.css({width:this.imageWidth+"px",display:"inline-block"}))}.bind(this),bookConfig.isEncryptionBook&&this.isRestrict(i)?this.itemArray[i].restrict||(e=this.itemArray[i].index,fillImageAfterLoaded(e+1,"thumb",t),this.itemArray[i].restrict=!0):!this.itemArray[i].fill&&this.itemArray[i].img&&(e=this.itemArray[i].index,this.LoadCount++,this.itemArray[i].fill=!0,fillImageAfterLoaded(e+1,"thumb",t)))},getHeight:function(){return 0},getTopHeight:function(){return 0},initEvent:function(){this.close.bind(_event._click,this.hide.bind(this))}}).extend(PhoneReaderFormFrame),PcArticlePages=Class({create:function(t){this._super(t),this.visible=!1,this.totalPageCount=bookConfig.totalPageCount,this.itemWidth=this.getThumbWidth(),this.marginLeft=10,this.marginTop=0,this.itemBorderWidth=3,this.toolBarHeight=40,this.itemBorderColor="#f76c6c",this.itemArray=[],this.itemHeightArray=this.getHeightArray(),this.mainColor=bookConfig.formBackgroundColor||"#111",this.fontColor=bookConfig.formFontColor||bookConfig.iconColor,bookConfig.appLogoIcon||bookConfig.InstructionsButtonVisible||(this.toolBarHeight=40),this.initThumbItems()},onCreate:function(){this._super(),this.stage.css({"background-color":"#ffffff",color:"#333940"})},getThumbWidth:function(){switch(bookConfig.ThumbnailSize.toLowerCase()){case"normal":return 120;case"large":return 160;default:return 90}},initThumbItems:function(){this.items.html(""),this.itemArray=[],this.taskList=new TaskList,this.countHorizatal=parseInt((windowWidth-this.marginLeft)/(this.itemWidth+this.marginLeft)),this.countVertical=parseInt((windowHeight-this.toolBarHeight-this.marginTop)/(this.itemHeightArray.itemHeight+this.marginTop))+1,this.taskList.setLargeLength(this.countHorizatal*this.countVertical),this.addItem(),this.setHighLight(BookInfo.getCurrentPageIndex())},initHtml:function(){bookConfig.RightToLeft&&this.stage.addClass("rightToLeft"),this.itemBox=$("<div class='container' style='text-align:left;display:inline-block;'></div>"),this.items=$("<div style='width:100%;'></div>"),this.loading=$("<img src='"+uiBaseURL+"loading.gif'/>"),this.articleUrl=this.getImageUrl("article"),this.cancleUrl=this.getImageUrl("closeForm"),this.head=$("<div class='head'></div>"),this.title2=$("<div class='title2'><img src='"+this.articleUrl+"'/><span>"+getLanguage("btnArticlePages","版面")+"</span></div>"),this.close=$("<div class='close'><img src='"+this.cancleUrl+"'/><span></span></div>"),this.head.append(this.title2),this.head.append(this.close),this.stage.append(this.head),this.stage.append(this.itemBox),this.itemBox.append(this.items),$(this.close).changeButtonColor("#333940"),this.parent.append(this.stage)},onResize:function(){this.width=436,this.height=windowHeight,this.stage.css({overflow:"auto","text-align":"center"}),this.countHorizatal=parseInt((this.width-this.marginLeft)/(this.itemWidth+this.marginLeft)),this.countVertical=parseInt((this.height-this.toolBarHeight-this.marginTop)/(this.itemHeightArray.itemHeight+this.marginTop))+1,this.itemBox.css({width:this.countHorizatal*(this.itemWidth+this.marginLeft)+this.marginLeft+"px",height:windowHeight-62+"px",overflow:"auto",padding:"0"}),this.stage.css({left:-this.width+"px",width:this.width+"px",height:this.height+"px"}),this.stage.bind(_event._mousewheel,function(t){t.stopPropagation()}.bind(this))},getImageUrl:function(t){return window.phone_toolbar_icons&&phone_toolbar_icons[t]?"data:image/png;base64,"+phone_toolbar_icons[t]:uiBaseURL+t+".png"},fillContent:function(){verifyPassward()&&(this.interval&&!this.interval.isRunning()?this.interval.start():this.interval=function(){this.performTask()}.interval(this,60))},performTask:function(){for(var t=(i=this.getShownItems())[1],i=i[0];i<t;i++){var e=function(){pcArticlePages.fillImage(this.index)}.bind({index:i});bookConfig.isEncryptionBook&&this.isRestrict(i+1)?e.id="restrict"+i:e.id=i,this.taskList.unShiftTask(e)}},isRestrict:function(t){return!(!bookConfig.isEncryptionBook||"restrict"!=BookRestrict.isRestrictPage(t))},getShownItems:function(){var t=82-this.items.offset().top,i=(t=this.countHorizatal*Math.round(t/(this.itemHeightArray.itemHeight+this.marginTop)))+this.countHorizatal*this.countVertical,i=Math.min(i,this.totalPageCount);return[Math.max(0,t),i]},goToPosition:function(){this.getShownItems();var t=BookInfo.getCurrentPageIndex();this.stage.scrollTop(8+Math.ceil(t/3)*(this.itemHeightArray.itemHeight+this.marginTop)-windowHeight+this.toolBarHeight)},hide:function(){this._super(),this.onHide()},onHide:function(){this.interval&&this.interval.stop()},getShowStatu:function(){return this.visible},show:function(){this.visible||(this._super(),this.stage.show(200,function(){this.onShow(),this.fillContent(),this.goToPosition()}.bind(this)))},onShow:function(){this.visible=!0},setHighLight:function(t){if(this.itemArray)for(var i=0;i<this.itemArray.length;i++)this.itemArray[i].index==t-1&&this.itemArray[i].imgContainer.css({"border-color":this.itemBorderColor})},clearHighLight:function(){if(this.itemArray)for(var t=this.itemArray.length,i=0;i<t;i++)this.itemArray[i].imgContainer&&this.itemArray[i].imgContainer.css({"border-color":"transparent"})},fissionAll:function(){},mergeAll:function(){},showOrHide:function(){this.visible?this.hide():this.show()},addItem:function(){for(var t=0;t<this.totalPageCount;t++){var i=this.initItem(t);this.items.append(i.item),this.itemArray.push(i)}},getHeightArray:function(){var t=(this.itemWidth-2*this.itemBorderWidth)*bookConfig.largePageHeight/bookConfig.largePageWidth;return{imageHeight:t,titleHeight:15,itemHeight:15+t+4*this.itemBorderWidth}},initItem:function(i){var t=$("<div style='display:inline-block;'></div>"),e=$("<p><span>"+getShownPageNumber(i+1)+"</span></p>"),o=$("<div></div>"),s=$("<img/>"),n=$("<div style='display:none;margin: 0 auto;background:"+bookConfig.pageBackgroundColor+";width:"+(this.itemWidth-2*this.itemBorderWidth)+"px;height:"+this.itemHeightArray.imageHeight+"px;'></div>"),a=(t.css({cursor:"pointer",width:this.itemWidth,height:this.itemHeightArray.itemHeight,padding:"0px 0px "+this.marginTop+"px "+this.marginLeft+"px","text-align":"center"}),o.css({width:this.itemWidth-2*this.itemBorderWidth,height:this.itemHeightArray.imageHeight,"border-style":"solid","border-width":this.itemBorderWidth+"px","border-radius":this.itemBorderWidth+"px","border-color":"transparent",position:"relative"}),s.css({width:"100%",height:"100%","background-color":"#ffffff","background-image":"url("+bookConfig.pageLoadingUrl+")","background-repeat":"no-repeat","background-position":"center","background-size":"contain"}),bookConfig.isStopMouseMenu&&s.css({"pointer-events":"none"}),e.css({width:this.itemWidth-2*this.itemBorderWidth,height:this.itemHeightArray.titleHeight+"px","line-height":this.itemHeightArray.titleHeight+"px","vertical-align":"middle",color:"#333940","font-family":"Arial","font-size":this.itemHeightArray.titleHeight+"px",padding:"0px",margin:"0px","border-style":"solid","border-width":this.itemBorderWidth+"px","border-color":"transparent"}),$("<div></div>"));return a.css({position:"absolute",top:0,left:0,width:"100%",height:"100%","z-index":5}),o.append(n).append(s),bookConfig.isStopMouseMenu&&o.append(a),t.append(o),t.append(e),t.attr("id",i),t.bind(_event._end,function(t){}.bind(this)),t.bind("click",function(t){gotoPageFun(i+1,!1,"phone thumbnail"),this.hide(),t.stopPropagation()}.bind(this)),{index:i,item:t,imgContainer:o,img:s,noThumbBg:n,title:e,fill:!1}},fillImage:function(i){var t,e;this.itemArray&&this.itemArray[i]&&(t=function(t){t.match(/^none/)?(this.itemArray[i].noThumbBg.css({display:"block"}),this.itemArray[i].img.css({"background-image":"none",display:"none"})):(this.itemArray[i].img.css({"background-image":"url("+t+")"}),this.itemArray[i].noThumbBg.css({display:"none"}),this.itemArray[i].img.css({width:this.imageWidth+"px",display:"inline-block"}))}.bind(this),bookConfig.isEncryptionBook&&this.isRestrict(i)?this.itemArray[i].restrict||(e=this.itemArray[i].index,fillImageAfterLoaded(e+1,"thumb",t),this.itemArray[i].restrict=!0):!this.itemArray[i].fill&&this.itemArray[i].img&&(e=this.itemArray[i].index,this.LoadCount++,this.itemArray[i].fill=!0,fillImageAfterLoaded(e+1,"thumb",t)))},getHeight:function(){return 0},getTopHeight:function(){return 0},initEvent:function(){this.close.bind(_event._click,this.hide.bind(this))}}).extend(SlideLeftForm),PcArticlePeriodical=Class({create:function(t){this._super(t,!0),this.fillContent()},onCreate:function(){this._super(),this.stage.css({"background-color":"#ffffff",color:"#333940"})},initHtml:function(){this.loading=$("<img src='"+uiBaseURL+"loading.gif'/>"),this.calendarFormUrl=this.getImageUrl("calendar_form"),this.cancleUrl=this.getImageUrl("closeForm"),this.calendarUrl=this.getImageUrl("calendar"),this.articleEmptyUrl=this.getImageUrl("articleEmpty"),this.calendarSearchUrl=this.getImageUrl("calendarSearch"),this.calendarCancleUrl=this.getImageUrl("calendarCancle"),this.head=$("<div class='head'></div>"),this.title2=$("<div class='title2'><img src='"+this.calendarFormUrl+"'/><span>"+getLanguage("btnCalendar","往期")+"</span></div>"),this.close=$("<div class='close'><img src='"+this.cancleUrl+"'/></div>"),this.head.append(this.title2),this.head.append(this.close),this.search=$("<div class='search'></div>"),this.searchBar=$("<div class='calendar_searchBar'></div>"),this.searchInput=$("<input class='searchInput' placeholder='搜索过刊标题'/>"),this.searchButton=$("<div class='searchButton'><img src='"+this.calendarSearchUrl+"'/></div>"),this.searchCancleButton=$("<div class='searchCancleButton'><img src='"+this.calendarCancleUrl+"'/></div>"),this.dateButton=$("<div class='dateButton'><input type='text' placeholder='选择日期' oninput='OnInput(event)' class='jeinput' id='test01'/><img src='"+this.calendarUrl+"'/></div>"),this.searchInput.on("input propertychange change",function(){var t=this.searchInput.val(),i=this.refreshListByKeywords(t);this.refreshList(i),t?this.searchCancleButton.show():this.searchCancleButton.hide()}.bind(this)),this.searchCancleButton.click(function(){this.searchInput.val(""),this.searchCancleButton.hide();var t=this.refreshListByKeywords("");this.refreshList(t)}.bind(this)),$(this.dateButton.find("#test01")[0]).on("input propertychange change",function(){var t=$("#test01").val();t?(t=this.refreshListByDate(t),this.refreshList(t)):this.onRefresh()}.bind(this)),this.searchBar.append(this.searchInput),this.searchBar.append(this.searchButton),this.searchBar.append(this.searchCancleButton),this.search.append(this.searchBar),this.search.append(this.dateButton),this.empty=$("<div class='calendar_empty'><img src='"+this.articleEmptyUrl+"'/><p>没有相关结果</p></div>"),this.container=$("<div class='container'></div>"),this.head.append(this.search),this.stage.append(this.head),this.stage.append(this.empty),this.stage.append(this.container),$(this.close).changeButtonColor("#333940")},initDatePicker:function(){var t="YYYY-MM-DD";switch(this.data.dateType){case"day":t="YYYY-MM-DD";break;case"week":case"half-month":case"month":t="YYYY-MM";break;case"two-months":case"season":case"half-year":case"year":t="YYYY"}$(this.dateButton.find("#test01")[0]).jeDate({format:t})},refreshListByDate:function(t){for(var i,e=this.data.list,o=[],s=0;s<e.length;s++)e[s].time&&(i=dateFormat(e[s].time,"yyyy-MM-dd"))&&0<=i.indexOf(t)&&o.push(e[s]);return o},refreshList:function(t){if(this.container.empty(),t&&0!=t.length){this.empty.hide();for(var i=0;i<t.length;i++){var e=t[i].time?dateFormat(t[i].time,"yyyy-MM-dd"):"",o=$("<div class='item' index='"+i+"'></div>"),s=$("<div class='h2'>"+t[i].title+"</div>"),e=$("<div class='time'>"+e+"</div>"),n=($("<div class='tip'>最近读过</div>"),$("<div class='image'></div>")),a=(n.css("background-image","url("+t[i].image+")"),o.append(s),o.append(e),o.append(n),this);o.click(function(){var t=parseInt($(this).attr("index"));a.showBook(t)}),this.container.append(o)}t=$("<div class='tips'>暂无更多</div>"),this.container.append(t)}else this.empty.show()},refreshListByKeywords:function(t){var i=this.data.list;if(!t)return i;for(var e=[],o=0;o<i.length;o++)0<=i[o].title.indexOf(t)&&e.push(i[o]);return e},onRefresh:function(){this.refreshList(this.data.list)},onResize:function(){this.width=436,this.height=windowHeight,this.stage.css({left:-this.width+"px",width:this.width+"px",height:this.height+"px"}),this.container.css({width:"100%",height:windowHeight-102+"px",overflow:"auto",padding:"0"}),this.container.bind(_event._mousewheel,function(t){t.stopPropagation()}.bind(this))},initEvent:function(){this.close.bind(_event._click,this.hide.bind(this))},onShow:function(){},fillContent:function(){window.book_visit&&window.book_visit.periodicalId&&window.book_visit.periodsListPath&&$.ajax({url:window.book_visit.periodsListPath,data:{periodicalId:window.book_visit.periodicalId},type:"get",async:!1,success:function(b){try{this.fillList(eval("("+b+")").data)}catch(c){}}.bind(this),error:function(){}})},fillList:function(t){this.loading.remove(),this.data=t,this.initDatePicker();var i=t.list;t&&i&&0!=i.length?this.refreshList(i):this.empty.show()},showBook:function(t){var i=this.data.list[t].bookUrl;(i=(t=this.data.list[t].domainUrl)&&t.indexOf(0<=window.location.host)?t:i)&&window.open(i,"_self")},getImageUrl:function(t){return window.phone_toolbar_icons&&phone_toolbar_icons[t]?"data:image/png;base64,"+phone_toolbar_icons[t]:uiBaseURL+t+".png"}}).extend(SlideLeftForm);function OnInput(t){console.log(t.target.value)}var PcArticleReader=Class({create:function(t){this.visible=!1,this.width=440,this.restArray="byline date notes subtitle headline classhead".split(" "),this._super(t),window.bookTitle=document.title,this.showList(),loadGlobalArticleConfig(this.setGlobalConfig.bind(this)),this.button.show(),this.button2.hide()},onCreate:function(){this.initColorCss()},initColorCss:function(){this.stage.css({"background-color":"#ffffff",color:"#333940"})},resetFormItems:function(){},initHtml:function(){this.loading=$("<img class='loading' src='"+uiBaseURL+"loading.gif'/>"),this.head=$("<div class='head'></div>"),this.title=$("<div class='title'></div>"),this.head.append(this.title),this.container=$("<div class='container'></div>"),this.backUrl=this.getImageUrl("back"),this.enlargeUrl=this.getImageUrl("enlarge"),this.reduceUrl=this.getImageUrl("reduce"),this.shareUrl=this.getImageUrl("share"),this.head2=$("<div class='head2'></div>"),this.backBtn=$("<div class='btn back'><img src='"+this.backUrl+"'/>回到目录</div>"),this.enlargeBtn=$("<div class='btn enlarge'><img src='"+this.enlargeUrl+"'/></div>"),this.reduceBtn=$("<div class='btn reduce'><img src='"+this.reduceUrl+"'/></div>"),this.share=$("<div class='btn share'><img src='"+this.shareUrl+"'/></div>"),this.head2.append(this.backBtn),this.head2.append(this.enlargeBtn),this.head2.append(this.reduceBtn),this.head2.append(this.share),this.container2=$("<div class='container2'></div>"),this.list2=$("<div class='stage'></div>"),this.swiper2=$("<div class='swiper'></div>");var t=$("<div class='progress'></div>"),i=$("<div class='progressBar'></div>");this.list2.append(this.swiper2),this.list2.append(t),t.append(i),this.container2.append(this.list2),this.list=$("<div class='stage'></div>"),this.swiper=$("<div class='swiper'></div>"),this.progress=$("<div class='progress'></div>"),this.progressBar=$("<div class='progressBar'></div>"),this.list.append(this.swiper),this.list.append(this.progress),this.progress.append(this.progressBar),this.container.append(this.list),this.bottomBar=$("<div class='bottomBar'></div>"),this.prevBtn=$("<div class='prevBtn'>上一篇</div>"),this.nextBtn=$("<div class='nextBtn'>下一篇</div>"),this.bottomBar.append(this.prevBtn),this.bottomBar.append(this.nextBtn),this.button=$("<div class='button'><img src='"+uiBaseURL+"arrow-right.png'/></div>"),this.button2=$("<div class='button'><img src='"+uiBaseURL+"arrow-left.png'/></div>"),this.stage.append(this.head),this.stage.append(this.container),this.stage.append(this.head2),this.stage.append(this.container2),this.stage.append(this.bottomBar),this.stage.append(this.button),this.stage.append(this.button2),this.stage.append(this.loading),this.parent.append(this.stage),isPhone()||isPad()?(this.list.css({"overflow-y":"auto","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}),this.list2.css({"overflow-y":"auto","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"})):(this.list.scroll({},Direction.top),this.list2.scroll({},Direction.top,!1)),this.list.bind(_event._mousewheel,function(t){t.stopPropagation()}.bind(this)),this.list2.bind(_event._mousewheel,function(t){t.stopPropagation()}.bind(this))},getImageUrl:function(t){return window.toolbar_icons&&toolbar_icons[t]?"data:image/png;base64,"+toolbar_icons[t]:uiBaseURL+t+".png"},fillContent:function(){var b=function(){if(this.loading.remove(),this.data=window.articleListConfig){var t=this.data.length;this.data&&1<=t&&this.show(),this.title.html("文章速览");for(var i=0;i<t;i++){var e=this.data[i].articles;if(e){var o=$("<div class='list'><span class='red'></span><span class='gray'>"+this.data[i].name+"</span></div>");for(this.swiper.append(o),o=0;o<e.length;o++){var s=e[o],n=$("<div class='item' index='"+o+"' page='"+i+"'></div>"),a=$("<div class='line'></div>"),h=$("<div class='h2'>"+s.title+"</div>"),r=$("<div class='description'>"+s.articleTextList[0].text+"</div>"),g=(n.append(a),n.append(h),s.articleTextList[0].text&&bookConfig.showArticleDescription&&n.append(r),this);n.onTap(function(){try{var t=parseInt($(this).attr("index")),i=parseInt($(this).attr("page"));g.showArticle(i,t)}catch(t){}}.bind(n)),this.swiper.append(n)}}}this.list.refreshData(),null!=window.articleId&&this.showArticleById(window.articleId)}}.bind(this);window.articleListConfig?b():bookConfig.articleListPath&&$.ajax({url:bookConfig.articleListPath,type:"GET",dataType:"text",success:function(c){var d=function(){var g=allocateUTF8(c),h=Module._DeString(g),k=UTF8ToString(h),k=eval(k);window.articleListConfig=k,Module._free(g),Module._FreeMemory(h),b()}.bind(this),f=window.setInterval(function(){Module&&Module.isReady&&(window.clearInterval(f),d())},100)}.bind(this),error:function(t){console.log(t)}})},setGlobalConfig:function(t,i){t&&i&&((this.globalConfig=i)&&this.globalConfig.head&&"image"==this.globalConfig.head.type&&this.globalConfig.head.imgUrl&&!this.globalConfig.head.imgUrl.startsWith("http")&&(this.globalConfig.head.imgUrl=t.remove("config.json")+this.globalConfig.head.imgUrl,this.globalConfig.head.openUrl||(this.globalConfig.head.openUrl="none")),this.globalConfig)&&this.globalConfig.foot&&"image"==this.globalConfig.foot.type&&this.globalConfig.foot.imgUrl&&!this.globalConfig.foot.imgUrl.startsWith("http")&&(this.globalConfig.foot.imgUrl=t.remove("config.json")+this.globalConfig.foot.imgUrl,this.globalConfig.foot.openUrl||(this.globalConfig.foot.openUrl="none")),this.fillContent()},showList:function(){this.head.show(),this.container.show(),this.head2.hide(),this.container2.hide(),this.bottomBar.hide(),document.title=window.bookTitle;var t=document.title,i=bookConfig.bookPath.removeStartFrom("/articles/");i=(i=i.removeStartFrom("/mobile/index.html"))+"/mobile/index.html"+window.location.hash,history.pushState({},t,i),global.sharePanel&&global.sharePanel.elements&&(share_url=bookConfig.socialShareLink||window.location.href,global.sharePanel.elements.fillArea(!1,"link")),this.articleId=""},showArticleById:function(t){if(t+""!=this.articleId+""){for(var i=this.data.length,e=0;e<i;e++){var o=this.data[e].articles;if(o)for(var s=0;s<o.length;s++)if(t.toString()==o[s].articleId.toString())return void this.showArticle(e,s)}this.showArticle(0,0)}},showArticle:function(o,s){try{var n=this.data[o].articles[s].articleId,a=this.data[o].articles[s];if(bookConfig.isEncryptionBook)$.ajax({url:articleUrl,type:"post",dataType:"json",data:{articleId:n,bookId:window.bookId,token:BookRestrict.getRestrictToken()},success:function(t){if("OK"==t.code){if((a=t.data)&&(t=this.getPageIndexByArticle(a),!BookEvent.trigger("readArticle",[n,t]))){this.renderArticle(a),this.articleId=n,this.index=s,this.page=o,document.title=a.title,t={};var i=a.title,e=bookConfig.bookPath.removeStartFrom("/mobile/index.html");e=(e=e.removeStartFrom("/articles/"))+"/articles/"+n+".html"+window.location.hash,history.pushState(t,i,e);try{window.top!=window&&window.top.history.pushState(t,i,e)}catch(t){}global.sharePanel&&global.sharePanel.elements&&(share_url=bookConfig.socialShareLink||window.location.href,global.sharePanel.elements.fillArea(!1,"link")),this.head2.show(),this.container2.show(),this.bottomBar.show(),this.head.hide(),this.container.hide(),this.list2.refreshData(),this.list2.moveTo(0),this.gotoPage(a)}}else window.encryptionPannel&&window.encryptionPannel.show()}.bind(this),error:function(t){}});else{this.renderArticle(a),this.articleId=n,this.index=s,this.page=o,document.title=a.title;var t={},i=a.title,e=bookConfig.bookPath.removeStartFrom("/mobile/index.html");e=(e=e.removeStartFrom("/articles/"))+"/articles/"+n+".html"+window.location.hash,history.pushState(t,i,e);try{window.top!=window&&window.top.history.pushState(t,i,e)}catch(t){}global.sharePanel&&global.sharePanel.elements&&(share_url=bookConfig.socialShareLink||window.location.href,global.sharePanel.elements.fillArea(!1,"link")),this.head2.show(),this.container2.show(),this.bottomBar.show(),this.head.hide(),this.container.hide(),this.list2.refreshData(),this.list2.moveTo(0);var h=this.getPageIndexByArticle(a);BookEvent.trigger("readArticle",[n,h]),this.gotoPage(a)}}catch(t){console.log(t)}},gotoPage:function(t){(t=this.getPageIndexByArticle(t))&&gotoPageFun(t)},getPageIndexByArticle:function(t){t=this.getCurrentArticlePages(t);for(var i=BookInfo.getCurrentPages(),e=0;e<i.length;e++)if(0<=t.indexOf(i[e]-1))return;if(t=t[0],!isNaN(t))return parseInt(getHighlightRealPageIndex(t))+1},getCurrentArticlePages:function(t){if(t.activePage&&0<=parseInt(t.activePage))return[parseInt(t.activePage)];var i=[];try{for(var e=0;e<t.articleTextList.length;e++){var o=t.articleTextList[e].pageIndex;0<=o&&i.push(parseInt(o))}}catch(t){}return i.increasing()},renderArticle:function(i){var e,o,s,n,a,h,r,g=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){switch(t.nextAddress){case 1:g.swiper2.empty(),t.setCatchFinallyBlocks(2),e=i.articleTextList.clone(),g.globalConfig&&g.globalConfig.head&&e.unshift(g.globalConfig.head),g.globalConfig&&g.globalConfig.foot&&e.push(g.globalConfig.foot),o=0;case 4:if(o<e.length){switch(e[o].type){case"text":a=e[o].color,h=e[o].fontSize,n=e[o].text,s=e[o].fontType,n=(n=n.replace(/\n\n/g,'</div><div class="paragraph" style="margin-top:25px;">')).replace(/\n/g,'</div><div class="paragraph" style="margin-top:25px;">'),"quote"==s&&(n='"'+n+'"'),n=$("<div class='"+s+"'>"+n+"</div>"),a&&n.css("color",a),h&&n.css("font-size",h+"px"),e[o+1]&&(a=e[o+1].type.toLowerCase(),0<=g.restArray.indexOf(a))&&0<=g.restArray.indexOf(s)&&n.css("margin-bottom","5px"),g.globalConfig&&g.globalConfig.fonts&&g.globalConfig.fonts[s]&&(g.globalConfig.fonts[s].fontSize&&n.css({"font-size":g.globalConfig.fonts[s].fontSize+"px"}),g.globalConfig.fonts[s].color&&n.css({color:g.globalConfig.fonts[s].color}),g.globalConfig.fonts[s].fontWeight&&n.css({"font-weight":g.globalConfig.fonts[s].fontWeight}),g.globalConfig.fonts[s].textDecoration&&n.css({"text-decoration":g.globalConfig.fonts[s].textDecoration}),g.globalConfig.fonts[s].textAlign&&n.css({"text-align":g.globalConfig.fonts[s].textAlign}),g.globalConfig.fonts[s].fontStyle)&&n.css({"font-style":g.globalConfig.fonts[s].fontStyle}),g.globalConfig&&g.globalConfig.paragraph&&(g.globalConfig.paragraph.letterSpacing&&parseInt(g.globalConfig.paragraph.letterSpacing)&&n.css({"letter-spacing":g.globalConfig.paragraph.letterSpacing+"px"}),g.globalConfig.paragraph.lineHeight&&parseInt(g.globalConfig.paragraph.lineHeight)&&n.css({"line-height":g.globalConfig.paragraph.lineHeight}),g.globalConfig.paragraph.margin)&&parseInt(g.globalConfig.paragraph.margin)&&("notes"==s?n.css({"margin-top":g.globalConfig.paragraph.margin/2+"px"}):n.css({"margin-top":g.globalConfig.paragraph.margin+"px"})),g.swiper2.append(n);break;case"image":return t.jumpTo(7);case"html":h=$("<div style='width:100%;'>"+e[o].htmlText+"</div>"),g.swiper2.append(h)}t.jumpTo(5)}else g.renderAudioBar(i.articleId),t.leaveTryBlock(0);break;case 7:if(e[o].imgUrl)return t.yield(getArticleImage(e[o].imgUrl),9);t.jumpTo(5);break;case 9:r=t.yieldResult,r=$("<img class='image' src='"+r+"'/>"),e[o].openUrl&&"none"!=e[o].openUrl&&r.attr("link",e[o].openUrl),g.swiper2.append(r),r[0].onload=function(){this.list2.refreshData()}.bind(g),r.click(function(){var t;$(this).attr("link")?((t=$(this).attr("link")).startsWith("http")||(t=window.location.protocol+"//"+t),window.open(t,"_blank")):new PageItem.Popup.SlideShow(tmpContainer,{photos:[{title:"",desc:"",url:$(this).attr("src")}]},windowWidth,windowHeight)}),t.jumpTo(5);break;case 5:o++,t.jumpTo(4);break;case 2:t.enterCatchBlock(),t.jumpToEnd()}})},renderAudioBar:function(t){if(!document.querySelector(".ptc-inverse-bar")&&window.phoneticReading&&window.phoneticReading.soundsList&&0!==window.phoneticReading.soundsList.length){for(var i=null,e=0;e<window.phoneticReading.soundsList.length;e++)if(window.phoneticReading.soundsList[e].articleId===t){i=window.phoneticReading.soundsList[e];break}i&&(this.swiper2[0].insertBefore(window.phoneticReading.audioBar,document.querySelector(".paragraph")),window.phoneticReading.renderAudioBar(this.swiper2,t),window.phoneticReading.setAudioBarSource(i),this.list2.refreshData())}},prev:function(){if(this.page<=0&&this.index<=0)this.tip("first");else if(this.index<=0)for(var t=this.page-1;0<=t;t--){if(this.data[t].articles&&0!=this.data[t].articles.length){this.page=t,this.index=this.data[t].articles.length-1,this.showArticle(this.page,this.index);break}0==t&&this.tip("first")}else this.index--,this.showArticle(this.page,this.index)},next:function(){if(this.page>=this.data.length-1&&this.index>=this.data[this.page].articles.length-1)this.tip("last");else if(this.index>=this.data[this.page].articles.length-1)for(var t=this.page+1;t<=this.data.length-1;t++){if(this.data[t].articles&&0!=this.data[t].articles.length){this.page=t,this.index=0,this.showArticle(this.page,this.index);break}t==this.data.length-1&&this.tip("last")}else this.index++,this.showArticle(this.page,this.index)},tip:function(t){var i="";switch(t){case"last":i=getLanguage("articleLast","当前是最后篇文章");break;case"first":i=getLanguage("articleFirst","当前是第一篇文章")}i&&(this._tipsBox||(this._tipsBox=new TipsBox({opacity:1},$("body"))),this._tipsBox.setCaption(i),this._tipsBox.showTipsBox())},enlarge:function(){for(var t=this.swiper2.find("div"),i=0;i<t.length;i++){var e=t[i],o=parseInt($(e).css("font-size"));parseInt($(e).css("line-height")),$(e).css({"font-size":parseInt(1.2*o)+"px"})}this.list2.refreshData()},reduce:function(){for(var t=this.swiper2.find("div"),i=0;i<t.length;i++){var e=t[i],o=parseInt($(e).css("font-size"));parseInt($(e).css("line-height")),$(e).css({"font-size":parseInt(.8*o)+"px"})}this.list2.refreshData()},initEvent:function(){this.button.onTap(function(){this.showOrHide()}.bind(this)),this.button2.onTap(function(){this.showOrHide()}.bind(this)),this.backBtn.onTap(function(){this.showList()}.bind(this)),this.share.onTap(function(){global.sharePanel.showOrHide()}.bind(this)),this.prevBtn.onTap(function(){this.prev()}.bind(this)),this.nextBtn.onTap(function(){this.next()}.bind(this)),this.enlargeBtn.onTap(function(){this.enlarge()}.bind(this)),this.reduceBtn.onTap(function(){this.reduce()}.bind(this))},onResize:function(){this.stage.css("height",windowHeight-121+"px"),this.list.css("height",windowHeight-121-22+"px"),this.list.refreshData(),this.list2.css("height",windowHeight-121-22-65+"px"),this.list2.refreshData(),animateOnce($("#text-container"),{opacity:"0"},.6,function(){$("#text-container").remove()}.bind(this))},onShow:function(){this.button.show(),this.button2.hide(),resizeFlipBook(),window.flipShotButton&&flipShotButton.onResize()},onHide:function(){this.button2.show(),this.button.hide(),resizeFlipBook(),window.flipShotButton&&flipShotButton.onResize()},show:function(){this.visible=!0,this.stage.animate({right:10},400,function(){}.bind(this)),this.onShow()},hide:function(){this.visible=!1,this.stage.animate({right:-this.width},400,function(){this.onHide()}.bind(this))}}).extend(SlideForm),PhoneArticlePeriodical=Class({create:function(t){this._super(t),this.fillContent()},onCreate:function(){this._super(),this.stage.css({"background-color":"#ffffff",color:"#333940"}),$("#date-group").bind("input propertychange change",function(){var t=$("#date-group").val();t?(t=this.refreshListByDate(t),this.refreshList(t)):this.onRefresh()}.bind(this))},initHtml:function(){this.loading=$("<img src='"+uiBaseURL+"loading.gif'/>"),this.calendarUrl=this.getImageUrl("calendar_form"),this.cancleUrl=this.getImageUrl("closeForm"),this.articleArrowUrl=this.getImageUrl("articleDateArrow"),this.articleEmptyUrl=this.getImageUrl("articleEmpty"),this.head=$("<div class='head'></div>"),this.title2=$("<div class='title2'><img src='"+this.calendarUrl+"'/><span>"+getLanguage("btnCalendar","往期")+"</span></div>"),this.close=$("<div class='close'><img src='"+this.cancleUrl+"'/><span></span></div>"),this.dataButton=$("<div class='dataButton'><img src='"+this.articleArrowUrl+"'/><input id='date-group' placeholder='选择日期'/></div>"),this.head.append(this.title2),this.head.append(this.dataButton),this.empty=$("<div class='calendar_empty'><img src='"+this.articleEmptyUrl+"'/><p>没有相关结果</p></div>"),this.container=$("<div class='container'></div>"),this.head.append(this.close),this.stage.append(this.head),this.stage.append(this.empty),this.stage.append(this.container),$(this.close).changeButtonColor("#333940")},onResize:function(){this.width=windowWidth,this.height=windowHeight,this.stage.css({bottom:-this.height+"px",width:this.width+"px",height:this.height+"px"}),this.container.css({width:"100%",height:windowHeight-62+"px",overflow:"auto","scroll-behavior":"smooth",padding:"0"});var t=this.visible?transformCSS({tran:{x:0,y:-this.height}}):transformCSS({tran:{x:0,y:0}});this.stage.css(t),this.container.bind(_event._mousewheel,function(t){t.stopPropagation()}.bind(this))},initDatePicker:function(){var t="YYYY-MM-DD";switch(this.data.dateType){case"day":t="YYYY-MM-DD";break;case"week":case"half-month":case"month":t="YYYY-MM";break;case"two-months":case"season":case"half-year":case"year":t="YYYY"}this.rolldate=new Rolldate({el:"#date-group",format:t,beginYear:2e3,endYear:2100})},refreshListByDate:function(t){for(var i,e=this.data.list,o=[],s=0;s<e.length;s++)e[s].time&&(i=dateFormat(e[s].time,"yyyy-MM-dd"))&&0<=i.indexOf(t)&&o.push(e[s]);return o},onRefresh:function(){this.refreshList(this.data.list)},initEvent:function(){this.close.bind(_event._click,this.hide.bind(this))},onShow:function(){},fillContent:function(){window.book_visit&&window.book_visit.periodicalId&&window.book_visit.periodsListPath&&$.ajax({url:window.book_visit.periodsListPath,data:{periodicalId:window.book_visit.periodicalId},type:"get",async:!1,success:function(b){try{this.fillList(eval("("+b+")").data)}catch(c){}}.bind(this),error:function(){}})},fillList:function(t){this.loading.remove(),this.data=t,this.initDatePicker();var i=t.list;t&&i&&0!=i.length?this.refreshList(i):this.empty.show()},refreshList:function(t){if(this.container.empty(),t&&0!=t.length){this.empty.hide();for(var i=0;i<t.length;i++){var e=t[i].time?dateFormat(t[i].time,"yyyy-MM-dd"):"",o=$("<div class='item' index='"+i+"'></div>"),s=$("<div class='h2'>"+t[i].title+"</div>"),e=$("<div class='time'>"+e+"</div>"),n=($("<div class='tip'>最近读过</div>"),$("<div class='image'></div>")),a=(n.css("background-image","url("+t[i].image+")"),o.append(s),o.append(e),o.append(n),this);o.click(function(){var t=parseInt($(this).attr("index"));a.showBook(t)}),this.container.append(o)}t=$("<div class='tips'>暂无更多</div>"),this.container.append(t)}else this.empty.show()},showBook:function(t){var i=this.data.list[t].bookUrl;(i=(t=this.data.list[t].domainUrl)&&t.indexOf(0<=window.location.host)?t:i)&&window.open(i.addUrlParameter({param:"phone=true"}),"_self")},getImageUrl:function(t){return window.phone_toolbar_icons&&phone_toolbar_icons[t]?"data:image/png;base64,"+phone_toolbar_icons[t]:uiBaseURL+t+".png"},hide:function(){this._super(),$("#date-group").val("")}}).extend(PhoneReaderFormFrame),AddImageFile=Class({create:function(t){this.container=t,this.addContexts={},this.address=uiBaseURL,this.currentObject=$("<div><div/>").attr("data-key","114"),this.imageDatas={},this.fileName=window.location.href.replace(window.location.hash,"")+"LocalFile",this.fileCookies=[],this.createZoomFrame(),this.toolBar=this.createToolBar(t),this.getCookieFile()},createToolBar:function(t){var i=this,e=$("<div class='flipHTML5LocalFile-toolBar' style='position: absolute;width: 60px;height: 32px;background-color: rgba(0, 0, 0, 0.8);border-radius: 4px;z-index: 9999;'></div>").appendTo(t).hide(),o=(t=$("<div class='flipHTML5LocalFile-toolBar-del'></div>").css({left:4}).append($("<img style='margin-left: 3px;margin-top: 3px;'/>").attr("src",this.address+"signature_del.png")).appendTo(e),$("<div class='flipHTML5LocalFile-toolBar-update'></div>").css({left:32}).append($("<img style='margin-left: 3px;margin-top: 3px;'/>").attr("src",this.address+"ImgFile_update.png")).appendTo(e));return t.on("click touchend",function(t){i.currentObject&&(i.currentObject.remove(),e.hide(),i.zoomFrame&&i.zoomFrame.hide(),t=i.currentObject.attr("data-key"),delete i.imageDatas[t],i.delArrayOrderKey(i.fileCookies,t),i.addLocalStorage(i.fileName,i.parseJSON(i.fileCookies)))}),o.on(_event._down,function(){i.currentObject&&i.currentObject.find(".TextFile")&&i.currentObject.find(".TextFile")[0].click()}),e.on("mousedown touchstart",function(t){return t.preventDefault(),t.stopPropagation(),!1}),this.container.add($(document)).add(BookInfo.container()).on("mousedown.hideToolBar touchstart.hideToolBar",function(){e.hide()}),e},createZoomFrame:function(){var t=$("<div class='flipHTML5ZoomFrame' style='position: absolute;'></div>"),i=[];this.zoomFrame=t;for(var e=0;e<9;e++){var o=$("<div></div>").addClass("flipHTML5Point flipHTML5ZoomPoint"+e).appendTo(t);i.push(o)}this.westZoom(i[7]),this.northZoom(i[1]),this.southZoom(i[5]),this.eastZoom(i[3]),this.westZoom(i[0]).northZoom(i[0]),this.northZoom(i[2]).eastZoom(i[2]),this.westZoom(i[6]).southZoom(i[6]),this.southZoom(i[4]).eastZoom(i[4]),this.container.add($(document)).add(BookInfo.container()).on("mousedown.hideToolBar touchstart.hideToolBar",function(){t.hide()})},getCookieFile:function(){try{var b=this.getLocalStorage(this.fileName),c=eval(b)}catch(f){}if(c)for(b=0;b<c.length;b++){var d=c[b];this.fileCookies.push({key:d.key,page:d.page,fileLeft:d.fL,fileTop:d.fT,fileWidth:d.fW,fileHeight:d.fH,imgWidth:d.iW,imgHeight:d.iH,src:d.src}),this.imageDatas[d.key]={width:d.iW,height:d.iH}}},addFile:function(t,i){var e=t.src,o=t.imgWidth,s=t.imgHeight,n=t.key;t=$("<div class='flipHTML5AddFile' style='position: absolute;cursor: move;'></div>").css({width:t.fileWidth,height:t.fileHeight,left:t.fileLeft,top:t.fileTop}).attr("data-key",n).append($("<input type='file' class='TextFile' style='position: absolute;left: 0px;top: 0px;width: 100%;height: 100%;cursor: move;z-index: 2;'/>").css({opacity:0})).appendTo(i),this.bindFileDivEvents(t,i),o&&s&&e&&this.addImage(t,e,o,s,n)},addCreateEvents:function(){var t,i=0,e=this.contextArray;if(e)for(this.offCreateEvents();0<(t=e.eq(i++)).length;)this.bindCreateFileEvent(t,parseInt(t.attr("data-page")))},offCreateEvents:function(){this.contextArray&&(this.contextArray.css({cursor:""}),this.contextArray.off("mousedown.addLocalFile touchstart.addLocalFile"))},bindCreateFileEvent:function(p,u){var f=this;p.css("cursor","crosshair"),p.off("mousedown.addLocalFile touchstart.addLocalFile").one("mousedown.addLocalFile touchstart.addLocalFile",function(t){t.stopPropagation(),t.preventDefault();var i,e,o,s,n,a,h=(new Date).getTime(),r=p.offset().left,g=p.offset().top,l=($(".flipHTML5LocalFile-current").removeClass("flipHTML5LocalFile-current"),$("<div style='position: absolute;cursor: move;'></div>").attr("data-key",h).addClass("flipHTML5AddFile flipHTML5LocalFile-current").append($("<input type='file' class='TextFile' style='position: absolute;left: 0px;top: 0px;width: 100%;height: 100%;cursor: move;z-index: 2;'/>").css({opacity:0})).appendTo(p)),d=t.pageX||t.originalEvent.touches[0].pageX,c=t.pageY||t.originalEvent.touches[0].pageY;f.bindFileDivEvents(l,p),$(document).add(p).off("mousemove.addLocalFile touchmove.addLocalFile").on("mousemove.addLocalFile touchmove.addLocalFile",function(t){i=t.pageX||(t.originalEvent.touches?t.originalEvent.touches[0].pageX:0),e=t.pageY||(t.originalEvent.touches?t.originalEvent.touches[0].pageY:0),i&&(n=i-d<0?(o=Math.floor((i-r)/BookInfo.scale()),Math.floor((d-i)/BookInfo.scale())):(o=Math.floor((d-r)/BookInfo.scale()),Math.floor((i-d)/BookInfo.scale()))),e&&(a=t.pageY-c<0?(s=Math.floor((e-g)/BookInfo.scale()),Math.floor((c-e)/BookInfo.scale())):(s=Math.floor((c-g)/BookInfo.scale()),Math.floor((e-c)/BookInfo.scale()))),l.css({left:o,top:s,width:n,height:a}),f.resizeZoomFrame(l)}),$(document).add(p).off("mouseup.addLocalFile touchend.addLocalFile").one("mouseup.addLocalFile touchend.addLocalFile",function(t){var i;f.offCreateEvents(),$(document).add(p).off("mousemove.addLocalFile touchmove.addLocalFile"),$(document).add(p).off("mouseup.addLocalFile touchend.addLocalFile"),l&&(t=l.width(),i=l.height(),t<32&&l.width(32),i<12&&l.height(12),l.find(".TextFile")[0].click(),f.resizeZoomFrame(l),t=f.parseObject(l[0]),f.parseObject(f.zoomFrame[0]),f.fileCookies.push({key:h,page:u,fileLeft:t.left,fileTop:t.top,fileWidth:t.width,fileHeight:t.height,imgWidth:null,imgHeight:null,src:null}),f.addLocalStorage(f.fileName,f.parseJSON(f.fileCookies))),null!=f.onCreated&&f.onCreated[1].call(f.onCreated[0])})})},addImage:function(t,i,e,o,s){t.find(".LocalImage")&&t.find(".LocalImage").remove();var n=t.width()||40,a=t.height()||40;e=this.resizeImage("autoFit",e,o,n,a),$("<img class='LocalImage' style='position: absolute;z-index: 2;'/>").attr("data-key",s).css({width:e.width,height:e.height,left:e.left,top:e.top}).attr("src",i).appendTo(t)},resizeImage:function(t,i,e,o,s){i/=e,e=0===s?1:o/s;var n=s*i,a=o/i;switch(t){case"autoFit":var h=o<n?{width:o,height:a,top:(s-a)/2,left:0}:s<a?{width:n,height:s,left:(o-n)/2,top:0}:n/a==i?{width:n,height:a,left:0,top:0}:{width:1,height:1,left:0,top:0};break;case"scale":h={left:0,top:0,width:o,height:s};break;case"fullFill":e<i?h={left:(o-s*i)/2,top:0,width:s*i,height:s}:i<e?h={left:0,top:(s-o/i)/2,width:o,height:o/i}:i==e&&(h={left:0,top:0,width:o,height:s})}return h},bindFileDivEvents:function(h,r){var g=this,l=!1,d=h.attr("data-key");h.on("pointerdown.signatureImg",function(t){t.stopPropagation()}),h.off("mousedown.addLocalFile touchstart.addLocalFile").on("mousedown.addLocalFile touchstart.addLocalFile",function(t){t.preventDefault(),t.stopPropagation(),t=t.originalEvent.touches?t.originalEvent.touches[0]:t;var i,e,o=h[0].offsetLeft,s=h[0].offsetTop,n=t.pageX,a=t.pageY;g.resizeZoomFrame(h),r.off("mousemove.addLocalFile touchmove.addLocalFile").on("mousemove.addLocalFile touchmove.addLocalFile",function(t){t=t.originalEvent.touches?t.originalEvent.touches[0]:t,(3<=Math.abs(t.pageX-n)||3<=Math.abs(t.pageY-a))&&(l=!0),i=o-(n-t.pageX)/BookInfo.scale(),e=s-(a-t.pageY)/BookInfo.scale(),h.css({left:i,top:e}),g.moveFileDiv(i,e)}),$(document).add(r).off("mouseup.addLocalFile touchend.addLocalFile").one("mouseup.addLocalFile touchend.addLocalFile",function(){r.off("mousemove.addLocalFile touchmove.addLocalFile"),$(document).add(r).off("mouseup.addLocalFile touchend.addLocalFile"),setTimeout(function(){l=!1},200);var t=g.parseObject(h[0]);g.parseObject(g.zoomFrame[0]),g.updateArrayOrderKey(g.fileCookies,d,{fileLeft:t.left,fileTop:t.top}),g.addLocalStorage(g.fileName,g.parseJSON(g.fileCookies))})}),h.find(".TextFile").on({change:function(t){try{var i,e=t.target.files[0];e&&(e.type.match("image.*")?((i=new FileReader).onload=function(t){t=t.target.result;(e=new Image).src=t;var i=e.width,e=e.height;g.imageDatas[d]={width:i,height:e,src:t},g.addImage(h,t,i,e,d),g.updateArrayOrderKey(g.fileCookies,d,{imgWidth:i,imgHeight:e,src:t}),g.addLocalStorage(g.fileName,g.parseJSON(g.fileCookies))},i.readAsDataURL(e)):alert("not image!"))}catch(t){alert("Does not support HTML5 FileReader!")}},click:function(t){l&&t.preventDefault()}})},moveFileDiv:function(t,i){var e=this.zoomFrame;e&&(e.css({left:t-4-1,top:i-4-1}),this.toolBar)&&this.toolBar.css({left:e.offset().left-this.container.offset().left+3,top:e.offset().top-this.container.offset().top-this.toolBar.outerHeight()-2})},resizeZoomFrame:function(t){var i=this.zoomFrame;i.css({width:t.width()+8,height:t.height()+8,left:parseInt(t.css("left"))-4-1,top:parseInt(t.css("top"))-4-1}).show(),this.toolBar&&this.toolBar.css({left:t.offset().left-8-this.container.offset().left+3,top:t.offset().top-8-this.container.offset().top-this.toolBar.outerHeight()-2}).show(),t.before(i),$(".flipHTML5LocalFile-current").removeClass("flipHTML5LocalFile-current"),this.currentObject=t.addClass("flipHTML5LocalFile-current")},resizeFileDiv:function(t,i,e,o){var s=this.currentObject,n=this.zoomFrame,a=s.attr("data-key");if(this.toolBar&&this.toolBar&&this.toolBar.css({left:n.offset().left-this.container.offset().left+3,top:n.offset().top-this.container.offset().top-this.toolBar.outerHeight()-2}),s){t&&(n.css({left:t}),s.css({left:t+4+1})),i&&(n.css({top:i}),s.css({top:i+4+1})),e&&40<=e&&(n.css({width:e}),s.css({width:e-8})),o&&20<=o&&(n.css({height:o}),s.css({height:o-8}));try{var h=s.find(".LocalImage"),r=this.imageDatas[a],g=this.resizeImage("autoFit",r.width,r.height,s.width(),s.height());h.css({width:g.width,height:g.height,left:g.left,top:g.top})}catch(t){}g=this.parseObject(s[0]),this.parseObject(n[0]),this.updateArrayOrderKey(this.fileCookies,a,{fileLeft:g.left,fileTop:g.top,fileWidth:g.width,fileHeight:g.height})}},eastZoom:function(t){var s=this,n=t.parent();return t.on("mousedown.addLocalFile touchstart.addLocalFile",function(t){t.preventDefault(),t.stopPropagation(),t=t.originalEvent.touches?t.originalEvent.touches[0]:t;var i=n.parent(),e=n.width(),o=t.pageX;$(document).add(i).on("mousemove.addLocalFile touchmove.addLocalFile",function(t){t=t.originalEvent.touches?t.originalEvent.touches[0]:t,t=Math.floor(e-(o-t.pageX)/BookInfo.scale()),s.resizeFileDiv(0,0,t,0)}),$(document).add(i).on("mouseup.addLocalFile touchend.addLocalFile",function(){s.addLocalStorage(s.fileName,s.parseJSON(s.fileCookies)),$(document).add(i).off("mousemove.addLocalFile touchmove.addLocalFile"),$(document).add(i).off("mouseup.addLocalFile touchend.addLocalFile")})}),this},southZoom:function(t){var s=this,n=t.parent();return t.on("mousedown.addLocalFile touchstart.addLocalFile",function(t){t.preventDefault(),t.stopPropagation(),t=t.originalEvent.touches?t.originalEvent.touches[0]:t;var i=n.parent(),e=n.height(),o=t.pageY;$(document).add(i).on("mousemove.addLocalFile touchmove.addLocalFile",function(t){t=t.originalEvent.touches?t.originalEvent.touches[0]:t,t=Math.floor(e-(o-t.pageY)/BookInfo.scale()),s.resizeFileDiv(0,0,0,t)}),$(document).add(i).on("mouseup.addLocalFile touchend.addLocalFile",function(){s.addLocalStorage(s.fileName,s.parseJSON(s.fileCookies)),$(document).add(i).off("mousemove.addLocalFile touchmove.addLocalFile"),$(document).add(i).off("mouseup.addLocalFile touchend.addLocalFile")})}),this},westZoom:function(t){var n=this,a=t.parent();return t.on("mousedown.addLocalFile touchstart.addLocalFile",function(t){t.preventDefault(),t.stopPropagation(),t=t.originalEvent.touches?t.originalEvent.touches[0]:t;var i=a.parent(),e=a.width(),o=a[0].offsetLeft,s=t.clientX;$(document).add(i).on("mousemove.addLocalFile touchmove.addLocalFile",function(t){t=t.originalEvent.touches?t.originalEvent.touches[0]:t;var i=o+(t.pageX-s)/BookInfo.scale();t=Math.floor(e+(s-t.pageX)/BookInfo.scale()),n.resizeFileDiv(i,0,t,0)}),$(document).add(i).on("mouseup.addLocalFile touchend.addLocalFile",function(){n.addLocalStorage(n.fileName,n.parseJSON(n.fileCookies)),$(document).add(i).off("mousemove.addLocalFile touchmove.addLocalFile"),$(document).add(i).off("mouseup.addLocalFile touchend.addLocalFile")})}),this},northZoom:function(t){var n=this,a=t.parent();return t.on("mousedown.addLocalFile touchstart.addLocalFile",function(t){t.preventDefault(),t.stopPropagation(),t=t.originalEvent.touches?t.originalEvent.touches[0]:t;var i=a.parent(),e=a.height(),o=a[0].offsetTop,s=t.pageY;$(document).add(i).on("mousemove.addLocalFile touchmove.addLocalFile",function(t){var i=(t=t.originalEvent.touches?t.originalEvent.touches[0]:t).pageY;t=o+(i-s)/BookInfo.scale(),i=Math.floor(e+(s-i)/BookInfo.scale()),n.resizeFileDiv(0,t,0,i)}),$(document).add(i).on("mouseup.addLocalFile touchend.addLocalFile",function(){n.addLocalStorage(n.fileName,n.parseJSON(n.fileCookies)),$(document).add(i).off("mousemove.addLocalFile touchmove.addLocalFile"),$(document).add(i).off("mouseup.addLocalFile touchend.addLocalFile")})}),this},bindOnCreated:function(t,i){this.onCreated=[t,i]},parseObject:function(t){var i,e,o,s,n;if(document.getElementsByTagName("body")[0].contains(t))return n=t.parentNode,i=t.style,e=$(t),o=100/n.offsetHeight,s=100/n.offsetWidth,n=t.offsetLeft*s+"%",t=t.offsetTop*o+"%",s=e.width()*s+"%",o=e.height()*o+"%",{width:i.width=s,height:i.height=o,left:i.left=n,top:i.top=t}},addLocalFileByPage:function(t,i){i.find(".flipHTML5AddFile").remove(),this.toolBar&&this.toolBar.hide(),this.zoomFrame&&this.zoomFrame.hide(),i.attr("data-page",t),this.contextArray=this.contextArray?this.contextArray.add(i):i,this.zoomFrame&&this.zoomFrame.remove(),this.createZoomFrame();for(var e=0;e<this.fileCookies.length;e++)this.fileCookies[e].page==t&&this.addFile(this.fileCookies[e],i)},setContainers:function(t,i,e){null==this.addContexts[t]&&(this.addContexts[t]={}),this.addContexts[t][i]=e,t==BookInfo.getBookType()&&this.addLocalFileByPage(i,this.addContexts[BookInfo.getBookType()][i])},getLocalStorage:function(t){try{if(window.localStorage)return window.localStorage.getItem(t);for(var i=document.cookie.split("; "),e=0;e<i.length;e++){var o=i[e].split("=");if(o[0]==t)return unescape(o[1])}return""}catch(t){}},addLocalStorage:function(t,i){try{var e,o;window.localStorage?window.localStorage.setItem(t,i):(e=t+"="+escape(i),(o=new Date).setTime(o.getTime()+864e8),e+="; expires="+o.toGMTString(),document.cookie=e)}catch(t){}},delArrayOrderKey:function(t,i){if(t)for(var e=0;e<t.length;e++)t[e].key&&t[e].key==i&&t.remove(e)},updateArrayOrderKey:function(t,i,e){if(t)for(var o=0;o<t.length;o++)t[o].key&&t[o].key==i&&$.extend(t[o],e)},parseJSON:function(t){if(0!=t.length){for(var i="[",e=0;e<t.length;e++)i+="{key:'"+t[e].key+"',page:"+t[e].page+",src:'"+t[e].src+"',iW:"+t[e].imgWidth+",iH:"+t[e].imgHeight+",fW:'"+t[e].fileWidth+"',fH:'"+t[e].fileHeight+"',fL:'"+t[e].fileLeft+"',fT:'"+t[e].fileTop+"'},";return(i=i.substring(0,i.length-1))+"]"}}}),HandSwipeHelp=Class({create:function(t){this.parent=t,this.container=$(""),this.helpHand=$("<div ></div>"),this.handImg=$("<img />"),this.setSrc(this.handImg,phone_toolbar_icons,"phoneHandSwipe"),t.append(this.container),this.setCSS(),this.initEvent()},setCSS:function(){this.container.css({position:"absolute","z-index":"10000",width:"100%",height:"100%",background:"rgba(11,11,11,0.5)"}),this.helpHand.css({position:"absolute",width:"69px",height:"75px",right:(windowWidth-69)/2+"px",top:(windowHeight-75)/2+"px"}),this.handImg.css({position:"absolute",width:"100%",height:"100%"})},onSwipe:function(t,i){var e=30;bookConfig.FlipDirection?(e=e*windowHeight/1600,Math.abs(i)<=e||e<i&&nextPageFun("help swipe")):(e=e*windowWidth/1600,Math.abs(t)<=e||(t<-e||e<t&&rightToLeft)&&nextPageFun("help swipe"))},setSrc:function(t,i,e){i&&i[e]?t.attr("src","data:image/png;base64,"+i[e]):t.attr("src",phoneBaseURL+e+".png")},initEvent:function(){this.close,this.parent.bind(_event._up,function(){this.hide()}.bind(this))},onResize:function(t,i){this.setCSS()},show:function(){this.container.css("display","block"),parseBool(bookConfig.FlipDirection)?this.helpHand.addClass("handSwipeHelp_Top"):rightToLeft?this.helpHand.addClass("handSwipeHelp_Right"):this.helpHand.addClass("handSwipeHelp_Left"),this.visible=!0},hide:function(){this.helpHand.attr("class",""),this.container.fadeOut(300),this.visible=!1}}),AppLargeLogo=Class({create:function(t){this.parent=t,this.initHtml(),this.initCss(),this.initEvent()},initHtml:function(){this.logoContainer=$("<div></div>"),this.largeLogo=$("<img src='"+bookConfig.appLargeLogoIcon+"'/>"),bookConfig.appLargeLogoIcon||this.logoContainer.css({display:"none"}),this.logoContainer.append(this.largeLogo),this.parent.append(this.logoContainer)},initCss:function(){switch(this.logoContainer.css({display:"block",position:"absolute","z-index":"100"}),bookConfig.appLargeLogoURL&&this.largeLogo.css({cursor:"pointer"}),bookConfig.LargeLogoPosition||(bookConfig.LargeLogoPosition="top-left"),bookConfig.LargeLogoPosition){case"top-left":this.logoContainer.css({left:toolBar.getLeftWidth()+10+"px",top:toolBar.getTopHeight()+10+"px"});break;case"bottom-left":this.logoContainer.css({left:toolBar.getLeftWidth()+10+"px",bottom:toolBar.getBottomHeight()+10+"px"});break;case"top-right":this.logoContainer.css({right:toolBar.getRightWidth()+10+"px",top:toolBar.getTopHeight()+10+"px"});break;case"bottom-right":this.logoContainer.css({bottom:toolBar.getBottomHeight()+10+"px",right:toolBar.getRightWidth()+10+"px"})}bookConfig.isFixLogoSize&&(this.logoContainer.css({width:bookConfig.logoFixWidth+"px",height:bookConfig.logoFixHeight+"px"}),this.largeLogo.css({width:bookConfig.logoFixWidth+"px",height:bookConfig.logoFixHeight+"px"}))},hideLargeLogo:function(){this.logoContainer.css({display:"none"})},onResize:function(t,i){},initEvent:function(){this.largeLogo.bind(_event._click,function(t){t.stopPropagation(),bookConfig.appLargeLogoURL&&(bookConfig.LargeLogoTarget||(bookConfig.LargeLogoTarget="blank"),BookEvent.trigger("jumpLink",["largeLogo",BookInfo.getCurrentPages().join("-"),bookConfig.appLargeLogoURL]),window.open(bookConfig.appLargeLogoURL,"_"+bookConfig.LargeLogoTarget.toLowerCase()))}.bind(this))}}),BookInstructionsPage=(Class("VolumeControlBar",{statics:{LEFT:1,TOP:2,RIGHT:3,BOTTOM:4,DEFAULT:5},create:function(t){global.bgSound&&!isPhone()&&!isPad()&&t&&(this.parent=t,this.initParam(),this.volumeBackground=$("<div class='volume-bar' style='visibility:hidden;z-index:1000'></div>"),this.volumeReduce=$("<img class='volume-reduce'  />"),this.volumeBar=$('<div class="volume-pgress"></div>'),this.volumeBg=$('<div class="volume-pgress-bg"></div>'),this.volumePoint=$("<span></span>"),this.volumeAdd=$("<img class='volume-add' />"),this.parent.append(this.volumeBackground),this.volumeBackground.append(this.volumeReduce),this.volumeBar.append(this.volumePoint),this.volumeBg.append(this.volumeBar),this.volumeBackground.append(this.volumeBg),this.volumeBackground.append(this.volumeAdd),this.initEvent(),this.onResize(),this.initCss(),this.hide())},initParam:function(){this.length=58,this.rate=1,null!=bookConfig.bgSoundVol&&(this.rate=bookConfig.bgSoundVol/100),this.iconOn=this.visible=!0,this.initConfig()},initConfig:function(){VolumeControlBar.config||(VolumeControlBar.config={direction:VolumeControlBar.DEFAULT,color:Color(bookConfig.toolbarColor).toString(),iconColor:Color(bookConfig.iconColor).toString()}),this.deviation=VolumeControlBar.config.deviation||0,this.direction=VolumeControlBar.config.direction||VolumeControlBar.DEFAULT,this.color=VolumeControlBar.config.color||Color(bookConfig.toolbarColor).toString(),this.iconColor=VolumeControlBar.config.iconColor||Color(bookConfig.iconColor).toString()},initCss:function(){this.setSrc(this.volumeAdd,"soundAdd"),this.setSrc(this.volumeReduce,"soundReduce"),this.volumePoint.css({background:this.iconColor}),this.volumeBar.css({cursor:"pointer"}),this.volumeBg.css({cursor:"pointer"})},setSrc:function(t,i){toolbar_icons&&toolbar_icons[i]?t.attr("src","data:image/png;base64,"+toolbar_icons[i]):t.attr("src",uiBaseURL+i+".png"),this.changeIconColor()},changeIconColor:function(){this.volumeAdd.changeButtonColor(this.iconColor),this.volumeReduce.changeButtonColor(this.iconColor)},volumeBarCSS:function(t){switch(this.left=t.left,this.top=t.top,this.direction){case VolumeControlBar.LEFT:this.position=this.length-this.rate*this.length,this.top+=(t.height-30)/2+this.deviation,this.volumeBackground.css({top:this.top+"px",left:this.left-131+"px",width:"131px",height:"30px",background:this.color}),this.volumeBg.css({position:"absolute",width:"70px",height:"10px",left:"30px",right:"auto",top:"10px",bottom:"auto"}),this.volumeBar.css({width:"70px",height:"auto",border:"none","border-top":"2px solid "+this.iconColor,top:"4px"}),this.volumePoint.css({top:"-7px",left:this.position+"px"}),this.volumeReduce.css({right:"0",top:"3px",left:"auto",bottom:"auto"}),this.volumeAdd.css({left:"0",top:"3px",right:"auto",bottom:"auto"});break;case VolumeControlBar.TOP:this.position=this.length-this.rate*this.length,this.left+=(t.width-30)/2+this.deviation,this.volumeBackground.css({left:this.left+"px",top:this.top-131+"px",width:"30px",height:"131px",background:this.color}),this.volumeBg.css({position:"absolute",height:"70px",width:"10px",bottom:"30px",top:"auto",left:"10px",right:"auto"}),this.volumeBar.css({height:"70px",width:"auto",top:"auto",border:"none","border-left":"2px solid "+this.iconColor,left:"4px"}),this.volumePoint.css({left:"-7px",top:this.position+"px"}),this.volumeReduce.css({left:"3px",bottom:"3px",right:"auto",top:"auto"}),this.volumeAdd.css({right:"3px",top:"3px",left:"auto",bottom:"auto"});break;case VolumeControlBar.RIGHT:this.position=this.rate*this.length,this.top+=(t.height-30)/2+this.deviation,this.volumeBackground.css({top:this.top+"px",left:this.left+t.width+"px",width:"131px",height:"30px",background:this.color}),this.volumeBg.css({position:"absolute",width:"70px",height:"10px",left:"30px",right:"auto",top:"10px",bottom:"auto"}),this.volumeBar.css({width:"70px",height:"auto",border:"none","border-top":"2px solid "+this.iconColor,top:"4px"}),this.volumePoint.css({left:this.position+"px",top:"-7px"}),this.volumeReduce.css({left:"0",top:"3px",right:"auto",bottom:"auto"}),this.volumeAdd.css({right:"0",top:"3px",left:"auto",bottom:"auto"});break;case VolumeControlBar.BOTTOM:this.position=this.rate*this.length,this.left+=(t.width-30)/2+this.deviation,this.volumeBackground.css({left:this.left+"px",top:this.top+t.height+"px",width:"30px",height:"131px",background:this.color}),this.volumeBg.css({position:"absolute",height:"70px",width:"10px",bottom:"30px",top:"auto",left:"10px",right:"auto"}),this.volumeBar.css({height:"70px",width:"auto",border:"none","border-left":"2px solid "+this.iconColor,left:"4px"}),this.volumePoint.css({left:"-7px",top:this.position+"px"}),this.volumeReduce.css({left:"3px",top:"3px",right:"auto",bottom:"auto"}),this.volumeAdd.css({right:"3px",bottom:"3px",left:"auto",top:"auto"});break;case VolumeControlBar.DEFAULT:this.volumeBackground.css({visibility:"hidden",opacity:"0"})}},setPosition:function(){switch(this.change=this.startPosition=this.position=0,this.direction){case VolumeControlBar.LEFT:this.leftPosition();break;case VolumeControlBar.TOP:this.topPosition();break;case VolumeControlBar.RIGHT:this.rightPosition();break;case VolumeControlBar.BOTTOM:this.bottomPosition()}},onResize:function(){$(window).resize(function(){this.hide(),this.direction=VolumeControlBar.config.direction||VolumeControlBar.DEFAULT,this.setPosition()}.bind(this))},initEvent:function(){this.parent.bind("click",function(t){t.stopPropagation(),this.hide()}.bind(this)),this.volumeBackground.bind("click",function(t){t.stopPropagation()}.bind(this)),this.volumeBackground.bind("mouseenter",function(t){this.visible=!0,this.volumeBackground.css({visibility:"visbile",opacity:"1"})}.bind(this)),this.volumeBackground.bind("mouseleave",function(t){this.visible=!1,this.hide()}.bind(this)),this.volumePoint.bind("click",function(t){t.stopPropagation()}.bind(this)),this.volumeBg.bind("click",function(t){t.stopPropagation(),this.direction==VolumeControlBar.RIGHT||this.direction==VolumeControlBar.LEFT?this.getRate(t.offsetX):this.getRate(t.offsetY),this.position=this.length-this.rate*this.length,this.volumePointCSS(),this.setIcon(),this.setVolume(this.rate)}.bind(this))},getRate:function(t){this.rate=this.length+12-t<=0?0:58<=this.length+12-t?1:(this.length+12-t)/this.length},setEvent:function(){1==this.direction||3==this.direction?(this.volumePoint.bind("mousedown",function(t){t.stopPropagation(),this.position=this.volumePoint.left(),this.startPosition=t.pageX,this.focus=!0}.bind(this)),$("body").bind("mouseup",function(t){t.stopPropagation(),this.focus=!1}.bind(this))):(this.volumePoint.bind("mousedown",function(t){t.stopPropagation(),this.position=this.volumePoint.top(),this.startPosition=t.pageY,this.focus=!0}.bind(this)),$("body").bind("mouseup",function(t){t.stopPropagation(),this.focus=!1}.bind(this)))},rightPosition:function(){this.setEvent(),$("body").bind("mousemove",function(t){this.focus&&(this.startPosition&&(this.change=this.startPosition-t.pageX),this.position-=this.change,0<=this.position)&&this.position<=this.length&&(this.rate=this.position/this.length,this.setIcon(),this.volumePointCSS()),this.startPosition=t.pageX}.bind(this)),this.volumeAdd.unbind("click").bind("click",function(){this.position=this.volumePoint.left()+5.8>this.length?this.length:this.volumePoint.left()+5.8,this.setIcon(),this.volumePointCSS()}.bind(this)),this.volumeReduce.unbind("click").bind("click",function(){this.position=this.volumePoint.left()-5.8<0?0:this.volumePoint.left()-5.8,this.setIcon(),this.volumePointCSS()}.bind(this))},leftPosition:function(){this.setEvent(),$("body").bind("mousemove",function(t){this.focus&&(this.startPosition&&(this.change=this.startPosition-t.pageX),this.position-=this.change,0<=this.position)&&this.position<=this.length&&(this.rate=(this.length-this.position)/this.length,this.setIcon(),this.volumePointCSS()),this.startPosition=t.pageX}.bind(this)),this.volumeAdd.unbind("click").bind("click",function(){this.position=this.volumePoint.left()-5.8<0?0:this.volumePoint.left()-5.8,this.setIcon(),this.volumePointCSS()}.bind(this)),this.volumeReduce.unbind("click").bind("click",function(){this.position=this.volumePoint.left()+5.8>this.length?this.length:this.volumePoint.left()+5.8,this.setIcon(),this.volumePointCSS()}.bind(this))},topPosition:function(){this.setEvent(),$("body").bind("mousemove",function(t){this.focus&&(this.startPosition&&(this.change=this.startPosition-t.pageY),this.position-=this.change,0<=this.position)&&this.position<=this.length&&(this.rate=(this.length-this.position)/this.length,this.setIcon(),this.volumePointCSS()),this.startPosition=t.pageY}.bind(this)),this.volumeAdd.unbind("click").bind("click",function(t){this.position=this.volumePoint.top()-5.8<0?0:this.volumePoint.top()-5.8,this.setIcon(),this.volumePointCSS()}.bind(this)),this.volumeReduce.unbind("click").unbind("click").bind("click",function(t){this.position=this.volumePoint.top()+5.8>this.length?this.length:this.volumePoint.top()+5.8,this.setIcon(),this.volumePointCSS()}.bind(this))},bottomPosition:function(){this.setEvent(),$("body").bind("mousemove",function(t){this.focus&&(this.startPosition&&(this.change=this.startPosition-t.pageY),this.position-=this.change,0<=this.position)&&this.position<=this.length&&(this.rate=this.position/this.length,this.setIcon(),this.volumePointCSS()),this.startPosition=t.pageY}.bind(this)),this.volumeAdd.unbind("click").bind("click",function(){this.position=this.volumePoint.top()+5.8>this.length?this.length:this.volumePoint.top()+5.8,this.setIcon(),this.volumePointCSS()}.bind(this)),this.volumeReduce.unbind("click").bind("click",function(){this.position=this.volumePoint.top()-5.8<0?0:this.volumePoint.top()-5.8,this.setIcon(),this.volumePointCSS()}.bind(this))},setIcon:function(){this.direction==VolumeControlBar.LEFT||this.direction==VolumeControlBar.TOP?this.position>=this.length?this.setIconOff():this.setIconOn():this.position<=0?this.setIconOff():this.setIconOn()},setIconOff:function(){this.iconOn=!1},setIconOn:function(){this.iconOn=!0},volumePointCSS:function(t){switch(this.direction){case VolumeControlBar.LEFT:this.volumePoint.css({left:this.position+"px"}),this.setVolume((this.length-this.position)/this.length);break;case VolumeControlBar.TOP:this.volumePoint.css({top:this.position+"px"}),this.setVolume((this.length-this.position)/this.length);break;case VolumeControlBar.RIGHT:this.volumePoint.css({left:this.position+"px"}),this.setVolume(this.position/this.length);break;case VolumeControlBar.BOTTOM:this.volumePoint.css({top:this.position+"px"}),this.setVolume(this.position/this.length)}},soundOn:function(t){this.setIconOn(),this.setVolume(this.rate)},soundOff:function(t){this.setIconOff(),global.bgSound.setVolume(0)},setVolume:function(t){!global.bgSound||isPhone()||isPad()||(this.rate=t,bgSound.setVolume(t))},show:function(t){isPhone()||isPad()||(this.initConfig(),this.volumeBackground.css({visibility:"visible",opacity:"1"}),this.volumeBarCSS(t),this.setPosition(),this.visible=!1)},hide:function(){isPhone()||isPad()||(this.volumeBackground.css({visibility:"hidden",opacity:"0"}),this.visible=!0)}}),Class({create:function(t,i){this.parent=t,this.initHtml(t,i),this.initCss(),this.initEvent()},initHtml:function(t,i){this.container=$("<div class='bookInstructions helpPage'></div>"),this.title=$("<h3 class='bookInstructions helpTitle'>"+this.getTitle()+"</h3>"),this.image=$("<div class='bookInstructions helpPageImg'"+this.getImageURL(i)+"></div>"),this.description=$("<div class='bookInstructions helpBottomText'>"+this.getDescription(i)+"</div>"),this.container.append(this.title),this.container.append(this.image),this.container.append(this.description),this.container.attr("bookInstructionPageNum",i),t.append(this.container)},initCss:function(){var t=Math.floor((windowHeight<windowWidth?windowHeight:windowWidth)/15),i=(50<t?t=50:t<26&&(t=26),Math.floor(.7*t));this.container.css({width:windowWidth+"px",height:windowHeight+"px"}),this.title.css({margin:0,padding:0,"font-weight":"normal","font-family":"HelveticaNeue-CondensedBold, sans-serif",position:"relative",left:0,width:windowWidth+"px","font-size":t+"px","line-height":t+"px",top:.05*windowHeight+"px",color:"#d41145"}),this.description.css({"font-family":"HelveticaNeue-CondensedBold, sans-serif","font-size":i+"px","line-height":i+"px",position:"absolute",bottom:.15*windowHeight+"px",left:.1*windowWidth+"px",width:.8*windowWidth+"px",color:"#d41145"}),this.image.css({width:windowWidth+"px",position:"absolute",top:.15*windowHeight+"px","margin-top":"15px",height:.5*windowHeight+"px"})},getImageURL:function(t){return"style='background: url("+uiBaseURL+t+"-2x.png) no-repeat center  center ;background-size:contain;'"},getTitle:function(){return getLanguage("frmHowToUse","")},getDescription:function(t){switch(t){case 1:return getLanguage("lblHelpPage1","Move your finger to flip the book page.");case 2:return getLanguage("lblHelpPage2","Zoom in by using gesture or double click on the page.");case 3:return getLanguage("lblHelpPage3","Click on the logo to reach the official website of the company.");case 4:return getLanguage("lblHelpPage4","Add bookmarks, use search function and auto flip the book.");case 5:return getLanguage("lblHelpPage5","Switch horizontal and vertical view on mobile devices.")}},onResize:function(){this.initCss()},initEvent:function(){new Hammer(this.container[0]).on("swipe",function(t){10<=t.deltaX?bookInstructions.toNextPage():t.deltaX<=-10&&bookInstructions.toPreviousPage()}.bind(this))}})),BookInstructionsDot=Class({create:function(t,i){this.parent=t,this.id=i,this.initHtml(),this.initCss(),this.initEvent()},initHtml:function(){this.dot=$("<li ></li>"),this.dot.attr("bookInstructionDotNum",this.id),1==this.id&&this.dot.attr("class","bookInstructions icon_active"),this.parent.append(this.dot)},initCss:function(){var t=Math.floor((windowHeight<windowWidth?windowHeight:windowWidth)/30);30<t?t=30:t<15&&(t=15),this.dot.css({margin:"0 "+Math.floor(t/5*4)+"px",width:t+"px",height:t+"px"})},onResize:function(){this.initCss()},initEvent:function(){new Hammer(this.dot[0]).on("tap",function(){this.pageIndex=parseInt(this.dot.attr("bookInstructionDotNum")),bookInstructions.setCurrentPage(this.pageIndex)}.bind(this))}}),BookInstructions=Class({create:function(t){this.pageWidth=document.body.clientWidth,this.pageIndex=1,this.totalPageCount=5,this.closeSrc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzQyMUQ1MUVBRjlBMTFFNjk0NUZCNDY1NTgzODYzOTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzQyMUQ1MUZBRjlBMTFFNjk0NUZCNDY1NTgzODYzOTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3NDIxRDUxQ0FGOUExMUU2OTQ1RkI0NjU1ODM4NjM5NCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3NDIxRDUxREFGOUExMUU2OTQ1RkI0NjU1ODM4NjM5NCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PosYs0wAAABhSURBVHja7NRBCgAgCATAlP7/5e0SEZK6gdClhW46UEoCoFVGW3E+uIJ5ohxrPFC2Jg/b66gre6iLMW9o0RBjhyIs9mxtQA6KAi2WonqBUSult3uWoT1pYKb/f5viDAEGAD4SFiVn1efjAAAAAElFTkSuQmCC",this.visible=!1,this.parent=t,this.pages=[],this.dotsArr=[],this.initHtml(t),this.initCss(),this.initEvent()},initHtml:function(t){this.container=$("<div class='bookInstructions helpBody hide'></div>"),this.swiper=$("<div class='bookInstructions swiper'></div>"),this.dots=$('<ul class="bookInstructions helpBullet"></ul>');for(var i=1;i<=5;i++)this.pages.push(new BookInstructionsPage(this.swiper,i)),this.dotsArr.push(new BookInstructionsDot(this.dots,i));this.closeBtn=$('<span class="bookInstructions icon_drop" ><img src='+this.closeSrc+"></span>"),t.append(this.container),this.container.append(this.swiper),this.container.append(this.dots),this.container.append(this.closeBtn)},initCss:function(){var t=transformCSS({tran:{x:windowWidth,y:0}});this.container.css({"background-image":"url("+uiBaseURL+'bg.png")no-repeat',"background-position":"bottom"}),this.container.css(t),this.resizeCss(),t=transformCSS({tran:{x:0,y:0}}),this.swiper.css(t)},resizeCss:function(){var t=windowHeight<windowWidth?windowHeight:windowWidth,i=Math.floor(t/30),e=(35<i?i=35:i<15&&(i=15),48<(t=Math.floor(t/16))?t=48:t<30&&(t=30),t/3);this.container.css({width:windowWidth+"px",height:windowHeight+"px"}),this.swiper.css({width:5*windowWidth+"px",height:windowHeight+"px"}),this.dots.css({"list-style":" none",padding:"0",margin:"0",position:" absolute",bottom:.05*windowHeight+"px",width:windowWidth+"px",height:i+"px","line-height":i+"px","z-index":" 100"}),this.closeBtn.css({width:t+"px",height:t+"px","line-height":t+"px","font-size":t+"px",cursor:"pointer",position:"absolute","border-radius":"50%",color:"#fff",right:e+"px",top:e+"px",background:"#d41145","z-index":"100"})},onResize:function(){this.resizeCss();for(var t=0;t<this.dotsArr.length;t++)this.dotsArr[t].onResize(),this.pages[t].onResize();t=transformCSS({tran:{x:-(this.pageIndex-1)*windowWidth,y:0}}),this.swiper.css(t)},toNextPage:function(){this.setCurrentPage(1<this.pageIndex-1?this.pageIndex-1:1)},toPreviousPage:function(){this.setCurrentPage(this.pageIndex+1>=this.totalPageCount?this.totalPageCount:this.pageIndex+1)},setCurrentPage:function(t){this.pageIndex=t||this.pageIndex,t=transformCSS({tran:{x:-(this.pageIndex-1)*windowWidth,y:0}}),animateOnce(this.swiper,t,300,null),this.dots.find("li").removeClass("icon_active"),this.dots.find("li[bookInstructionDotNum="+this.pageIndex+"]").addClass("icon_active")},showOrhide:function(){this.visible?this.hide():this.show()},show:function(){this.visible=!0,this.container.removeClass("hide");var t=transformCSS({tran:{x:0,y:0}});animateOnce(this.container,t,300,null)},hide:function(){this.visible=!1;var t=transformCSS({tran:{x:this.pageWidth,y:0}});animateOnce(this.container,t,300,function(){this.container.addClass("hide")}.bind(this))},showOrHide:function(){this.visible?this.hide():this.show()},initEvent:function(){this.container.bind("touchstart",function(t){t.preventDefault()}),this.closeBtn.bind(_event._end,function(){this.hide()}.bind(this))},changeLanguage:function(){for(var t=0;t<this.pages.length;t++){var i=this.pages[t];i.title.html(i.getTitle()),i.description.html(i.getDescription(t+1))}}}),PcAboutForm=(Class("FlipByAudio",{EMPTY_CONFIG:{audioType:0,audioFile:"",showPlayer:!1,items:[]},SINGLE_AUDIO:0,MULTIPLE_AUDIOS:1,create:function(t,i){this.parent=t,this.config=i||this.EMPTY_CONFIG,null==this.config.audioType&&(this.config.audioType=0),null==this.config.audioFile&&(this.config.audioFile=""),null==this.config.showPlayer&&(this.config.showPlayer=!1),this.config.items||(this.config.items=[]),0!=this.itemLength()&&this.init()},itemLength:function(){return this.config.items.length},init:function(){this.$audio=new Media($("<audio controls></audio>"),"audio"),this.$audio.isPlaying=!1,this.audioIndex=0,this.config.audioType==this.SINGLE_AUDIO?(this.setSingleAudio(),this.initSingleAudioEvent()):(this.setMultipleAudio(this.audioIndex),this.initMultipleAudioEvent())},play:function(){if(this.$audio)try{this.$audio.play()}catch(t){}},playByTouch:function(){if(this.$audio&&!this.$audio.isPlaying)try{this.$audio.play(),this.$audio.isPlaying=!0}catch(t){}},playAfterFlip:function(){this.play.delay(this,1e3*bookConfig.flippingTime)},start:function(){this.config.audioType==this.MULTIPLE_AUDIOS&&this.flipByIndex(0),this.playAfterFlip()},setSingleAudio:function(){this.$audio.$media.attr("src",this.config.audioFile)},setMultipleAudio:function(t){(t=this.config.items[t])&&this.$audio.$media.attr("src",t.audioData)},initSingleAudioEvent:function(){this.$audio.$media.bind("timeupdate",function(){try{var t=parseInt(this.getCurrentAudioData());this.$audio.$media[0].currentTime>=t&&(this.flipByIndex(this.audioIndex),this.audioIndex++)}catch(t){}}.bind(this))},getCurrentAudioData:function(){return this.config.items[this.audioIndex].audioData},initMultipleAudioEvent:function(){this.$audio.$media.bind("ended",function(){this.audioIndex++,this.setMultipleAudio(this.audioIndex),this.flipByIndex(this.audioIndex),this.playAfterFlip()}.bind(this))},flipByIndex:function(t){this.config.items[this.audioIndex]&&(t=parseInt(this.config.items[this.audioIndex].pageIndex),0<=BookInfo.getCurrentPages().indexOf(t)||gotoPageFun(t,!1,"flip audio"))},playByIndex:function(t){this.config.audioType==this.SINGLE_AUDIO?this.playByIndexForSingleAudio(t):this.playByIndexForMultipleAudio(t)},playByIndexForSingleAudio:function(t){var i=this.config.items[this.audioIndex];if(!(i&&(i=parseInt(i.pageIndex),0<=BookInfo.getCurrentPagesByIndex(t).indexOf(i))))for(var e=0;e<this.config.items.length;e++)if((i=this.config.items[e])&&(i=parseInt(i.pageIndex),0<=BookInfo.getCurrentPagesByIndex(i).indexOf(t))){this.audioIndex=e,t=parseInt(this.getCurrentAudioData()),this.$audio.$media[0].currentTime=t;break}},playByIndexForMultipleAudio:function(t){var i=this.config.items[this.audioIndex];if(!(i&&(i=parseInt(i.pageIndex),0<=BookInfo.getCurrentPagesByIndex(t).indexOf(i))))for(var e=0;e<this.config.items.length;e++)if((i=this.config.items[e])&&(i=parseInt(i.pageIndex),0<=BookInfo.getCurrentPagesByIndex(i).indexOf(t))){this.audioIndex=e,this.setMultipleAudio(e),this.playAfterFlip();break}}}),global.templeteName="minimalist",Class({create:function(t){this.elements=new AboutElements(this),this._super(t)},onCreate:function(){this.initColorCss(),this._super(),this.bookReadTimesVisible()},initColorCss:function(){this.stage.css({"background-color":this.mainColorObj.rgba(.95),color:this.fontColor})},initHtml:function(){this.stage.append(this.title),this.favicon&&(bookConfig.RightToLeft?this.title.append(this.favicon):this.title.prepend(this.favicon)),this.stage.append(this.close),this.content=$("<div class='about_content'></div>"),this.stage.append(this.content),this.content2=$("<div class='content2'></div>"),this.content.append(this.content2),this.initSwiper(),this.content2.append(this.aboutSwiper),this.content1=$("<div class='content1'></div>"),this.content.append(this.content1),this.content1.append(this.author),this.content1.append(this.address),this.content1.append(this.email),this.content1.append(this.website),this.content1.append(this.mobile),this.initLogo(),this._super()},bookReadTimesVisible:function(){var t=setInterval(function(){try{this.ReadTimes=global.aboutReadTimes||0,0<this.ReadTimes?(this.content1.append(this.views),clearInterval(t)):10<this.elements.iRead&&clearInterval(t)}catch(t){}}.bind(this),1e3)},initSwiper:function(){this.aboutSwiper=$("<div class='aboutSwiper stage'></div>"),this.aboutSwiperList=$("<div class='swiper'></div>"),this.progress=$("<div class='progress'></div>"),this.progressBar=$("<div class='progressBar'></div>"),this.aboutSwiper.append(this.aboutSwiperList),this.aboutSwiperList.append(this.description),this.aboutSwiper.append(this.progress),this.progress.append(this.progressBar),this.aboutSwiper.scroll({},Direction.top,"win10")},onResize:function(){this._super(),200<=this.aboutSwiperList.height()&&this.aboutSwiper.css({height:"200px"})},onShow:function(){this.changeIconColor(),this.aboutSwiper.refreshData()},initLogo:function(){bookConfig.AboutDescription?this.aboutSwiper.css({display:"block"}):this.aboutSwiper.css({display:"none"}),this.content2.find(this.logo)[0]||(this.content2.prepend(this.logo),bookConfig.AboutWebsite&&this.logo.attr("href",bookConfig.AboutWebsite))}}).extend(SlideRightForm)),PcBookmarkItem=Class({create:function(t,i){this.mainColor=bookConfig.formBackgroundColor||bookConfig.toolbarColor,this.fontColor=bookConfig.formFontColor||bookConfig.iconColor,t.fontColor=this.fontColor,this._super(t,i)},initHtml:function(){rightToLeft?this.initRightToLeftHtml():this.initLeftToRightHtml(),this.deleteIcon.changeButtonColor(this.mainColor),this.edit.changeButtonColor(this.mainColor),this.cancel.changeButtonColor(this.mainColors),this.save.changeButtonColor(this.mainColor),this.initColorOrder(this.item),this.itemImg=$("<div class='itemImg' style='display: inline-block;'></div>"),this.item.append(this.itemImg),this.item.css({border:"1px solid "+Color(this.mainColor).add(32),background:Color(this.mainColor).add(64)});var i=this;getPageDir(this.pageCaption,"thumb",originTotalPageCount).then(function(t){t.match(/^none/)?i.itemImg.css({background:bookConfig.pageBackgroundColor}):i.itemImg.css({background:"url("+t+") center center no-repeat;background-size:contain"})})},resetColor:function(){for(var t="#66D566 #64D3ED #9D80D7 #ED8383 #ED9933 #A6A19B #3398ED".split(" "),i=0;i<t.length;i++)this.colorOrder.find(".item"+i).css({"background-image":"radial-gradient("+t[i]+" 40%,transparent 48%,transparent 53%,transparent 63%)"}),this.colorOrder.find(".item"+i).removeClass("active")},setElemColor:function(t){this.colorSelection.attr("color",t),this.colorSelection.css({background:t})},saveData:function(){var t=this.colorSelection.attr("color"),i=this.title.val();i==this.caption&&t==this.color||(this.caption=i,this.color=t,this.parm={pageIndex:this.pageIndex,caption:this.caption,color:this.color},this.callback.editItem(this.parm))},initColorOrder:function(t){var i="#66D566 #64D3ED #9D80D7 #ED8383 #ED9933 #A6A19B #3398ED".split(" ");this.colorOrder=$("<div class='color_order' ></div>");for(var e=0;e<i.length;e++){var o=$("<div class='color_item item"+e+"' color='"+i[e]+"' ></div>");o.css({cursor:"pointer","background-image":"radial-gradient("+i[e]+" 40%,transparent 48%,transparent 53%,transparent 63%)"}),!function(t,i,e){i.bind("click",function(){t.resetColor(t.colorOrder),i.addClass("active"),t.setElemColor(e),i.css({"background-image":"radial-gradient("+e+" 40%, transparent 48%, transparent 53%,"+e+" 63%)"})}.bind(t))}(this,o,i[e]),this.colorOrder.append(o)}t.append(this.colorOrder),this.colorSelection.bind(_event._click,function(){this.resetColor()}.bind(this))},lightItem:function(){$(".bookmarkItem_focus").removeClass("bookmarkItem_focus"),this.item.addClass("bookmarkItem_focus")},startEdit:function(){this.judgeToSaveOrCancel(),this.lightItem(),this.cancel.show(),this.save.show(),this.edit.hide(),this.title.css({background:"#ffffff",color:"#000000"}),this.title.removeAttr("disabled"),this.title.addClass("focus"),this.item.addClass("edit"),(global.bookmark.editingItem=this).cancel.changeButtonColor(this.mainColor),this.save.changeButtonColor(this.mainColor),this.deleteIcon.hide()},cancelData:function(){var t=this.colorSelection.attr("color");this.title.val()!=this.caption&&this.title.val(this.caption),t!=this.color&&this.setElemColor(this.color)},endEdit:function(){this._super(),this.title.removeClass("focus"),this.item.removeClass("edit"),this.colorSelection.show(),this.deleteIcon.show()}}).extend(BookmarkItem),PcBookmarkListPanel=Class({create:function(t){this.mainColor=bookConfig.formBackgroundColor||bookConfig.toolbarColor,this.fontColor=bookConfig.formFontColor||bookConfig.iconColor,this.mainColorObj=Color(this.mainColor),this.fontColorObj=Color(this.fontColor),this._super(t)},onCreate:function(){},newItem:function(t){return new PcBookmarkItem(t,this.callback)}}).extend(BookmarkListPanel),PcBookmarkForm=Class({create:function(t){this.elements=new BookmarkElements(this),this.bookmarkListPanel=new PcBookmarkListPanel(this),this.elements.bookmarkList=this.bookmarkListPanel.bookmarkList,this._super(t)},onCreate:function(){this.bookmarkListPanel.onCreate(),this.setElemColor("#66D566")},resetColor:function(t){t=t||this.colorOrder;for(var i="#66D566 #64D3ED #9D80D7 #ED8383 #ED9933 #A6A19B #3398ED".split(" "),e=0;e<i.length;e++)t.find(".item"+e).css({"background-image":"radial-gradient("+i[e]+" 40%,transparent 48%,transparent 53%,transparent 63%)"}),t.find(".item"+e).removeClass("active")},initColorCss:function(){this.bookmarkListPanel.initColorCss(),this.bookmarkListPanel.resetSwiperHtml(),this.stage.css({"background-color":this.mainColorObj.rgba(.95),color:this.fontColor}),this.leftAddPage.css({border:"1px solid "+Color(this.mainColor).add(32),color:this.fontColor,background:Color(this.mainColor).add(64)}),this.rightAddPage.css({border:"1px solid "+Color(this.mainColor).add(32),color:this.fontColor,background:Color(this.mainColor).add(64)}),this.remove.css({border:"1px solid "+Color(this.mainColor).add(32),background:Color(this.mainColor).add(64)})},setElemColor:function(t){this.colorSelection.attr("color",t),this.colorSelection.css({background:t})},initColorOrder:function(t){var i="#66D566 #64D3ED #9D80D7 #ED8383 #ED9933 #A6A19B #3398ED".split(" ");this.colorOrder=$("<div class='color_order' style='height:22px;margin:11px 0 1px;'></div>");for(var e=0;e<i.length;e++){var o=$("<div class='color_item item"+e+"' color='"+i[e]+"' style='cursor:pointer;width:20px;height:20px;border-radius:11px;display:inline-block;margin:0 2px;'></div>");o.css({"background-image":"radial-gradient("+i[e]+" 40%,transparent 48%,transparent 53%,transparent 63%)"}),0==e&&(o.addClass("active"),o.css({"background-image":"radial-gradient("+i[e]+" 40%, transparent 48%, transparent 53%,"+i[e]+" 63%)"})),!function(t,i,e){i.bind("click",function(){t.resetColor(t.colorOrder),i.addClass("active"),t.setElemColor(e),i.css({"background-image":"radial-gradient("+e+" 40%, transparent 48%, transparent 53%,"+e+" 63%)"})}.bind(t))}(this,o,i[e]),this.colorOrder.append(o)}t.append(this.colorOrder),this.colorSelection.bind(_event._click,function(){this.resetColor()}.bind(this))},onResize:function(){this._super();var t=windowHeight;this.stage.find(".bookmark_content").css({height:t-87+"px"}),toolBar.getTopHeight(),this.width=240,this.height=t-20,this.stage.css({height:this.height+"px",right:2*-this.width+"px"}),this.bookmarkListPanel.onResize(this.width,this.height-215),this.refreshPanel()},initHtml:function(){this.stage.append(this.title),this.favicon&&(bookConfig.RightToLeft?this.title.append(this.favicon):this.title.prepend(this.favicon)),this.stage.append(this.close),this.content=$("<div class='bookmark_content'></div>"),this.stage.append(this.content);var t=$("<p class='inputForm'></p>");t.append(this.input),t.append(this.colorSelection),this.content.append(t),this.initColorOrder(this.content),this.content.append(this.leftAddPage),this.content.append(this.rightAddPage),this.content.append(this.bookmarkListPanel.bookmarkListTitle),this.content.append(this.bookmarkListPanel.bookmarkSwiper),this.content.append(this.remove),this.parent.append(this.stage),this.stage.css({background:Color(this.mainColor).rgba(.95),color:Color(this.fontColor)}),this.leftAddPage.css({border:"1px solid "+Color(this.mainColor).add(32),background:Color(this.mainColor).add(64)}),this.rightAddPage.css({border:"1px solid "+Color(this.mainColor).add(32),background:Color(this.mainColor).add(64)}),this.remove.css({border:"1px solid "+Color(this.mainColor).add(32),background:Color(this.mainColor).add(64)}),this.refreshPanel()},refreshPanel:function(){this.bookmarkListPanel.refreshPanel(),this.elements.refreshElements()},addItem:function(t){t&&t.caption&&t.pageIndex&&!this.bookmarkListPanel.inList(t.pageIndex)&&(this.bookmarkListPanel.addItem(t),this.input.val(""),this.setRandom(),this.refreshPanel())},setRandom:function(){this.resetColor();var t=getRandomColor();this.colorSelection.attr("color",t),this.colorSelection.css("background",t)},deleteItem:function(t){this.bookmarkListPanel.deleteItem(t),this.refreshPanel()},editItem:function(t){this.bookmarkListPanel.editItem(t),this.refreshPanel()},refreshItem:function(t){this.bookmarkListPanel.refreshItem(t)},removeAll:function(){this.bookmarkListPanel.removeAll(),this.refreshPanel()},onShow:function(){this.close.changeButtonColor(this.fontColor),this.favicon&&this.favicon.changeButtonColor(this.fontColor)}}).extend(SlideRightForm),PcHelpForm=Class({create:function(t){this.elements=new HelpElements(this),this._super(t)},onCreate:function(){this.stage.css({"background-color":this.mainColor,color:this.fontColor}),bookConfig.helpContentFileURL&&(this.stage.css({width:bookConfig.helpWidth+"px",height:windowHeight+"px"}),this.content.css({width:bookConfig.helpWidth-30+"px",height:bookConfig.helpHeight-59+"px"}),this.image.css({background:"url("+bookConfig.helpContentFileURL+") center no-repeat","background-size":"contain",width:bookConfig.helpWidth-30+"px",height:bookConfig.helpWidth-30+"px"})),this._super(),bookConfig.showHelpContentAtFirst?this.show():this.hide()},initColorCss:function(){this.stage.css({"background-color":this.mainColorObj.rgba(.95),color:this.fontColor})},initHtml:function(){this.stage.append(this.title),this.favicon&&(bookConfig.RightToLeft?this.title.append(this.favicon):this.title.prepend(this.favicon)),this.stage.append(this.close),this.content=$("<div class='help_content'></div>"),this.stage.append(this.content),this.content.append(this.image),this.title1&&this.content.append(this.title1),this.title2&&this.content.append(this.title2),this._super()},onShow:function(){this.close.changeButtonColor(this.fontColor),this.favicon&&this.favicon.changeButtonColor(this.fontColor),this.image.changeButtonColor(this.fontColor)}}).extend(SlideRightForm),PcPrintForm=Class({create:function(t){this.elements=new PrintElements(this),this._super(t)},onCreate:function(){this._super()},initColorCss:function(){this.stage.css({"background-color":this.mainColorObj.rgba(.95),color:this.fontColor})},initHtml:function(){this.stage.append(this.title),this.favicon&&(bookConfig.RightToLeft?this.title.append(this.favicon):this.title.prepend(this.favicon)),this.stage.append(this.close),this.stage.append(this.printAll),this.stage.append(this.printCurrent),this.stage.append(this.printRange),this.stage.append(this.printButton),this.stage.css({background:Color(this.mainColor).rgba(.95),color:Color(this.fontColor)}),this.setColor(),this._super()},setColor:function(){this.printCurrent.css({border:"1px solid "+Color(this.mainColor).add(32),"background-color":Color(this.mainColor).add(64)}),this.printRange.css({border:"1px solid "+Color(this.mainColor).add(32),"background-color":Color(this.mainColor).add(64)}),this.printAll.css({border:"1px solid "+Color(this.mainColor).add(32),"background-color":Color(this.mainColor).add(64)}),this.printButton.css({border:"1px solid "+Color(this.mainColor).add(32),"background-color":Color(this.mainColor).add(64)})},onResize:function(){this._super(),this.stage.css({height:this.height+"px",top:"0"})},changeItemColor:function(){this.printCurrent.changeButtonColor(this.fontColor),this.printRange.changeButtonColor(this.fontColor),this.printAll.changeButtonColor(this.fontColor)},initEvent:function(){this._super()},onShow:function(){this.close.changeButtonColor(this.fontColor),this.favicon&&this.favicon.changeButtonColor(this.fontColor),this.pictureListForm.leftBtn.changeButtonColor(this.fontColor),this.pictureListForm.rightBtn.changeButtonColor(this.fontColor),this.changeItemColor()},onHide:function(){}}).extend(SlideRightForm),PcSearchItem=Class({create:function(t,i){i.fontColor=this.mainColor,this._super(t,i)}}).extend(SearchItem),PcSearchForm=Class({create:function(t){this.elements=new SearchElements(this),this._super(t)},onCreate:function(){this.stage.css({"background-color":this.mainColorObj.rgba(.95),color:this.fontColor}),this.searchResult.css({"border-bottom":"1px solid "+this.mainColorObj.rgba(.1)}),this.progressBar.css({"background-color":this.fontColor})},initHtml:function(){this.stage.append(this.title),this.favicon&&(bookConfig.RightToLeft?this.title.append(this.favicon):this.title.prepend(this.favicon)),this.stage.append(this.close),this.content=$("<div class='search_content'></div>"),this.stage.append(this.content),this.content.append(this.input),this.content.append(this.searchButton),this.content.append(this.searchPageSwiper),this.content.append(this.searchResult),this.content.append(this.searchSwiper),this.parent.append(this.stage)},newSearchItem:function(t,i){return new PcSearchItem(t,i)},initColorCss:function(){this.stage.css({"background-color":this.mainColorObj.rgba(.95),color:this.fontColor})},afterSearchThumbs:function(){this.height=windowHeight-20,this.searchSwiper.css("height",this.height-332+"px")},afterSearchText:function(){this.height=windowHeight-20,this.searchSwiper.css("height",this.height-132+"px"),this.searchPageSwiper.css({display:"none"})},onResize:function(){toolBar.getWidth(),this.width=287,this.height=windowHeight-20,this.stage.css({height:this.height+"px",top:"0px"}),this.searchSwiper.css("height",this.height-132+"px"),this.elements.refresh()},getList:function(){return this.elements.getList()},onShow:function(){this.close.changeButtonColor(this.fontColor),this.favicon&&this.favicon.changeButtonColor(this.fontColor),this.input.focus(),BookInfo.getBook().addSearchHighlight()},onHide:function(){BookInfo.getBook().clearSearchHighlight()}}).extend(SlideRightForm),PcShareForm=Class({create:function(t){this.elements=new ShareElements(this),this._super(t)},onCreate:function(){this.initColorCss(),this._super()},initColorCss:function(){this.title.css({color:this.fontColor}),this.copy1.css({color:this.mainColor}),this.linkArea.css({color:this.mainColor}),this.stage.css({"background-color":this.mainColorObj.rgba(.95),color:this.fontColor}),this.codeBox.find(".qrcode").css({"background-color":this.mainColor,color:this.fontColor}),this.codeBox.find(".miniProgram").css({"background-color":this.mainColor,color:this.fontColor});for(var t=0;t<this.sharePanel.find("a").length;t++){var i=this.sharePanel.find("a")[t];$(i).find("span").css("color",this.mainColor)}},initHtml:function(){for(var t=0;t<this.sharePanel.find("a").length;t++){var i=this.sharePanel.find("a")[t],e=$("<span style='color:"+this.mainColor+"'>"+$(i).attr("title")+"</span>");$(i).append(e)}this.scrollStage=$("<div class='stage'></div>"),this.swiper=$("<div class='swiper'></div>"),this.progress=$("<div class='progress'></div>"),this.progressBar=$("<div class='progressBar'></div>"),this.progress.append(this.progressBar),this.stage.append(this.title),this.favicon&&(bookConfig.RightToLeft?this.title.append(this.favicon):this.title.prepend(this.favicon)),this.stage.append(this.close),this.swiper.append(this.codeBox),this.swiper.append(this.sharePanel).append(this.linkTitle).append(this.linkArea),this.shareCurrentPageBox.append(this.shareCurrentCheck).append(this.shareCurrentPageTitle1),this.swiper.append(this.shareCurrentPageBox).append(this.copy1),this.scrollStage.append(this.swiper).append(this.progress),this.stage.append(this.scrollStage),this._super(),this.stage.css({height:windowHeight-20+"px"}),this.scrollStage.css({height:windowHeight-63+"px"}),this.scrollStage.scroll({},Direction.top)},changeItemColor:function(){this.elements.fontColor=this.fontColor,this.shareCurrentCheck.changeButtonColor(this.fontColor)},onShow:function(){this.changeItemColor(),this.close.changeButtonColor(this.fontColor),this.favicon&&this.favicon.changeButtonColor(this.fontColor),this.scrollStage.refreshData()}}).extend(SlideRightForm),PcTableOfContentItem=Class({create:function(t,i,e){i.fontColor=bookConfig.formFontColor||bookConfig.toolbarColor,this._super(t,i,e)}}).extend(TableOfContentItem),PcTableOfContentForm=Class({create:function(t){this.elements=new TableOfContentElements(this),this._super(t)},onCreate:function(){this.initColorCss()},initColorCss:function(){this.stage.css({"background-color":this.mainColorObj.rgba(.95),color:this.fontColor})},initHtml:function(){this.stage.append(this.title),this.favicon&&(bookConfig.RightToLeft?this.title.append(this.favicon):this.title.prepend(this.favicon)),this.stage.append(this.close),this.content=$("<div class='tableofcontent_content'></div>"),this.stage.append(this.content),this.content.append(this.tableofcontentSwiper),this.parent.append(this.stage)},newItem:function(t,i,e){return new PcTableOfContentItem(t,i,e)},onResize:function(){toolBar.getWidth(),toolBar.getTopHeight(),this.width=300,this.height=windowHeight,this.maxHeight=this.height-50,this.stage.css({height:"100%",top:0}),this.tableofcontentSwiper.css({height:this.maxHeight+"px"}),this.elements.refresh()},onShow:function(){this.close.changeButtonColor(this.fontColor),this.favicon&&this.favicon.changeButtonColor(this.fontColor)}}).extend(SlideRightForm),PcVideoGalleryForm=Class({create:function(t){this.elements=new VideoGalleryElements(this),this._super(t)},onCreate:function(){this.initColorCss(),this._super()},initColorCss:function(){this.stage.css({background:this.mainColorObj.rgba(.95),color:this.fontColor})},initHtml:function(){var t;this.stage.append(this.title),this.favicon&&(bookConfig.RightToLeft?this.title.append(this.favicon):this.title.prepend(this.favicon)),this.stage.append(this.close),this.stage.append(this.video),this.stage.append(this.info),this.videoList&&1<this.videoList.length?((t=$("<div class='video_list'></div>")).append(this.videoListTitle),t.append(this.videoSwiper),this.stage.append(t)):this.stage.css("width","335px"),this._super()},onShow:function(){this.close.changeButtonColor(this.fontColor),this.favicon&&this.favicon.changeButtonColor(this.fontColor),this.elements.playVideo(this.videoList[0]),this.videoList&&1<this.videoList.length&&this.videoSwiper.refreshData()},onHide:function(){this.video.attr("src","")}}).extend(FadeOutFadeForm),PcDownloadForm=Class({create:function(t){this.elements=new DownloadElements(this),this._super(t)},onCreate:function(){this.initColorCss(),this._super()},initColorCss:function(){this.stage.css({"background-color":this.mainColorObj.rgba(.95),color:this.fontColor}),this.borderColor=this.mainColorObj.add(32),this.itemBgColor=this.mainColorObj.add(64),this.content.find(".item").css({border:"1px solid "+this.borderColor,background:this.itemBgColor}),this.content.find(".item a").css({border:"1px solid "+this.borderColor,background:this.itemBgColor}),this.selectContent.css({border:"1px solid "+this.borderColor,background:this.itemBgColor})},changeIconColor:function(){this._super(),this.changeItemColor()},changeItemColor:function(){this.downloadCurrent.changeButtonColor(this.fontColor),this.downloadAttachments.changeButtonColor(this.fontColor),this.downloadAll.changeButtonColor(this.fontColor),this.pictureListForm.leftBtn.changeButtonColor(this.fontColor),this.pictureListForm.rightBtn.changeButtonColor(this.fontColor)},initHtml:function(){this.stage.append(this.title),this.favicon&&(bookConfig.RightToLeft?this.title.append(this.favicon):this.title.prepend(this.favicon)),this.stage.append(this.close),this.downloadContent=$("<div class='download_content'></div>"),this.stage.append(this.downloadContent),this.content=$("<div class='content'></div>"),this.content1=$("<div class='content1'></div>"),downloadconfig.pdf&&this.content1.append(this.downloadAll),downloadconfig.hideDownloadSinglePage||this.content1.append(this.downloadCurrent),this.selectContent=$("<div class='select_content'></div>"),this.selectContent.append(this.selectAttachments),downloadconfig.attachments&&0<downloadconfig.attachments.length&&(downloadconfig.pdf&&this.content1.append(this.downloadAttachments),this.content1.append(this.selectAttachments)),this.content1.append(this.downloadButton),this.content2=$("<div class='content2'></div>"),this.content2.append(this.pictureListForm.getDom()),this.content.append(this.content2),this.content.append(this.content1),this.downloadContent.append(this.content),this._super()},gotoPage:function(t){this.pictureListForm.fillContent(t)},onResize:function(){this._super(),this.stage.css({height:this.height+4+"px",top:top+"px",right:2*-this.width+"px"})},initEvent:function(){this._super()}}).extend(SlideRightForm),PopUpVideo=(Class("TextFormatAnalyzer",{create:function(t){var i;this.$textForAnalysis=$("<div></div>"),this.analysisResult=[],t&&HTMLString.isHTML(t)?(i=$(t),(t.toLowerCase().startsWith("<textformat")?this.$textForAnalysis:(t=$("<textformat></textformat>"),this.$textForAnalysis.append(t),t)).append(i),this.analysis()):this.initFromText(t)},initFromText:function(t){var i={leading:0,leftMargin:0,rightMargin:0,paragraphs:[]};(t={align:"LEFT",font:{},text:t=t||" "}).font.family="Arial",t.font.size=12,t.font.color="#000000",t.font.letterSpacing=0,t.font.kerning=0,t.font.bold=!1,t.font.italic=!1,t.font.underline=!1,i.paragraphs.push(t),this.analysisResult.push(i)},analysis:function(){for(var t=this.$textForAnalysis.children(),i=0;i<t.length;i++){var e={leading:0,leftMargin:0,rightMargin:0,paragraphs:[]},o=$(t[i]);e.leading=o.attr("LEADING")?parseInt(o.attr("LEADING")):0,$.system.name!=$.system.IOS&&(e.leading+=5),e.leftMargin=o.attr("LEFTMARGIN")?parseInt(o.attr("LEFTMARGIN")):0,e.rightMargin=o.attr("RIGHTMARGIN")?parseInt(o.attr("RIGHTMARGIN")):0;for(var o=o.children(),s=0;s<o.length;s++){var n=$(o[s]),a={align:"LEFT",font:null,text:""},h=(a.align=n.attr("ALIGN")?n.attr("ALIGN"):"LEFT",$(n.children()[0]));(n={}).family=h.attr("FACE")?h.attr("FACE"):"Arial",n.size=h.attr("SIZE")?parseInt(h.attr("SIZE")):12,n.color=h.attr("COLOR")?h.attr("COLOR"):"#000000",n.kerning=h.attr("KERNING")?parseInt(h.attr("KERNING")):0,$.system.name!=$.system.IOS&&(n.leading=e.leading),n.lineHeight=n.size+e.leading,n.bold=0<h.find("B").length,a.font=n,h=h.html(),h=this.changeXmlToHtml(h,n.leading),a.text=h,/<a\b[^>]+\bhref="([^"]*)"[^>]*>([\s\S]*?)<\/a>/.test(a.text)&&(this.hasATag=!0),e.paragraphs.push(a)}this.analysisResult.push(e)}},changeXmlToHtml:function(t,i){var e=t.match(/<font[ ="A-Za-z0-9_#,]*>/),o=[];for(null!=e&&(t=t.replace(/<\/font/g,"</span"));null!=e;){var s=e[0],n='style="',a=s.match(/color="[A-Za-z0-9#]*"/),h=s.match(/size="[0-9]*"/),r=s.match(/face="[A-Za-z0-9_# ,]*"/),g=s.match(/letterspacing="[0-9]*"/);for(null!=a&&(s=s.replace(a[0],""),o=this.changeTag(o,a[0])),null!=h&&(s=s.replace(h[0],""),o=this.changeTag(o,h[0].replace("size","font-size")),o=this.changeTag(o,h[0].replace("size","line-height"),i)),null!=r&&(s=s.replace(r[0],""),o=this.changeTag(o,r[0].replace("face","font-family"))),null!=g&&(s=s.replace(g,""),o=this.changeTag(o,g[0].replace("letterspacing","letter-spacing"))),a=0;a<o.length;a++)n+=o[a][0]+":"+o[a][1]+";";s=(s=(s=s.replace(/ /g,"")).replace("font","span ")).replace(">",n+'">'),o=[],e=(t=(t=t.replace(e[0],s)).replaceAll("  ","&nbsp;&nbsp;")).match(/<font[ ="A-Za-z0-9_#,]*>/)}return t=0<=(t=0<=t.indexOf("<i>")?t.replaceAll("<i>",'<i style="font-style: italic;text-decoration:inherit;">'):t).indexOf("<u>")?t.replaceAll("<u>",'<u style="font-style: inherit;text-decoration: underline">'):t},changeTag:function(t,i,e){return i=(i=i.replace(/"/g,"")).split("="),e&&(i[1]=Number(i[1])+Number(e)),"font-size"!=i[0]&&"letter-spacing"!=i[0]&&"line-height"!=i[0]||(i[1]+="px"),t.push(i),t},getLeftMargin:function(){return 0==this.analysisResult.length?0:this.analysisResult[0].leftMargin},getRightMargin:function(){return 0==this.analysisResult.length?0:this.analysisResult[0].rightMargin},getAlign:function(){var t;return 0==this.analysisResult.length||0==(t=this.analysisResult[0]).paragraphs.length?"LEFT":t.paragraphs[0].align},getFontFamily:function(){var t=this.getFont();return t?t.family:"Arial"},getFontColor:function(){var t=this.getFont();return t?t.color:"#000000"},getFontSize:function(){var t=this.getFont();return t?t.size:12},getLetterSpace:function(){var t=this.getFont();return t?t.letterSpacing:0},getWordSpace:function(){var t=this.getFont();return t?t.kerning:"0"},getLeading:function(){var t=this.getFont();return t?t.leading:"0"},getLineHeight:function(){var t=this.getFont(),i=t.lineHeight;return t?($.system.name!=$.system.IOS&&(i-=5),i):"0"},getFont:function(){var t;return 0==this.analysisResult.length||0==(t=this.analysisResult[0]).paragraphs.length?null:t.paragraphs[0].font},initFont:function(t){var i=this.getFontCSS(this.getFont());t.css(i)},getMaxFontSize:function(){for(var t=0,i=0;i<this.analysisResult.length;i++)for(var e=this.analysisResult[i],o=0;o<e.paragraphs.length;o++)t=Math.max(t,e.paragraphs[o].font.size);return t},getMinFontSize:function(){for(var t=1e4,i=0;i<this.analysisResult.length;i++)for(var e=this.analysisResult[i],o=0;o<e.paragraphs.length;o++)t=Math.min(t,e.paragraphs[o].font.size);return t},getText:function(){for(var t=this.getTextLines(),i="",e=0;e<t.length;e++)i=i+t[e]+"\r\n";return i},getTextLines:function(){return this.getLines()},getLines:function(){for(var t=[],i=0;i<this.analysisResult.length;i++)for(var e=this.analysisResult[i],o=0;o<e.paragraphs.length;o++)t.push(e.paragraphs[o].text.replace(/  /g,"&nbsp;&nbsp;"));return t},htmlHasATag:function(){return this.hasATag},getHTML:function(t){for(var i=$("<div style='word-wrap:break-word;cursor:default;'></div>"),e=0;e<this.analysisResult.length;e++){var o=this.analysisResult[e],s=$("<div></div>");0<o.leftMargin&&s.css("margin-left",o.leftMargin+"px"),0<o.rightMargin&&s.css("margin-right",o.rightMargin+"px");for(var n=0;n<o.paragraphs.length;n++){var a=o.paragraphs[n],h=$("<p></p>"),r=(t?h.css(t):h.css("text-align",a.align),$("<span></span>"));r.css(this.getFontCSS(a.font)),-1<(a=(a=(a=(a=(a=a.text).replaceAll("&lt;br&gt;","<br>")).replaceAll("&lt;br/&gt;","<br/>"))||"&nbsp;").replaceAll("  ","&nbsp;&nbsp;")).indexOf("<u>")&&(a=a.replaceAll("<u>",'<u style="text-decoration:underline">')),r.append(a),h.append(r),s.append(h)}i.append(s)}return i},getFontCSS:function(t){return t?{"font-family":t.family,color:t.color,"font-size":t.size+"px","letter-spacing":t.letterSpacing+"px","word-spacing":t.kerning+"px","font-style":t.italic?"italic":"normal","text-decoration":t.underline?"underline":"none"}:{}}}),Class("Item",{Package:"PageItem",create:function(t,i,e,o){this.parent=t,this.config=this.parseConfig(i),this.pageWidth=e,this.pageHeight=o,this.pw=e,this.ph=o,this.type=this.config.annotype},parseConfig:function(t){return t},animateConfig:function(){this.config.animation&&this.config.animation.name&&(this.config.animation.duration||(this.config.animation.duration=1),this.config.animation.timeFun||(this.config.animation.timeFun="ease"),this.config.animation.delay||(this.config.animation.delay=0),this.config.animation.count||(this.config.animation.count=1),this.config.animation.direction||(this.config.animation.direction="normal"))},getOssUrl:function(t,i,e,o){return 0<t.lastIndexOf("?")?t+("&x-oss-process=image/resize,m_"+o+",w_"+parseInt(i)+",h_"+parseInt(e)):t+("?x-oss-process=image/resize,m_"+o+",w_"+parseInt(i)+",h_"+parseInt(e))},destroy:function(){},onResize:virtual_function,onResizePopup:function(t,i){this.popup&&this.popup.visible&&this.popup.onResize&&this.popup.onResize(t,i)},setContainerSize:function(t,i,e,o,s){i=getCoverSize(i,e,o=null==o?1024:o,s=null==s?1024:s),$(t).css({width:i.width+"px",height:i.height+"px","-webkit-transform-origin":"0 0","transform-origin":"0 0","-webkit-transform":"scale("+i.scale+")",transform:"scale("+i.scale+")"})},resizeHint:function(){this.hintBody&&"block"==this.hintBody.css("display")&&("2"==this.config.hint.hintShapeType?this.normalHint(this.hintBody):this.bubbleHint(this.hintBody))},initLinkHint:function(t){var i;this.config.hint&&this.config.hint.text&&this.config.hint.text.length&&"null"!=this.config.hint.text.toLowerCase()&&(i=(new("2"==this.config.hint.hintShapeType?NormalLinkHint:BubbleLinkHint)).build(this.config),(this.hintBody=i).css({"z-index":"100"}),i)&&(this.parent.append(i),i.hide(),t.bind(isTouch?_event._down:_event._enter,function(t){this.hintWidth=this.hintWidth||i.width(),this.hintHeight=this.hintHeight||i.height(),i.show(),i.find("div").css({left:this.hintWidth/2+"px"}),"2"==this.config.hint.hintShapeType?this.normalHint(i):this.bubbleHint(i)}.bind(this)),t.bind(isTouch?_event._up:_event._leave,function(t){i.hide()}.bind(this)))},normalHint:function(t){var i=this.left+(this.width-this.hintWidth-10)/2;i<=0&&(i=0),this.top+this.hintHeight>this.pageHeight/2?t.css({left:i+"px",top:Math.max(2,this.top-this.hintHeight-15)+"px"}):t.css({left:i+"px",top:Math.max(2,this.top+this.height+5)+"px"})},bubbleHint:function(t){var i=this.left+(this.width-this.hintWidth-10)/2;i<=0&&(i=0),this.top+this.hintHeight+this.height>this.pageHeight/2?t.css({left:i+"px",top:Math.max(2,this.top-this.hintHeight-15)+"px"}):(t.css({left:i+"px",top:Math.max(2,this.top+this.height+5)+"px"}),t.find("#text_hint")[0]&&t.find("#text_hint").css({position:"absolute",bottom:"auto",top:"-10px",left:this.hintWidth/2-6+"px",border:"10px solid transparent","border-top-width":0,"border-left-width":"5px","border-right-width":"5px","border-bottom-color":Color(this.config.hint.hintShapeColor).rgba(this.config.hint.hintShapeAlpha)}))},addActionEvent:function(t){(t=new this.ActionManager(this,t,this.config)).prepareAction(),t.addAction()},addEffectEvent:function(t,i){new this.EffectManager(this,t,i,this.config).addEffect()},addHighLightEvent:function(t,i){if(t=(t=new this.HighLightManager(this,t,i,this.config)).addHighLight())return t},imageReflection:function(t){1==supports("boxReflect")&&this.addCSSReflection(t)},addCSSReflection:function(t){var i=this.config.pageW/this.pageWidth,e=(this.config.pageW||(i=1.2),this.config.reflectionAlpha?Number(this.config.reflectionAlpha):0);"1"==this.config.reflectionType&&(e?t.css({"-webkit-box-reflect":"below "+10*i+"px -webkit-gradient(linear, 0 0, 0 100%, from(rgba(255,255,255,"+e/2+")),color-stop(0.5,rgba(255,255,255,"+e+")), to(white))","-o-box-reflect":"below "+10*i+"px -webkit-gradient(linear, 0 0, 0 100%, from(rgba(255,255,255,"+e/2+")),color-stop(0.5,rgba(255,255,255,"+e+")), to(white))"}):t.css({"-webkit-box-reflect":"below "+10*i+"px -webkit-gradient(linear, 0 0, 0 100%, from(transparent), color-stop(0.7, transparent), to(white))","-o-box-reflect":"below "+10*i+"px -webkit-gradient(linear, 0 0, 0 100%, from(transparent), color-stop(0.7, transparent), to(white))"})),"6"==this.config.reflectionType&&(e?t.css({"-webkit-box-reflect":"below 0px -webkit-gradient(linear, 0 0, 0 100%, from(rgba(255,255,255,"+e/2+")),color-stop(0.5,rgba(255,255,255,"+e+")), to(white))","-o-box-reflect":"below 0px -webkit-gradient(linear, 0 0, 0 100%, from(rgba(255,255,255,"+e/2+")),color-stop(0.5,rgba(255,255,255,"+e+")), to(white))"}):t.css({"-webkit-box-reflect":"below 0px -webkit-gradient(linear, 0 0, 0 100%, from(transparent), color-stop(0.5, transparent), to(white))","-o-box-reflect":"below 0px -webkit-gradient(linear, 0 0, 0 100%, from(transparent), color-stop(0.5, transparent), to(white))"})),"3"==this.config.reflectionType&&(e?t.css({"-webkit-box-reflect":"below "+10*i+"px -webkit-gradient(linear, 0 0, 0 100%, from(rgba(255,255,255,"+e/2+")),color-stop(0.5,rgba(255,255,255,"+e+")), to(white))","-o-box-reflect":"below "+10*i+"px -webkit-gradient(linear, 0 0, 0 100%, from(rgba(255,255,255,"+e/2+")),color-stop(0.5,rgba(255,255,255,"+e+")), to(white))"}):t.css({"-webkit-box-reflect":"below "+10*i+"px -webkit-gradient(linear, 0 0, 0 100%, from(transparent), color-stop(0.5, transparent), to(white))","-o-box-reflect":"below "+10*i+"px -webkit-gradient(linear, 0 0, 0 100%, from(transparent), color-stop(0.5, transparent), to(white))"})),"4"==this.config.reflectionType&&(e?t.css({"-webkit-box-reflect":"below 0 -webkit-gradient(linear, 0 0, 0 100%, from(rgba(255,255,255,"+e/2+")),color-stop(0.5,rgba(255,255,255,"+e+")), to(white))","-o-box-reflect":"below 0 -webkit-gradient(linear, 0 0, 0 100%, from(rgba(255,255,255,"+e/2+")),color-stop(0.5,rgba(255,255,255,"+e+")), to(white))"}):t.css({"-webkit-box-reflect":"below 0 -webkit-gradient(linear, 0 0, 0 100%, from(transparent), color-stop(0.7, transparent), to(white))","-o-box-reflect":"below 0 -webkit-gradient(linear, 0 0, 0 100%, from(transparent), color-stop(0.7, transparent), to(white))"})),"5"==this.config.reflectionType&&(e?t.css({"-webkit-box-reflect":"below 0 -webkit-gradient(linear, 0 0, 0 100%, from(rgba(255,255,255,"+e/2+")),color-stop(0.5,rgba(255,255,255,"+e+")), to(white))","-o-box-reflect":"below 0 -webkit-gradient(linear, 0 0, 0 100%, from(rgba(255,255,255,"+e/2+")),color-stop(0.5,rgba(255,255,255,"+e+")), to(white))"}):t.css({"-webkit-box-reflect":"below 0 -webkit-gradient(linear, 0 0, 0 100%, from(transparent), color-stop(0.6, transparent), to(white))","-o-box-reflect":"below 0 -webkit-gradient(linear, 0 0, 0 100%, from(transparent), color-stop(0.6, transparent), to(white))"}))},setShapeShadow:function(t){switch(Number(this.config.sa)){case 90:offx=0,offy=4;break;case 180:offx=-4,offy=0;break;case 270:offx=0,offy=-4;break;case 360:offx=4,offy=0}t.shadowOffsetX=offx,t.shadowOffsetY=offy,t.shadowBlur=this.config.sx,t.shadowColor=Color(this.config.sr).toString()},addShadow:function(t){if(this.config.hasShadow){var i=0,e=0,o=this.config.shadow,s=Color(o.shadowColor).rgba(o.shadowAlpha);switch(Number(o.shadowAngle)){case 90:i=0,e=4;break;case 180:i=-4,e=0;break;case 270:i=0,e=-4;break;case 360:i=4,e=0}t.css({"box-shadow":i+"px "+e+"px "+o.shadowBlurX+"px "+s,"-moz-box-shadow":i+"px "+e+"px "+o.shadowBlurX+"px "+s,"-webkit-box-shadow":i+"px "+e+"px "+o.shadowBlurX+"px "+s,"-ms-box-shadow":i+"px "+e+"px "+o.shadowBlurX+"px "+s,"-o-box-shadow":i+"px "+e+"px "+o.shadowBlurX+"px "+s})}},setRotation:function(t,i){0==parseInt(i)||isNaN(i)||t.css({transform:"rotate("+i+"deg)","-webkit-transform":"rotate("+i+"deg)","-ms-transform":"rotate("+i+"deg)","-o-transform":"rotate("+i+"deg)","-moz-transform":"rotate("+i+"deg)","transform-origin":"0% 0%","-webkit-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%"})},fixRelativePath:function(t){return t&&("string"!=typeof t||1!=bookConfig.isFlipPdf||t.startsWith("../")?fixURLValue(t):t.startsWith("./")?fixURLValue("."+t):!t.startsWith("files")&&t.isUrl()?fixURLValue(t):fixURLValue("../"+t))},nameIs:function(){if(0!=arguments.length)for(var t=this.getClassName(),i=0;i<arguments.length;i++)if("string"==typeof arguments[i]&&t==arguments[i])return!0;return!1},nameLike:function(){if(0!=arguments.length)for(var t=this.getClassName().toLowerCase(),i=0;i<arguments.length;i++)if("string"==typeof arguments[i]){var e=arguments[i].toLowerCase();if(-1<t.indexOf(e))return!0}return!1}}),Class("NormalLinkHint",{build:function(t,i,e){var o=(e=new TextFormatAnalyzer(t.hint.text)).getHTML();return(i=$("<div></div>")).html(o),e.initFont(i),e=Color(t.hint.hintShapeColor),parseBool(t.hint.hintAuto)?i.css({padding:"5px","border-radius":"2px"}):i.css({width:t.hint.hintW+"px",height:t.hint.hintH+"px","line-height":t.hint.hintH+"px"}),i.css({position:"absolute",background:e.rgba(t.hint.hintShapeAlpha),"border-radius":"2px",color:"white"}),i}}),Class("BubbleLinkHint",{build:function(t,i,e){var o=new TextFormatAnalyzer(t.hint.text),s=o.getHTML();return i=$("<div></div>"),e=$("<div id='text_hint'></div>"),i.html(s),i.append(e),o.initFont(i),o=Color(t.hint.hintShapeColor),s=Color(t.hint.hintShapeColor2),parseBool(t.hint.hintAuto)?i.css({padding:"5px","border-radius":"2px"}):i.css({width:t.hint.hintW+"px",height:t.hint.hintH+"px","line-height":t.hint.hintH+"px"}),e.css({position:"absolute",bottom:"-10px",border:"10px solid transparent","border-bottom-width":0,"border-left-width":"5px","border-right-width":"5px","border-top-color":s.rgba(t.hint.hintShapeAlpha)}),i.css({position:"absolute","text-align":"center",background:"-moz-linear-gradient(top,"+o.rgba(t.hint.hintShapeAlpha)+","+s.rgba(t.hint.hintShapeAlpha)+")",background:"-o-linear-gradient(top,"+o.rgba(t.hint.hintShapeAlpha)+","+s.rgba(t.hint.hintShapeAlpha)+")",background:"-ms-linear-gradient(top,"+o.rgba(t.hint.hintShapeAlpha)+","+s.rgba(t.hint.hintShapeAlpha)+")",background:"-webkit-linear-gradient(top,"+o.rgba(t.hint.hintShapeAlpha)+","+s.rgba(t.hint.hintShapeAlpha)+")",background:"linear-gradient("+o.rgba(t.hint.hintShapeAlpha)+","+s.rgba(t.hint.hintShapeAlpha)+")","border-radius":"2px",color:"white"}),i}}).extend("NormalLinkHint"),Class("ActionManager",{Package:"PageItem",create:function(t,i,e){this.item=t,this.element=i,this.config=e,this.action=e.action,this.initAction(),this.initActionEvent()},initAction:function(){if(this.action){if(this.action instanceof Array){if(0==this.action.length)return void(this.action=null);this.action=this.action[0]}this.eventType=null,this.action.triggerEventType&&(this.eventType=this.action.triggerEventType),$.system.name==$.system.IOS&&(this.eventType==PageEditor.TriggerEventType.MouseDown&&(null==this.action.linkTarget&&(this.action.linkTarget="_self"),"_blank"==this.action.linkTarget&&(this.eventType=PageEditor.TriggerEventType.MouseUp),"Blank"==this.action.linkTarget)&&(this.eventType=PageEditor.TriggerEventType.MouseUp),this.action.url)&&"tel:"==this.action.url.toLowerCase().substr(0,4)&&(this.eventType=PageEditor.TriggerEventType.MouseUp)}},initActionEvent:function(){if(this.action)switch(this.eventName="",this.eventType){case PageEditor.TriggerEventType.MouseDown:this.eventName=_event._click;break;case PageEditor.TriggerEventType.MouseOver:this.eventName=_event._over,(isPad()||isPhone())&&(this.eventName=_event._click);break;case PageEditor.TriggerEventType.MouseOut:this.eventName=_event._out,(isPad()||isPhone())&&(this.eventName=_event._click);break;case PageEditor.TriggerEventType.MouseUp:this.eventName=_event._click;break;case PageEditor.TriggerEventType.MouseMove:this.eventName=_event._move;break;case PageEditor.TriggerEventType.MouseLeave:this.eventName=_event._leave,(isPad()||isPhone())&&(this.eventName=_event._click)}},prepareAction:function(){this.action&&this.element&&(this.executor=this.getActionExecutor())&&this.executor.prepare&&this.executor.prepare(this.item,this.element,this.config)},addAction:function(){this.action&&this.element&&""!=this.eventName&&(!isPhone()&&!isPad()||this.eventName!=_event._click&&this.eventName!=_event._down&&this.eventName!=_event._end&&this.eventName!=_event._over&&this.eventName!=_event._move?(this.element.css({cursor:"pointer"}),this.element.bind("mousedown touchstart pointerdown",function(t){this.config.isInverse||t.stopPropagation()}.bind(this)),this.element.bind(this.eventName,function(t){if(this.onAction(),this.config.isInverse||t.stopPropagation(),!this.config.isInverse)return!1}.bind(this))):this.addPhoneAction())},addPhoneAction:function(){var i=null;this.element.onTap(function(t){i&&(clearTimeout(i),i=null),i=setTimeout(function(){this.onAction(),i=null}.bind(this),100)}.bind(this))},onAction:function(){if(this.executor||(this.executor=this.getActionExecutor()),this.executor)return this.executor.execute(this.item,this.element,this.config)},getActionExecutor:function(){return this.action.actionType==PageEditor.ActionType.GOTO_PAGE?new PageItem.Action.GotoPageAction:this.action.actionType==PageEditor.ActionType.OPEN_URL?new PageItem.Action.OpenUrlAction:this.action.actionType==PageEditor.ActionType.OPEN_WINDOW?new PageItem.Action.OpenWindowAction:this.action.actionType==PageEditor.ActionType.SLIDE_SHOW?new PageItem.Action.OpenSlideshowAction:this.action.actionType==PageEditor.ActionType.PLAY_AUDIO?new PageItem.Action.PlayAudioAction:this.action.actionType==PageEditor.ActionType.ACTION_JS?new PageItem.Action.ExecuteJavascriptAction:this.action.actionType==PageEditor.ActionType.WINDOW_HTML?new PageItem.Action.HTMLWindowAction:this.action.actionType==PageEditor.ActionType.PLAY_VIDEO?new PageItem.Action.PlayVideoAction:this.action.actionType==PageEditor.ActionType.SHOW_INFORMATION?new PageItem.Action.ShowInformationAction:this.action.actionType==PageEditor.ActionType.QUIZ?new PageItem.Action.OpenQuizAction:this.action.actionType==PageEditor.ActionType.SWF_SLIDE?new PageItem.Action.OpenSwfSlideAction:this.action.actionType==PageEditor.ActionType.SHOW_ARTICLE?new PageItem.Action.ShowArticleAction:void 0}}),Class("GotoPageAction",{Package:"PageItem.Action",execute:function(t,i,e){this.initPageIndex(e.action),gotoPageFun(this.linkPageIndex,!1,"action"),i.addClass("slider-action")},initPageIndex:function(t){this.linkPageIndex=t.pageIndex,this.linkPageIndex||(this.linkPageIndex=1)}}),Class("OpenUrlAction",{Package:"PageItem.Action",execute:function(t,i,e){if(this.initLink(e.action),"tel:"==this.linkUrl.substr(0,4))window.open(this.linkUrl),BookEvent.trigger("jumpLink",["telePhoneNumber",BookInfo.getCurrentPages().join("-"),this.linkUrl]);else{if(this.isTargetMatch("self"))return window.location=this.linkUrl,BookEvent.trigger("jumpLink",["openUrl",BookInfo.getCurrentPages().join("-"),this.linkUrl]),!1;if(this.isTargetMatch("blank"))return-1<navigator.userAgent.toLowerCase().indexOf("dingtalk")?window.location.href=this.linkUrl:window.open(this.linkUrl),BookEvent.trigger("jumpLink",["openUrl",BookInfo.getCurrentPages().join("-"),this.linkUrl]),!1;if(this.isTargetMatch("parent"))return parent.location=this.linkUrl,BookEvent.trigger("jumpLink",["openUrl",BookInfo.getCurrentPages().join("-"),this.linkUrl]),!1;if(this.isTargetMatch("top")){for(i=window;i.parent!=i;)i=i.parent;return i.location=this.linkUrl,BookEvent.trigger("jumpLink",["openUrl",BookInfo.getCurrentPages().join("-"),this.linkUrl]),!1}(t=window.frames[this.linkTarget])?t.location=this.linkUrl:window.location=this.linkUrl,BookEvent.trigger("jumpLink",["openUrl",BookInfo.getCurrentPages().join("-"),this.linkUrl])}i.addClass("slider-action")},initLink:function(t){this.initLinkUrl(t),this.initLinkTarget(t)},initLinkUrl:function(t){this.linkUrl=t.url,this.linkUrl||(this.linkUrl=""),this.linkUrl=this.linkUrl.trim(),(t=this.linkUrl.toLowerCase()).isUrl()&&t.startsWith("www")&&(this.linkUrl="http://"+this.linkUrl),t.isEmail()&&!t.startsWith("mailto:")&&(this.linkUrl="mailto:"+this.linkUrl),this.fixLikeFileLinkUrl()},fixLikeFileLinkUrl:function(){var t=this.linkUrl.toLowerCase();-1<t.startsWith("http")||-1<t.startsWith("ftp")||-1<t.startsWith("www.")||-1<t.startsWith("tel:")||-1<t.startsWith("mailto:")||t.contains("@")||1<t.extract(".").length||(this.linkUrl="www."+this.linkUrl)},initLinkTarget:function(t){this.linkTarget=(this.linkTarget=t.linkTarget)?this.linkTarget:bookConfig.OpenWindow||"_blank"},isTargetMatch:function(t){return!!t&&0<=this.linkTarget.trim().toLowerCase().indexOf(t)}}),Class("PlayAudioAction",{Package:"PageItem.Action",execute:function(t,i,e){this.prepare(t,i,e),0==t.audio.isPlaying()?t.audio.play():t.audio.pause(),i.addClass("slider-action")},prepare:function(t,i,e){t.audio||(i=e.action,e=tmpContainer,bookContainer.width(),bookContainer.height(),t.audio=new AudioEditor(e,i.audioURL,i.autoPlay,i.autoPlayAgain,i.H5PlaybackNumber,i.H5Replay))}}),Class("PlayVideoAction",{Package:"PageItem.Action",execute:function(t,i,e){(e=e.action).windowType==PageEditor.WindowType.OPEN_YOUTUBE&&(isPhone()||isPad()?t.popup=new PopUpPhoneVideo(e,"youtube"):t.popup=new PopUpVideo(e,"youtube")),e.windowType==PageEditor.WindowType.OPEN_VIMEO&&(isPhone()||isPad()?t.popup=new PopUpPhoneVideo(e,"vimeo"):t.popup=new PopUpVideo(e,"vimeo")),e.windowType==PageEditor.WindowType.OPEN_DAILYMOTION&&(isPhone()||isPad()?t.popup=new PopUpPhoneVideo(e,"dailymotion"):t.popup=new PopUpVideo(e,"dailymotion")),e.windowType==PageEditor.WindowType.OPEN_TYPE_WISTIA&&(isPhone()||isPad()?t.popup=new PopUpPhoneVideo(e,"wistia"):t.popup=new PopUpVideo(e,"wistia")),e.windowType==PageEditor.WindowType.OPEN_TYPE_YOUKU&&(isPhone()||isPad()?t.popup=new PopUpPhoneVideo(e,"youku"):t.popup=new PopUpVideo(e,"youku")),e.windowType==PageEditor.WindowType.OPEN_TYPE_QQ&&(isPhone()||isPad()?t.popup=new PopUpPhoneVideo(e,"qq"):t.popup=new PopUpVideo(e,"qq")),i.addClass("slider-action")}}),Class("OpenSlideshowAction",{Package:"PageItem.Action",execute:function(t,i,e){var o=e.action,s=(o.popUpImage=parseBool(e.popUpImage),o.url=e.src,e=tmpContainer,bookContainer.width()),n=bookContainer.height();t.popup=new PageItem.Popup.SlideShow(e,o,s,n),i.addClass("slider-action")}}),Class("ExecuteJavascriptAction",{Package:"PageItem.Action",execute:function(b,c,d){b=d.action,b.scriptFun&&eval(b.scriptFun),c.addClass("slider-action")}}),Class("OpenWindowAction",{Package:"PageItem.Action",execute:function(t,i,e){var o={width:(e=e.action).windowWidth,height:e.windowHeight,src:e.resourceContent,caption:e.caption,languageLayout:e.languageLayout},s=(e.H5PlaybackNumber&&(o.H5PlaybackNumber=parseInt(e.H5PlaybackNumber)),e.H5Replay&&(o.H5Replay=parseBool(e.H5Replay)),e.hideTitle&&(o.hideTitle=parseBool(e.hideTitle)),e.drag&&(o.drag=parseBool(e.drag)),tmpContainer),n=windowWidth,a=windowHeight;e.windowType==PageEditor.WindowType.OPEN_VIDEO&&($.browser.device==$.browser.DEVICE_PHONE||isPhone()||isPad()?t.video=new MobileVideo(s,o,n,a,"video"):t.video=new PageItem.VideoForm(s,o,n,a,"video")),e.windowType==PageEditor.WindowType.OPEN_FLASH&&(t.video=new PageItem.VideoForm(s,o,n,a,"flash")),e.windowType==PageEditor.WindowType.OPEN_SHOW_TEXT&&($.browser.device==$.browser.DEVICE_PHONE||isPhone()||isPad()?t.video=new TextLightBox(s,o,n,a,"text"):t.video=new PageItem.VideoForm(s,o,n,a,"text")),i.addClass("slider-action")}}),Class("HTMLWindowAction",{Package:"PageItem.Action",execute:function(t,i,e){t.popup=new PageItem.Popup.WindowHtml(tmpContainer,e.action),i.addClass("slider-action")}}),Class("ShowInformationAction",{Package:"PageItem.Action",execute:function(t,i,e){$.browser.device==$.browser.DEVICE_PHONE||isPhone()||isPad()?t.popup&&t.popup.visible||(t.popup=new PageItem.Popup.ShowInformationMobile(tmpContainer,e)):t.popup=new PageItem.Popup.ShowInformation(tmpContainer,e),t.popup.visible||t.popup.show(),i.addClass("slider-action")}}),Class("OpenQuizAction",{Package:"PageItem.Action",execute:function(t,i,e){$.browser.device==$.browser.DEVICE_PHONE||isPhone()||isPad()?t.popup=new PageItem.Popup.QuizPanelMobile(tmpContainer,e):t.popup=new PageItem.Popup.QuizPanelPC(tmpContainer,e),t.popup.show(),i.addClass("slider-action")}}),Class("OpenSwfSlideAction",{Package:"PageItem.Action",execute:function(t,i,e){var o;BookInfo.getBook().flipping||(o=(i="IMG"==i[0].tagName.toUpperCase()?i.parent():i).parent(),e.elemConfig={element:i,elementParent:o,offsetX:o.offset().left,offsetY:o.offset().top,parentWidth:o.width(),parentHeight:o.height(),sideWidth:BookInfo.getBook().pageWidth,sideHeight:BookInfo.getBook().pageHeight},o=tmpContainer,"Text"==e.action.targetType&&!e.action.targetText)||"SWF"==e.action.targetType&&!e.action.swfURL||(t.popup||(t.popup=new PageItem.Popup.SwfSlide(o,e,windowWidth,windowHeight)),t.popup.show(),i.addClass("slider-action"))}}),Class("ShowArticleAction",{Package:"PageItem.Action",execute:function(t,i,e){t=e.action,window.showArticleById&&window.showArticleById(t.articleConfig.articleId)}}),Class("EffectManager",{Package:"PageItem",create:function(t,i,e,o){i&&o&&o.effect&&(this.elementConfig=e=e||"",this.item=t,this.element=i,this.config=o,this.effect=o.effect)},addEffect:function(){var t;this.element&&this.config&&this.effect&&this.effect.effectType&&(t=this.getActionExecutor())&&(this.item.imgEffect=t)},getActionExecutor:function(){return this.effect.effectType==PageEditor.Effect.FADEIN?new PageItem.Effect.FadeIn(this.item,this.element,this.elementConfig,this.config):this.effect.effectType==PageEditor.Effect.CUTTING?new PageItem.Effect.Cutting(this.item,this.element,this.elementConfig,this.config):this.effect.effectType==PageEditor.Effect.FLY_IN?new PageItem.Effect.FlyIn(this.item,this.element,this.elementConfig,this.config):this.effect.effectType==PageEditor.Effect.INDENTATION?new PageItem.Effect.Indentation(this.item,this.element,this.elementConfig,this.config):void 0}}),Class("FadeIn",{Package:"PageItem.Effect",create:function(t,i,e,o){i&&o&&(this.item=t,this.element=i,this.config=o,this.effect=o.effect)},hide:function(){this.element.css({display:"none"})},show:function(){this.element.fadeIn(1e3*this.effect.duration)}}),Class("FlyIn",{Package:"PageItem.Effect",create:function(t,i,e,o){i&&o&&e&&(this.item=t,this.elementConfig=e,this.element=i,this.elemWidth=this.elementConfig.elemWidth,this.elemHeight=this.elementConfig.elemHeight,this.parentWidth=this.elementConfig.parentWidth,this.parentHeight=this.elementConfig.parentHeight,this.config=o,this.effect=o.effect,this.hide())},setPosition:function(){switch(this.effect.position){case"left":this.element.css({left:-this.elementConfig.x-this.elementConfig.elemWidth+"px"});break;case"top":this.element.css({top:-this.elementConfig.y-this.elementConfig.elemHeight+"px"});break;case"bottom":this.element.css({top:this.elementConfig.pageHeight-this.elementConfig.y+"px"});break;case"right":this.element.css({left:this.elementConfig.pageWidth-this.elementConfig.x+"px"})}},hide:function(){this.setPosition()},show:function(){setTimeout(function(){"left"==this.effect.position||"right"==this.effect.position?this.element.animate({left:(this.elementConfig.parentWidth-this.elementConfig.elemWidth)/2+"px"},1e3*this.effect.duration,"easeOutBack"):this.element.animate({top:(this.elementConfig.parentHeight-this.elementConfig.elemHeight)/2+"px"},1e3*this.effect.duration,"easeOutBack")}.bind(this),1e3*bookConfig.flippingTime)}}),Class("Indentation",{Package:"PageItem.Effect",create:function(t,i,e,o){i&&o&&e&&(this.item=t,this.elementConfig=e,this.element=i,this.config=o,this.effect=o.effect,this.hide())},setPosition:function(){switch(this.element.css({margin:""}),this.element.parent().css({overflow:"hidden"}),this.elementConfig.parentWidth/this.elementConfig.parentHeight>this.elementConfig.elemWidth/this.elementConfig.elemHeight?(this.startLeft=(this.elementConfig.parentWidth-this.elementConfig.elemWidth)/2,this.startTop=0):(this.startLeft=0,this.startTop=(this.elementConfig.parentHeight-this.elementConfig.elemHeight)/2),this.effect.position){case"left":var t=this.elementConfig.parentWidth-this.elementConfig.elemWidth;this.element.css({left:-(this.elementConfig.elemWidth+t)+"px",top:this.startTop+"px"});break;case"top":t=this.elementConfig.parentHeight-this.elementConfig.elemHeight,this.element.css({top:-(this.elementConfig.elemHeight+t)+"px",left:this.startLeft+"px"});break;case"bottom":t=this.elementConfig.parentHeight-this.elementConfig.elemHeight,this.element.css({top:this.elementConfig.elemHeight+t+"px",left:this.startLeft+"px"});break;case"right":t=this.elementConfig.parentWidth-this.elementConfig.elemWidth,this.element.css({left:this.elementConfig.elemWidth+t+"px",top:this.startTop+"px"})}},hide:function(){this.setPosition()},show:function(){setTimeout(function(){"left"==this.effect.position||"right"==this.effect.position?this.element.animate({left:this.startLeft},1e3*this.effect.duration,"easeOutBack"):this.element.animate({top:this.startTop},1e3*this.effect.duration,"easeOutBack")}.bind(this),1e3*bookConfig.flippingTime)}}),Class("Cutting",{Package:"PageItem.Effect",create:function(t,i,e,o){i&&e&&o&&(this.elementConfig=e,this.element=i,this.elemParent=this.element.parent(),this.config=o,this.showTime=0,this.effect=o.effect,this.initCss())},initCss:function(){isPhone()||isPad()||(this.element.addClass("clip"),this.element.parent().addClass("active"),this.element.css({transform:""}))},resetClass:function(){isPhone()||isPad()||(this.element.removeClass("clip"),this.element.parent().removeClass("active"))},cutting:function(t){if(t){this.initCss(),t.removeAttribute("id");var e=this.elementConfig.elemHeight,o=this.elementConfig.elemWidth,i=this.elementConfig.elemWidth/10,s=t.outerHTML;if(window.getComputedStyle(document.body).webkitClipPath){for(var n="",a=0;a<o;a+=i)for(var h=0;h<e;h+=i)[[[a,h],[a,h+i],[a+i,h+i],[a+i,h]]].forEach(function(t,i){t="-webkit-clip-path: polygon("+(t=t.map(function(t){return t.map(function(t){return t+"px"}).join(" ")}).join())+");clip-path: polygon("+t+");",i=Math.random()<.5?-1:1,i="translate("+[o*(.5-Math.random()),e*(.5-Math.random())].map(function(t){return t+"px"}).join()+") rotate("+Math.round(360*i*Math.random())+"deg)",n+=s.replace('style="',' style="-webkit-transform:'+i+";-o-transform:"+i+";-moz-transform:"+i+";-ms-transform:"+i+";transform:"+i+";"+t),this.element.css({visibility:"hidden"})}.bind(this));return $(t).parent().append(n),setTimeout(function(){this.elemParent.find("img").css({background:"transparent",visibility:"visible"}),this.elemParent.find("img").not(":first").remove(),this.resetClass()}.bind(this),1100),!0}t.className+=" no-clippath"}return!1},hide:function(){isPhone()||isPad()?this.element.fadeOut(0):this.element.css({display:"none"})},show:function(){isPhone()||isPad()?this.element.fadeIn(1e3):(this.element.css({display:"block"}),this.cutting(this.element[0]))}}),Class("HighLightManager",{Package:"PageItem",create:function(t,i,e,o){i&&o&&e&&(this.elementConfig=e,this.item=t,this.element=i,this.highlightsLabel=o.highlightsLabel)},addHighLight:function(){if(this.element&&this.highlightsLabel){var t=this.getHighLightType();if(t)return t}},getHighLightType:function(){return this.highlightsLabel==PageEditor.HighLight.GREENBOXSTOP?new PageItem.HighLight.GreenBoxStop(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.GREENBOX?new PageItem.HighLight.GreenBox(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.ORIGINCIRCLE?new PageItem.HighLight.OriginCircle(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.REDBOX?new PageItem.HighLight.RedBox(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.REDCIRCLE?new PageItem.HighLight.RedCircle(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.BLUESQUARE?new PageItem.HighLight.BlueSquare(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.GREENCIRCLEROTATE?new PageItem.HighLight.GreenCircleRotate(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.GREENLINELTOR?new PageItem.HighLight.GreenLineLToR(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.GREENLINERTOL?new PageItem.HighLight.GreenLineRToL(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.GREENSQUARE?new PageItem.HighLight.GreenSquare(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.LINESQUARE?new PageItem.HighLight.LineSquare(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.ORANGEHIGHLIGHT?new PageItem.HighLight.OrangeHighLight(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.ORANGECIRCLELIGHT?new PageItem.HighLight.OrangeCircleLight(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.PUSHSQUARE?new PageItem.HighLight.PushSquare(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.REDHIGHLIGHT?new PageItem.HighLight.RedHighLight(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.REDBOXBLINK?new PageItem.HighLight.RedBoxBlink(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.REDLINEBLINK?new PageItem.HighLight.RedLineBlink(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.REDLINELTOR?new PageItem.HighLight.RedLineLToR(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.REDLINERTOL?new PageItem.HighLight.RedLineRToL(this.element,this.elementConfig):this.highlightsLabel==PageEditor.HighLight.SPINSQUARE?new PageItem.HighLight.SpinSquare(this.element,this.elementConfig):void 0}}),Class("HighLightHtml",{Package:"PageItem.HighLight",create:function(t,i){t&&i&&(this.config=i,this.width=i.width,this.height=i.height,this.element=t,this.initConfig(),this.cvs=$("<canvas width="+this.width+" height="+this.height+"></canvas>"),this.ctx=this.cvs[0].getContext("2d"),this.initCss(),this.element.append(this.cvs),this.element.bind("mouseenter",this.animate.bind(this)),this.element.bind("mouseleave",function(){this.stopAnimate(),this.clearCvs()}.bind(this)))},initConfig:function(){},animate:function(){},stopAnimate:function(){},ellipse:function(t,i,e,o,s,n,a,h){t.save();var r=s<o?o:s;o/=r,s/=r,t.lineJoin="round",t.scale(o,s),t.beginPath(),t.arc(i/o,e/s,r,n,a,h),t.stroke(),t.closePath(),t.restore()},clearCvs:function(){this.ctx.clearRect(0,0,this.width,this.height)},onResize:function(t,i){this.width=t,this.height=i,this.cvs[0].width=t,this.cvs[0].height=i,this.initConfig()},initCss:function(){this.cvs.css({position:"absolute","pointer-events":"none",left:0,top:0,"z-index":0})},hide:function(){},show:function(){}}),Class("GreenBoxStop",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i)},initConfig:function(){this.gradientWidth=this.width,this.overSize=this.height-this.width,this.height<this.width&&(this.gradientWidth=this.height,this.overSize=this.width-this.height),this.x=.05*this.width,this.y=.05*this.height,this.drawW=.9*this.width,this.drawH=.9*this.height},animate:function(){this.line1=this.line1Animate.animation(this,500)},stopAnimate:function(){this.line1&&this.line1.stop(),this.line2&&this.line2.stop(),this.flash&&this.flash.stop(),this.boxFlash&&this.boxFlash.stop()},drawRect:function(){this.ctx.beginPath(),this.ctx.strokeStyle="#009900",this.ctx.lineJoin="round",this.ctx.lineWidth=1,this.ctx.strokeRect(this.x,this.y,this.drawW,this.drawH),this.ctx.closePath()},line1Animate:function(t,i){this.ctx.clearRect(0,0,this.width,this.height),this.ctx.strokeStyle="#009900",this.ctx.lineJoin="round",this.ctx.lineWidth=1;var e=this.x+this.drawW,o=this.y;this.ctx.beginPath(),this.ctx.moveTo(e,o),this.ctx.lineTo(e-this.drawW/i*t,o),this.ctx.moveTo(e,o),this.ctx.lineTo(e,o+this.drawH/i*t),this.ctx.stroke(),this.ctx.closePath(),t==i&&(this.line2=this.line2Animate.animation(this,500))},line2Animate:function(t,i){this.ctx.clearRect(0,0,this.width,this.height),this.ctx.strokeStyle="#009900",this.ctx.lineWidth=1,this.origin1={x:.05*this.width,y:.05*this.height},this.origin2={x:.95*this.width,y:.95*this.height},this.ctx.beginPath(),this.ctx.moveTo(.95*this.width,.05*this.height),this.ctx.lineTo(.05*this.width,.05*this.height),this.ctx.moveTo(.95*this.width,.05*this.height),this.ctx.lineTo(.95*this.width,.95*this.height),this.ctx.stroke(),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.moveTo(this.origin1.x,this.origin1.y),this.ctx.lineTo(this.origin1.x,this.origin1.y+this.drawH/i*t),this.ctx.moveTo(this.origin2.x,this.origin2.y),this.ctx.lineTo(this.origin2.x-this.drawW/i*t,this.origin2.y),this.ctx.stroke(),this.ctx.closePath(),t==i&&(this.flash=this.flashAnimate.animation(this,300))},flashAnimate:function(t,i){var e=t/i,o=.2+.6*e,s=o-.2,n=.2+o,a=(this.ctx.beginPath(),this.ctx.clearRect(0,0,this.width,this.height),this.ctx.createLinearGradient(0,.95*this.height-this.overSize*e,this.gradientWidth,.95*this.height-this.gradientWidth-this.overSize*e));(a=this.width>this.height?this.ctx.createLinearGradient(this.overSize*e,this.gradientWidth,this.gradientWidth+this.overSize*e,0):a).addColorStop(0,"transparent"),a.addColorStop(s,"transparent"),a.addColorStop(o,Color("#009900").rgba(.5-.4*e)),a.addColorStop(n,"transparent"),a.addColorStop(1,"transparent"),this.ctx.fillStyle=a,this.ctx.fillRect(.05*this.width,.05*this.height,this.drawW,this.drawH),this.ctx.closePath(),this.drawRect(),t==i&&(this.ctx.clearRect(0,0,this.width,this.height),this.drawRect(),this.boxFlashAnimate)&&(this.boxFlash=this.boxFlashAnimate.animation(this,800))}}).extend("HighLightHtml"),Class("GreenBox",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i),this.color=Color("#009900")},boxFlashAnimate:function(t,i){this.clearCvs(),this.ctx.beginPath(),this.ctx.strokeStyle=this.color.rgba(t<=i/2?1-t/i*2:t/i*2-1),this.ctx.lineJoin="round",this.ctx.lineWidth=1,this.ctx.strokeRect(this.x,this.y,this.drawW,this.drawH),this.ctx.closePath(),t==i&&(this.boxFlash&&this.boxFlash.stop(),this.boxFlash=this.boxFlashAnimate.animation(this,800))}}).extend("GreenBoxStop"),Class("OriginCircle",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i)},initConfig:function(){this.color=Color("#F7771E"),this.x=this.width/2,this.y=this.height/2,this.drawW=.72*this.width/2,this.drawH=.72*this.height/2,this.gradientWidth=2*this.drawW,this.overSize=2*(this.drawH-this.drawW),this.drawW>this.drawH&&(this.gradientWidth=2*this.drawH,this.overSize=2*(this.drawW-this.drawH))},animate:function(){this.drawRound=this.ellipse1Anime.animation(this,500)},stopAnimate:function(){this.drawRound&&this.drawRound.stop(),this.flash&&this.flash.stop(),this.ellipseFlash&&this.ellipseFlash.stop()},ellipse1Anime:function(t,i){var e=t/i;this.clearCvs(),this.ctx.beginPath(),this.ctx.strokeStyle=this.color.toString(),this.ctx.lineJoin="round",this.ctx.lineWidth=1,this.ellipse(this.ctx,this.x,this.y,this.drawW,this.drawH,.25*-Math.PI,.75*Math.PI*e),this.ctx.closePath(),this.ctx.beginPath(),this.ellipse(this.ctx,this.x,this.y,this.drawW,this.drawH,-.25*Math.PI,-.25*Math.PI-+Math.PI*e,!0),this.ctx.closePath(),t==i&&(this.flash=this.flashAnimate.animation(this,300))},flashAnimate:function(t,i){var e=t/i,o=.2+.4*e,s=o-.2,n=.2+o,a=.14*this.width,h=.14*this.height,r=(this.clearCvs(),this.ctx.createLinearGradient(a,.86*this.height-this.overSize*e,this.gradientWidth+a,.86*this.height-this.gradientWidth-this.overSize*e*.9));(r=this.width>this.height?this.ctx.createLinearGradient(a+this.overSize*e,this.gradientWidth+h,a+this.gradientWidth+this.overSize*e,h):r).addColorStop(0,"transparent"),r.addColorStop(s,"transparent"),r.addColorStop(o,this.color.rgba(.5-.4*e)),r.addColorStop(n,"transparent"),r.addColorStop(1,"transparent"),this.ctx.beginPath(),this.ctx.fillStyle=r,this.ctx.strokeStyle=this.color.toString(),this.ellipse(this.ctx,this.x,this.y,this.drawW,this.drawH,0,2*Math.PI,!0),this.ctx.fill(),this.ctx.closePath(),t==i&&(this.ellipseFlash=this.flashRound.animation(this,800))},flashRound:function(t,i){var e=t<=i/2?1-t/i*2:t/i*2-1;this.clearCvs(),this.ctx.beginPath(),this.ctx.strokeStyle=this.color.rgba(e),this.ellipse(this.ctx,this.x,this.y,this.drawW,this.drawH,0,2*Math.PI,!0),this.ctx.closePath(),t==i&&(this.ellipseFlash&&this.ellipseFlash.stop(),this.ellipseFlash=this.flashRound.animation(this,800))}}).extend("HighLightHtml"),Class("RedBox",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i)},initConfig:function(){this.direct=1,this.gradientWidth=this.width,this.height<this.width&&(this.gradientWidth=this.height),this.x=.05*this.width,this.y=.05*this.height,this.arrowRate=Math.sin(Math.PI/4),this.arrowW=.05*this.gradientWidth,this.drawW=.9*this.width,this.drawH=.9*this.height,this.rectArr=[{x:this.x,y:this.y},{x:this.x,y:this.y+this.drawH},{x:this.x+this.drawW,y:this.y+this.drawH},{x:this.x+this.drawW,y:this.y}]},animate:function(){this.line=this.lineAnimate.animation(this,500)},stopAnimate:function(){this.line&&this.line.stop(),this.rect&&this.rect.stop()},drawRect:function(t,i){this.ctx.beginPath(),this.ctx.strokeStyle="#FF0000",this.ctx.lineJoin="round",this.ctx.lineWidth=1,this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(i.x,i.y),this.ctx.stroke(),this.ctx.closePath()},rectFlash:function(t,i){this.clearCvs();var e=t/i,o=this.x-.25*this.drawW*e,s=this.y-.25*this.drawH*e;this.ctx.strokeStyle="#FF0000",this.ctx.strokeRect(this.x,this.y,this.drawW,this.drawH),this.ctx.strokeRect(o,s,this.drawW+.5*this.drawW*e,this.drawH+.5*this.drawH*e),t==i&&(this.rect.stop(),this.clearCvs(),this.ctx.strokeRect(this.x,this.y,this.drawW,this.drawH))},lineAnimate:function(t,i){this.clearCvs(),this.ctx.strokeStyle="#FF0000",this.ctx.lineJoin="round",this.ctx.lineWidth=1;var e=this.getPos(t/i);if(this.ctx.beginPath(),this.ctx.moveTo(e.start.x,e.start.y),this.ctx.lineTo(e.end.x,e.end.y),this.ctx.stroke(),this.drawArrow(e.end,e.pos1,e.pos2),this.ctx.closePath(),1<this.direct)for(e=1;e<this.direct;e++)this.drawRect(this.rectArr[e-1],this.rectArr[e]);t==i&&(this.line.stop(),this.direct+=1,5<=this.direct?(this.direct=1,this.rect=this.rectFlash.animation(this,1e3)):this.line=this.lineAnimate.animation(this,500))},getPos:function(t){var i={};switch(this.direct){case 1:i.start={x:this.x,y:this.y},i.end={x:this.x,y:i.start.y+this.drawH*t},i.pos1={x:i.end.x-this.arrowW*this.arrowRate,y:i.end.y-this.arrowW*this.arrowRate},i.pos2={x:i.end.x+this.arrowW*this.arrowRate,y:i.end.y-this.arrowW*this.arrowRate};break;case 2:i.start={x:this.x,y:this.y+this.drawH},i.end={x:this.x+this.drawW*t,y:i.start.y},i.pos1={x:i.end.x-this.arrowW*this.arrowRate,y:i.end.y+this.arrowW*this.arrowRate},i.pos2={x:i.end.x-this.arrowW*this.arrowRate,y:i.end.y-this.arrowW*this.arrowRate};break;case 3:i.start={x:this.x+this.drawW,y:this.y+this.drawH},i.end={x:this.x+this.drawW,y:i.start.y-this.drawH*t},i.pos1={x:i.end.x-this.arrowW*this.arrowRate,y:i.end.y+this.arrowW*this.arrowRate},i.pos2={x:i.end.x+this.arrowW*this.arrowRate,y:i.end.y+this.arrowW*this.arrowRate};break;case 4:i.start={x:this.x+this.drawW,y:this.y},i.end={x:i.start.x-this.drawW*t,y:this.y},i.pos1={x:i.end.x+this.arrowW*this.arrowRate,y:i.end.y+this.arrowW*this.arrowRate},i.pos2={x:i.end.x+this.arrowW*this.arrowRate,y:i.end.y-this.arrowW*this.arrowRate}}return i},drawArrow:function(t,i,e){this.ctx.beginPath(),this.ctx.fillStyle="#FF0000",this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(i.x,i.y),this.ctx.lineTo(e.x,e.y),this.ctx.fill(),this.ctx.closePath()}}).extend("HighLightHtml"),Class("RedCircle",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i)},initConfig:function(){this.color=Color("#ff0000"),this.x=this.width/2,this.y=this.height/2,this.drawW=.72*this.width/2,this.drawH=.72*this.height/2},animate:function(){this.drawRound=this.ellipse1Anime.animation(this,800)},stopAnimate:function(){this.drawRound&&this.drawRound.stop(),this.scaleRound&&this.scaleRound.stop()},ellipse1Anime:function(t,i){var e=t/i;this.clearCvs(),this.ctx.strokeStyle=this.color.toString(),this.ctx.lineJoin="round",this.ctx.lineWidth=1,this.ellipse(this.ctx,this.x,this.y,this.drawW,this.drawH,-.5*Math.PI,-.5*Math.PI-2*Math.PI*e,!0),t==i&&(this.scaleRound=this.scaleRoundAnimate.animation(this,400))},scaleRoundAnimate:function(t,i){var e=t/i;this.clearCvs(),this.ctx.strokeStyle=this.color.toString(),this.ellipse(this.ctx,this.x,this.y,this.drawW,this.drawH,0,2*Math.PI,!0),this.ctx.strokeStyle=this.color.rgba(1-e/3*2),this.ellipse(this.ctx,this.x,this.y,this.drawW+.4*this.drawW*e,this.drawH+.4*this.drawH*e,0,2*Math.PI,!0),t==i&&(this.drawRound&&this.drawRound.stop(),this.clearCvs(),this.ctx.strokeStyle=this.color.toString(),this.ellipse(this.ctx,this.x,this.y,this.drawW,this.drawH,0,2*Math.PI,!0))}}).extend("HighLightHtml"),Class("BlueSquare",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i)},initConfig:function(){this.direct=1,this.gradientWidth=this.width,this.height<this.width&&(this.gradientWidth=this.height),this.lineWidth=Math.ceil(.015*this.gradientWidth),this.lineWidth<1&&(this.lineWidth=1),this.x=.14*this.width,this.y=.14*this.height,this.drawW=.72*this.width,this.drawH=.72*this.height,this.overW=this.width-this.drawW,this.overH=this.height-this.drawH},animate:function(){this.rect=this.rectFlash.animation(this,600)},stopAnimate:function(){this.rect&&this.rect.stop(),this.timer&&clearTimeout(this.timer)},drawRect:function(t,i){this.ctx.beginPath(),this.ctx.strokeStyle="#52A0E9",this.ctx.lineJoin="round",this.ctx.lineWidth=this.lineWidth,this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(i.x,i.y),this.ctx.stroke(),this.ctx.closePath()},rectFlash:function(t,i){this.clearCvs();var e=t/i,o=t/i*2-1<0?0:t/i*2-1,s=this.x*e,n=this.y*e,a=this.x*o,h=this.y*o;this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle="#52A0E9",this.ctx.strokeRect(s,n,this.width-this.overW*e,this.height-this.overH*e),this.ctx.strokeRect(a,h,this.width-this.overW*o,this.height-this.overH*o),t==i&&(this.rect.stop(),this.clearCvs(),this.ctx.strokeRect(this.x,this.y,this.drawW,this.drawH),this.timer=setTimeout(function(){this.rect=this.rectFlash.animation(this,600)}.bind(this),1e3))}}).extend("HighLightHtml"),Class("GreenCircleRotate",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i)},initConfig:function(){this.color=Color("#009933"),this.x=this.width/2,this.y=this.height/2,this.drawW=.72*this.width/2,this.drawH=.72*this.height/2,this.r=this.drawW>this.drawH?this.drawW:this.drawH,this.ratioX=this.drawW/this.r,this.ratioY=this.drawH/this.r,this.arrowRate=Math.sin(Math.PI/4),this.cos=.87,this.sin=.5,this.arrowW=.1*this.r},animate:function(){this.round=this.ellipseAnime.animation(this,2e3)},stopAnimate:function(){this.round&&this.round.stop()},getPos:function(t){var i={};return t=+Math.PI+2*Math.PI*t,i.end={x:this.x+this.ratioX*this.r*Math.cos(t),y:this.y+this.ratioY*this.r*Math.sin(t)},i},ellipseAnime:function(t,i){i=this.getPos(t/=i),this.clearCvs(),this.ctx.strokeStyle=this.color.toString(),this.ctx.lineJoin="round",this.ctx.lineWidth=1,this.ellipse(this.ctx,this.x,this.y,this.drawW,this.drawH,1.1*Math.PI+2*Math.PI*t,3*Math.PI+2*Math.PI*t),this.drawArrow1(i.end,+Math.PI+2*Math.PI*t)},drawArrow1:function(t,i){var e=i-Math.PI/3;i=this.x+this.ratioX*this.r*Math.cos(e),e=this.y+this.ratioY*this.r*Math.sin(e),this.ctx.beginPath(),this.ctx.fillStyle="#009933",this.ctx.save(),this.ctx.translate(t.x,t.y),this.ctx.rotate(Math.PI/3.2),this.ctx.scale(.15,.15),this.ctx.moveTo(this.x-t.x,this.y-t.y),this.ctx.lineTo(t.x-t.x,t.y-t.y),this.ctx.lineTo(i-t.x,e-t.y),this.ctx.closePath(),this.ctx.fill(),this.ctx.restore()}}).extend("HighLightHtml"),Class("GreenLineLToR",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i)},initConfig:function(){this.color=Color("#009933"),this.x=0,this.y=this.height/2,this.endX=this.width,this.endY=this.height/2,this.lineWidth=1},animate:function(){this.line=this.drawLine.animation(this,2e3)},stopAnimate:function(){this.line&&this.line.stop()},drawLine:function(t,i){var e=t/i;this.ctx.beginPath(),this.clearCvs(),this.ctx.strokeStyle=this.color.toString(),this.ctx.lineJoin="round",this.ctx.lineWidth=this.lineWidth,this.ctx.moveTo(this.x,this.y),this.ctx.lineTo(this.x+this.endX*e,this.endY),this.ctx.stroke(),this.ctx.closePath(),t==i&&this.line.stop()}}).extend("HighLightHtml"),Class("GreenLineRToL",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i)},initConfig:function(){this.color=Color("#009933"),this.x=this.width,this.y=this.height/2,this.endX=-this.width,this.endY=this.height/2,this.lineWidth=1}}).extend("GreenLineLToR"),Class("GreenSquare",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i),this.color=Color("#26E20C")},initConfig:function(){this.freshTime=this.time=1,this.gradientWidth=this.width,this.height<this.width&&(this.gradientWidth=this.height),this.lineWidth=Math.ceil(.015*this.gradientWidth),this.lineWidth<1&&(this.lineWidth=1),this.x=.14*this.width,this.y=.14*this.height,this.showX=.14*this.width,this.showY=1.5*this.height,this.drawW=.72*this.width,this.drawH=.72*this.height},animate:function(){this.rect=this.rectAnime.animation(this,300)},stopAnimate:function(){this.timer&&clearTimeout(this.timer),this.rect&&this.rect.stop(),this.fresh&&this.fresh.stop(),this.freshTime=this.time=1},drawRect:function(t,i){this.ctx.beginPath(),this.ctx.lineJoin="round",this.ctx.lineWidth=this.lineWidth,this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(i.x,i.y),this.ctx.stroke(),this.ctx.closePath()},rectAnime:function(t,i){this.clearCvs();var e=t/i;this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle=this.color.toString(),1<this.time&&this.ctx.strokeRect(this.x,this.y,this.drawW,this.drawH),this.ctx.strokeRect(this.showX,this.showY-1.36*this.height*e,this.drawW,this.drawH),t==i&&(this.rect.stop(),this.time+=1,t=300/this.time<=100?100:300/this.time,6<=this.time?this.timer=setTimeout(function(){this.fresh=this.rectFlash.animation(this,300)}.bind(this),500):this.rect=this.rectAnime.animation(this,t))},rectFlash:function(t,i){this.clearCvs(),this.ctx.save();var e=t/i,o=this.x-.15*this.drawW*e,s=this.y-.15*this.drawH*e;this.ctx.strokeStyle=this.color.toString(),this.ctx.strokeRect(this.x,this.y,this.drawW,this.drawH),this.ctx.strokeStyle=this.color.rgba(1-e),this.ctx.strokeRect(o,s,this.drawW+.3*this.drawW*e,this.drawH+.3*this.drawH*e),this.ctx.restore(),t==i&&(this.rect.stop(),this.freshTime<2?(this.timer=setTimeout(function(){this.fresh=this.rectFlash.animation(this,300)}.bind(this),300),this.freshTime+=1):(this.clearCvs(),this.ctx.strokeRect(.14*this.width,.14*this.height,this.drawW,this.drawH)))}}).extend("GreenBoxStop"),Class("LineSquare",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i)},initConfig:function(){this.animateCase=1,this.color=Color("#0099CC"),this.gradientWidth=this.width,this.height<this.width&&(this.gradientWidth=this.height),this.lineWidth=Math.ceil(.015*this.gradientWidth),this.lineWidth<=1&&(this.lineWidth=1),this.x=.14*this.width,this.y=.14*this.height,this.drawW=.72*this.width,this.drawH=.72*this.height},animate:function(){this.line=this.lineAnimate.animation(this,500)},getLeavePos:function(){var t=[];return pos1={x:this.x,y:this.y,width:.86*this.width,height:0},pos2={x:.86*this.width,y:this.y,width:0,height:.86*this.height},pos3={x:.86*this.width,y:.86*this.height,width:.86*-this.width,height:0},pos4={x:this.x,y:.86*this.height,width:0,height:0,height:.86*-this.height},t.push(pos1),t.push(pos2),t.push(pos3),t.push(pos4),t},getPos:function(t){var i=[];return pos1={x:this.width-.86*this.width*t,y:this.y,width:.5*this.drawW,height:0},pos2={x:this.x+this.drawW,y:this.height-.86*this.height*t,width:0,height:.5*this.drawH},pos3={x:.86*this.width*t,y:.86*this.height,width:.5*-this.drawW,height:0},pos4={x:this.x,y:.86*this.height*t,width:0,height:0,height:.5*-this.drawH},i.push(pos1),i.push(pos2),i.push(pos3),i.push(pos4),i},stopAnimate:function(){this.line&&this.line.stop(),this.timer&&(clearTimeout(this.timer),this.time=null),this.animateCase=1},drawRect:function(t){this.ctx.save(),this.ctx.beginPath(),this.ctx.strokeStyle=this.color.rgba(.2),this.ctx.lineJoin="round",this.ctx.lineWidth=this.lineWidth,t&&this.ctx.setLineDash([this.drawW/14]),this.ctx.strokeRect(this.x,this.y,this.drawW,this.drawH),this.ctx.closePath(),this.ctx.restore()},lineAnimate:function(t,i){var e,o=t/i;this.ctx.clearRect(0,0,this.width,this.height),this.drawRect(!0),this.ctx.beginPath(),this.ctx.strokeStyle=this.color.rgba(o),this.ctx.lineWidth=this.lineWidth,1==this.animateCase?e=this.getPos(o):2==this.animateCase?(e=this.getPos(1),this.ctx.strokeStyle=this.color.rgba(1)):(e=this.getLeavePos(),this.ctx.strokeStyle=this.color.rgba(1-o));for(var s=0;s<e.length;s++)1==this.animateCase?(this.ctx.moveTo(e[s].x,e[s].y),this.ctx.lineTo(e[s].x+e[s].width,e[s].y+e[s].height)):2==this.animateCase?(this.ctx.moveTo(e[s].x,e[s].y),this.ctx.lineTo(e[s].x+e[s].width+e[s].width*o,e[s].y+e[s].height+e[s].height*o)):(this.ctx.moveTo(e[s].x+e[s].width*o,e[s].y+e[s].height*o),this.ctx.lineTo(e[s].x+e[s].width*o+.84*e[s].width,e[s].y+e[s].height*o+.84*e[s].height));this.ctx.stroke(),this.ctx.closePath(),t==i&&(this.animateCase+=1,4<=this.animateCase?(this.animateCase=1,this.timer=setTimeout(function(){this.line=this.lineAnimate.animation(this,500)}.bind(this),1e3)):3==this.animateCase?this.timer=setTimeout(function(){this.line=this.lineAnimate.animation(this,500)}.bind(this),1e3):this.line=this.lineAnimate.animation(this,500))}}).extend("HighLightHtml"),Class("OrangeHighLight",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i)},initConfig:function(){this.color=Color("#FFCE6A"),this.x=this.width/2,this.y=this.height/2,this.drawW=.92*this.width/2,this.drawH=.92*this.height/2,this.gradientWidth=2*this.drawW,this.drawW>this.drawH&&(this.gradientWidth=2*this.drawH),this.lineWidth=Math.ceil(.04*this.gradientWidth),this.lineWidth<=1&&(this.lineWidth=1)},animate:function(){this.ellipseFlash=this.flashRound.animation(this,1e3)},stopAnimate:function(){this.ellipseFlash&&this.ellipseFlash.stop()},flashRound:function(t,i){var e=t<=i/2?1-t/i*2:t/i*2-1;this.clearCvs(),this.ctx.beginPath(),this.ctx.strokeStyle=this.color.rgba(e),this.ctx.lineWidth=this.lineWidth,this.ellipse(this.ctx,this.x,this.y,this.drawW,this.drawH,0,2*Math.PI,!0),this.ctx.closePath(),t==i&&(this.ellipseFlash&&this.ellipseFlash.stop(),this.ellipseFlash=this.flashRound.animation(this,1e3))}}).extend("HighLightHtml"),Class("OrangeCircleLight",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i)},initConfig:function(){this.color=Color("#FF6600"),this.x=this.width/2,this.y=this.height/2,this.drawW=.8*this.width/2,this.drawH=.8*this.height/2,this.gradientWidth=2*this.drawW,this.drawW>this.drawH&&(this.gradientWidth=2*this.drawH),this.lineWidth=Math.ceil(.03*this.gradientWidth),this.lineWidth<=1&&(this.lineWidth=1)},animate:function(){this.drawRound=this.ellipseAnime.animation(this,400)},stopAnimate:function(){this.timer&&(clearTimeout(this.timer),this.time=null),this.drawRound&&this.drawRound.stop(),this.scaleRound&&this.scaleRound.stop()},ellipseAnime:function(t,i){var e,o=t/i;this.clearCvs(),this.ctx.lineJoin="round",this.ctx.lineWidth=this.lineWidth,o<.5?(e=1-2*o,o=1-o):e=2*o-1,this.ctx.strokeStyle=this.color.rgba(e),this.ellipse(this.ctx,this.x,this.y,this.drawW*o,this.drawH*o,0,2*Math.PI,!0),t==i&&(this.scaleRound=this.scaleRoundAnimate.animation(this,400))},scaleRoundAnimate:function(t,i){var e=t/i;this.clearCvs(),this.ctx.strokeStyle=this.color.toString(),this.ellipse(this.ctx,this.x,this.y,this.drawW,this.drawH,0,2*Math.PI,!0),this.ctx.save(),this.ctx.strokeStyle=this.color.rgba(1-e/3*2),this.ctx.lineWidth=this.lineWidth/2<1?1:this.lineWidth/2,this.ellipse(this.ctx,this.x,this.y,this.drawW+.3*this.drawW*e,this.drawH+.3*this.drawH*e,0,2*Math.PI,!0),this.ellipse(this.ctx,this.x,this.y,this.drawW+.25*this.drawW*e,this.drawH+.25*this.drawH*e,0,2*Math.PI,!0),this.ctx.restore(),t==i&&(this.clearCvs(),this.ellipse(this.ctx,this.x,this.y,this.drawW,this.drawH,0,2*Math.PI,!0),this.timer=setTimeout(function(){this.drawRound=this.ellipseAnime.animation(this,400)}.bind(this),1e3))}}).extend("HighLightHtml"),Class("PushSquare",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i)},initConfig:function(){this.animateCase=1,this.color=Color("#FF6600"),this.gradientWidth=this.width,this.height<this.width&&(this.gradientWidth=this.height),this.lineWidth=Math.ceil(.015*this.gradientWidth),this.lineWidth<=1&&(this.lineWidth=1),this.x=.14*this.width,this.y=.14*this.height,this.drawW=.72*this.width,this.drawH=.72*this.height},animate:function(){this.line=this.lineAnimate.animation(this,400)},stopAnimate:function(){this.line&&this.line.stop(),this.timer&&(clearTimeout(this.timer),this.time=null),this.animateCase=1},drawDashRect:function(t,i){this.ctx.save(),this.ctx.beginPath(),this.ctx.strokeStyle=this.color.rgba(t),this.ctx.lineJoin="round",this.ctx.lineWidth=this.lineWidth,i&&this.ctx.setLineDash([this.drawW/14]),this.ctx.strokeRect(this.x+this.drawW/2-this.drawW/2*t,this.y+this.drawH/2-this.drawH/2*t,this.drawW*t,this.drawH*t),this.ctx.closePath(),this.ctx.restore()},drawHalfRect:function(t,i){0!=i%2?(i=this.x*t,this.ctx.moveTo(i+this.drawW/4,this.y),this.ctx.lineTo(i,this.y),this.ctx.lineTo(i,this.y+this.drawH),this.ctx.lineTo(i+this.drawW/4,this.y+this.drawH),this.ctx.stroke(),i=this.width-this.x*t,this.ctx.moveTo(i-this.drawW/4,this.y),this.ctx.lineTo(i,this.y),this.ctx.lineTo(i,this.y+this.drawH),this.ctx.lineTo(i-this.drawW/4,this.y+this.drawH)):(i=this.y*t,this.ctx.moveTo(this.x,i+this.drawH/4),this.ctx.lineTo(this.x,i),this.ctx.lineTo(this.x+this.drawW,i),this.ctx.lineTo(this.x+this.drawW,i+this.drawH/4),this.ctx.stroke(),i=this.height-this.y*t,this.ctx.moveTo(this.x,i-this.drawH/4),this.ctx.lineTo(this.x,i),this.ctx.lineTo(this.x+this.drawW,i),this.ctx.lineTo(this.x+this.drawW,i-this.drawH/4)),this.ctx.stroke()},lineAnimate:function(t,i){var e=t/i;this.ctx.clearRect(0,0,this.width,this.height),this.ctx.beginPath(),this.ctx.strokeStyle=this.color.rgba(e),this.ctx.lineWidth=this.lineWidth,4==this.animateCase&&this.drawDashRect(e,!0),this.drawHalfRect(e,this.animateCase),t==i&&(this.animateCase+=1,5<=this.animateCase?(this.drawDashRect(1),this.animateCase=1,this.timer=setTimeout(function(){this.line=this.lineAnimate.animation(this,400)}.bind(this),1e3)):this.line=this.lineAnimate.animation(this,400))}}).extend("HighLightHtml"),Class("RedBoxBlink",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i)},initConfig:function(){this.gradientWidth=this.width,this.overSize=this.height-this.width,this.height<this.width&&(this.gradientWidth=this.height,this.overSize=this.width-this.height),this.x=.05*this.width,this.y=.05*this.height,this.drawW=.9*this.width,this.drawH=.9*this.height,this.color=Color("#FF0000")},animate:function(){this.drawBox(1),this.timer=setTimeout(function(){this.boxFlash=this.boxFlashAnimate.animation(this,600)}.bind(this),800)},stopAnimate:function(){this.boxFlash&&this.boxFlash.stop(),this.timer&&(clearTimeout(this.timer),this.time=null)},drawBox:function(t){this.ctx.beginPath(),this.ctx.strokeStyle=this.color.rgba(t),this.ctx.lineJoin="round",this.ctx.lineWidth=1,this.ctx.strokeRect(this.x,this.y,this.drawW,this.drawH),this.ctx.closePath()},boxFlashAnimate:function(t,i){this.clearCvs(),this.drawBox(t<=i/2?1-t/i*2:t/i*2-1),t==i&&(this.boxFlash&&this.boxFlash.stop(),this.timer=setTimeout(function(){this.boxFlash=this.boxFlashAnimate.animation(this,600)}.bind(this),800))}}).extend("GreenBoxStop"),Class("RedHighLight",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i)},initConfig:function(){this._super(),this.color=Color("#FF0000")}}).extend("OrangeHighLight"),Class("RedLineBlink",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i)},initConfig:function(){this.color=Color("#ff0000"),this.x=0,this.y=this.height/2,this.endX=this.width,this.endY=this.height/2,this.lineWidth=1},animate:function(){this.drawLine(1),this.timer=setTimeout(function(){this.line=this.drawLineAnimate.animation(this,600)}.bind(this),800)},stopAnimate:function(){this.line&&this.line.stop(),this.timer&&(clearTimeout(this.timer),this.timer=null)},drawLine:function(t){this.clearCvs(),this.ctx.beginPath(),this.ctx.strokeStyle=this.color.rgba(t),this.ctx.lineJoin="round",this.ctx.lineWidth=1,this.ctx.moveTo(this.x,this.y),this.ctx.lineTo(this.endX,this.endY),this.ctx.stroke(),this.ctx.closePath()},drawLineAnimate:function(t,i){this.drawLine(t/i),t==i&&(this.timer=setTimeout(function(){this.line=this.drawLineAnimate.animation(this,600)}.bind(this),800))}}).extend("HighLightHtml"),Class("RedLineLToR",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i)},initConfig:function(){this.color=Color("#FF0000"),this.x=0,this.y=this.height/2,this.endX=this.width,this.endY=this.height/2,this.lineWidth=1}}).extend("GreenLineLToR"),Class("RedLineRToL",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i)},initConfig:function(){this.color=Color("#FF0000"),this.x=this.width,this.y=this.height/2,this.endX=-this.width,this.endY=this.height/2,this.lineWidth=1}}).extend("GreenLineLToR"),Class("SpinSquare",{Package:"PageItem.HighLight",create:function(t,i){this._super(t,i),this.color=Color("#52A0E9")},initConfig:function(){this.freshTime=this.time=1,this.gradientWidth=this.width,this.height<this.width&&(this.gradientWidth=this.height),this.lineWidth=Math.ceil(.015*this.gradientWidth),this.lineWidth<1&&(this.lineWidth=1),this.x=.14*this.width,this.y=.14*this.height,this.drawW=.72*this.width,this.drawH=.72*this.height},animate:function(){this.rect=this.rectAnime.animation(this,400)},stopAnimate:function(){this.timer&&clearTimeout(this.timer),this.rect&&this.rect.stop(),this.fresh&&this.fresh.stop(),this.freshTime=this.time=1},drawRect:function(t,i){this.ctx.beginPath(),this.ctx.lineJoin="round",this.ctx.lineWidth=this.lineWidth,this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(i.x,i.y),this.ctx.stroke(),this.ctx.closePath()},rectAnime:function(t,i){this.clearCvs();var e=1-t/i;this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle=this.color.toString(),1<this.time&&this.ctx.strokeRect(this.x,this.y,this.drawW,this.drawH),0<this.time?(this.ctx.save(),this.ctx.translate(this.width/2,this.height/2),this.ctx.rotate(Math.PI/2*e)):(e=t/i,this.ctx.save(),this.ctx.strokeStyle=this.color.rgba(1-e),this.ctx.translate(this.width/2,this.height/2),this.ctx.rotate(Math.PI/2*e),this.ctx.strokeRect(this.x-this.width/2,this.y-this.height/2,this.drawW,this.drawH),this.ctx.restore(),this.ctx.save(),this.ctx.strokeStyle=this.color.rgba(1-e),this.ctx.translate(this.width/2,this.height/2),this.ctx.rotate(-Math.PI/2*e)),this.ctx.strokeRect(this.x-this.width/2,this.y-this.height/2,this.drawW,this.drawH),this.ctx.restore(),t==i&&(0==this.time?(this.time+=1,this.timer=setTimeout(function(){this.rect=this.rectAnime.animation(this,500)}.bind(this),800)):(this.time+=1,t=400/this.time<=250?250:400/this.time,4<=this.time?(this.time=0,this.timer=setTimeout(function(){this.rect=this.rectAnime.animation(this,400)}.bind(this),800)):this.rect=this.rectAnime.animation(this,t)))}}).extend("GreenBoxStop"),Class("Youtube",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),null!=this.config.id&&(this.firstTime=!0,this.animateConfig(),this.width=Number(this.config.width)*this.pageWidth,this.height=Number(this.config.height)*this.pageHeight,this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.sVideoId=this.config.id,-1<this.sVideoId.indexOf("/")&&(t=-1<this.sVideoId.indexOf("?v=")?this.sVideoId.lastIndexOf("?v=")+3:this.sVideoId.lastIndexOf("/")+1,this.sVideoId=this.sVideoId.substring(t,this.sVideoId.length)),this.prefix="https"==(window.location.href?window.location.href.toLowerCase():"http:").substring(0,5)?"https":"http",this.youtubeFrame=new Media($("<iframe id='player' class='youtube-player flip-action' type='text/html' width='"+this.width+"' height='"+this.height+"' src='"+this.prefix+"://www.youtube.com/embed/"+this.sVideoId+"?enablejsapi=1&rel=0' frameborder='0' allowfullscreen='1' style='position: absolute; opacity: "+this.config.alpha+"; left:"+this.x+"px; top:"+this.y+"px;'></iframe>"),"youtube"),this.config.rotation&&this.setRotation(this.youtubeFrame.$media,this.config.rotation),this.parent.append(this.youtubeFrame.$media))},setTransOrigin:function(t,i){this.youtubeFrame.setCss({"-webkit-transform-origin":t+"px "+i+"px","-o-transform-origin":t+"px "+i+"px","-moz-transform-origin":t+"px "+i+"px","-ms-transform-origin":t+"px "+i+"px","transform-origin":t+"px "+i+"px"})},parseConfig:function(t){return{width:t.location.width,height:t.location.height,x:t.location.x,y:t.location.y,alpha:t.alpha,id:t.videoId||t.videoID,moviePlayTriggerEvt:t.moviePlayTriggerEvt,playerParameters:t.playerParameters,movieStopTriggerEvt:t.movieStopTriggerEvt,rotation:t.location.rotation,animation:t.animation}},initCss:function(){this.youtubeFrame.setCss({width:this.width+"px",height:this.height+"px",top:this.y+"px",left:this.x+"px"})},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.youtubeFrame.setCss({width:this.width+"px",height:this.height+"px"}),this.setPosition()},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.youtubeFrame.setCss({top:this.y+"px",left:this.x+"px"})},getPlayEvt:function(){return this.config.moviePlayTriggerEvt},getStopEvt:function(){return this.config.movieStopTriggerEvt},pauseVideo:function(){this.youtubeFrame&&(BookEvent.trigger("playMedia",["pauseYoutube",BookInfo.getCurrentPageIndex(),this.prefix+"://www.youtube.com/embed/"+this.sVideoId,"Youtube"]),this.youtubeFrame.pause())},playVideo:function(){this.youtubeFrame&&(BookEvent.trigger("playMedia",["playYoutube",BookInfo.getCurrentPageIndex(),this.prefix+"://www.youtube.com/embed/"+this.sVideoId,"Youtube"]),this.firstTime?(this.youtubeFrame.$media.on("load",function(){this.youtubeFrame.play()}.bind(this)),this.firstTime=!1):this.youtubeFrame.play())},hide:function(){this.youtubeFrame&&(this.youtubeFrame.setCss({width:"0px",height:"0px"}),this.youtubeFrame.setCss({display:"none"}))},show:function(){this.youtubeFrame&&(this.youtubeFrame.setCss({width:this.width+"px",height:this.height+"px"}),this.youtubeFrame.setCss({display:"block"}))},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.youtubeFrame.setCss({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.youtubeFrame.$media.one(t,function(){this.youtubeFrame.setCss({animation:""})}.bind(this)))}}).extend("Item"),Class("Video",{Package:"PageItem",create:function(t,i,e,o,s){if(this.config=this.parseConfig(i),this.animateConfig(),this.parent=t,this.pageWidth=e,this.pageHeight=o,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.playCount=0,this.content=$("<div class='flip-action'></div>"),this.content.css({position:"absolute",overflow:"hidden",left:this.x+"px",top:this.y+"px",width:this.width+"px",height:this.height+"px",opacity:this.config.alpha}),this.setRotation(this.content,this.config.rotation),this.parent.append(this.content),"string"==typeof this.config.previewSrc&&""!=this.config.previewSrc&&null!=this.config.previewSrc&&null!=this.config.previewSrc&&(this.config.previewSrc=this.fixRelativePath(this.config.previewSrc),bookConfig.useTheAliCloudChart)&&(this.config.previewSrc=this.getOssUrl(this.config.previewSrc,this.width,this.height,"fixed")),"string"==typeof this.config.src){if(t=this.config.src.match(/(.mp4|.flv|.f4v)\b/),null==this.config.src||null==t)return}else if(this.config.src=={})return;this.config.src=this.fixRelativePath(this.config.src),this.video=null,this.video=new Media($('<video controls controlslist="nodownload" preload="metadata" webkit-playsinline="true" playsinline="true" ><source src="'+this.config.src+'"/></video>'),"video"),this.video.setCss({position:"absolute","z-index":1,left:"0px","object-fit":"fill",top:"0px",width:"100%",height:"100%"}),this.config.previewSrc&&(this.video.$media.attr("poster",this.config.previewSrc),this.video.$media.css({"object-fit":"fill"})),this.content.append(this.video.$media),null!=this.video.$media[0].play&&(this.videoSkin=this.content.addVideoSkin(s,this.video),this.video.$media.removeAttr("controls")),this.content.bind(_event._down,function(t){t.stopPropagation()}),this.video.$media.bind(_event._down,function(t){t.stopPropagation()}),this.video.$media.keydown(function(t){t.preventDefault(),t.stopPropagation()}.bind(this)),this.video.$media.keyup(function(t){t.preventDefault(),t.stopPropagation()}.bind(this)),this.video.$media.on("loadstart",function(){this.resizeCss()}.bind(this)),parseBool(this.config.reflection)&&this.imageReflection(this.content,this.width,this.height),parseBool(this.config.shadow.hasDropShadow)&&this.addShadow(this.content),this.video.$media.bind("click mousedown mouseup DOMMouseScroll mousewheel",function(t){t.stopPropagation()}.bind(this)),this.initLoopEvent(),this.config.prompt&&this.config.promptTime&&this.video.$media.bind("loadedmetadata",function(t){t=[];for(var i=this.config.prompt.split("|"),e=this.config.promptTime.split("|"),o=0;o<i.length;o++)i[o]&&t.push({time:e[o],text:i[o]});this.videoSkin.initPrompt(t)}.bind(this)),this.resizeCss()},initLoopEvent:function(){this.config.H5PlaybackNumber<0&&this.video.$media.attr("loop","loop"),0<this.config.H5PlaybackNumber&&this.video.$media.bind("ended",function(){this.playCount++,0<this.config.H5PlaybackNumber&&this.playCount<=this.config.H5PlaybackNumber&&this.playVideo()}.bind(this)),this.video.$media.bind("play",function(){this.playCount>this.config.H5PlaybackNumber&&(this.playCount=0)}.bind(this))},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.content.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.content.one(t,function(){this.content.css({animation:""})}.bind(this)))},parseConfig:function(t){var i={width:t.location.width,height:t.location.height,rotation:t.location.rotation,x:t.location.x,y:t.location.y,alpha:t.alpha,shadow:t.shadow,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,previewSrc:t.previewUrl,prompt:t.prompt,promptTime:t.promptTime,moviePlayTriggerEvt:t.moviePlayTriggerEvt||t.PlayTriggerEvt,movieStopTriggerEvt:t.movieStopTriggerEvt||t.StopTriggerEvt,replayWhenPlayEventTrigger:t.replayWhenPlayEventTrigger,animation:t.animation};return t.H5PlaybackNumber&&(i.H5PlaybackNumber=parseInt(t.H5PlaybackNumber)),t.H5Replay&&(i.H5Replay=parseBool(t.H5Replay)),t.componentData&&(i.moviePlayTriggerEvt=t.componentData.playEvt,i.movieStopTriggerEvt=t.componentData.stopEvt,t.componentData.previewURL&&(i.previewSrc=t.componentData.previewURL),t.componentData.imgURL)&&(i.previewSrc=t.componentData.imgURL),t.imgIcon&&(i.previewSrc=t.imgIcon),t.previewURL&&(i.previewSrc=t.previewURL),null!=t.videoURL&&(i.src=t.videoURL),null!=t.url&&(i.src=t.url),t.componentData&&(i.src=t.componentData.videoURL),parseBool(t.shadow.hasDropShadow)&&(i.hasShadow=!0),i},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.resizeCss()},resizeCss:function(){this.content.css({width:this.width+"px",height:this.height+"px"}),this.content.css({"background-size":this.width+"px "+this.height+"px"}),this.videoSkin&&this.videoSkin.onResize(),this.setPosition()},setPosition:function(){this.x=this.pageWidth*this.config.x,this.y=this.pageHeight*this.config.y,this.content.css({left:this.x+"px",top:this.y+"px"})},playVideo:function(){if(null!=this.video)try{this.video.play(),this.videoSkin.play()}catch(t){}},stopVideo:function(){if(null!=this.video)try{this.video.pause(),this.videoSkin.stop()}catch(t){}},pauseVideo:function(){if(null!=this.video)try{this.video.pause(),this.videoSkin.pause()}catch(t){}},backTime:function(){if(this.playCount=0,this.video.$media[0])if(isIE())try{this.video.$media[0].currentTime=0}catch(t){}else this.video.$media[0].currentTime=0},isReplay:function(){return this.config.H5Replay},getPlayEvt:function(){return this.config.moviePlayTriggerEvt},getStopEvt:function(){return this.config.movieStopTriggerEvt},getPlayStatuEnded:function(){return this.video.$media[0].ended},getReplayWhenPlayEvent:function(){return this.config.replayWhenPlayEventTrigger},getTotalTime:function(){return this.video.$media[0].duration},getCurrentTime:function(){return this.video.$media[0].currentTime},setCurrentTime:function(t){this.video.$media[0].currentTime=t}}).extend(PageItem.Item),Class("Vimeo",{Package:"PageItem",create:function(t,i,e,o,s){this.config=this.parseConfig(i),(this.vimeoFrame=null)!=this.config.id&&(this.animateConfig(),this.pageWidth=e,this.pageHeight=o,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.config.id+="",i=this.config.id.lastIndexOf("/"),this.fixstr=this.config.id.substring(i+1),this.prefix="https"==(window.location.href?window.location.href.toLowerCase():"http:").substring(0,5)?"https":"http",i=$("<iframe id = vimeoPlay width='"+this.width+"' height='"+this.height+"' src='"+this.prefix+"://player.vimeo.com/video/"+this.fixstr+"'  frameborder='0' class='flip-action' style='position: absolute;opacity:"+this.config.alpha+"; left:"+this.x+"px; top:"+this.y+"px;'  webkitAllowFullScreen='true' mozallowfullscreen='true' allowFullScreen='true'></iframe>"),this.vimeoFrame=new Media(i,"vimeo",this.getPlayEvt()),t.append(this.vimeoFrame.$media))},parseConfig:function(t){return{width:t.location.width,height:t.location.height,x:t.location.x,y:t.location.y,alpha:t.alpha,id:t.videoID||t.videoId,moviePlayTriggerEvt:t.moviePlayTriggerEvt,movieStopTriggerEvt:t.movieStopTriggerEvt,playerParameters:t.playerParameters,animation:t.animation}},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.vimeoFrame.setCss({width:this.pageWidth*this.config.width+"px",height:this.pageHeight*this.config.height+"px"}),this.setPosition(this.config.x*this.pageWidth,this.config.y*this.pageHeight)},playVideo:function(){this.vimeoFrame&&(BookEvent.trigger("playMedia",["play",BookInfo.getCurrentPageIndex(),this.prefix+"://player.vimeo.com/video/"+this.fixstr,"vimeo",0]),this.vimeoFrame.play())},pauseVideo:function(){this.vimeoFrame&&(BookEvent.trigger("playMedia",["pause",BookInfo.getCurrentPageIndex(),this.prefix+"://player.vimeo.com/video/"+this.fixstr,"vimeo",0]),this.vimeoFrame.pause())},setPosition:function(t,i){this.vimeoFrame.setCss({top:i+"px",left:t+"px"})},getPlayEvt:function(){return this.config.moviePlayTriggerEvt},getStopEvt:function(){return this.config.movieStopTriggerEvt},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.vimeoFrame.setCss({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.vimeoFrame.$media.one(t,function(){this.vimeoFrame.setCss({animation:""})}.bind(this)))},hide:function(){this.vimeoFrame.setCss({display:"none"})},show:function(){this.vimeoFrame.setCss({display:"block"})}}).extend("Item"),Class("PopUpVimeo",{Package:"PageItem",create:function(t,i,e,o,s){this.config=this.parseConfig(i),this.type=s,this.parent=t,(this.vimeoFrame=null)!=this.config.id&&(this.pageWidth=e,this.pageHeight=o,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.vimeoDiv=$("<div class='flip-action'></div>"),this.vimeoDiv.css({width:this.width+"px",height:this.height+"px",left:this.x+"px",top:this.y+"px",opacity:this.config.alpha,position:"absolute",cursor:"pointer","background-color":"rgba(0,0,0,0.9)"}),this.url=this.config.url,this.url||(this.url=phoneBaseURL+s+".png"),bookConfig.isFlipPdf&&(this.config.url=this.fixRelativePath(this.config.url)),"vimeo"==s||"youtube"==s?(this.url=phoneBaseURL+s+"Logo.png",this.vimeoImage=$("<div style='position: absolute;background:#fff;cursor:pointer;width:"+this.width+"px;height:"+this.height+"px;z-index:100'><img src='"+this.url+"'style='position: absolute;width:45px;left:10px;top:10px;'/></div>")):this.vimeoImage=$("<img src='"+this.url+"'style='position: absolute;cursor:pointer;width:"+this.width+"px;height:"+this.height+"px;z-index:100'/>"),this.url&&"null"!=this.url||this.vimeoImage.css({display:"none"}),(isPhone()||isPad())&&(t=Math.min(Math.min(48,.36*this.width),Math.min(48,.36*this.height)),this.vimeoDiv.css({background:"#333333",border:"1px solid #bbb"}),i=this.fixRelativePath(phoneBaseURL+(i="youtube"==s?"youtubeplay":"vimeo"==s?"vimeoplay":"play")+".png"),this.playImg=$("<img src='"+i+"' style='position:absolute;z-index:101;margin:auto;left:0px;top:0px;bottom:0px;right:0px;width:"+t+"px;height:"+t+"px'/>"),this.vimeoDiv.append(this.playImg)),this.parent.append(this.vimeoDiv),this.vimeoDiv.append(this.vimeoImage),this.vimeoDiv.onTap(function(t){this.popupVideo=new PopUpPhoneVideo(this.config,s),this.popupVideo.background.show()}.bind(this)))},parseConfig:function(t){return{width:t.location.width,height:t.location.height,x:t.location.x,y:t.location.y,alpha:t.alpha,id:t.videoId||t.videoID,moviePlayTriggerEvt:t.moviePlayTriggerEvt,movieStopTriggerEvt:t.movieStopTriggerEvt,playerParameters:t.playerParameters,url:t.url,autoPlay:t.autoPlay}},destroy:function(){this.popupVideo&&this.popupVideo.destroy(),this.vimeoDiv.empty(),this.vimeoDiv.remove()},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.popupVideo&&this.popupVideo.onResize(this.pageWidth,this.pageHeight),this.url&&"null"!=this.url&&this.vimeoImage.css({width:this.width+"px",height:this.height+"px"}),this.vimeoDiv&&(this.vimeoDiv.css({width:this.pageWidth*this.config.width+"px",height:this.pageHeight*this.config.height+"px"}),this.setPosition(this.config.x*this.pageWidth,this.config.y*this.pageHeight))},setPosition:function(t,i){this.vimeoDiv.css({top:i+"px",left:t+"px"})}}).extend("Item"),Class({create:function(t,i){this.config=$.extend({id:null,alpha:1},t),this.config.id+="",this.type=i,this.videoWidth=this.config.windowWidth||480,this.videoHeight=this.config.windowHeight||320,this.background=$("<div id='popup' class='flip-action' ></div>"),this.vimeoBac=$("<div></div>"),this.vimeoBorder=$("<div></div>"),this.title=$("<div></div>"),this.config.caption&&this.title.html(this.config.caption),"right"==this.config.languageLayout&&this.title.css({"text-align":"right",direction:"rtl"}),this.initVideo(i),tmpContainer.append(this.background),this.background.append(this.vimeoBac),this.vimeoBac.append(this.vimeoBorder),this.vimeoBorder.append(this.vimeoFrame.$media),this.closeButton=$("<img src='"+uiBaseURL+"close_form.png'/>"),this.vimeoBorder.append(this.closeButton).append(this.title),this.initStyle(),this.initEvents(),this.onResize(),this.vimeoFrame.play(),this.resizeTimer=this.onResize.interval(this,500),this.visible=!0,BookEvent.trigger("playMedia",["play",BookInfo.getCurrentPageIndex(),this.getURL(i),i,0])},initVideo:function(t){var i,e,o="https"==(window.location.href?window.location.href.toLowerCase():"http:").substring(0,5)?"https":"http";"vimeo"==t&&(i=this.config.id.lastIndexOf("/"),i=this.config.id.substring(i+1),e="","true"==this.config.autoPlay&&(e="?autoplay=1&autopause=0"),i=$("<iframe width='"+this.videoWidth+"' height='"+this.videoHeight+"' src='"+o+"://player.vimeo.com/video/"+i+e+"' frameborder='0' style='position: absolute;background:#000000;' allow = 'autoplay'  webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>"),this.vimeoFrame=new Media(i,"vimeo")),"youtube"==t&&(-1<(i=this.config.id).indexOf("/")&&(e=-1<i.indexOf("?v=")?i.lastIndexOf("?v=")+3:i.lastIndexOf("/")+1,i=i.substring(e,i.length)),i=$("<iframe class='youtube-player' type='text/html' width='"+this.videoWidth+"' height='"+this.videoHeight+"' src='"+o+"://www.youtube.com/embed/"+i+"?autoplay=1' frameborder='0' allowfullscreen='1' style='position: absolute; opacity: "+this.config.alpha+"'></iframe>"),this.vimeoFrame=new Media(i,"youtube")),"dailymotion"==t&&(i=$("<iframe id=woiframe width='"+this.videoWidth+"' height='"+this.videoHeight+"' src='"+o+"://www.dailymotion.com/embed/video/"+this.config.id+"' frameborder='0' allowFullScreen style='position: absolute; opacity: "+this.config.alpha+"'></iframe>"),this.vimeoFrame=new Media(i,"dailymotion")),"wistia"==t&&(i=$("<iframe width='"+this.videoWidth+"' height='"+this.videoHeight+"' src='"+o+"://fast.wistia.net/embed/iframe/"+this.config.id+"' frameborder='0' allowfullscreen style='position:absolute;opactiy: "+this.config.alpha+"'></iframe>"),this.vimeoFrame=new Media(i,"wistia")),"youku"==t&&(i=$("<iframe width='"+this.videoWidth+"' height='"+this.videoHeight+"' src='"+o+"://player.youku.com/embed/"+this.config.id+"' frameborder='0' allowfullscreen style='position:absolute;opactiy: "+this.config.alpha+"'></iframe>"),this.vimeoFrame=new Media(i,"youku")),"qq"==t&&(i=$("<iframe width='"+this.videoWidth+"' height='"+this.videoHeight+"' src='"+o+"://v.qq.com/iframe/player.html?vid="+this.config.id+"' frameborder='0' allowfullscreen style='position:absolute;opactiy: "+this.config.alpha+"'></iframe>"),this.vimeoFrame=new Media(i,"qq"))},getURL:function(t){var i,e=this.config.id,o="https"==(window.location.href?window.location.href.toLowerCase():"http:").substring(0,5)?"https":"http",s="";switch("vimeo"==t&&(i=e.lastIndexOf("/"),e=e.substring(i+1)),"youtube"==t&&-1<e.indexOf("/")&&(i=-1<e.indexOf("?v=")?e.lastIndexOf("?v=")+3:e.lastIndexOf("/")+1,e=e.substring(i,e.length)),t){case"vimeo":s=o+"://player.vimeo.com/video/"+e;break;case"youtube":s=o+"://www.youtube.com/embed/"+e;break;case"dailymotion":s=o+"://www.dailymotion.com/embed/video/"+e;break;case"wistia":s=o+"://fast.wistia.net/embed/iframe/"+e;break;case"youku":s=o+"://player.youku.com/embed/"+e;break;case"qq":s=o+"://v.qq.com/iframe/player.html?vid="+e}return s},initStyle:function(){this.background.css({position:"absolute",width:"100%",height:"100%","z-index":100}),this.vimeoBac.css({width:"100%",height:"100%","background-color":"rgba(0,0,0,0.5)"}),this.vimeoBorder.css({position:"absolute","z-index":"11","background-color":"#F0F0F0","border-radius":"3px",margin:"auto",left:"0",top:"0",bottom:"0",right:"0"}),this.closeButton.css({position:"absolute","z-index":"1",width:"32px",height:"32px",cursor:"pointer",right:"5px",top:"0px"}),this.vimeoFrame.setCss({background:"#F0F0F0",position:"relative","margin-left":"5px","margin-top":"32px"}),this.title.css({position:"absolute","font-size":"16px",top:"5px",left:"5px"}),"right"==this.config.languageLayout&&(this.title.css({left:"auto",right:"5px"}),this.closeButton.css({right:"auto",left:"5px"}))},initEvents:function(){this.vimeoBac.bind(_event._down,function(t){return this.destroy(),t.stopPropagation(),!1}.bind(this)),this.vimeoBorder.bind(_event._down,function(t){return t.stopPropagation(),!1}.bind(this)),this.closeButton.asButton(),this.closeButton.onTap(function(t){return BookEvent.trigger("playMedia",["pause",BookInfo.getCurrentPageIndex(),this.getURL(this.type),this.type,0]),this.destroy(),!1}.bind(this))},destroy:function(){this.visible&&(this.vimeoFrame.pause(),this.visible=!1,this.vimeoFrame.$media.attr("src",""),this.background.empty(),this.background.remove(),this.resizeTimer)&&this.resizeTimer.stop()},showOrHide:function(){!1===this.visible?this.show():this.hide()},hide:function(){this.visible=!1,this.background.css({display:"none"})},show:function(){this.visible=!0,this.vimeoFrame.play(),this.background.css({display:"block"})},onResize:function(){var t,i,e,o;this.windowWidth==windowWidth&&this.windowHeight==windowHeight||(this.windowWidth=windowWidth,this.windowHeight=windowHeight,t=windowWidth-10,i=windowHeight-10,e=this.videoWidth,o=this.videoHeight,isPhone()?(e=o/e)<i/t?i=t*e:t=i/e:(t=Math.min(e,t),i=Math.min(o,i)),this.vimeoBorder.css({width:t+"px",height:i+"px"}),i-=37,this.vimeoFrame&&(this.vimeoFrame.$media.attr("width",t-10+"px"),this.vimeoFrame.$media.attr("height",i+"px")))},getPlayEvt:function(){return this.config.moviePlayTriggerEvt},getStopEvt:function(){return this.config.movieStopTriggerEvt}})),PopUpPhoneVideo=Class({create:function(t,i){this.config=$.extend({id:null,alpha:1},t),this.config.id+="",this.type=i,this.initVideoSize(),this.staticWidth=this.videoWidth,this.staticHeight=this.videoHeight,this.background=$("<div id='popup' class='flip-action' ></div>"),this.vimeoBac=$("<div></div>"),this.vimeoBorder=$("<div></div>"),"right"==this.config.languageLayout&&this.title.css({"text-align":"right",direction:"rtl"}),this.initVideo(i),tmpContainer.append(this.background),this.background.append(this.vimeoBac),this.vimeoBac.append(this.vimeoBorder),this.vimeoBorder.append(this.vimeoFrame.$media),this.closeButton=$("<img src='"+phoneBaseURL+"close.png'/>"),this.background.append(this.closeButton),this.initStyle(),this.initEvents(),this.onResize(),this.vimeoFrame.play(),this.resizeTimer=this.onResize.interval(this,500),this.visible=!0,BookEvent.trigger("playMedia",["play",BookInfo.getCurrentPageIndex(),this.getURL(i),i,0])},initVideo:function(t){var i,e,o="https"==(window.location.href?window.location.href.toLowerCase():"http:").substring(0,5)?"https":"http";"vimeo"==t&&(i=this.config.id.lastIndexOf("/"),i=this.config.id.substring(i+1),e="","true"==this.config.autoPlay&&(e="?autoplay=1&autopause=0"),i=$("<iframe width='"+this.videoWidth+"' height='"+this.videoHeight+"' src='"+o+"://player.vimeo.com/video/"+i+e+"' frameborder='0' style='position: absolute;background:#000000;' allow='autoplay'  webkitAllowFullScreen='true' mozallowfullscreen='true' allowfullscreen='true'></iframe>"),this.vimeoFrame=new Media(i,"vimeo")),"youtube"==t&&(-1<(i=this.config.id).indexOf("/")&&(e=-1<i.indexOf("?v=")?i.lastIndexOf("?v=")+3:i.lastIndexOf("/")+1,i=i.substring(e,i.length)),i=$("<iframe class='youtube-player' type='text/html' width='"+this.videoWidth+"' height='"+this.videoHeight+"' src='"+o+"://www.youtube.com/embed/"+i+"?autoplay=1' frameborder='0' allowfullscreen='true' style='position: absolute; opacity: "+this.config.alpha+"'></iframe>"),this.vimeoFrame=new Media(i,"youtube")),"dailymotion"==t&&(i=$("<iframe id=woiframe width='"+this.videoWidth+"' height='"+this.videoHeight+"' src='"+o+"://www.dailymotion.com/embed/video/"+this.config.id+"?autoplay=1' frameborder='0' allowfullscreen='true' style='position: absolute; opacity: "+this.config.alpha+"'></iframe>"),this.vimeoFrame=new Media(i,"dailymotion")),"wistia"==t&&(i=$("<iframe width='"+this.videoWidth+"' height='"+this.videoHeight+"' src='"+o+"://fast.wistia.net/embed/iframe/"+this.config.id+"?autoplay=11' frameborder='0' allowfullscreen='true' style='position:absolute;opactiy: "+this.config.alpha+"'></iframe>"),this.vimeoFrame=new Media(i,"wistia")),"youku"==t&&(i=$("<iframe width='"+this.videoWidth+"' height='"+this.videoHeight+"' src='"+o+"://player.youku.com/embed/"+this.config.id+"?rel=0&autoplay=1'  allow='autoplay' frameborder='0' allowfullscreen='true' style='position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opactiy: "+this.config.alpha+"'></iframe>"),this.vimeoFrame=new Media(i,"youku")),"qq"==t&&(i=$("<iframe width='"+this.videoWidth+"' height='"+this.videoHeight+"' src='"+o+"://v.qq.com/iframe/player.html?vid="+this.config.id+"' frameborder='0' allowfullscreen='true' style='position:absolute;opactiy: "+this.config.alpha+"'></iframe>"),this.vimeoFrame=new Media(i,"qq"))},getURL:function(t){var i,e=this.config.id,o="https"==(window.location.href?window.location.href.toLowerCase():"http:").substring(0,5)?"https":"http",s="";switch("vimeo"==t&&(i=e.lastIndexOf("/"),e=e.substring(i+1)),"youtube"==t&&-1<e.indexOf("/")&&(i=-1<e.indexOf("?v=")?e.lastIndexOf("?v=")+3:e.lastIndexOf("/")+1,e=e.substring(i,e.length)),t){case"vimeo":s=o+"://player.vimeo.com/video/"+e;break;case"youtube":s=o+"://www.youtube.com/embed/"+e;break;case"dailymotion":s=o+"://www.dailymotion.com/embed/video/"+e;break;case"wistia":s=o+"://fast.wistia.net/embed/iframe/"+e;break;case"youku":s=o+"://player.youku.com/embed/"+e;break;case"qq":s=o+"://v.qq.com/iframe/player.html?vid="+e}return s},initStyle:function(){this.background.css({position:"absolute",width:"100%",height:"100%","z-index":100}),this.vimeoBac.css({width:"100%",height:"100%","background-color":"rgba(0,0,0,0.9)"}),this.vimeoBorder.css({position:"absolute","z-index":"11",margin:"auto",left:"0",top:"0",bottom:"0",right:"0"}),this.closeButton.css({position:"absolute","z-index":"1111",width:"20px",height:"20px",padding:"5px",cursor:"pointer",right:"5px",top:"5px"})},initEvents:function(){this.vimeoBac.onTap(function(t){return this.destroy(),!1}.bind(this)),this.vimeoBorder.bind(_event._down,function(t){return t.stopPropagation(),!1}.bind(this)),this.closeButton.asButton(),this.closeButton.onTap(function(t){return BookEvent.trigger("playMedia",["pause",BookInfo.getCurrentPageIndex(),this.getURL(this.type),this.type,0]),this.destroy(),!1}.bind(this))},destroy:function(){this.visible&&(this.vimeoFrame.pause(),this.visible=!1,this.vimeoFrame.$media.attr("src",""),this.background.empty(),this.background.remove(),this.resizeTimer)&&this.resizeTimer.stop()},showOrHide:function(){!1===this.visible?this.show():this.hide()},hide:function(){this.visible=!1,this.background.css({display:"none"})},show:function(){this.visible=!0,this.vimeoFrame.play(),this.background.css({display:"block"})},initVideoSize:function(){windowHeight<windowWidth?(this.videoHeight=windowHeight,this.videoWidth=16*this.videoHeight/9,this.videoWidth=Math.min(this.videoWidth,windowWidth)):(this.videoWidth=windowWidth,this.videoHeight=9*this.videoWidth/16,this.videoHeight=Math.min(this.videoHeight,windowHeight))},onResize:function(){var t;this.windowWidth==windowWidth&&this.windowHeight==windowHeight||(this.initVideoSize(),t=this.videoWidth/this.staticWidth,this.windowWidth=windowWidth,this.windowHeight=windowHeight,"youku"!=this.type?(this.vimeoBorder.css({width:this.videoWidth+"px",height:this.videoHeight+"px"}),this.vimeoFrame&&(this.vimeoFrame.$media.attr("width","100%"),this.vimeoFrame.$media.attr("height",this.videoHeight+"px"))):this.staticWidth>this.staticHeight&&t<1?this.vimeoFrame.$media.css({transform:"translate(-50%,-50%) scale("+t+")"}):this.vimeoFrame.$media.css({transform:"translate(-50%,-50%)"}))},getPlayEvt:function(){return this.config.moviePlayTriggerEvt},getStopEvt:function(){return this.config.movieStopTriggerEvt}}).extend("PopUpVideo"),HTML5ZoomImg=(Class("HtmlVideo",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.animateConfig(),this.container=$("<div class='flip-action'></div>"),this.initVideoFrame(),this.config.rotation&&this.setRotation(this.container,this.config.rotation),this.parent.append(this.container),this.initCss(),this.setPosition()},initVideoFrame:function(){if(this.config.generalCode){if(this.iframeSrc=this.config.generalCode,this.config.generalCode.startsWith("www")){var i="http://"+this.config.generalCode;try{$.ajax({url:i,type:"GET",dataType:"jsonp",timeout:3e3,complete:function(t){200!=t.status&&(i="https://"+this.config.generalCode)}})}catch(t){}this.config.generalCode=i}var t;this.config.generalCode.startsWith("http")||this.config.generalCode.startsWith("https")||this.config.generalCode.startsWith("//")?this.videoFrame=$("<iframe id='player' type='text/html' width='"+this.width+"' height='"+this.height+"' src='"+this.config.generalCode+"' frameborder='0' allowfullscreen='1' style='position: absolute; '></iframe>"):/^(<iframe|<embed).*(iframe>|embed>)/.test(this.config.generalCode)&&((t=this.config.generalCode.match(/src=\S*[$'|$"]/))[0]&&(this.iframeSrc=t[0].replace("src=","")),"http:"!=window.location.protocol&&"https:"!=window.location.protocol||(this.config.generalCode=this.config.generalCode.replace("http:","").replace("https:","")),"file:"==window.location.protocol&&(-1<t[0].indexOf('src="//')||-1<t[0].indexOf("src='//"))&&(this.config.generalCode=this.config.generalCode.replace('src="//','src="http://').replace("src='//","src='http://")),-1<this.config.generalCode.indexOf("style=")?this.config.generalCode=this.config.generalCode.replace("style=","style=width:100%;height:100%;"):this.config.generalCode=this.config.generalCode.replace(">"," width=100% height=100%; >"),this.videoFrame=$(this.config.generalCode))}},parseConfig:function(t){return{width:t.location.width,height:t.location.height,x:t.location.x,y:t.location.y,alpha:t.alpha,rotation:t.location.rotation,generalCode:t.generalCode,imgIcon:t.imgIcon,animation:t.animation}},initCss:function(){this.config.generalCode&&this.videoFrame&&(this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.container.css({background:"#f8f8f8",position:"absolute",opacity:this.config.opacity,width:this.width+"px",height:this.height+"px"}),this.videoFrame.css({width:this.width+"px",height:this.height+"px"}),this.container.css({width:this.width+"px",height:this.height+"px"}),this.setPosition())},onResize:function(t,i){this.config.generalCode&&this.videoFrame&&(this.pageWidth=t,this.pageHeight=i,this.initCss())},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.container.css({top:this.y+"px",left:this.x+"px"})},hide:function(){this.videoFrame&&(this.container.css({display:"none"}),this.videoFrame.remove())},show:function(){this.videoFrame&&(this.container.find(this.videoFrame)&&this.container.append(this.videoFrame),this.container.css({display:"block"}))},showAnimate:function(){var t,i;this.videoFrame&&this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.container.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.videoFrame.$media.one(t,function(){this.container.css({animation:""})}.bind(this)))}}).extend("Item"),Class("PhoneHtmlVideo",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.config.generalCode&&(this.videoWidth=windowWidth,this.videoHeight=9*this.videoWidth/16,this.videoHeight=Math.min(this.videoHeight,windowHeight),this.videoLeft=(windowWidth-this.videoWidth)/2,this.videoTop=(windowHeight-this.videoHeight)/2,t=Math.min(Math.min(48,.36*this.width),Math.min(48,.36*this.height)),this.playImg=$("<img src='"+phoneBaseURL+"play.png' style='position:absolute;margin:auto;left:0px;top:0px;bottom:0px;right:0px;width:"+t+"px;height:"+t+"px'/>"),this.close=$("<img src='"+phoneBaseURL+"close.png' />"),this.popContainer=$("<div class='popContainer'></div>"),this.initPopCss(),this.container.append(this.playImg),this.initEvent())},initEvent:function(){this.container.onTap(function(){this.popIframe()}.bind(this)),this.popContainer.bind("click touchstart",function(t){t.stopPropagation()}.bind(this)),this.popContainer.onTap(function(t){this.destroy()}.bind(this))},initVideoFrame:function(){if(this.config.generalCode){if(this.iframeSrc=this.config.generalCode,this.config.generalCode.startsWith("www")){var i="http://"+this.config.generalCode;try{$.ajax({url:i,type:"GET",dataType:"jsonp",timeout:3e3,complete:function(t){200!=t.status&&(i="https://"+this.config.generalCode)}})}catch(t){}this.config.generalCode=i}var t;this.config.generalCode.startsWith("http")||this.config.generalCode.startsWith("https")||this.config.generalCode.startsWith("//")?this.videoFrame=new Media($("<iframe id='player' type='text/html' src='"+this.config.generalCode+"?autoplay=1' frameborder='0' allowfullscreen='1' style='position: absolute;width:100%;height:100%; '></iframe>"),"popVideo"):/^(<iframe|<embed).*(iframe>|embed>)/.test(this.config.generalCode)&&((t=this.config.generalCode.match(/src=\S*[$'|$"]/))[0]&&(this.iframeSrc=t[0].replace("src=","")),"http:"!=window.location.protocol&&"https:"!=window.location.protocol||(this.config.generalCode=this.config.generalCode.replace("http:","").replace("https:",""),this.config.generalCode.replace("width","").replace("height","")),"file:"==window.location.protocol&&(-1<t[0].indexOf('src="//')||-1<t[0].indexOf("src='//"))&&(this.config.generalCode=this.config.generalCode.replace('src="//','src="http://').replace("src='//","src='http://")),this.videoFrame=new Media($(this.config.generalCode),"popVideo"))}},getImgIcon:function(){return this.config.imgIcon?this.fixRelativePath(this.config.imgIcon):-1<this.config.generalCode.indexOf("youku")?phoneBaseURL+"youku.png":-1<this.config.generalCode.indexOf("qq")?phoneBaseURL+"vQQ.png":-1<this.config.generalCode.indexOf("bilibili")?phoneBaseURL+"bilibili.png":phoneBaseURL+"movie.png"},initCss:function(){this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.container.css({background:"#333 url('"+this.getImgIcon()+"') center center no-repeat","background-size":"contain",position:"absolute",opacity:this.config.opacity,width:this.width+"px",height:this.height+"px"}),this.setPosition()},initPopCss:function(){this.popContainer.css({position:"absolute",display:"none",background:"rgba(0,0,0,0.9)",width:"100%",height:"100%",left:"0",top:"0",right:"0",bottom:"0","z-index":"1001"}),this.close.css({position:"absolute",right:"5px",top:"5px",width:"20px",height:"20px",padding:"5px","z-index":"1111"}),this.videoFrame.$media.css({width:this.videoWidth+"px",height:this.videoHeight+"px",top:"50%",left:"50%",position:"absolute",transform:"translate(-50%,-50%)"})},popIframe:function(){this.videoFrame&&this.videoFrame.$media&&(this.popContainer.append(this.videoFrame.$media),this.popContainer.append(this.close),tmpContainer.append(this.popContainer),BookEvent.trigger("playMedia",["play",BookInfo.getCurrentPageIndex(),this.iframeSrc,"htmlVideo",0]),this.popContainer.fadeIn(300,function(){this.initPopEvent()}.bind(this)),this.videoFrame.play())},popDestroy:function(){this.popContainer.fadeOut(300,function(){this.videoFrame.$media.remove(),this.videoFrame.pause()}.bind(this))},initPopEvent:function(){this.close.onTap(function(t){BookEvent.trigger("playMedia",["pause",BookInfo.getCurrentPageIndex(),this.iframeSrc,"htmlVideo",0]),this.popDestroy()}.bind(this))},initVideoSize:function(){windowHeight<windowWidth?(this.videoHeight=windowHeight,this.videoWidth=16*this.videoHeight/9,this.videoWidth=Math.min(this.videoWidth,windowWidth)):(this.videoWidth=windowWidth,this.videoHeight=9*this.videoWidth/16,this.videoHeight=Math.min(this.videoHeight,windowHeight))},onResize:function(t,i){this.config.generalCode&&this.videoFrame&&this.videoFrame.$media&&(this._super(t,i),this.initVideoSize(),this.videoFrame.$media.css({width:this.videoWidth+"px",height:this.videoHeight+"px",top:"50%",left:"50%",position:"absolute","-webkit-transform":"translate(-50%,-50%)",transform:"translate(-50%,-50%)"}))},hide:function(){},show:function(){}}).extend("HtmlVideo"),global.hddr.soo4=function(t){return t||".com"},Class("Audio",{Package:"PageItem",background:!1,create:function(t,i,e,o,s){this._super(t,i,e,o),this.config.src&&(this.animateConfig(),this.audio=null,this.defaultWidth=e,this.themeName=s,this.resizeThemes={default:"",wave:""},this.type="com.mobiano.flipbook.sound.TAnnoBackgroundSound",this.playCount=0,this.pageWidth=e,this.pageHeight=o,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.config.mainColor&&(this.mainColor=Color(this.config.mainColor).toString()),this.initUI(),this.setRotation(this.content,this.config.rotation),this.setAudioSrc(),this.setAudioSkin(),this.initLoopEvent(),this.onResize(this.pageWidth,this.pageHeight))},initUI:function(){this.content=$("<div class='audioContent flip-action'></div>"),this.content.css({position:"absolute",left:this.x+"px",top:this.y+"px","background-color":this.mainColor,opacity:this.config.alpha}),this.parent.append(this.content),this.audio=new Media($("<audio controls ></audio>"),"audio"),this.audio.setCss({position:"absolute",width:"0px",height:"0px",left:"0px",top:"0px"}),this.config.shadow&&parseBool(this.config.shadow.hasDropShadow)&&this.addShadow(this.content)},setAudioSrc:function(){var t=this.config.key;if(this.content.audioResources=[],null==t)this.config.src=this.fixRelativePath(this.config.src),this.audio.$media.attr("src",this.config.src),this.content.audioResources.push(this.config.src);else if(t in this.config.src)e=this.config.src[t],e=this.fixRelativePath(e),this.content.audioResources.push(e),this.audio.$media.attr("src",e);else for(var i=0;i<this.config.src.length;i++){var e=this.config.src[i][t],e=this.fixRelativePath(e),o=(this.content.audioResources.push(e),$("<source src='"+e+"'>"));this.audio.$media.append(o),0==i&&this.audio.$media.attr("src",e)}this.content.append(this.audio.$media)},setAudioSkin:function(){null!=this.audio.$media[0]&&"background0"!=this.themeName&&(this.audioSkin=this.content.addAudioSkin(this.themeName,this.audio),this.audio.$media.removeAttr("controls")),this.audioSkin&&"BackgroundAudioSkin"==this.audioSkin.getClassName()&&(this.config.soundPlayTriggerEvt=PageEditor.PlayEvt.EVT_PLAY,this.config.soundStopTriggerEvt=PageEditor.PlayEvt.EVT_STOP),this.resizeThemes={default:"",wave:"",skin1:"",skin2:""},this.themeName in this.resizeThemes||null==this.themeName?(this.content.css({width:this.width+"px",height:this.height+"px"}),this.audioSkin.onResize(),"skin1"!=this.themeName&&"skin2"!=this.themeName||this.content.find(".volume-seek.slider-action").css({height:"26px"})):this.resizeAudio(this.pageWidth,this.pageHeight)},initLoopEvent:function(){this.config.H5PlaybackNumber<0&&this.audio.$media.attr("loop","loop"),0<this.config.H5PlaybackNumber&&this.audio.$media.bind("ended",function(){this.playCount++,0<this.config.H5PlaybackNumber&&this.playCount<=this.config.H5PlaybackNumber&&this.playAudio()}.bind(this)),this.audio.$media.bind("play",function(){this.playCount>this.config.H5PlaybackNumber&&(this.playCount=0)}.bind(this))},parseConfig:function(t){function i(t){if("object"==typeof t){if(t instanceof Array)return 0==t.length;var i,e=0;for(i in t)e++;return 0==e}}var e,o={rotation:t.location.rotation,width:t.location.width,height:t.location.height,x:t.location.x,y:t.location.y,alpha:t.alpha,src:t.soundURL,shadow:t.shadow,className:t.className,mainColor:t.mainColor,soundPlayTriggerEvt:t.soundPlayTriggerEvt,soundStopTriggerEvt:t.soundStopTriggerEvt,animation:t.animation,H5PlaybackNumber:0};return t.annotype==PageEditor.AnnoType.ANNO_AUDIO1&&(o.key="path",o.src=i(t.soundList)?"":t.soundList,o.src.sound)&&(o.src=o.src.sound),t.annotype==PageEditor.AnnoType.ANNO_AUDIO2&&(o.key="fname",o.src=i(t.data)?"":t.data,o.src.item)&&(o.src=o.src.item),t.annotype==PageEditor.AnnoType.ANNO_PLUGIN&&t.className in audioThemeNames&&(o.key="url",o.src=(e=t).componentData&&e&&!i(e.componentData.songs)&&null!=e.componentData.songs?e.componentData.songs.song||e.componentData.songs.url||e.componentData.songs:{},o.soundPlayTriggerEvt=t.soundPlayTriggerEvt,o.soundStopTriggerEvt=t.soundStopTriggerEvt,t.componentData)&&t.componentData.playEvt&&(o.soundPlayTriggerEvt=t.componentData.playEvt,o.soundStopTriggerEvt=t.componentData.stopEvt),t.shadow&&parseBool(t.shadow.hasDropShadow)&&(o.hasShadow=!0),o},onResize:function(t,i){if(this.content){if(this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.themeName in this.resizeThemes||null==this.themeName){if("skin1"==this.themeName||"skin2"==this.themeName)return this.resizeSkin1_2(),void this.setPosition();this.content.css({width:this.width+"px",height:this.height+"px"}),this.audioSkin.onResize(),this.backgroundDiv&&this.backgroundDiv.css({width:this.width+"px",height:this.height+"px"})}else this.resizeAudio(t,i);this.setPosition()}},resizeSkin1_2:function(){var t=this.pageWidth/this.defaultWidth;this.content.css({height:"26px"}),this.content.find(".volume-seek.slider-action").css({height:"26px"}),this.content.css({"transform-origin":"0 0","-o-transform-origin":"0 0","-moz-transform-origin":"0 0","-ms-transform-origin":"0 0","-webkit-transform-origin":"0 0",transform:"scale("+t+")","-webkit-transform":"scale("+t+")","-ms-transform":"scale("+t+")","-o-transform":"scale("+t+")","-moz-transform":"scale("+t+")"})},resizeAudio:function(t,i){this.audioContentWidth||(this.audioContentWidth=this.content.width()),this.audioContentHeight||(this.audioContentHeight=this.content.height()),this.audioContentWidth?(t=Math.min(this.config.width*t/this.audioContentWidth,this.config.height*i/this.audioContentHeight),this.content.css({"-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","transform-origin":"0% 0%","-webkit-transform":"scale("+t+") rotate("+this.config.rotation+"deg)","-moz-transform":"scale("+t+") rotate("+this.config.rotation+"deg)","-ms-transform":"scale("+t+") rotate("+this.config.rotation+"deg)","-o-transform":"scale("+t+") rotate("+this.config.rotation+"deg)",transform:"scale("+t+") rotate("+this.config.rotation+"deg)"}),this.audioSkin.refreshSeek(),this.audioSkin.onResize()):this.resizeAudio.delay(this,100,[t,i])},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.content.css({left:this.x+"px",top:this.y+"px"}),this.backgroundDiv&&this.backgroundDiv.css({left:this.x+"px",top:this.y+"px"})},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.content.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.content.one(t,function(){this.content.css({animation:""})}.bind(this)))},playAudio:function(){if(null!=this.audio)try{this.audio.play()}catch(t){}},pauseAudio:function(){if(null!=this.audio)try{this.audio.pause()}catch(t){}},stopAudio:function(){if(null!=this.audio)try{this.audio.pause(),this.audio.setCurrentTime(0)}catch(t){}},backTime:function(){this.playCount=0,this.audio.setCurrentTime(0)},isReplay:function(){return this.config.H5Replay},getPlayEvt:function(){return this.config.soundPlayTriggerEvt},getStopEvt:function(){return this.config.soundStopTriggerEvt},isBackgroundAudio:function(){return this.background}}).extend("Item"),Class("AudioEditor",{create:function(t,i,e,o,s,n){this.parent=t,this.enterPlay=parseBool(e),this.autoPlayAgain=parseBool(o),s&&(this.H5PlaybackNumber=parseInt(s)),n&&(this.H5Replay=parseBool(n)),this.playCount=0,this.background=$("<div class='printBar'></div>"),this.contentBox=$("<div class='printBG'></div>"),this.closeButton=$("<div></div>"),this.showing=!1,this.width=windowWidth,this.height=windowHeight,bookConfig.isFlipPdf&&(i.startsWith("./")?i="."+i:i.isUrl()||(i="../"+i)),this.audioSrc=i,this.contentWidth=350,this.contentHeight=63,this.themeName="enjoy",isPhone()&&(this.themeName="background",this.contentHeight=this.contentWidth=100),this.audio=new Media($("<audio controls ></audio>"),"audio"),this.contentBox.audioResources=[],this.audio.$media.attr("src",this.audioSrc),this.contentBox.audioResources.push(this.audioSrc),this.contentBox.append(this.audio.$media),null!=this.audio.$media[0].play&&"background0"!=this.themeName&&(this.contentBox.addAudioSkin(this.themeName,this.audio),this.audio.$media.removeAttr("controls")),this.parent.append(this.background),this.parent.append(this.contentBox),this.parent.append(this.closeButton),this.closeButton.append($("<img src='"+uiBaseURL+"close.png'/>").asImageButton()),this.initCss(),this.initEvent()},initCss:function(){this.background.css({height:this.height+"px",bottom:"0px"}),this.contentBox.css({top:(this.height-this.contentHeight)/2+"px","border-radius":"0px",height:this.contentHeight+"px",width:this.contentWidth+"px",left:(this.width-this.contentWidth)/2+"px"}),this.audio.setCss({position:"absolute",width:this.contentWidth+"px",height:this.contentHeight+"px",left:"0px",top:"0px"}),this.closeButton.css({top:"30px",right:"30px",position:"absolute","z-index":"103"}),this.background.css("display","none"),this.contentBox.css("display","none"),this.closeButton.css("display","none")},onResize:function(t,i){this.background.css({height:windowHeight+"px",bottom:"0px"}),this.contentBox.css({height:this.contentHeight+"px",width:this.contentWidth+"px",left:(windowWidth-this.contentWidth)/2+"px"}),this.contentBox.css({top:(windowHeight-this.contentHeight)/2+"px"}),this.closeButton.css({top:"30px",right:"30px"}),null!=this.themeName&&(this.contentBox.css({width:this.contentWidth+"px",height:this.contentHeight+"px"}),this.audioSkin.onResize())},setPosition:function(t,i,e){null==e&&(e=["left","top"]),$(this.background).css(e[0],t+"px"),$(this.background).css(e[1],i+"px")},getShowStatu:function(){return this.showing},setShowStatu:function(t){this.showing=t},show:function(){$(this.background).css({display:"block"}),$(this.contentBox).fadeIn(500),$(this.closeButton).fadeIn(500),this.showing=!0,global.flipShotButton&&flipShotButton.hide()},hide:function(){var t=this;$(this.background).fadeOut(500,function(){t.pause(),t.contentBox.remove(),t.closeButton.remove(),t.background.remove()}),this.showing=!1},initEvent:function(){var i=this;this.background.bind(_event._down,function(t){i.hide(),i.showing=!1}),this.closeButton.bind(_event._end,function(t){i.hide(),i.showing=!1}),this.closeButton.bind("mouseover",function(t){i.closeButton.css({cursor:"pointer"})}),this.initLoopEvent()},initLoopEvent:function(){this.H5PlaybackNumber<0&&this.audio.$media.attr("loop","loop"),0<this.H5PlaybackNumber&&this.audio.bind("ended",function(){this.playCount++,0<this.H5PlaybackNumber&&this.playCount<=this.H5PlaybackNumber&&this.play()}.bind(this)),this.audio.$media.bind("play",function(){this.playCount>this.H5PlaybackNumber&&(this.playCount=0)}.bind(this))},play:function(){if(null!=this.audio)try{this.autoPlayAgain&&this.audio.setCurrentTime(0),this.audio.play()}catch(t){}},pause:function(){if(null!=this.audio)try{this.audio.pause()}catch(t){}},stop:function(){if(null!=this.audio)try{this.audio.pause(),this.audio.setCurrentTime(0)}catch(t){}},isPlaying:function(){return!(!this.audio||!this.audio.$media[0]||this.audio.$media[0].paused)},getPlayEvt:function(){return this.config.soundPlayTriggerEvt},getStopEvt:function(){return this.config.soundStopTriggerEvt}}).extend("Item"),Class("Image",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.animateConfig(),this.config.imageScaleType||(this.config.imageScaleType=!1),this.pageWidth=e,this.pageHeight=o,this.left=this.pageWidth*this.config.x,this.top=this.pageHeight*this.config.y,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.scaleWidth=this.width,this.pageScale=this.pageWidth/this.config.pageW,this.isFirst=!0,this.config.src&&(this.imageEnd=this.config.src.slice(this.config.src.lastIndexOf(".")+1)),parseBool(this.config.shadow.hasDropShadow)&&(this.config.hasShadow=!0),this.initImage(),this.initImageResource(),this.initImageLoadEvents(),this.initEvents(),this.config.hasShadow&&this.addShadow(this.image),this.onResize(this.pageWidth,this.pageHeight)},initImage:function(){this.container=$("<div style='position: absolute;'></div>"),this.image=$("<img style='position: absolute'/>"),this.imageBorder=$("<div class = 'bubble expose-square-solid' style='position: absolute;width: 100%;height: 100%;'></div>"),this.container.append(this.image),this.parent.append(this.container),this.container.append(this.imageBorder),this.container.css({opacity:this.config.alpha}),parseBool(this.config.popUpImage)||"0"!=this.config.mouseover||this.config.action||this.container.css({"pointer-events":"none"}),this.setRotation(this.container,this.config.rotation),this.image.css({"z-index":"0",top:0,bottom:0,left:0,right:0,position:"absolute"}),(isPhone()||isPad())&&(bookConfig.isStopMouseMenu?(this.imageBorder.css({"pointer-events":"none"}),this.image.css({"-webkit-touch-callout":"none"})):(this.imageBorder.css({"pointer-events":"none"}),this.image.css({"-webkit-touch-callout":"default"}))),this.imageBorder.css({"z-index":"1",margin:"auto",top:0,bottom:0,left:0,right:0,position:"absolute",display:"none"}),parseBool(this.config.reflection)&&(1==supports("boxReflect")?this.imageReflection(this.image):this.addCanvasReflection()),this.config.mouseOver==PageEditor.MouseOverType.AddBorder?this.initLinkHint(this.imageBorder):this.initLinkHint(this.image)},removeImgSrc:function(){"gif"==this.imageEnd&&(this.container.css({display:"none"}),this.image.attr("src",""))},resetImgSrc:function(){"gif"==this.imageEnd&&(this.container.css({display:"block"}),this.image.attr("src",this.config.src))},initImageResource:function(){var t;this.config.src&&("gif"==this.imageEnd&&this.container.css({display:"none"}),this.config.src=this.fixRelativePath(this.config.src),bookConfig.useTheAliCloudChart&&(t=getCoverSize(this.width,this.height,1024,1024),isPhone()||isPad()?this.config.src=this.config.imgOriginalProportions?this.getOssUrl(this.config.src,t.width,t.height,"lfit"):this.getOssUrl(this.config.src,t.width,t.height,"fixed"):this.config.src=this.config.imgOriginalProportions?this.getOssUrl(this.config.src,this.width,this.height,"lfit"):this.getOssUrl(this.config.src,this.width,this.height,"fixed")),this.image.attr("src",this.config.src))},parseConfig:function(t){return{width:t.location.width,height:t.location.height,rotation:t.location.rotation,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,x:t.location.x,y:t.location.y,alpha:t.alpha,src:t.url,imgScale:t.imgScale,imgRotation:t.imgRotation,imgContX:t.imgContX,imgContY:t.imgContY,highlightsBool:parseBool(t.highlightsBool),highlightsLabel:t.highlightsLabel,originalURL:t.originalURL,action:t.action,mouseOver:t.mouseOverEffect,borderColor:t.borderColor,imgOriginalProportions:parseBool(t.imgOriginalProportions),popUpImage:parseBool(t.popUpImage),hint:t.hint,pageW:t.location.pageWidth,pageH:t.location.pageHeight,effect:t.effect,imageScaleType:parseBool(t.imgScaleType),shadow:t.shadow,animation:t.animation}},initImageLoadEvents:function(){this.image.on("load",function(){var t=this.adjustImageSize(this.image[0]);this.imageWidth=t.width,this.imageHeight=t.height,this.image.css({width:this.imageWidth+"px",height:this.imageHeight+"px",left:(this.width-this.imageWidth)/2+"px",top:(this.height-this.imageHeight)/2+"px"}),this.imageBorder.css({"border-color":Color(this.config.borderColor).toString(),width:this.width+"px",height:this.height+"px"}),this.container.css({left:this.left+"px",top:this.top+"px",width:this.width+"px",height:this.height+"px"}),(isIphone()||isIpad())&&this.setContainerSize(this.image,this.imageWidth,this.imageHeight),this.elementConfig={elemWidth:this.imageWidth,elemHeight:this.imageHeight,x:this.left,y:this.top,pageWidth:this.pageWidth,pageHeight:this.pageHeight}}.bind(this)),null==this.config.action&&(this.image[0].onerror=function(){this.container.css("display","none")}.bind(this))},adjustImageSize:function(t){var i,e;return t.naturalWidth&&t.naturalHeight?(i=t.naturalWidth,t=t.naturalHeight,0==this.config.imgOriginalProportions?{width:this.width,height:this.height,imgNaturalWidth:parseInt(i),imgNaturalHeight:parseInt(t)}:(e=Math.min(this.width/i,this.height/t),{width:Math.floor(i*e),height:Math.floor(t*e),imgNaturalWidth:parseInt(i),imgNaturalHeight:parseInt(t)})):{width:0,height:0}},initEvents:function(){this.zoomImg=null,this.config.mouseOver==PageEditor.MouseOverType.AddBorder&&(this.container.bind(isPhone()||isPad()?_event._down:_event._enter,function(t){this.imageBorder.css({display:"block"}),this.visible=!0,this.image.animate({opacity:"0.8"},300)}.bind(this)),this.container.bind(isPhone()||isPad()?_event._up:_event._leave,function(t){this.imageBorder.css({display:"none"}),this.image.animate({opacity:"1"},300),this.visible=!1}.bind(this))),this.config.mouseOver!=PageEditor.MouseOverType.Zoom||isPhone()||isPad()||this.image.mouseEnterZoom(),(isPhone()||isPad()?this.image:this.imageBorder).on(_event._click,function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Image",this.config.x,this.config.y,this.config.width,this.config.height]),bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"image",event_label:"Page"+BookInfo.getCurrentPages()[0]})}.bind(this)),this.addActionEvent(this.container),this.addEffect(),this.addHighLight()},resetUrl:function(){this.isResize=!0;var t=this.config.src.lastIndexOf("?");0<=t&&(this.config.src=this.config.src.slice(0,t),this.config.src=this.fixRelativePath(this.config.src),bookConfig.useTheAliCloudChart&&(isPhone()||isPad()?(t=getCoverSize(this.width,this.height,1024,1024),this.config.src=this.config.imgOriginalProportions?this.getOssUrl(this.config.src,t.width,t.height,"lfit"):this.getOssUrl(this.config.src,t.width,t.height,"fixed")):this.config.src=this.config.imgOriginalProportions?this.getOssUrl(this.config.src,this.width,this.height,"lfit"):this.getOssUrl(this.config.src,this.width,this.height,"fixed")),this.image.attr("src",this.config.src))},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.left=this.pageWidth*this.config.x,this.top=this.pageHeight*this.config.y,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.resetUrl(),this.highLight&&this.highLight.onResize(this.width,this.height),t=this.adjustImageSize(this.image[0]),this.imageWidth=t.width,this.imageHeight=t.height,this.image.css({width:this.imageWidth+"px",height:this.imageHeight+"px",left:(this.width-this.imageWidth)/2+"px",top:(this.height-this.imageHeight)/2+"px"}),this.imageBorder.css({width:this.width+"px",height:this.height+"px"}),this.container.css({left:this.left+"px",top:this.top+"px",width:this.width+"px",height:this.height+"px"}),this.resizeHint(),(isIphone()||isIpad())&&this.setContainerSize(this.image,this.imageWidth,this.imageHeight)},showAnimate:function(){var t,i;this.config.effect&&"null"!==this.config.effect.effectType||!this.config.animation||!this.config.animation.name||(t=getAnimationEnd(),i=this.config.animation,this.container.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.container.one(t,function(){this.container.css({animation:""})}.bind(this)))},addHighLight:function(){this.config.highlightsBool&&(this.elementConfig={width:this.width,height:this.height},this.highLight=this.addHighLightEvent(this.container,this.elementConfig))},addEffect:function(){this.config.effect&&this.config.effect.effectType==PageEditor.Effect.FADEIN&&this.image.css({display:"none"}),this.image.on("load",function(){this.isResize&&!this.isFirst?this.isResize=!1:(this.isResize=this.isFirst=!1,this.elementConfig={elemWidth:this.imageWidth,elemHeight:this.imageHeight,parentWidth:this.width,parentHeight:this.height,x:this.left,y:this.top,pageWidth:this.pageWidth,pageHeight:this.pageHeight},this.addEffectEvent(this.image,this.elementConfig))}.bind(this))},hideEffect:function(){this.config.effect&&"null"!==this.config.effect.effectType&&this.imgEffect&&this.imgEffect.hide()},showEffect:function(){var t;this.config.effect&&"null"!==this.config.effect.effectType&&(this.image[0].complete&&this.imgEffect?this.imgEffect.show():t=setInterval(function(){this.image[0].complete&&(this.imgEffect&&this.imgEffect.show(),clearInterval(t),t=null)}.bind(this),200))},addCanvasReflection:function(){var s=new Image;s.src=this.config.src,$(s).on("load",function(){var t=document.createElement("canvas"),i=t.getContext("2d");this.container.append(t);var e=(o=this.adjustImageSize(s[0])).width,o=o.height;t.style.width=e+"px",t.style.height=o+"px",t.width=e,t.height=o,t.className="reflect",$(t).css({transform:"translateY("+o+"px)",margin:"auto",top:0,bottom:0,left:0,right:0,position:"absolute"}),i.save(),i.translate(0,o),i.scale(1,-1),i.drawImage(s,0,0,e,o),i.restore(),i.globalCompositeOperation="destination-out",(t=i.createLinearGradient(0,0,0,o)).addColorStop(1,"rgba(255, 0, 0, 1.0)"),t.addColorStop(0,"rgba(255, 0, 0, 0)"),i.fillStyle=t,i.rect(0,0,e,2*o),i.fill()}.bind(this))}}).extend(PageItem.Item),Class({create:function(t,i){var e=this,o=(this.$container=$(i),i=this.$container.width(),this.$container.height());return this.limitWidth=i,this.limitHeight=o,this.innerLimitWidth=606,this.innerLimitHeight=404,this.dragDivFalg=!0,this.dragImgFalg=!1,this.address=uiBaseURL,this.isFullFalg=!1,this.isOneToOneFalg=!0,this.scale=100,this.isMapShowFalg=!1,this.boxImgBG=$("<div style='position: absolute;margin: 0px;padding: 0px;border: 0px;left: 0px;top: 0px;background-color: #000000;opacity: 0;z-index: 99999;'></div>").css({width:i,height:o}).appendTo(this.$container),this.outerBoxImg=$("<div class='fliphtml5-loading' style='position: absolute;margin: 0px;padding: 0px;border: 0px;left: 0px;top: 0px;overflow: hidden;z-index: 99999;'></div>").css({width:i,height:o}).appendTo(this.$container),this.innerBoxImg=$("<div style='position: absolute;overflow: hidden;cursor: pointer;background-color: rgba(0,0,0, 0.6);'></div>").css({boxShadow:"0px 0px 4px #000000"}).hide().appendTo(this.outerBoxImg),window.box=this.innerBoxImg,this.boxImgDiv=$("<div class='fliphtml5-boxDiv' style='position: absolute;'></div>").appendTo(this.innerBoxImg),this.boxImg=$("<img style='position: absolute;width: 100%;height: 100%;padding: 0px;margin: 0px;'/>").appendTo(this.boxImgDiv),this.closeBox=$("<div style='position: absolute;left: auto;top: 0px;right: 0px;'></div>").append($("<img>",{src:this.address+"closeForm.png"})).appendTo(this.innerBoxImg),this.bindCloseBoxEvent(),this.createControlBar(this.innerBoxImg),this.createImgMap(this.innerBoxImg),this.loadImg(t),this.dragDiv(),this.dragImage(),isTouch||(this.innerBoxImg.transition3D(),this.boxImgDiv.transition3D(),this.mapPoint.transition3D()),$(window).on("resize",function(){e.resize()}),this},bindCloseBoxEvent:function(){var t=this;t.closeBox.bind("mouseover",function(){t.closeBox.children("img").attr("src",t.address+"closeForm_down.png")}),t.closeBox.bind("mouseout",function(){t.closeBox.children("img").attr("src",t.address+"closeForm.png")}),t.closeBox.bind("click",function(){t.destroy()})},createControlBar:function(t){this.controlBar=$("<div class='control' style='position: absolute;width: 106px;height: 48px;overflow: hidden;bottom: -50px;top: auto;left: 50%;margin-left: -53px;border-top-left-radius: 10px;border-top-right-radius: 10px;background-color: rgba(0,0,0,0.6)'></div>").css({boxShadow:"0px 0px 4px #000000"}).appendTo(t),this.oneToOne=$("<span class='one-to-one' style='position: absolute;'></span>").css({width:40,height:30,left:10,top:9,fontFamily:"serif",fontSize:28,lineHeight:"30px",color:"#7F8383",letterSpacing:"-5px",textAlign:"center"}).html("1:1").appendTo(this.controlBar),this.fullScreen=$("<div class='FullScreen' style='position: absolute'></div>").css({width:40,height:30,left:56,top:9}).append($("<img>",{src:this.address+"enterFull.png",css:{marginLeft:6,marginTop:1}})).appendTo(this.controlBar),this.bindControlEvents()},bindControlEvents:function(){var a=this;isTouch?a.controlBar.css({bottom:2}).show():(this.innerBoxImg.bind("mouseover",function(){a.controlBar.stop(!1,!1).animate({bottom:2},400,"linear")}),this.innerBoxImg.bind("mouseout",function(){a.controlBar.stop(!1,!1).animate({bottom:-50},400,"linear")})),this.oneToOne.bind("click",function(){a.boxImgDiv.css({width:a.originalSize.width,height:a.originalSize.height,left:(a.innerBoxImg.width()-a.originalSize.width)/2,top:(a.innerBoxImg.height()-a.originalSize.height)/2}),a.innerBoxImg.width()>=a.boxImgDiv.width()&&a.innerBoxImg.height()>=a.boxImgDiv.height()?a.dragImgFalg=!1:a.dragImgFalg=!0,!a.isFullFalg&&a.innerBoxImg.width()>=a.boxImgDiv.width()&&a.innerBoxImg.height()>=a.boxImgDiv.height()?a.dragDivFalg=!0:a.dragDivFalg=!1,a.scale=100,a.isOneToOneFalg=a.isOneToOne(),a.isMapShowFalg=a.isShowMap(),a.setMapPoint()}),this.oneToOne.bind("mouseover",function(){a.isOneToOneFalg||a.oneToOne.css({color:"#32B9EB"})}),this.oneToOne.bind("mouseout",function(){a.isOneToOneFalg||a.oneToOne.css({color:"#ffffff"})}),this.fullScreen.bind("click",function(){var t=parseInt(a.boxImgDiv.css("left")),i=parseInt(a.boxImgDiv.css("top")),e=a.boxImgDiv.width(),o=a.boxImgDiv.height(),s=a.innerBoxImg.width(),n=a.innerBoxImg.height();a.isFullFalg?(a.innerBoxImg.css({width:Math.max(a.innerLimitWidth,a.result.width),height:Math.max(a.innerLimitHeight,a.result.height),left:Math.max(0,(a.outerBoxImg.width()-Math.max(a.innerLimitWidth,a.result.width))/2),top:Math.max(0,(a.outerBoxImg.height()-Math.max(a.innerLimitHeight,a.result.height))/2)}),a.boxImgDiv.css({left:a.innerBoxImg.width()>=e?(a.innerBoxImg.width()-e)/2:Math.max(a.innerBoxImg.width()-e,t+(a.innerBoxImg.width()-s)/2),top:a.innerBoxImg.height()>=o?(a.innerBoxImg.height()-o)/2:Math.max(a.innerBoxImg.height()-o,i+(a.innerBoxImg.height()-n)/2)}),a.innerBoxImg.width()>=a.boxImgDiv.width()&&a.innerBoxImg.height()>=a.boxImgDiv.height()?a.dragDivFalg=!0:a.dragDivFalg=!1,a.isFullFalg=!1,a.fullScreen.children("img").attr("src",a.address+"enterFull.png")):(a.innerBoxImg.css({width:a.$container.width(),height:a.$container.height(),left:0,top:0}),a.boxImgDiv.css({left:a.innerBoxImg.width()>=e?(a.innerBoxImg.width()-e)/2:Math.max(a.innerBoxImg.width()-e,t+(s-a.innerBoxImg.width())/2),top:a.innerBoxImg.height()>=o?(a.innerBoxImg.height()-o)/2:Math.max(a.innerBoxImg.height()-o,i+(n-a.innerBoxImg.height())/2)}),a.isFullFalg=!0,a.dragDivFalg=!1,a.fullScreen.children("img").attr("src",a.address+"exitFull.png")),a.innerBoxImg.width()>=a.boxImgDiv.width()&&a.innerBoxImg.height()>=a.boxImgDiv.height()?a.dragImgFalg=!1:a.dragImgFalg=!0,a.isShowMap(),a.setMapPoint()}),this.fullScreen.bind("mouseover",function(){a.isFullFalg?a.fullScreen.children("img").attr("src",a.address+"exitFull_over.png"):a.fullScreen.children("img").attr("src",a.address+"enterFull_over.png")}),this.fullScreen.bind("mouseout",function(){a.fullScreen.children("img").attr("src",a.address+"exitFull.png")})},isOneToOne:function(){return this.originalSize.width==this.boxImgDiv.width()&&this.originalSize.height==this.boxImgDiv.height()?(this.oneToOne.css({color:"#7F8383"}),!0):(this.oneToOne.css({color:"#ffffff"}),!1)},loadImg:function(t){var o=this,s=new Image;s.onload=function(){s.onload=s.onerror=null;var t=this.width,i=this.height,e=o.selectWidthAdHeight(t,i);o.outerBoxImg.removeClass("fliphtml5-loading"),o.boxImgDiv.css({width:e.width,height:e.height}),o.innerBoxImg.css({width:Math.max(o.innerLimitWidth,e.width),height:Math.max(o.innerLimitHeight,e.height),left:Math.max(0,(o.outerBoxImg.width()-Math.max(o.innerLimitWidth,e.width))/2),top:-Math.max(o.innerLimitHeight,e.height)-240}),o.innerBoxImg.show().animate({top:Math.max(0,(o.outerBoxImg.height()-Math.max(o.innerLimitHeight,e.height))/2)},{duration:500,easing:"linear"}),o.boxImgDiv.css({width:e.width,height:e.height,left:Math.max(0,(o.innerBoxImg.width()-e.width)/2),top:Math.max(0,(o.innerBoxImg.height()-e.height)/2)}),o.originalSize={width:t,height:i},o.result=e,o.isOneToOneFalg=o.isOneToOne(),isTouch?o.zoomInPad():o.mouseZoom(),o.setMapImg(t,i)},s.onerror=function(){s.onload=s.onerror=null,o.outerBoxImg.removeClass("fliphtml5-loading");var t=o.selectWidthAdHeight(18,20);o.boxImgDiv.css({width:t.width,height:t.height}),o.innerBoxImg.css({width:Math.max(o.innerLimitWidth,t.width),height:Math.max(o.innerLimitHeight,t.height),left:Math.max(0,(o.outerBoxImg.width()-Math.max(o.innerLimitWidth,t.width))/2),top:-Math.max(o.innerLimitHeight,t.height)-240}),o.innerBoxImg.show().animate({top:Math.max(0,(o.outerBoxImg.height()-Math.max(o.innerLimitHeight,t.height))/2)},{duration:500,easing:"linear"}),o.boxImgDiv.css({width:t.width,height:t.height,left:Math.max(0,(o.innerBoxImg.width()-t.width)/2),top:Math.max(0,(o.innerBoxImg.height()-t.height)/2)}),o.originalSize={width:18,height:20},o.result=t,o.isOneToOneFalg=o.isOneToOne(),isTouch?o.zoomInPad():o.mouseZoom(),o.setMapImg(18,20)},s.src=t,o.boxImg.attr("src",t),o.mapImg.attr("src",t)},selectWidthAdHeight:function(t,i){var e={},o=t/i,s=this.limitWidth,n=this.limitHeight;return t<=s&&n<i?(e.width=o*n,e.height=n):s<t&&i<=n?(e.width=s,e.height=s/o):s<t&&n<i?s/o<=n?(e.width=s,e.height=s/o):o*n<=s?(e.width=o*n,e.height=n):console&&console.log("Do not be so wonderful picture of uncle!"):(e.width=t,e.height=i),e},dragDiv:function(){var i,e,o,s,n=this,a=n.innerBoxImg,h=$(document),r=!0;n.innerBoxImg.bind(_event._down,function(t){1==(t=isTouch?t.originalEvent.touches:[t]).length?r=!0:2<=t.length&&(r=!1),stopEvent(t[0])}),a.bind(_event._down,function(t){n.dragDivFalg&&(t=isTouch?t.originalEvent.touches[0]:t,isTouch||(t.preventDefault(),t.stopPropagation()),i=a[0].offsetLeft,e=a[0].offsetTop,o=t.clientX,s=t.clientY,h.bind(_event._move,function(t){r&&(t=isTouch?t.originalEvent.touches[0]:t,isTouch||(t.preventDefault(),t.stopPropagation()),a.css({left:i+t.clientX-o,top:e+t.clientY-s}))}),h.bind(_event._end,function(t){t=isTouch?t.originalEvent.touches[0]:t,isTouch||(t.preventDefault(),t.stopPropagation()),r=!0,h.unbind(_event._move)}))})},mouseZoom:function(){var n=this,a=n.scale,t=n.result,h=t.width,r=t.height;n.innerBoxImg.bind($.browser.mozilla?"DOMMouseScroll":"mousewheel",function(t){a=n.scale,0<(t=(t=t.originalEvent).wheelDelta||-t.detail)?a+=.2*a:t<0&&(a-=.17*a),a<5?a=5:1600<a&&(a=1600);var i,e=n.boxImgDiv.width(),o=n.boxImgDiv.height(),s=r*a/100;(t=h*a/100)<n.innerBoxImg.width()?i=(n.innerBoxImg.width()-h*a/100)/2:(i=parseInt(n.boxImgDiv.css("left")),0<=(i+=(e-t)/2)?i=0:i<=n.innerBoxImg.width()-t&&(i=n.innerBoxImg.width()-t)),s<n.innerBoxImg.height()?o=(n.innerBoxImg.height()-r*a/100)/2:0<=(o=parseInt(n.boxImgDiv.css("top"))+(o-s)/2)?o=0:o<=n.innerBoxImg.height()-s&&(o=n.innerBoxImg.height()-s),n.scale=a,n.boxImgDiv.animate({width:t,height:s,left:i,top:o},{duration:100,easing:"linear",complete:function(){n.isOneToOneFalg=n.isOneToOne(),n.isMapShowFalg=n.isShowMap(),n.setMapPoint(),n.isFullFalg?(n.dragDivFalg=!1,n.boxImgDiv.width()>n.innerBoxImg.width()||n.boxImgDiv.height()>n.innerBoxImg.height()?n.dragImgFalg=!0:n.dragImgFalg=!1):n.boxImgDiv.width()>n.innerBoxImg.width()||n.boxImgDiv.height()>n.innerBoxImg.height()?(n.dragDivFalg=!1,n.dragImgFalg=!0):(n.dragDivFalg=!0,n.dragImgFalg=!1)}})})},zoomInPad:function(){var s,n,a,h,r,g=this,t=g.result,l=t.width,d=t.height,c=!1;g.boxImgDiv[0].addEventListener("touchstart",function(t){var i,e,o;2<=t.touches.length&&(c=!0,i=t.touches[0].pageX,e=t.touches[0].pageY,o=t.touches[1].pageX,t=t.touches[1].pageY,s=g.boxImgDiv.position().left,n=g.boxImgDiv.position().top,a=g.boxImgDiv.width(),h=g.boxImgDiv.height(),r=Math.sqrt(Math.pow(o-i,2)+Math.pow(t-e,2)))},!1),document.addEventListener("touchmove",function(t){var i,e,o;c?2<=t.touches.length&&(i=Math.sqrt(Math.pow(t.touches[1].pageX-t.touches[0].pageX,2)+Math.pow(t.touches[1].pageY-t.touches[0].pageY,2))/r,e=(a-(t=a*i))/2+s,o=(h-(i*=h))/2+n,t<g.innerBoxImg.width()?e=(g.innerBoxImg.width()-t)/2:0<=e?e=0:e<=g.innerBoxImg.width()-t&&(e=g.innerBoxImg.width()-t),i<g.innerBoxImg.height()?o=(g.innerBoxImg.height()-i)/2:0<=o?o=0:o<=g.innerBoxImg.height()-i&&(o=g.innerBoxImg.height()-i),g.boxImgDiv.width(t).height(i).css({left:e,top:o}),g.isOneToOneFalg=g.isOneToOne(),g.isMapShowFalg=g.isShowMap(),g.setMapPoint(),g.boxImgDiv.width()>l||g.boxImgDiv.height()>d?(g.dragDivFalg=!1,g.dragImgFalg=!0):(g.dragDivFalg=!0,g.dragImgFalg=!1)):t.preventDefault()},!1),document.addEventListener("touchend",function(t){c=!1},!1),document.body.addEventListener("touchmove",function(t){t.preventDefault()},!1)},dragImage:function(){var e,o,s,n,a=this,h=a.boxImgDiv,i=$(document),r=!0;a.innerBoxImg.bind(_event._down,function(t){1==(t=isTouch?t.originalEvent.touches:[t]).length?r=!0:2<=t.length&&(r=!1),stopEvent(t[0])}),h.bind(_event._down,function(t){a.dragImgFalg&&(t=isTouch?t.originalEvent.touches[0]:t,h.addClass("dragging"),e=h[0].offsetLeft,o=h[0].offsetTop,s=t.clientX,n=t.clientY,i.bind(_event._move,function(t){var i;t=isTouch?t.originalEvent.touches[0]:t,r&&(i=e+t.clientX-s,t=o+t.clientY-n,0<=i?i=0:i<=a.innerBoxImg.width()-a.boxImgDiv.width()&&(i=a.innerBoxImg.width()-a.boxImgDiv.width()),0<=t?t=0:t<=a.innerBoxImg.height()-a.boxImgDiv.height()&&(t=a.innerBoxImg.height()-a.boxImgDiv.height()),h.width()>a.innerBoxImg.width()&&(h.css({left:i}),a.mapPoint.css({left:-i/(a.boxImgDiv.width()-a.innerBoxImg.width())*(a.mapDiv.width()-a.mapPoint.outerWidth())})),h.height()>a.innerBoxImg.height())&&(h.css({top:t}),a.mapPoint.css({top:-t/(a.boxImgDiv.height()-a.innerBoxImg.height())*(a.mapDiv.height()-a.mapPoint.outerHeight())}))}),i.bind(_event._end,function(t){i.unbind(_event._move),h.removeClass("dragging"),r=!0}))})},resize:function(){var t=this.$container.width(),i=this.$container.height();this.boxImgBG.css({width:t,height:i}),this.outerBoxImg.css({width:t,height:i}),this.isFullFalg?(this.innerBoxImg.css({width:t,height:i}),this.boxImgDiv.css({left:(t-this.boxImgDiv.width())/2,top:(i-this.boxImgDiv.height())/2}),this.setMapPoint()):this.innerBoxImg.css({left:(t-this.innerBoxImg.width())/2,top:(i-this.innerBoxImg.height())/2})},destroy:function(){var e,o,s,n,a=this,h=(parseInt(a.innerBoxImg.css("left")),parseInt(a.innerBoxImg.css("top")),a.innerBoxImg.width()),r=a.innerBoxImg.height();$({k:100}).animate({k:0},{duration:400,easing:"linear",step:function(t,i){e=h-(s=(h-(n=t/100)*h)/2),o=r-(n=(r-n*r)/2),a.innerBoxImg[0].style.clip="rect("+n+"px, "+e+"px, "+o+"px, "+s+"px)"},complete:function(){a.boxImgBG.remove(),a.outerBoxImg.remove()}})},createImgMap:function(t){this.map=$("<div class='ImageMap' style='position: absolute;left: auto;top: auto;right: 2px;bottom: 2px;width: 210px;height: 130px;overflow: hidden;border-radius: 4px;'></div>").css({boxShadow:"inset 1px 1px 0 rgba(0,0,0,.1),inset 0 -1px 0 rgba(0,0,0,.07)",backgroundColor:"rgba(0,0,0,.6)"}).hide().appendTo(t),this.mapDiv=$("<div style='position: absolute;margin: 0px;padding: 0px;border: 0px;overflow: hidden;'></div>").appendTo(this.map),this.mapImg=$("<img style='position: absolute;width: 100%;height: 100%;left: 0px;top: 0px;padding: 0px;margin: 0px;border: 0px;'/>").appendTo(this.mapDiv),this.mapPoint=$("<div style='position: absolute;margin: 0px;padding: 0px;border: 2px solid #58AA38;width: 100%;height: 100%;'></div>").css({boxShadow:"inset 1px 1px 0 #ffffff,inset 0 -1px 0 #ffffff,inset -1px 0px 0 #ffffff"}).appendTo(this.mapDiv),this.closeMap=$("<div style='position: absolute;left: auto;top: 0px;right: 0px;'></div>").append($("<img>",{src:this.address+"closeForm.png"})).appendTo(this.map),this.bindCloseMapEvent(),this.dragMapPoint()},bindCloseMapEvent:function(){var t=this;t.closeMap.bind("mouseover",function(){t.closeMap.children("img").attr("src",t.address+"closeForm_down.png")}),t.closeMap.bind("mouseout",function(){t.closeMap.children("img").attr("src",t.address+"closeForm.png")}),t.closeMap.bind("click",function(){t.destroyMap()})},setMapImg:function(t,i){var e,o,s,n,a=this.map.width(),h=this.map.height(),r=a/(t/=i);a<(i=h*t)?(e=a,s=0,n=(h-(o=r))/2):h<r?(o=h,s=(a-(e=i))/2,n=0):i/r==t&&(e=i,o=r,n=s=0),this.mapDiv.css({width:e,height:o,left:s,top:n})},setMapPoint:function(){var t=Math.min(this.mapDiv.width(),this.innerBoxImg.width()*this.mapDiv.width()/this.boxImgDiv.width())-4,i=Math.min(this.mapDiv.height(),this.innerBoxImg.height()*this.mapDiv.height()/this.boxImgDiv.height())-4,e=-parseInt(this.boxImgDiv.css("left"))/(this.boxImgDiv.width()-this.innerBoxImg.width())*(this.mapDiv.width()-(4+t)),o=-parseInt(this.boxImgDiv.css("top"))/(this.boxImgDiv.height()-this.innerBoxImg.height())*(this.mapDiv.height()-(4+i));this.mapPoint.css({left:e,top:o,width:t,height:i})},isShowMap:function(){return this.innerBoxImg.width()>=this.boxImgDiv.width()&&this.innerBoxImg.height()>=this.boxImgDiv.height()?(this.map.hide(),!0):(this.map.show(),!1)},dragMapPoint:function(){var e,o,s,n,a=this,h=a.mapPoint,i=$(document);h.bind(_event._down,function(t){t=isTouch?t.originalEvent.touches[0]:t,e=h[0].offsetLeft,o=h[0].offsetTop,s=t.clientX,n=t.clientY,i.bind(_event._move,function(t){t=isTouch?t.originalEvent.touches[0]:t;var i=e+t.clientX-s;t=o+t.clientY-n,i<=0?i=0:i>=a.mapDiv.width()-a.mapPoint.outerWidth()&&(i=a.mapDiv.width()-a.mapPoint.outerWidth()),t<=0?t=0:t>=a.mapDiv.height()-a.mapPoint.outerHeight()&&(t=a.mapDiv.height()-a.mapPoint.outerHeight()),h.width()<a.mapDiv.width()&&(h.css({left:i}),a.boxImgDiv.css({left:-i/(a.mapDiv.width()-a.mapPoint.outerWidth())*(a.boxImgDiv.width()-a.innerBoxImg.width())})),h.height()<a.mapDiv.height()&&(h.css({top:t}),a.boxImgDiv.css({top:-t/(a.mapDiv.height()-a.mapPoint.outerHeight())*(a.boxImgDiv.height()-a.innerBoxImg.height())}))}),i.bind(_event._end,function(t){i.unbind(_event._move)})})},destroyMap:function(){var e,o,s,n,a=this,h=(parseInt(a.map.css("right")),parseInt(a.map.css("bottom")),a.map.width()),r=a.map.height();$({k:100}).animate({k:0},{duration:400,easing:"linear",step:function(t,i){e=h-(s=(h-(n=t/100)*h)/2),o=r-(n=(r-n*r)/2),a.map[0].style.clip="rect("+n+"px, "+e+"px, "+o+"px, "+s+"px)"},complete:function(){a.map.remove()}})}}));function DrawEllipse(t,i,e,o){var s=i[0]+e,n=i[1];t.moveTo(s,n);for(var a=0;a<=360;a++)n=a*Math.PI/180,s=i[0]+e*Math.cos(n),n=i[1]-o*Math.sin(n),t.lineTo(s,n)}Class("Line",{Package:"PageItem",SOLID:"Solid line",DOTTED:"Dotted line",create:function(t,i,e,o,s){this._super(t,i,e,o),this.id="line"+s,this.animateConfig(),this.initConfig(),this.initCanvas(),parseBool(this.config.reflection)&&this.imageReflection(this.line),this.onResize(e,o)},initConfig:function(){this.color=Color(this.config.color),this.lineWidth=Number(this.config.lineWidth),this.lineType=this.config.lineType,this.config.originWidth||(this.config.originWidth=this.pageWidth),this.config.originHeight||(this.config.originHeight=this.pageHeight);var t=this.config.originWidth*this.config.width,i=this.config.originHeight*this.config.height;this.config.startX/=t,this.config.startY/=i,this.config.endX/=t,this.config.endY/=i,this.dotWidth=Number(this.config.dotWidthRation*this.config.originWidth),this.dashGap=Number(this.config.dotGrapRation*this.config.originWidth),this.dotWidth&&this.dashGap||(this.lineType=this.SOLID),this.extraWidth=this.lineWidth},initCanvas:function(){this.line=$("<canvas id="+this.id+"></canvas>"),this.line.css({opacity:this.config.lineAlpha,position:"absolute"}),this.setRotation(this.line,this.config.rotation),this.parent.append(this.line)},parseConfig:function(t){return{originWidth:t.location.pageWidth,originHeight:t.location.pageHeight,startX:t.lineStartPX,startY:t.lineStartPY,rotation:t.location.rotation,endX:t.lineEndPX,endY:t.lineEndPY,x:t.location.x,y:t.location.y,width:parseFloat(t.location.width)<=0?.01:parseFloat(t.location.width),height:parseFloat(t.location.height)<=0?.01:parseFloat(t.location.height),lineAlpha:t.lineAlpha,alpha:t.alpha,lineWidth:t.lineWidth,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,lineType:t.lineType,dotWidth:t.dotWidth,dotWidthRation:t.dotWidthRation,dotGrapRation:t.dotGrapRation,color:t.color,sh:parseBool(t.shadow.hasDropShadow),sa:t.shadow.shadowAngle,sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,animation:t.animation}},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*this.pageWidth+this.extraWidth,this.height=this.config.height*this.pageHeight+this.extraWidth,this.left=this.config.x*this.pageWidth-this.extraWidth/2,this.top=this.config.y*this.pageHeight-this.extraWidth/2,this.line.attr("width",this.width+"px"),this.line.attr("height",this.height+"px"),this.line.css({left:this.left+"px",top:this.top+"px"}),this.draw()},draw:function(){this.initParams();var t=this.getContext();t&&(t.clearRect(0,0,this.width,this.height),t.beginPath(),this.lineType==this.SOLID&&this.drawLine(t),this.lineType==this.DOTTED&&this.drawDotLine(t),this.config.sh&&this.setShapeShadow(t),t.stroke())},initParams:function(){function t(t,i){return Number.between(t*i,e,i-e)}var e=this.extraWidth/2;this.startX=t(this.config.startX,this.width),this.startY=t(this.config.startY,this.height),this.endX=t(this.config.endX,this.width),this.endY=t(this.config.endY,this.height)},getContext:function(){var t=this.line[0];try{var i=t.getContext("2d");return i.fillStyle="#00000000",i.lineCap="round",i.lineJoin="round",i.lineWidth=this.lineWidth,i.globalAlpha=this.config.alpha,i.strokeStyle=this.color.toString(),i}catch(t){return null}},drawLine:function(t){t.moveTo(this.startX,this.startY),t.lineTo(this.endX,this.endY)},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.line.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.line.one(t,function(){this.line.css({animation:""})}.bind(this)))},drawDotLine:function(t){for(var i=this.endX-this.startX,e=this.endY-this.startY,o=i/(s=Math.sqrt(i*i+e*e)),s=e/s,n=this.startX,a=this.startY;;){if(t.moveTo(n,a),n+=this.dotWidth*o,a+=this.dotWidth*s,n=0<i?Math.min(n,this.endX):Math.max(n,this.endX),a=0<e?Math.min(a,this.endY):Math.max(a,this.endY),t.lineTo(n,a),n+=this.dashGap*o,a+=this.dashGap*s,0<=i){if(n>this.endX)break}else if(n<this.endX)break;if(0<=e){if(a>this.endY)break}else if(a<this.endY)break}}}).extend("Item"),Class("Arrow",{Package:"PageItem",SINGLE:"Single Arrow",DOUBLE:"Double Arrow",create:function(t,i,e,o,s){this._super(t,i,e,o),this.id="arrow"+s,this.line.attr("id",this.id)},initConfig:function(){this._super(),this.arrowType=this.config.arrowType,this.extraWidth=4*this.lineWidth},parseConfig:function(t){return{originWidth:t.location.pageWidth,originHeight:t.location.pageHeight,startX:t.lineStartPX,startY:t.lineStartPY,rotation:t.location.rotation,endX:t.lineEndPX,endY:t.lineEndPY,x:t.location.x,y:t.location.y,width:t.location.width,height:t.location.height,arrowType:t.arrowType,alpha:t.alpha,lineAlpha:t.lineAlpha,lineWidth:t.lineWidth,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,lineType:t.lineType,dotWidth:t.dotWidth,dotWidthRation:t.dotWidthRation,dotGrapRation:t.dotGrapRation,color:t.color,sh:parseBool(t.shadow.hasDropShadow),sa:t.shadow.shadowAngle,sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,animation:t.animation}},draw:function(){this._super();var t=this.getContext();t&&this.drawArrow(t)},drawArrow:function(t){var i=this.endX-this.startX,e=this.endY-this.startY,o=Math.sqrt(i*i+e*e),s=2.5*this.lineWidth,i=i/o*s,e=e/o*s;this.drawArrowOnPoint(t,Point(this.endX,this.endY),-i,-e),this.arrowType==this.DOUBLE&&this.drawArrowOnPoint(t,Point(this.startX,this.startY),i,e)},drawArrowOnPoint:function(t,i,e,o){this.drawArrowLine(t,i,e,o,35),this.drawArrowLine(t,i,e,o,-35)},drawArrowLine:function(t,i,e,o,s){t.save(),t.translate(i.getX(),i.getY()),t.rotate(s*Math.PI/180),t.beginPath(),t.moveTo(0,0),t.lineTo(e,o),this.config.sh&&this.setShapeShadow(t),t.stroke(),t.restore()}}).extend("Line"),global.hddr.soq3=hddr.soo1||"tm",bdor[10]="l",Class("Link",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.initLinkColor(),this.initLink(),this.initEvents(),this.initLinkHint(this.link),this.onResize(this.pageWidth,this.pageHeight)},initLinkColor:function(){null==this.config.downColor?(this.config.downColor=bookConfig.LinkDownColor?Color(bookConfig.LinkDownColor):Color("#808080"),this.config.downAlpha=bookConfig.LinkAlpha||.6,this.config.overColor=this.config.downColor,this.config.outColor=this.config.downColor,this.config.overAlpha=this.config.downAlpha/2,this.config.outAlpha=0):(this.config.downColor=Color(this.config.downColor),this.config.overColor=Color(this.config.overColor),this.config.outColor=Color(this.config.outColor),parseBool(this.config.hint)&&(this.config.hint.hintShapeColor=Color(this.config.hint.hintShapeColor),this.config.hint.hintShapeColor2=Color(this.config.hint.hintShapeColor2)))},initLink:function(){this.container=$("<div class='expose-square-solid' style='position:absolute;'></div>"),this.link=$("<div class='expose-square-solid' style='position: absolute;'></div>"),this.link.css({"border-color":"rgba(0,0,0,0)","background-color":this.config.outColor.rgba(this.config.outAlpha)}),this.config.alpha&&this.link.css({opacity:this.config.alpha}),this.config.ellipseW&&this.link.css({"border-radius":this.config.ellipseW+"px"}),this.setRotation(this.link,this.config.rotation),this.container.append(this.link),this.parent.append(this.container)},flash:function(){"false"!=this.config.pageViewedBool&&(this.flashTimer&&this.flashTimer.stop(),this.flashTimer=function(t,i){var e,o,s,n;t==i?this.link.css({"background-color":this.config.outColor.rgba(this.config.outAlpha)}):(e=t%(i=Math.ceil(i/2)),o=Math.min(this.config.outAlpha,this.config.overAlpha),n=(s=Math.max(this.config.outAlpha,this.config.overAlpha))-o,fAlpha=t<i?o+e*n/i:s-e*n/i,this.link.css({"background-color":this.config.overColor.rgba(fAlpha)}))}.animation(this,1e3))},stopFlash:function(){this.flashTimer&&(this.flashTimer.stop(),this.link.css({"background-color":this.config.outColor.rgba(this.config.outAlpha)}))},parseConfig:function(t){return{isInverse:t.isInverse,type:"link",width:t.location.width<0?-t.location.width:t.location.width,height:t.location.height<0?-t.location.height:t.location.height,rotation:t.location.rotation,x:t.location.width<0?parseFloat(t.location.x)+parseFloat(t.location.width):t.location.x,y:t.location.height<0?parseFloat(t.location.y)+parseFloat(t.location.height):t.location.y,alpha:t.alpha,ellipseH:t.ellipseH,ellipseW:t.ellipseW,downColor:t.downColor,downAlpha:t.downAlpha,overColor:t.overColor,overAlpha:t.overAlpha,outColor:t.outColor,outAlpha:t.outAlpha,action:t.action,hint:t.hint,borderColor:t.borderColor,mouseOver:t.mouseOver,highlightsBool:parseBool(t.highlightsBool),highlightsLabel:t.highlightsLabel,pageViewedBool:t.pageViewedBool}},initEvents:function(){function i(){this.stopFlash(),this.link.css({"background-color":t.rgba(this.config.outAlpha)})}var e=this.config.overColor,o=this.config.downColor,t=this.config.outColor,s="";this.config.action&&this.config.action.actionType==PageEditor.ActionType.OPEN_URL&&(s=" url:"+this.config.action.url),this.link.bind(_event._down,function(t){this.stopFlash(),bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"Link",event_label:"Page"+BookInfo.getCurrentPages()[0]+" "+s}),BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Link",this.config.x,this.config.y,this.config.width,this.config.height]),this.link.css({"background-color":o.rgba(this.config.downAlpha)})}.bind(this)),this.link.bind(_event._up,function(t){this.stopFlash(),this.link.css({"background-color":e.rgba(this.config.overAlpha)})}.bind(this)),this.link.bind("mouseenter",function(t){this.stopFlash(),parseBool(this.config.mouseOver)&&(this.link.css({"-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",border:"2px solid "+Color(this.config.borderColor).toString()}),this.link.animate({borderWidth:"5px"},function(){this.link.animate({borderWidth:"2px"})}.bind(this))),this.link.css({"background-color":e.rgba(this.config.overAlpha)})}.bind(this)),this.link.bind(isTouch?_event._end:"mouseleave",function(t){$.browser.device==$.browser.DEVICE_PC?i.apply(this):i.delay(this,200)}.bind(this)),this.addActionEvent(this.container),this.addHighLight()},addHighLight:function(){this.config.highlightsBool&&(this.elementConfig={width:this.width,height:this.height},this.highLight=this.addHighLightEvent(this.container,this.elementConfig))},setPageBgImage:function(t,i,e){this.bgImageWidth=t,this.bgImageHeight=i,(this.pageIsStrech=e)||this.initLinkCss()},initLinkCss:function(){var t,i=this.bgImageWidth/this.bgImageHeight;.1<=Math.abs(i-this.pageWidth/this.pageHeight)?(i=(t=this.pageWidth)/i,this.left=t*this.config.x,this.top=(this.pageHeight-i)/2+i*this.config.y):(t=this.pageWidth,i=this.pageHeight,this.left=this.pageWidth*this.config.x,this.top=this.pageHeight*this.config.y),this.width=t*this.config.width,this.height=i*this.config.height,this.width<2&&(this.width=2),this.height<2&&(this.height=2),this.link.css({width:this.width+"px",height:this.height+"px"}),this.container.css({width:this.width+"px",height:this.height+"px"})},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,!this.pageIsStrech&&this.bgImageWidth&&this.bgImageHeight?this.initLinkCss():(this.left=t*this.config.x,this.top=i*this.config.y,this.width=t*this.config.width,this.height=i*this.config.height,this.width<2&&(this.width=2),this.height<2&&(this.height=2)),this.highLight&&this.highLight.onResize(this.width,this.height),this.setPosition(this.left,this.top),this.link.css({width:this.width+"px",height:this.height+"px"}),this.container.css({width:this.width+"px",height:this.height+"px"}),this.resizeHint()},setPosition:function(t,i){this.container.css({left:t+"px",top:i+"px"})}}).extend(PageItem.Item),bdor[29]="t",Class("Rectangle",{Package:"PageItem",create:function(t,i,e,o,s){this._super(t,i,e,o),this.animateConfig(),this.id="rectangle"+s,this.color=Color(this.config.color).toString(),this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.width=Number(this.config.width*this.pageWidth),this.height=Number(this.config.height*this.pageHeight),this.config.borderWidth=Number(this.config.borderWidth),this.colorA=Color(this.config.ColorA).toString(),this.colorB=Color(this.config.ColorB).toString(),this.borderColor=Color(this.config.borderColor).toString(),this.Re=$("<canvas width='"+this.width+"' height='"+this.height+"' id='"+this.id+"'></canvas>"),this.Re.css({position:"absolute",opacity:this.config.alpha,left:this.x+"px",top:this.y+"px"}),this.setRotation(this.Re,this.config.rotation),this.parent.append(this.Re),this.draw(),this.initEvents(),parseBool(this.config.reflection)&&this.imageReflection(this.Re)},parseConfig:function(t){return{width:t.location.width,height:t.location.height,x:t.location.x,y:t.location.y,rotation:t.location.rotation,alpha:t.alpha,color:t.color,fillStyle:t.fillStyle,ColorA:t.gradientColorA,ColorB:t.gradientColorB,angle:t.angle,spalpha:t.spalpha,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,borderWidth:t.borderWidth,borderColor:t.borderColor,borderAlpha:t.borderAlpha,sh:parseBool(t.shadow.hasDropShadow),sa:t.shadow.shadowAngle,sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,arrowType:t.arrowType,action:t.action,animation:t.animation}},draw:function(){var t=this.Re[0].getContext("2d"),i=(t.clearRect(0,0,this.Re[0].width,this.Re[0].height),t.beginPath(),t.strokeStyle=Color(this.config.borderColor).toString(),t.lineWidth=this.config.borderWidth,t.globalAlpha=this.config.spalpha,t.lineCap="round",t.lineJoin="round",this.width-2*this.config.borderWidth-4),e=this.height-2*this.config.borderWidth-4;t.moveTo(4+this.config.borderWidth,4+this.config.borderWidth),t.lineTo(i,4+this.config.borderWidth),t.lineTo(i,e),t.lineTo(4+this.config.borderWidth,e),t.lineTo(4+this.config.borderWidth,4+this.config.borderWidth),1==parseBool(this.config.sh)&&this.setShapeShadow(t),"gradient"==this.config.fillStyle?((i=t.createLinearGradient(this.config.borderWidth,this.config.borderWidth,this.config.borderWidth,this.height)).addColorStop(0,this.colorA),i.addColorStop(1,this.colorB),t.fillStyle=i,t.fill()):"Pure"==this.config.fillStyle&&(t.fillStyle=this.color,t.fill()),0!=this.config.borderWidth&&t.stroke(),t.closePath()},initEvents:function(){this.Re.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Rectangle",this.config.x,this.config.y,this.config.width,this.config.height]),bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"Rectangle",event_label:"Page"+BookInfo.getCurrentPages()[0]})}.bind(this)),this.addActionEvent(this.Re)},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.Re.css({width:this.width+"px",height:this.height+"px"}),this.setPosition()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.Re.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.Re.one(t,function(){this.Re.css({animation:""})}.bind(this)))},setPosition:function(){this.left=this.config.x*this.pageWidth,this.top=this.config.y*this.pageHeight,this.Re.css({left:this.left+"px",top:this.top+"px"})}}).extend(PageItem.Item),bdor[8]="o",Class("Round",{Package:"PageItem",create:function(t,i,e,o,s){this._super(t,i,e,o),this.animateConfig(),this.parent=t,this.color=Color(this.config.color).toString(),this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.id="round"+s,this.x1=this.x-10,this.y1=this.y-10,this.x-10<0&&(this.x1=0),this.y-10<0&&(this.y1=0),this.rounds=$("<canvas id="+this.id+" width="+(this.width+20)+" height="+(this.height+20)+" style='opacity:"+this.config.alpha+";position: absolute;top:"+this.y1+"px;left:"+this.x1+"px'></canvas>"),this.setRotation(this.rounds,this.config.rotation),this.initEvent(),this.parent.append(this.rounds),this.roundcan(this.x,this.y,this.width,this.height,this.color,this.config.fillStyle,this.config.ColorA,this.config.ColorB,this.config.alpha,this.config.borderWidth,this.config.spalpha,this.config.borderColor,this.config.borderAlpha,this.config.sx,this.config.sy,this.config.se,this.config.sr,this.config.sh,360-Number(this.config.angle)),this.imageReflection(this.rounds)},parseConfig:function(t){return{x:t.location.x,y:t.location.y,rotation:t.location.rotation,width:t.location.width,height:t.location.height,alpha:t.alpha,fillStyle:t.fillStyle,color:t.color,ColorA:t.gradientColorA,ColorB:t.gradientColorB,angle:t.angle,spalpha:t.spalpha,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,borderWidth:t.borderWidth,borderColor:t.borderColor,borderAlpha:t.borderAlpha,sh:parseBool(t.shadow.hasDropShadow),sa:t.shadow.shadowAngle,sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,action:t.action,animation:t.animation}},initEvent:function(){if(this.flag=0,this.linkURL="",null!=this.config.action){try{null!=this.config.action.length&&(this.config.action=this.config.action[0]),this.linkURL=this.config.action.url}catch(t){}null!=this.linkURL&&"www"==this.linkURL.substr(0,3).toLowerCase()&&(this.linkURL="http://"+this.linkURL),this.rounds.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Round",this.config.x,this.config.y,this.config.width,this.config.height]),bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"Round",event_label:"Page"+BookInfo.getCurrentPages()[0]})}.bind(this)),this.addActionEvent(this.rounds)}},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*t,this.height=this.config.height*i,this.rounds[0].width=this.width+20,this.rounds[0].height=this.height+20,this.setPosition(),this.roundcan(this.width,this.height,this.width,this.height,this.color,this.config.fillStyle,this.config.ColorA,this.config.ColorB,this.config.alpha,this.config.borderWidth,this.config.spalpha,this.config.borderColor,this.config.borderAlpha,this.config.sx,this.config.sy,this.config.se,this.config.sr,this.config.sh,360-Number(this.config.angle))},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.rounds.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.rounds.one(t,function(){this.rounds.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth-10,this.y=this.config.y*this.pageHeight-10,this.rounds.css({left:this.x+"px",top:this.y+"px"})},roundcan:function(t,i,e,o,s,n,a,h,r,g,l,d,c,p,u,f,m,C,A){try{var b=this.rounds[0].getContext("2d")}catch(t){return}t=[e/2+10,o/2+10],e/=2,o/=2,b.clearRect(0,0,this.width+20,this.height+20),b.save(),b.beginPath(),b.strokeStyle=Color(d).toString(),b.lineWidth=g,b.globalAlpha=l,!0===parseBool(C)&&this.setShapeShadow(b),b.closePath(),b.stroke(),DrawEllipse(b,t,e,o),"gradient"==n&&(l=A*Math.PI/180,A=(A+180)*Math.PI/180,(A=b.createLinearGradient(t[0]+e*Math.cos(l),t[1]+o*Math.sin(l),t[0]+e*Math.cos(A),t[1]+o*Math.sin(A))).addColorStop(0,Color(a).toString()),A.addColorStop(1,Color(h).toString()),b.fillStyle=A,b.fill()),"Pure"==n&&(b.fillStyle=s,b.fill()),0!=g&&b.stroke(),b.closePath()}}).extend(PageItem.Item),bdor[9]="j",Class("Text",{Package:"PageItem",create:function(t,i,e,o,s){this._super(t,i,e,o),this.animateConfig(),this.color=this.config.color?Color(this.config.color):Color("#000000"),this.originWidth=this.config.pageW,this.originHeight=this.config.pageH,this.id="text"+s,this.initText(),this.initEvents(),this.initLinkHint(this.text),parseBool(this.config.reflection)&&this.imageReflection(this.textdiv),this.onResize(this.pageWidth,this.pageHeight)},initText:function(){this.alignCss="","right"==this.config.languageLayout&&(this.alignCss={"text-align":"right",direction:"rtl"});var t=new TextFormatAnalyzer(this.config.textStr);this.fontSize=t.getMinFontSize(),this.adjustFontSize=$.browser.chrome?Math.max(1,12/this.fontSize):1,this.width=this.config.width*this.originWidth*this.adjustFontSize,this.height=this.config.height*this.originHeight*this.adjustFontSize,this.container=$("<div id="+this.id+" class='flip-action textContainer'></div>"),this.textdiv=$("<div></div>"),this.container.css({position:"absolute",width:this.width+"px",height:this.height+"px"}),this.textdiv.css({overflow:"hidden",position:"absolute",width:this.width+"px",height:this.height+"px"}),this.config.action||this.config.hint||this.config.hint.text||t.htmlHasATag()||this.container.css({"pointer-events":"none"}),this.text=t.getHTML(this.alignCss),!0===parseBool(this.config.fillBg)&&null!=this.config.bgcolor?(t=Color(this.config.bgcolor),this.textdiv.css({"background-color":t.rgba(this.config.bgalpha)})):this.textdiv.css({background:""}),this.config.alpha&&this.textdiv.css({opacity:this.config.alpha}),!0===parseBool(this.config.tbold)&&this.text.css({"font-weight":"bold"}),!0===parseBool(this.config.italic)&&this.text.css({"font-style":"italic"}),!0===parseBool(this.config.selectable)&&this.text.css({"-webkit-user-select":"text","-moz-user-select":"text","-ms-user-select":"text","user-select":"text"}),this.addShadow(this.text),this.textdiv.append(this.text),this.container.append(this.textdiv),this.parent.append(this.container),this.trimingFontSize(this.height)},trimingFontSize:function(t){function s(t,i){var e;t.css&&(e=t.css(i))&&(e=parseInt(e.replace("px","")),t.css(i,--e+"px"))}for(;this.text.height()>t&&$.system.name!=$.system.IOS&&!($.browser.chrome&&this.fontSize<=12)&&(function t(i){if((i=i.children())&&0!=i.length)for(var e=0;e<i.length;e++){var o=$(i[e]);o.is("span")&&(s(o,"font-size"),s(o,"line-height")),t(o)}}(this.text),this.fontSize--,!(this.fontSize<=0)););},parseConfig:function(t){return{x:t.location.x,y:t.location.y,width:t.location.width,height:t.location.height,rotation:t.location.rotation,alpha:t.alpha,pageWidth:t.pageWidth,pageHeight:t.pageHeight,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,selectable:t.selectable,highlightsBool:t.highlightsBool,highlightsURL:t.highlightsURL,highlightsLabel:t.highlightsLabel,hint:t.hint,textStr:t.textStr||t.formats.defaultFormat.htmlText,lineH:t.lineHeightRation,fontName:t.formats.defaultFormat.fontName,fontSize:t.formats.defaultFormat.fontSize,color:t.formats.defaultFormat.color,tbold:t.formats.defaultFormat.bold,italic:t.formats.defaultFormat.italic,pageH:t.formats.defaultFormat.pageH,pageW:t.formats.defaultFormat.pageW,bgalpha:t.background.alpha,fillBg:t.background.fillBg,bgcolor:t.background.color,hasShadow:parseBool(t.shadow.hasDropShadow),shadow:t.shadow,action:t.action,languageLayout:t.languageLayout,animation:t.animation}},initEvents:function(){this.addActionEvent(this.container),this.container.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Text",this.config.x,this.config.y,this.config.width,this.config.height])}.bind(this))},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.setPosition(t,i),this.resizeText(i)},resizeText:function(t){t=t/this.originHeight/this.adjustFontSize,this.textdiv.css({"-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","transform-origin":"0% 0%","-webkit-transform":"scale("+t+") rotate("+this.config.rotation+"deg)","-moz-transform":"scale("+t+") rotate("+this.config.rotation+"deg)","-ms-transform":"scale("+t+") rotate("+this.config.rotation+"deg)","-o-transform":"scale("+t+") rotate("+this.config.rotation+"deg)",transform:"scale("+t+") rotate("+this.config.rotation+"deg)"}),this.container.css({width:this.width*t+"px",height:this.height*t+"px"})},setPosition:function(t,i){this.left=this.config.x*t,this.top=this.config.y*i,this.container.css({left:this.left+"px",top:this.top+"px"})},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.container.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.container.one(t,function(){this.container.css({animation:""})}.bind(this)))}}).extend(PageItem.Item),Class("Button",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.animateConfig(),this.fScale=e/this.config.pageWidth,this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.button=null,this.left=this.pageWidth*this.config.x,this.top=this.pageHeight*this.config.y,this.config.hint&&(this.config.hint.hintShapeColor=Color(this.config.hint.hintShapeColor).toString(),this.config.hint.hintShapeColor2=(this.config.hint.hintShapeColor2?Color(this.config.hint.hintShapeColor2):Color(this.config.hint.hintShapeColor)).toString(),"null"==this.config.hint.text)&&(this.config.hint.text=""),this.config.Format&&(this.config.Format.color=Color(this.config.Format.color).toString()),this.initHtml(),this.initEvt(),this.initLinkHint(this.button),parseBool(this.config.reflection)&&this.imageReflection(this.button),bookConfig.googleAnalyticsID&&this.button.onTap(function(t){gtag("event","click",{event_category:"button",event_label:"Page"+BookInfo.getCurrentPages()[0]})}.bind(this))},initDrawButton:function(){this.drawConfig={width:this.width,height:this.height,id:this.id,fillStyle:this.config.fillStyle,isThreeDimensional:this.config.isThreeDimensional,threeDimensionalNormalColor:this.config.threeDimensionalNormalColor,threeDimensionalOverColor:this.config.threeDimensionalOverColor,overColorA:this.config.overColorA,overColorB:this.config.overColorB,normalColorA:this.config.normalColorA,normalColorB:this.config.normalColorB,downColor:this.config.downColor,overAlpha:this.config.overAlpha,downAlpha:this.config.downAlpha,normalAlpha:this.config.normalAlpha,buttonRoundW:this.config.buttonRoundW,buttonRoundH:this.config.buttonRoundH,downTextColor:this.config.downTextColor,sh:this.config.sh,sa:this.config.sa,sx:this.config.sx,sy:this.config.sy,se:this.config.se,sr:this.config.sr,fScale:this.pageWidth/this.config.pageWidth},this.config.Format&&(this.drawConfig.normalTextColor=this.config.Format.color),"shape"==this.config.buttonType&&(this.canvasButton=new FlattenButton(this.drawConfig,this.button)),"button_watermark"==this.buttonName&&(this.canvasButton=new WaterButton(this.drawConfig,this.button)),"button_glossy"==this.buttonName&&(this.canvasButton=new GlossyButton(this.drawConfig,this.button)),"button_push"==this.buttonName&&(this.canvasButton=new PushButton(this.drawConfig,this.button)),"button_lineLight"==this.buttonName&&(this.canvasButton=new LineLightButton(this.drawConfig,this.button)),"button_star"==this.buttonName&&(this.canvasButton=new StarButton(this.drawConfig,this.button)),"button_glitter"==this.buttonName&&(this.canvasButton=new GlitterButton(this.drawConfig,this.button)),"button_shadow"==this.buttonName&&(this.canvasButton=new ShadowButton(this.drawConfig,this.button)),"button_bottomLight"==this.buttonName&&(this.canvasButton=new BottomLightButton(this.drawConfig,this.button)),"button_other"==this.buttonName&&(this.canvasButton=new OtherButton(this.drawConfig,this.button))},stopAnimation:function(){this.canvasButton&&this.canvasButton.stopAnimation&&this.canvasButton.stopAnimation()},runAnimation:function(){this.canvasButton&&this.canvasButton.runAnimation&&this.canvasButton.runAnimation()},initHtml:function(){var t,i;"shape"==this.config.buttonType?(this.swfButton=!0,this.button=$("<div class='flip-action'></div>"),this.createCaption(),this.initDrawButton(),this.buttonEvt=$("<div></div>"),this.initCss(),this.button.append(this.buttonEvt)):null==this.config.src||""==this.config.src?(this.button=$("<button type = 'button' class='flip-action'></button>"),this.button.css({display:"none"}),this.config.alpha=0):(t=this.config.src.substring(this.config.src.lastIndexOf("/")+1,this.config.src.length-4),i=this.config.src.substring(this.config.src.lastIndexOf(".")+1,this.config.src.length),this.config.src=this.fixRelativePath(this.config.src),"swf"==i.toLowerCase()?(this.buttonName=t.slice(0,-2),this.id=parseInt(t.slice(-2)),this.buttonName&&!isNaN(+this.id)?(this.swfButton=!0,this.button=$("<div class='flip-action'></div>"),this.createCaption(),this.initDrawButton()):(this.button=$("<div class='flip-action'><embed style='width:100%;height:100%;' src='"+this.config.src+"' ;> </embed></div>"),this.createCaption())):(this.bgButton=!0,this.button=$("<div class='flip-action'></div>"),t=this.config.src,bookConfig.useTheAliCloudChart&&(t=this.getOssUrl(t,this.width,this.height,"fixed")),this.button.css({background:"url("+t+") center center no-repeat","background-size":"100% 100%"}),this.createCaption()),this.buttonEvt=$("<div></div>"),this.initCss(),this.button.append(this.buttonEvt)),this.setRotation(this.button,this.config.rotation),this.parent.append(this.button)},initCss:function(){parseBool(this.config.isThreeDimensional)&&this.button.css({height:1.2*this.height+"px"}),this.buttonEvt.css({display:"none",width:this.width+"px",height:this.height+"px"}),this.button.css({position:"absolute",cursor:"pointer",width:this.width+"px",height:this.height+"px",left:this.left+"px",top:this.top+"px",opacity:this.config.alpha})},createCaption:function(){this.buttonCaption&&this.buttonCaption.labelBox.remove(),this.buttonCaption=new label(this.config.buttonCaption,this.button);var t=transformCSS({origin:{x:0,y:0},tran:{x:10,y:0},scale:this.fScale});this.buttonCaption.labelBox.css(t),this.config.Format&&(this.buttonCaption.setFont(this.config.Format.size+"px",this.config.Format.color,this.config.Format.font),this.buttonCaption.onResize((this.width-20)/this.fScale,parseInt(this.config.Format.size)+6),"shape"!=this.config.buttonType&&this.buttonCaption.labelBox.css({"text-shadow":"0 4px 6px #000"}),parseBool(this.config.Format.bold)&&this.buttonCaption.labelBox.css({"font-weight":"bold"}),parseBool(this.config.Format.italic)&&this.buttonCaption.labelBox.css({"font-style":"italic"}),this.buttonCaption.labelBox.css({"text-overflow":"ellipsis","white-space":"nowrap","z-index":"10","text-align":"center","pointer-events":"none","line-height":parseInt(this.config.Format.size)+6+"px",overflow:"hidden",left:"0px",top:this.config.captionY+"%"})),this.buttonCaption.labelBox.addClass("button_text"),this.config.languageLayout&&this.buttonCaption.labelBox.css({direction:"rtl"})},parseConfig:function(t){return{width:t.location.width,height:t.location.height,pageWidth:t.location.pageWidth,pageHeight:t.location.pageHeight,rotation:t.location.rotation,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,x:t.location.x,y:t.location.y,alpha:t.alpha,src:t.url,action:t.action,hint:t.hint,buttonCaption:t.buttonCaption,captionY:t.captionY,HRate:t.HRate,Format:t.Format,buttonType:t.buttonType,fillStyle:t.fillStyle,isThreeDimensional:t.isThreeDimensional,threeDimensionalNormalColor:t.threeDimensionalNormalColor,threeDimensionalOverColor:t.threeDimensionalOverColor,overColorA:t.overColorA,overColorB:t.overColorB,normalColorA:t.normalColorA,normalColorB:t.normalColorB,downColor:t.downColor,overAlpha:t.overAlpha,downAlpha:t.downAlpha,normalAlpha:t.normalAlpha,buttonRoundW:t.buttonRoundW,buttonRoundH:t.buttonRoundH,sh:parseBool(t.shadow.hasDropShadow),sa:t.shadow.shadowAngle,sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,downTextColor:t.downTextColor,languageLayout:t.languageLayout,animation:t.animation}},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.fScale=this.pageWidth/this.config.pageWidth,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.left=this.config.x*this.pageWidth,this.top=this.config.y*this.pageHeight,this.button.css({width:this.width+"px",height:this.height+"px"}),parseBool(this.config.isThreeDimensional)&&this.button.css({height:1.2*this.height+"px"}),this.canvasButton&&this.canvasButton.onResize(this.width,this.height,this.fScale),(this.swfButton||this.bgButton)&&(isTouchDevice()?(this.createCaption(),this.buttonEvt.css({width:this.width+"px",height:this.height+"px"})):this.show()),this.setPosition(this.left,this.top)},show:function(){isTouchDevice()||!this.swfButton&&!this.bgButton||(this.buttonEvt||(this.buttonEvt=$("<div></div>")),this.buttonCaption&&this.buttonCaption.labelBox.remove(),this.buttonEvt.css({display:"none",width:this.width+"px",height:this.height+"px"}),this.createCaption(),this.button.append(this.buttonEvt))},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.button.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.button.one(t,function(){this.button.css({animation:""})}.bind(this)))},setPosition:function(t,i){this.button.css({left:t+"px",top:i+"px"})},initEvt:function(){this.addActionEvent(this.button),"shape"!=this.config.buttonType&&(this.button.bind(_event._down,function(){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Button",this.config.x,this.config.y,this.config.width,this.config.height]),this.buttonEvt.css({display:"block"}),animateOnce(this.button,transformCSS({tran:{x:0,y:3}}),100)}.bind(this)),this.button.bind(_event._end,function(){this.buttonEvt.css({display:"none"}),animateOnce(this.button,transformCSS({tran:{x:0,y:0}}),100)}.bind(this))),this.button.bind("mouseleave",function(){this.buttonEvt.css({display:"none"})}.bind(this))}}).extend(PageItem.Item),global.hddr.soo6=function(){return hddr.bbb5},Class("FlattenButton",{create:function(t,i){t&&i&&(this.config=t,this.parent=i,this.initConfig(),this.initHtml(),this.initCss(),this.initEvent())},initConfig:function(){this.config.normalAlpha||(this.config.normalAlpha=1),this.config.downAlpha||(this.config.normalAlpha=1),this.config.overAlpha||(this.config.normalAlpha=1),this.config.normalColorA=(this.config.normalColorA?Color(this.config.normalColorA):Color("#808080")).rgba(this.config.normalAlpha),this.config.normalColorB=(this.config.normalColorB?Color(this.config.normalColorB):Color("#808080")).rgba(this.config.normalAlpha),this.config.overColorA=(this.config.overColorA?Color(this.config.overColorA):Color("#808080")).rgba(this.config.overAlpha),this.config.overColorB=(this.config.overColorB?Color(this.config.overColorB):Color("#808080")).rgba(this.config.overAlpha),this.config.downColor=(this.config.downColor?Color(this.config.downColor):Color("#808080")).rgba(this.config.downAlpha),this.config.downTextColor=this.config.downTextColor?Color(this.config.downTextColor).toString():"#ffffff",this.config.normalTextColor=this.config.normalTextColor?Color(this.config.normalTextColor).toString():"#ffffff",parseBool(this.config.isThreeDimensional)&&(this.config.threeDimensionalNormalColor=this.config.threeDimensionalNormalColor?Color(this.config.threeDimensionalNormalColor).toString():"#808080",this.config.threeDimensionalOverColor=this.config.threeDimensionalOverColor?Color(this.config.threeDimensionalOverColor).toString():"#808080")},initHtml:function(){this.coverButton=$("<div class='flip-action'></div>"),this.parent.append(this.coverButton)},initCss:function(){this.coverButton.css({transition:"all .3s",position:"absolute","z-index":"2",width:this.config.width+"px",height:this.config.height+"px","border-radius":this.config.buttonRoundW*this.config.fScale+"px"}),this.normalCss()},overCss:function(){this.config.overColorA==this.config.overColorB?this.coverButton.css({background:this.config.overColorA}):this.setGradient(this.config.overColorA,this.config.overColorB),parseBool(this.config.isThreeDimensional)?this.set3DShadow(this.config.threeDimensionalOverColor,.15*this.config.height,.16*this.config.height):this.clearShadow(),this.config.normalTextColor!=this.config.downTextColor&&this.normalText()},downCss:function(){this.coverButton.css({background:this.config.downColor}),parseBool(this.config.isThreeDimensional)?this.set3DShadow(this.config.threeDimensionalNormalColor,.05*this.config.height,.06*this.config.height):this.setInsetShadow(),this.config.normalTextColor!=this.config.downTextColor&&this.downText()},normalCss:function(){this.config.normalColorA==this.config.normalColorB?this.coverButton.css({background:this.config.normalColorA}):this.setGradient(this.config.normalColorA,this.config.normalColorB),parseBool(this.config.isThreeDimensional)?this.set3DShadow(this.config.threeDimensionalNormalColor,.15*this.config.height,.16*this.config.height):this.clearShadow(),this.config.normalTextColor!=this.config.downTextColor&&this.normalText()},normalText:function(){this.parent.find(".button_text").css({color:this.config.normalTextColor})},downText:function(){this.parent.find(".button_text").css({color:this.config.downTextColor})},setGradient:function(t,i){this.coverButton.css({background:"linear-gradient(to bottom,"+t+","+i+")"})},set3DShadow:function(t,i,e){this.coverButton.css({"-moz-box-shadow":"0 "+i+"px 0 "+t+", 0 "+e+"px 3px rgba(0, 0, 0, 0.1)","-o-box-shadow":"0 "+i+"px 0 "+t+", 0 "+e+"px 3px rgba(0, 0, 0, 0.1)","-webkit-box-shadow":"0 "+i+"px 0 "+t+", 0 "+e+"px 3px rgba(0, 0, 0, 0.1)","-ms-box-shadow":"0 "+i+"px 0 "+t+", 0 "+e+"px 3px rgba(0, 0, 0, 0.1)","box-shadow":"0 "+i+"px 0 "+t+", 0 "+e+"px 3px rgba(0, 0, 0, 0.1)"})},clearShadow:function(){this.coverButton.css({"-moz-box-shadow":"none","-o-box-shadow":"none","-webkit-box-shadow":"none","-ms-box-shadow":"none","box-shadow":"none"})},setInsetShadow:function(){this.coverButton.css({"-moz-box-shadow":"inset 0 1px 4px rgba(0, 0, 0, 0.2)","-o-box-shadow":"inset 0 1px 4px rgba(0, 0, 0, 0.2)","-webkit-box-shadow":"inset 0 1px 4px rgba(0, 0, 0, 0.2)","-ms-box-shadow":"inset 0 1px 4px rgba(0, 0, 0, 0.2)","box-shadow":"inset 0 1px 4px rgba(0, 0, 0, 0.2)"})},onResize:function(t,i,e){this.parent.css({transition:""}),this.coverButton.css({transition:""}),this.config.width=t,this.config.height=i,this.coverButton.css({"border-radius":this.config.buttonRoundW*e+"px",width:t+"px",height:i+"px"}),this.normalCss(),function(){this.parent.css({transition:"all 0.3s"}),this.coverButton.css({transition:"all 0.3s"})}.delay(this,50)},initEvent:function(){this.parent.bind(_event._over,function(){this.mouseOn=!0,this.overCss()}.bind(this)),this.parent.bind(_event._out,function(){this.mouseOn=!1,this.normalCss()}.bind(this)),this.parent.bind(_event._down,function(){parseBool(this.config.isThreeDimensional)&&this.parent.css({transition:"all .3s",transform:"translate(0 ,"+.1*this.config.height+"px)"}),this.downCss()}.bind(this)),this.parent.bind(_event._up,function(){parseBool(this.config.isThreeDimensional)&&this.parent.css({transition:"all .3s",transform:"translate(0,0)"}),this.mouseOn?this.overCss():this.normalCss()}.bind(this))}}),Class("WaterButton",{create:function(t,i){t.width&&t.height&&t.id&&i&&(this.lineWidth=t.height/30,this.width=t.width-this.lineWidth,this.height=t.height-this.lineWidth,this.id=t.id,this.bdRadius=this.height/6,this.parent=i,this.enter=!1,this.initConfig(),this.getGradient(),this.initHtml(),this.initCss(),isPhone()||isPad()||this.initEvent())},initHtml:function(){this.canvas=$("<canvas width='"+(this.width+this.lineWidth)+"' height='"+(this.height+this.lineWidth)+"'></canvas>"),this.context=this.canvas[0].getContext("2d"),this.parent.append(this.canvas),this.drawButton()},initCss:function(){this.canvas.css({position:"absolute",left:"0",top:"0"})},onResize:function(t,i){this.lineWidth=i/30,this.width=t-i/30,this.height=i-i/30,this.bdRadius=this.height/6,this.canvas[0].width=t,this.canvas[0].height=i,this.drawButton()},draw:function(){this.context.clearRect(0,0,this.width,this.height),this.context.lineWidth=this.lineWidth,this.context.beginPath(),this.context.strokeStyle=this.borderColor1,this.context.moveTo(this.bdRadius+this.lineWidth,this.lineWidth),this.context.arcTo(this.width-this.lineWidth,this.lineWidth,this.width-this.lineWidth,this.height-this.lineWidth/2,this.bdRadius+this.lineWidth/2),this.context.arcTo(this.width-this.lineWidth,this.height-this.lineWidth/2,this.lineWidth,this.height-this.lineWidth/2,this.bdRadius+this.lineWidth/2),this.context.arcTo(this.lineWidth,this.height-this.lineWidth/2,this.lineWidth,this.lineWidth,this.bdRadius+this.lineWidth/2),this.context.arcTo(this.lineWidth,this.lineWidth,this.width-this.lineWidth/2,this.lineWidth,this.bdRadius+this.lineWidth/2),this.context.fillStyle=this.outerBg,this.context.fill(),this.context.stroke(),this.context.closePath(),this.context.beginPath(),this.context.moveTo(2*this.lineWidth+this.bdRadius,2*this.lineWidth);var t=this.context.createLinearGradient(0,this.lineWidth,0,this.height/2+this.lineWidth);t.addColorStop(0,"rgba(255,255,255,1)"),t.addColorStop(1,"rgba(255,255,255,0.15)"),this.context.fillStyle=t,this.context.arcTo(this.width-2*this.lineWidth,2*this.lineWidth,this.width-2*this.lineWidth,this.height/2+this.lineWidth,this.bdRadius),this.context.arcTo(this.width-2*this.lineWidth,this.height/2+this.lineWidth,2*this.lineWidth,this.height/2+this.lineWidth,this.bdRadius),this.context.arcTo(2*this.lineWidth,this.height/2+this.lineWidth,2*this.lineWidth,2*this.lineWidth,this.bdRadius),this.context.arcTo(2*this.lineWidth,2*this.lineWidth,this.width-2*this.lineWidth,2*this.lineWidth,this.bdRadius),this.context.fill()},initConfig:function(){this.waters=[{defaultBg:"#000000;#212321;rgb(187,187,187)",enterBg:"#030303;rgb(102,102,102);rgb(200,200,200)"},{defaultBg:"rgb(0,20,26);#006FC9;rgb(68,179,253)",enterBg:"rgb(0,56,93);rgb(25,162,253;rgb(244,244,244)"},{defaultBg:"rgb(233,234,233);rgb(110,115,111);rgb(153,156,153)",enterBg:"rgb(113,115,117);rgb(206,209,207);rgb(255,255,255)"},{defaultBg:"rgb(29,39,2);rgb(159,205,19);rgb(194,234,31)",enterBg:"rgb(35,43,2);rgb(175,214,15);rgb(245,250,220)"},{defaultBg:"rgb(123,0,80);rgb(208,15,150);rgb(245,27,173)",enterBg:"rgb(125,0,82);rgb(236,14,170);rgb(245,238,249)"},{defaultBg:"rgb(170,1,1);rgb(254,48,48);rgb(254,166,169)",enterBg:"rgb(249,12,12);rgb(253,170,170);rgb(254,249,249)"},{defaultBg:"rgb(90,2,101);rgb(186,46,203);rgb(165,125,170)",enterBg:"rgb(92,3,103);rgb(235,107,250);rgb(251,230,254)"},{defaultBg:"rgb(144,143,1);rgb(236,236,18);rgb(253,253,194)",enterBg:"rgb(144,143,1);rgb(251,251,45);rgb(254,254,242)"},{defaultBg:"rgb(250,93,9);rgb(255,136,24);rgb(217,79,11)",enterBg:"rgb(247,78,7);rgb(254,198,174);rgb(254,247,244)"}]},getGradient:function(){this.defaultBg=this.waters[this.id-1].defaultBg.split(";"),this.enterBg=this.waters[this.id-1].enterBg.split(";")},drawButton:function(){this.context.clearRect(0,0,this.width,this.height),this.context.beginPath(),this.context.lineWidth="5",this.borderColor1=this.context.createLinearGradient(this.lineWidth,this.lineWidth,this.height/2+this.lineWidth,this.height/2+this.lineWidth),this.borderColor1.addColorStop(0,"#ffffff"),this.borderColor1.addColorStop(1,"#000"),this.outerBg=this.context.createLinearGradient(0,this.lineWidth,0,this.height-this.lineWidth),this.outerBg.addColorStop(0,this.defaultBg[0]),this.outerBg.addColorStop(.96,this.defaultBg[1]),this.outerBg.addColorStop(1,this.defaultBg[2]),this.draw()},enterEvent:function(){this.getGradient(),this.change=function(t,i){var e,o,s,n=t/i;this.context.clearRect(0,0,this.width+this.lineWidth+10,this.height+this.lineWidth+10),s=this.enter?(o=this.lineWidth+5+this.width/2*(e=n),this.height/2+this.lineWidth+5+this.width/2*n):(e=1-n,o=this.width/2+this.lineWidth+5-this.width/2*n,this.width/2+this.height/2+this.lineWidth+5-this.width/2*n),this.outerBg=this.context.createLinearGradient(0,this.lineWidth,0,this.height-this.lineWidth),this.borderColor1=this.context.createLinearGradient(o,o,s,s),n=this.enter?.95-.15*n:.8+.15*n,t==i&&(this.enter?this.borderColor1.addColorStop(0,"#000"):this.borderColor1.addColorStop(e,"#ffffff"),this.borderColor1.addColorStop(1,"#000")),this.enter?(this.outerBg.addColorStop(0,this.enterBg[0]),this.outerBg.addColorStop(n,this.enterBg[1]),this.outerBg.addColorStop(1,this.enterBg[2])):(this.outerBg.addColorStop(0,this.defaultBg[0]),this.outerBg.addColorStop(n,this.defaultBg[1]),this.outerBg.addColorStop(1,this.defaultBg[2])),this.borderColor1.addColorStop(0,"#000"),this.borderColor1.addColorStop(e,"#ffffff"),this.borderColor1.addColorStop(1,"#000"),this.draw()},this.timer&&this.timer.stop(),this.timer=this.change.animation(this,400)},initEvent:function(){this.canvas.bind(_event._enter,function(){this.enter=!0,this.enterEvent()}.bind(this)),this.canvas.bind(_event._leave,function(){this.enter=!1,this.enterEvent()}.bind(this))}}),Class("GlossyButton",{create:function(t,i){t.width&&t.height&&t.id&&i&&(this.lineWidth=t.height/30,this.width=t.width-this.lineWidth,this.height=t.height-this.lineWidth,this.id=t.id,7<this.id&&(this.id-=3),this.bdRadius=this.height/15,this.parent=i,this.initConfig(),this.setPosition(),this.initHtml(),this.getGradient(),this.drawButton(),this.initCss())},initHtml:function(){this.container=$("<div></div>"),this.canvas=$("<canvas width='"+this.width+"' height='"+this.height+"'></canvas>"),this.secCanvas=$("<canvas width='"+this.width+"' height='"+(this.height/2-this.lineWidth/2)+"'></canvas>"),this.secCtx=this.secCanvas[0].getContext("2d"),this.context=this.canvas[0].getContext("2d"),this.parent.append(this.container),this.container.append(this.canvas),this.container.append(this.secCanvas)},onResize:function(t,i){this.width=t,this.height=i,this.bdRadius=i/15,this.lineWidth=i/30,this.canvas[0].width=t,this.canvas[0].height=i,this.secCanvas[0].width=t,this.secCanvas[0].height=i/2,this.getGradient(),this.drawButton()},initCss:function(){this.container.css({position:"absolute",width:this.width+"px",height:this.height+"px",left:"0",top:"0"}),this.secCanvas.css({position:"absolute",background:"transparent",left:"0",top:"0"})},drawButton:function(){var t={width:this.width,height:this.height,bdRadius:this.bdRadius,lineWidth:this.lineWidth,context:this.context,canvas:this.canvas,color:this.shadows[6<this.id-1?this.id-1-7:this.id-1]};this.drawFirstBg(),1==this.id||8==this.id?new GlossButton1(t,this.container):2==this.id||9==this.id?new GlossButton2(t,this.container):3==this.id||5==this.id||10==this.id||12==this.id?new GlossButton3(t,this.container):4==this.id||11==this.id?new GlossButton4(t,this.container):6==this.id||13==this.id?new GlossButton5(t,this.container):7!=this.id&&14!=this.id||new GlossButton6(t,this.container),t={ctx:this.secCtx,secCanvas:this.secCanvas,arr1:this.arr1,arr2:this.arr2,width:this.width,height:this.height,container:this.container,lineWidth:this.lineWidth},1<=this.id&&this.id<=7?this.bubbles=new AnimationBubble(t):this.stars=new AnimationStar(t),this.drawUnder()},drawFirstBg:function(){this.context.beginPath(),this.context.lineWidth=this.lineWidth/10,this.context.moveTo(this.bdRadius+this.lineWidth/2,this.lineWidth/2),this.context.arcTo(this.width-this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.height/2-this.lineWidth/2,this.bdRadius),this.context.arcTo(this.width-this.lineWidth/2,this.height/2-this.lineWidth/2,this.lineWidth/2,this.height/2-this.lineWidth/2,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.height/2-this.lineWidth/2,this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.fillStyle=this.bgColor,this.context.strokeStyle=this.borderColor1,this.context.fill(),this.context.stroke(),this.context.closePath()},drawUnder:function(){this.context.beginPath(),this.context.moveTo(this.bdRadius+this.lineWidth/2,this.height/2-this.lineWidth/4),this.context.arcTo(this.width-this.lineWidth/2,this.height/2-this.lineWidth/4,this.width-this.lineWidth/2,this.height-this.lineWidth/2,this.bdRadius),this.context.arcTo(this.width-this.lineWidth/2,this.height-this.lineWidth/2,this.lineWidth/2,this.height-this.lineWidth/2,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.height-this.lineWidth/2,this.lineWidth/2,this.height/2-this.lineWidth/4,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.height/2-this.lineWidth/4,this.width-this.lineWidth/2,this.height/2-this.lineWidth/4,this.bdRadius),this.context.fillStyle=this.underShadow,this.context.fill(),this.context.closePath()},initConfig:function(){this.shadows=[{defaultBg:"#030303;#A00303;#525252",enterBg:"#6CFCDE"},{defaultBg:"#040436;#008BC1;#525252",enterBg:"#FF0000"},{defaultBg:"#184618;#2EC64D;#525252",enterBg:"#FFFFFF"},{defaultBg:"#371200;#995F2E;#525252",enterBg:"#FFFFFF"},{defaultBg:"#15002B;#6A0AC9;#525252",enterBg:"#FFFFFF"},{defaultBg:"#420021;#9C4370;#525252",enterBg:"#FFFFFF"},{defaultBg:"#000000;#6F6F00;#525252",enterBg:"#FFFFFF"}]},getGradient:function(){this.defaultBg=this.shadows[6<this.id-1?this.id-1-7:this.id-1].defaultBg.split(";"),this.enterBg=this.shadows[6<this.id-1?this.id-1-7:this.id-1].enterBg,this.borderColor1=this.defaultBg[2],this.bgColor=this.defaultBg[0],this.coverBg=this.context.createLinearGradient(0,0,0,this.height/4*3),this.coverBg.addColorStop(0,"rgba(255,255,255,0.15)"),this.coverBg.addColorStop(1,"rgba(255,255,255,0.3)"),this.underShadow=this.context.createLinearGradient(0,this.height/2-this.lineWidth/1.8,0,this.height-this.lineWidth/2),this.underShadow.addColorStop(0,Color(this.defaultBg[0]).rgba(.25)),this.underShadow.addColorStop(.4,Color(this.defaultBg[0]).rgba(0))},stopAnimation:function(){this.bubbles&&this.bubbles.leaveTimer&&this.bubbles.leaveTimer.stop(),this.bubbles&&this.bubbles.enterTimer&&this.bubbles.enterTimer.stop(),this.stars&&this.stars.leaveTimer&&this.stars.leaveTimer.stop(),this.stars&&this.stars.enterTimer&&this.stars.enterTimer.stop()},runAnimation:function(){this.bubbles&&this.bubbles.leaveEvent(),this.stars&&this.stars.leaveEvent()},setPosition:function(){this.arr1=[];for(var t=0;t<15;t++){var i=Math.random()*(this.width+this.lineWidth),e=this.height/2*Math.random();this.arr1.push({x:i,y:e})}for(this.arr2=[],t=0;t<15;t++)i=Math.random()*(this.width+this.lineWidth),e=this.height/2*Math.random(),this.arr2.push({x:i,y:e})}}),Class("AnimationBubble",{create:function(t){this.secCanvas=t.secCanvas,this.container=t.container,this.secCtx=t.ctx,this.width=t.width,this.height=t.height,this.lineWidth=t.lineWidth,this.setPosition(),isPhone()||isPad()||this.initEvent()},drawBubble:function(t,i,e,o,s){this.secCtx.beginPath(),this.secCtx.ellipse&&(this.secCtx.ellipse(o,s,this.height/30,this.height/30,0,0,2*Math.PI,!1),(i=this.secCtx.createRadialGradient(o-this.height/40,s+this.height/30,0,o,s,this.height/20)).addColorStop(0,"rgba(255,255,255,"+1.6*t+")"),i.addColorStop(1,"rgba(255,255,255,"+.14*t+")"),this.secCtx.fillStyle=i,this.secCtx.fill(),this.secCtx.closePath(),this.secCtx.beginPath(),this.secCtx.ellipse(o+this.height/40,s-this.height/60,this.height/80,this.height/100,-.2*Math.PI,0,2*Math.PI,!1),this.secCtx.fillStyle="rgba(255,255,255,"+.8*t+")",this.secCtx.fill(),this.secCtx.closePath())},popBubbles:function(t,i,e,o){for(var s=0;s<10;s++)this.focus?(o[s].x+=this.width/6/e*i,o[s].y+=this.height/6/e):(o[s].x+=this.width/6/e*i,o[s].y-=this.height/6/e),(1==t||o[s].x<1.5*this.lineWidth||o[s].x>this.width-this.lineWidth||o[s].y<.5*this.lineWidth||o[s].y>this.height/2-this.lineWidth/2)&&(o[s].x=Math.random()*(this.width+this.lineWidth),o[s].y=this.height/2*Math.random()),this.drawBubble(t,i,e,o[s].x,o[s].y)},enterEvent:function(){this.enterTimer&&this.enterTimer.stop(),this.enterTimer=this.enterAnimation.animation(this,1200)},enterAnimation:function(t,i){this.secCtx.clearRect(-20,-20,1.5*this.width,1.5*this.height);var e=1,o=t/i;this.focus?t==i&&this.focus?(this.popBubbles(o,e,i,this.arr1),this.popBubbles(1-o-.5,e,i,this.arr2),this.enterTimer&&this.enterTimer.stop(),this.enterTimer=this.enterAnimation.animation(this,1200)):this.focus&&(t/i<=.5?e=1:(e=-1,o=1-o),this.popBubbles(o,e,i,this.arr1),this.popBubbles(1-o-.5,e,i,this.arr2)):this.enterTimer.stop()},leaveEvent:function(){this.leaveTimer&&this.leaveTimer.stop(),this.leaveTimer=this.leaveAnimation.animation(this,1200)},leaveAnimation:function(t,i){this.secCtx.clearRect(-20,-20,1.5*this.width,1.5*this.height);var e=t/i,o=1;this.focus?this.leaveTimer.stop():t!=i||this.focus?(t/i<.5?o=1:(o=-1,e=1-e),this.focus||(e<.5?(this.popBubbles(e,o,i,this.arr1),this.popBubbles(e,o,i,this.arr2)):(this.popBubbles(1-e,o,i,this.arr1),this.popBubbles(1-e,o,i,this.arr2)))):(this.popBubbles(0,o,i,this.arr1),this.popBubbles(0,o,i,this.arr2))},initEvent:function(){this.container.bind(_event._enter,function(){this.focus=!0,this.setPosition(),this.enterEvent()}.bind(this)),this.container.bind(_event._leave,function(){this.focus=!1,this.setPosition(),this.leaveEvent()}.bind(this))}}).extend("GlossyButton"),Class("AnimationStar",{create:function(t){this.secCanvas=t.secCanvas,this.container=t.container,this.secCtx=t.ctx,this.width=t.width,this.height=t.height,this.lineWidth=t.lineWidth,this.setPosition(),isPhone()||isPad()||this.initEvent()},drawStar:function(t,i,e,o,s){this.secCtx.beginPath();var n,a,h=parseInt(i.x),r=parseInt(i.y),g=this.secCtx,l=this.width,d=this.height,c=new Image;c.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAcNJREFUeNq8lrtKA0EYhTMx0RizGiUqWGihnRcQFaxEOzsrwVfwcXwIbS0sLAKK2NiJkEbEiBjB+yWJihvd8YycwDJkzTJuZuFjw2TnP3vO/Du7QkoZs3nEDeclTeeaCvZQ1JpgBiRsCjq2BbttR+q0QlDQSZDD9gbjKdBhKijpYtJ3nWggWB/LgVHw/Z9IH8ELWAZp0MU5aTrJ8camwDQ4B19/FQzTaVc8r4FDzlHRjYEKxTrBLvCaFQsj2AaewR5YASWKxRmrcrvDczWsoNBiFj7iXLNBcAvWwSx4AnmwBXrBDWOWdCp91HviV9BhsT6uSZYCGUaVYvOoYkNgjv+r7W2eN1Vms3yCD/LKcZXOA7lLMIY3cKE5FT7HWYqN8/cM128fbLPYNXjXHWlOZUKzHdTJLospVxtgFRTUHYMBcMwY3Sh2Go+PwwLdXIJTcAKOKLrIlCLZ2obBBNjkepxxGUpsogNQBEvNdpkwj0U/GyTPphCMX7mpcVMQjFddO8JeqJkICq5JQdvuYmwYVxu7Z2cKU4eSBRod5YAGiaRpggRrNt+HFduC1WZvhVZEaiQoDD+Ek3xMPFuC1r+8jY8fAQYACgJ37BkSsIMAAAAASUVORK5CYII=",g.save(),g.globalAlpha=t,this.focus&&(this.runPosition(t,i,e,o,s),e=c.src,n=function(){g.drawImage(c,i.x,i.y,l/20,d/10)}.bind(this),(a=new Image).src=e,a.complete?n.call(a):a.onload=function(){n.call(a)}),g.restore(),this.focus||this.rotation(t,t*Math.PI,c,h,r),g.restore()},runPosition:function(t,i,e,o,s){1==s?(i.x+=this.width/8/o*s,i.y+=this.height/12/o*s,i.x=i.x>this.width-this.lineWidth-this.width/30?Math.random()*(this.width-this.lineWidth-this.width/30):i.x,i.y=i.y>this.height/2-this.lineWidth/2+this.height/30?Math.random()*(this.height/2-this.lineWidth/2):i.y):(i.x+=this.width/8/o*s,i.y+=this.height/12/o*s,i.x=i.x<this.width/40+this.lineWidth/2?Math.random()*(this.width-this.lineWidth-this.width/30):i.x,i.y=i.y<this.lineWidth/2-this.height/20?Math.random()*(this.height/2-this.lineWidth/2):i.y)},rotation:function(t,i,e,o,s){this.secCtx.save(),this.secCtx.globalAlpha=t,this.secCtx.translate(o+this.width/40,s+this.height/20),this.secCtx.rotate(i),this.secCtx.translate(-o-this.width/40,-s-this.height/20),this.secCtx.drawImage(e,o,s,this.width/20,this.height/10),this.secCtx.restore()},popStars:function(t,i,e,o,s){for(var n=0;n<15;n++)this.drawStar(t,i[n],e,o,s)},enterEvent:function(){this.enterTimer&&this.enterTimer.stop(),this.enterTimer=this.enterAnimation.animation(this,1e3)},enterAnimation:function(t,i){if(this.secCtx.clearRect(-20,-20,1.5*this.width,1.5*this.height),this.focus)if(t==i&&this.focus)this.add=1==this.add?-1:1,this.enterTimer&&this.enterTimer.stop(),this.enterTimer=this.enterAnimation.animation(this,1e3);else{var e=t/i;if(e<.33&&(this.runCase=1),.33<=e&&e<=.66&&(this.runCase=2),.66<=e&&e<=1&&(this.runCase=3),this.focus)switch(this.runCase){case 1:this.popStars(3*e,this.arr1,t,i,this.add),this.popStars(3*e,this.arr2,t,i,-this.add);break;case 2:this.popStars(1,this.arr1,t,i,this.add),this.popStars(1,this.arr2,t,i,-this.add);break;case 3:this.popStars(3*(1-e),this.arr1,t,i,this.add),this.popStars(3*(1-e),this.arr2,t,i,-this.add)}}else this.enterTimer&&this.enterTimer.stop()},leaveEvent:function(){this.leaveTimer&&this.leaveTimer.stop(),this.leaveTimer=this.leaveAnimation.animation(this,800)},leaveAnimation:function(t,i){this.secCtx.clearRect(-20,-20,1.5*this.width,1.5*this.height),1==this.focus?this.leaveTimer.stop():t!=i||this.focus?(t/=i,this.focus||(this.add?(this.popStars(t,this.arr1),this.popStars(1-t,this.arr2)):(this.popStars(1-t,this.arr1),this.popStars(t,this.arr2)))):(this.add=!this.add,this.leaveTimer&&this.leaveTimer.stop())},initEvent:function(){this.container.bind(_event._enter,function(){this.add=this.focus=!0,this.setPosition(),this.enterEvent.delay(this,500)}.bind(this)),this.container.bind(_event._leave,function(){this.focus=!1,this.runCase=1,this.setPosition(),this.leaveEvent()}.bind(this))}}).extend("GlossyButton"),Class("GlossButton1",{create:function(t,i){this.setConfig(t),this.getGradient(),this.drawFirstBg(),this.drawCover(),this.drawTopBottomBg()},setConfig:function(t){this.width=t.width,this.height=t.height,this.bdRadius=t.bdRadius,this.lineWidth=t.lineWidth,this.context=t.context,this.canvas=t.canvas,this.color=t.color,this.parent=parent},getGradient:function(){this.defaultBg=this.color.defaultBg.split(";"),this.enterBg=this.color.enterBg,this.topBg=this.context.createRadialGradient(this.width/2,-this.lineWidth/2,0,this.width/2,-this.lineWidth/2,this.width/2),this.topBg.addColorStop(0,this.defaultBg[1]),this.topBg.addColorStop(1,Color(this.defaultBg[1]).rgba(0)),this.bottomBg=this.context.createRadialGradient(this.width/2,1.5*this.height+this.lineWidth/4,0,this.width/2,1.5*this.height+this.lineWidth/4,this.width/2),this.bottomBg.addColorStop(0,this.defaultBg[1]),this.bottomBg.addColorStop(1,Color(this.defaultBg[1]).rgba(0))},drawTopBottomBg:function(){this.context.save(),this.context.scale(1,1/3),this.context.beginPath(),this.context.fillStyle=this.topBg,this.context.fillRect(this.lineWidth/2,1.5*this.lineWidth,this.width,1.5*this.height),this.context.closePath(),this.context.beginPath(),this.context.fillStyle=this.bottomBg,this.context.fillRect(this.lineWidth/2,this.lineWidth,this.width,1.5*this.height-2.5*this.lineWidth),this.context.restore()},drawCover:function(){this.context.beginPath(),this.context.moveTo(this.lineWidth/2,this.lineWidth/2+this.height/10),this.context.lineTo(this.lineWidth/2,this.height/10),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.lineTo(this.width-this.lineWidth,this.lineWidth/2+this.lineWidth/20);var t=this.context.createLinearGradient(0,this.lineWidth/2,0,this.height/2);t.addColorStop(0,"rgba(255,255,255,0.05)"),t.addColorStop(1,"rgba(255,255,255,0.1)"),this.context.fillStyle=t,this.context.moveTo(this.lineWidth/2,this.lineWidth/2+this.height/10),this.context.quadraticCurveTo(this.lineWidth/2+.85*this.width,this.lineWidth/2+.55*this.height,this.width-this.lineWidth,this.lineWidth/2+this.lineWidth/20),this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.fillStyle=t,this.context.moveTo(this.lineWidth/2,this.lineWidth/2+this.height/3),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.lineTo(this.lineWidth/2+.9*this.width,this.lineWidth/2),this.context.fill()}}).extend("GlossyButton"),Class("GlossButton2",{create:function(t,i){this.setConfig(t),this.getGradient(),this.drawCenterBg(),this.drawCover()},setConfig:function(t){this.width=t.width,this.height=t.height,this.bdRadius=t.bdRadius,this.lineWidth=t.lineWidth,this.context=t.context,this.canvas=t.canvas,this.parent=parent,this.color=t.color},getGradient:function(){this.defaultBg=this.color.defaultBg.split(";"),this.enterBg=this.color.enterBg,this.borderColor1=this.defaultBg[2],this.bgColor=this.defaultBg[0],this.center=this.context.createRadialGradient(this.width/2,this.height+this.lineWidth/2,0,this.width/2,this.height+this.lineWidth/2,this.width/2),this.center.addColorStop(0,this.defaultBg[1]),this.center.addColorStop(1,Color(this.defaultBg[1]).rgba(0))},drawCenterBg:function(){this.context.save(),this.context.scale(1,.25),this.context.beginPath(),this.context.fillStyle=this.center,this.context.fillRect(this.lineWidth/2,2*this.lineWidth,this.width,2*this.height),this.context.closePath(),this.context.restore()},drawCover:function(){this.context.beginPath(),this.context.moveTo(this.lineWidth/2,this.lineWidth/2+this.height/10),this.context.lineTo(this.lineWidth/2,this.height/10),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.lineTo(this.width-this.lineWidth,this.lineWidth/2+this.lineWidth/20);var t=this.context.createLinearGradient(0,this.lineWidth/2,0,this.height/2);t.addColorStop(0,"rgba(255,255,255,0.05)"),t.addColorStop(1,"rgba(255,255,255,0.2)"),this.context.fillStyle=t,this.context.moveTo(this.lineWidth/2,this.height/4),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.arcTo(this.width-this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.height/4-this.lineWidth/4,this.bdRadius),this.context.lineTo(this.lineWidth/2+this.width,this.height/4),this.context.moveTo(this.lineWidth/2,this.height/4),this.context.fill(),this.context.closePath()}}).extend("GlossyButton"),Class("GlossButton3",{create:function(t,i){this.setConfig(t),this.getGradient(),this.drawCover(),this.drawBottomBg()},setConfig:function(t){this.width=t.width,this.height=t.height,this.bdRadius=t.bdRadius,this.lineWidth=t.lineWidth,this.context=t.context,this.canvas=t.canvas,this.parent=parent,this.color=t.color},getGradient:function(){this.defaultBg=this.color.defaultBg.split(";"),this.enterBg=this.color.enterBg,this.borderColor1=this.defaultBg[2],this.bgColor=this.defaultBg[0],this.center=this.context.createRadialGradient(this.width/2,1.8*this.height+this.lineWidth/2,0,this.width/2,1.8*this.height+this.lineWidth/2,this.width/2),this.center.addColorStop(0,this.defaultBg[1]),this.center.addColorStop(1,Color(this.defaultBg[1]).rgba(0))},drawBottomBg:function(){this.context.save(),this.context.scale(1,.25),this.context.beginPath(),this.context.fillStyle=this.center,this.context.fillRect(this.lineWidth/2,2*this.lineWidth,this.width,2*this.height-4*this.lineWidth),this.context.closePath(),this.context.restore()},drawCover:function(){this.context.beginPath();var t=this.context.createLinearGradient(0,this.lineWidth/2,0,this.height/2);t.addColorStop(0,"rgba(255,255,255,0.2)"),t.addColorStop(1,"rgba(255,255,255,0.05)"),this.context.fillStyle=t,this.context.moveTo(this.lineWidth/2,this.height/8*3),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.arcTo(this.width-this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.height/4-this.lineWidth/4,this.bdRadius),this.context.lineTo(this.lineWidth/2+this.width,this.height/8*3),this.context.fill(),this.context.closePath(),this.context.save(),this.context.scale(1,.25),this.context.beginPath(),this.context.moveTo(this.lineWidth/2,this.height/8*12),this.context.fillStyle=this.defaultBg[0],this.context.quadraticCurveTo(this.width/2,this.height/6*4,this.width-this.lineWidth/2,this.height/8*12),this.context.fill(),this.context.closePath(),this.context.restore()}}).extend("GlossyButton"),Class("GlossButton4",{create:function(t,i){this.setConfig(t),this.getGradient(),this.drawCenterBg(),this.drawCover(),this.drawBorder()},setConfig:function(t){this.width=t.width,this.height=t.height,this.bdRadius=t.bdRadius,this.lineWidth=t.lineWidth,this.context=t.context,this.canvas=t.canvas,this.parent=parent,this.color=t.color},getGradient:function(){this.defaultBg=this.color.defaultBg.split(";"),this.enterBg=this.color.enterBg,this.borderColor1=this.defaultBg[2],this.bgColor=this.defaultBg[0],this.leftBg=this.context.createRadialGradient(this.width/9,this.height/2+this.lineWidth/2,0,this.width/9,this.height/2+this.lineWidth/2,.45*this.width),this.leftBg.addColorStop(0,this.defaultBg[1]),this.leftBg.addColorStop(1,Color(this.defaultBg[1]).rgba(0)),this.rightBg=this.context.createRadialGradient(.9*this.width,this.height/2*3+this.lineWidth/2,0,.9*this.width,this.height/2*3+this.lineWidth/2,.45*this.width),this.rightBg.addColorStop(0,this.defaultBg[1]),this.rightBg.addColorStop(1,Color(this.defaultBg[1]).rgba(0))},drawCenterBg:function(){this.context.save(),this.context.scale(1,.25),this.context.beginPath(),this.context.fillStyle=this.leftBg,this.context.moveTo(this.bdRadius+this.lineWidth/1.8,2*this.lineWidth-this.lineWidth/10),this.context.arcTo(this.width-this.lineWidth/2,2*this.lineWidth,this.width-this.lineWidth/2,2*this.height-2*this.lineWidth,2*this.bdRadius),this.context.arcTo(this.width-this.lineWidth/2,2*this.height-2*this.lineWidth,this.lineWidth/1.8,2*this.height-2*this.lineWidth,2*this.bdRadius),this.context.arcTo(this.lineWidth/1.8,2*this.height-2*this.lineWidth,this.lineWidth/1.8,2*this.lineWidth,2*this.bdRadius),this.context.arcTo(this.lineWidth/1.8,1.8*this.lineWidth,this.width-this.lineWidth/2,2*this.lineWidth,2*this.bdRadius),this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.moveTo(this.bdRadius+this.lineWidth/2,2*this.lineWidth-this.lineWidth/10),this.context.arcTo(this.width-this.lineWidth/1.8,2*this.lineWidth,this.width-this.lineWidth/2,2*this.height-2*this.lineWidth,2*this.bdRadius),this.context.arcTo(this.width-this.lineWidth/1.8,2*this.height-1.8*this.lineWidth,this.lineWidth/2,2*this.height-2*this.lineWidth,2*this.bdRadius),this.context.arcTo(this.lineWidth/2,2*this.height-2*this.lineWidth,this.lineWidth/2+this.lineWidth/10,2*this.lineWidth,2*this.bdRadius),this.context.arcTo(this.lineWidth/2,2*this.lineWidth,this.width-this.lineWidth/2,2*this.lineWidth,2*this.bdRadius),this.context.fillStyle=this.rightBg,this.context.fill(),this.context.closePath(),this.context.restore()},drawCover:function(){this.context.beginPath(),this.context.moveTo(this.lineWidth/2,this.lineWidth/2+this.bdRadius),this.context.lineTo(this.lineWidth/2,this.height/8*3.5),this.context.quadraticCurveTo(this.width/5,this.height/10,.9*this.width,this.lineWidth/2),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.lineWidth/2,this.height/8*3.5,this.bdRadius);var t=this.context.createLinearGradient(0,this.lineWidth/2,0,this.height/2);t.addColorStop(0,"rgba(255,255,255,0.05)"),t.addColorStop(1,"rgba(255,255,255,0.1)"),this.context.fillStyle=t,this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.moveTo(this.lineWidth/2,this.lineWidth/2+this.bdRadius),this.context.lineTo(this.lineWidth/2,this.height/8*3.5),this.context.quadraticCurveTo(this.width/2,.4*this.height,.9*this.width,this.lineWidth/2),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.lineWidth/2,this.height/8*3.5,this.bdRadius),this.context.fillStyle=t,this.context.fill(),this.context.closePath()},drawBorder:function(){this.context.beginPath(),this.context.lineWidth=this.lineWidth/10,this.context.moveTo(this.bdRadius+this.lineWidth/2,this.lineWidth/2),this.context.arcTo(this.width-this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.height/2-this.lineWidth/2,this.bdRadius),this.context.arcTo(this.width-this.lineWidth/2,this.height/2-this.lineWidth/2,this.lineWidth/2,this.height/2-this.lineWidth/2,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.height/2-this.lineWidth/2,this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.strokeStyle=this.borderColor1,this.context.stroke()}}).extend("GlossyButton"),Class("GlossButton5",{create:function(t,i){this._super(t,i)},getGradient:function(){this.defaultBg=this.color.defaultBg.split(";"),this.enterBg=this.color.enterBg,this.borderColor1=this.defaultBg[2],this.bgColor=this.defaultBg[0],this.leftBg=this.context.createRadialGradient(this.width/15,this.height+this.lineWidth/2,0,this.width/15,this.height+this.lineWidth/2,.45*this.width),this.leftBg.addColorStop(0,this.defaultBg[1]),this.leftBg.addColorStop(1,Color(this.defaultBg[1]).rgba(0)),this.rightBg=this.context.createRadialGradient(.9*this.width,this.height+this.lineWidth/2,0,.9*this.width,this.height+this.lineWidth/2,.45*this.width),this.rightBg.addColorStop(0,this.defaultBg[1]),this.rightBg.addColorStop(1,Color(this.defaultBg[1]).rgba(0)),this.center=this.context.createRadialGradient(this.width/2,this.height+this.lineWidth/2,0,this.width/2,this.height+this.lineWidth/2,this.width/2),this.center.addColorStop(0,this.defaultBg[1]),this.center.addColorStop(1,Color(this.defaultBg[1]).rgba(0))}}).extend("GlossButton4"),Class("GlossButton6",{create:function(t,i){this._super(t,i)},getGradient:function(){this.defaultBg=this.color.defaultBg.split(";"),this.enterBg=this.color.enterBg,this.borderColor1=this.defaultBg[2],this.bgColor=this.defaultBg[0],this.leftBg=this.context.createRadialGradient(this.width/2+this.lineWidth,this.lineWidth,0,this.width/2+this.lineWidth,this.lineWidth,this.width/2),this.leftBg.addColorStop(0,this.defaultBg[1]),this.leftBg.addColorStop(1,Color(this.defaultBg[1]).rgba(0)),this.rightBg=this.context.createRadialGradient(this.width/2+this.lineWidth/4,2*this.height-2*this.lineWidth,0,this.width/2+this.lineWidth/4,2*this.height-2*this.lineWidth,this.width/2),this.rightBg.addColorStop(0,this.defaultBg[1]),this.rightBg.addColorStop(1,Color(this.defaultBg[1]).rgba(0))}}).extend("GlossButton4"),Class("PushButton",{create:function(t,i){t.width&&t.height&&t.id&&i&&(this.width=t.width/.6,this.height=t.height,this.bdRadius=this.height/6,this.id=t.id,this.lineWidth=this.height/30,this.parent=i,this.enter=!1,this.initConfig(),this.initHtml(),this.getGradient(),this.drawButton(),this.initCss(),isPhone()||isPad()||this.initEvent())},initHtml:function(){this.canvas=$("<canvas width='"+.6*this.width+"' height='"+this.height+"'></canvas>"),this.context=this.canvas[0].getContext("2d"),this.context.scale(.6,1),this.parent.append(this.canvas)},initCss:function(){this.canvas.css({position:"absolute",left:"0",top:"0"})},onResize:function(t,i){this.lineWidth=i/30,this.width=t/.6,this.height=i,this.bdRadius=this.height/6,this.canvas[0].width=.6*this.width,this.canvas[0].height=this.height,this.context.scale(.6,1),this.getGradient(),this.drawButton()},draw:function(){this.context.clearRect(0,0,this.width+10,this.height+10),this.context.lineWidth=this.lineWidth,this.context.beginPath(),this.context.moveTo(this.bdRadius+2*this.lineWidth,this.lineWidth),this.context.arcTo(this.width-2*this.lineWidth,this.lineWidth,this.width-this.lineWidth,this.height-this.lineWidth/2,this.bdRadius+this.lineWidth/2),this.context.arcTo(this.width-2*this.lineWidth,this.height-this.lineWidth/2,this.lineWidth,this.height-this.lineWidth/2,this.bdRadius+this.lineWidth/2),this.context.arcTo(2*this.lineWidth,this.height-this.lineWidth/2,this.lineWidth,this.lineWidth,this.bdRadius+this.lineWidth/2),this.context.arcTo(2*this.lineWidth,this.lineWidth,this.width-this.lineWidth/2,this.lineWidth,this.bdRadius+this.lineWidth/2),this.context.fillStyle=this.outerBg,this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.moveTo(4*this.lineWidth,2*this.lineWidth);var t=this.context.createLinearGradient(0,this.lineWidth,0,this.height/2+this.lineWidth);t.addColorStop(0,"rgba(255,255,255,0.90)"),t.addColorStop(1,"rgba(255,255,255,0.2)"),this.context.fillStyle=t,this.context.arcTo(this.width-4*this.lineWidth,2*this.lineWidth,this.width-4*this.lineWidth,this.height/2+this.lineWidth,this.bdRadius),this.context.arcTo(this.width-4*this.lineWidth,this.height/2+this.lineWidth,4*this.lineWidth,this.height/2+this.lineWidth,this.bdRadius),this.context.arcTo(4*this.lineWidth,this.height/2+this.lineWidth,4*this.lineWidth,this.lineWidth,this.bdRadius),this.context.arcTo(4*this.lineWidth,2*this.lineWidth,this.width-4*this.lineWidth,this.lineWidth,this.bdRadius),this.context.fill(),this.context.closePath()},initConfig:function(){this.pushs=[{defaultBg:"rgb(78,78,78);rgb(11,11,11);rgb(182,182,182)",enterBg:"rgb(11,11,11);rgb(101,101,101);rgb(255,255,255)"},{defaultBg:"rgb(1,46,90);rgb(1,83,165);rgb(81,180,249)",enterBg:"rgb(1,46,90);rgb(42,147,253);rgb(255,255,255)"},{defaultBg:"rgb(149,13,13);rgb(200,0,0);rgb(234,111,111)",enterBg:"rgb(120,0,0);rgb(199,33,33);rgb(255,255,255)"},{defaultBg:"rgb(99,144,0);rgb(128,199,16);rgb(198,230,150)",enterBg:"rgb(97,140,0);rgb(136,204,35);rgb(255,255,255)"},{defaultBg:"rgb(125,63,1);rgb(174,90,9);rgb(249,180,92)",enterBg:"rgb(166,78,1);rgb(229,128,26);rgb(255,255,255)"},{defaultBg:"rgb(122,122,1);rgb(170,170,6);rgb(251,251,72)",enterBg:"rgb(152,151,1);rgb(249,249,1);rgb(254,249,249)"}]},getGradient:function(){this.defaultBg=this.pushs[this.id-1].defaultBg.split(";"),this.enterBg=this.pushs[this.id-1].enterBg.split(";"),this.outerBg=this.context.createRadialGradient(this.width/2,this.height/2,0,this.width/2,this.height/2,this.width/3*2)},drawButton:function(){this.context.clearRect(0,0,this.width,this.height),this.context.beginPath(),this.outerBg.addColorStop(0,this.defaultBg[0]),this.outerBg.addColorStop(.25,this.defaultBg[1]),this.outerBg.addColorStop(.8,this.defaultBg[2]),this.outerBg.addColorStop(1,this.defaultBg[2]),this.draw()},enterEvent:function(){this.getGradient(),function(t,i){this.getGradient(),this.enter?(t=.2+.43*t/i,this.outerBg.addColorStop(0,this.enterBg[0]),this.outerBg.addColorStop(t,this.enterBg[1]),this.outerBg.addColorStop(.75,this.enterBg[2]),this.outerBg.addColorStop(1,this.enterBg[2])):(t=.6-.4*t/i,this.outerBg.addColorStop(0,this.defaultBg[0]),this.outerBg.addColorStop(t,this.defaultBg[1]),this.outerBg.addColorStop(.8,this.defaultBg[2]),this.outerBg.addColorStop(1,this.defaultBg[2])),this.draw()}.animation(this,300)},initEvent:function(){this.canvas.bind(_event._enter,function(){this.enter=!0,this.enterEvent()}.bind(this)),this.canvas.bind(_event._leave,function(){this.enter=!1,this.enterEvent()}.bind(this))}}),Class("LineLightButton",{create:function(t,i){i&&(this.lineWidth=t.height/30,this.width=t.width-this.lineWidth,this.height=t.height-this.lineWidth,this.bdRadius=this.height/6,this.id=t.id,this.parent=i,this.enter=!1,this.initConfig(),this.initHtml(),this.initCss(),this.getGradient(),this.drawButton(),isPhone()||isPad()||this.initEvent())},initHtml:function(){this.canvas=$("<canvas width='"+this.width+"' height='"+this.height+"'></canvas>"),this.context=this.canvas[0].getContext("2d"),this.parent.append(this.canvas)},onResize:function(t,i){this.lineWidth=i/30,this.width=t,this.height=i,this.bdRadius=this.height/6,this.canvas[0].width=this.width,this.canvas[0].height=this.height,this.getGradient(),this.drawButton()},initCss:function(){this.canvas.css({position:"absolute",left:"0",top:"0"})},draw:function(){this.context.clearRect(0,0,this.width+10,this.height+10),this.context.beginPath(),this.context.strokeStyle=this.borderColor1,this.context.moveTo(this.bdRadius+this.lineWidth,this.lineWidth),this.context.arcTo(this.width-this.lineWidth,this.lineWidth,this.width-this.lineWidth,this.height-this.lineWidth/2,this.bdRadius+this.lineWidth/2),this.context.arcTo(this.width-this.lineWidth,this.height-this.lineWidth/2,this.lineWidth,this.height-this.lineWidth/2,this.bdRadius+this.lineWidth/2),this.context.arcTo(this.lineWidth,this.height-this.lineWidth/2,this.lineWidth,this.lineWidth,this.bdRadius+this.lineWidth/2),this.context.arcTo(this.lineWidth,this.lineWidth,this.width-this.lineWidth/2,this.lineWidth,this.bdRadius+this.lineWidth/2),this.context.fillStyle=this.outerBg,this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.moveTo(2*this.lineWidth,2*this.lineWidth);var t=this.context.createLinearGradient(0,this.lineWidth,0,this.height/2+this.lineWidth);t.addColorStop(0,"rgba(255,255,255,0.90)"),t.addColorStop(1,"rgba(255,255,255,0.2)"),this.context.fillStyle=t,this.context.arcTo(this.width-2*this.lineWidth,2*this.lineWidth,this.width-2*this.lineWidth,this.height/2+this.lineWidth,this.bdRadius),this.context.arcTo(this.width-2*this.lineWidth,this.height/2+this.lineWidth,2*this.lineWidth,this.height/2+this.lineWidth,this.bdRadius),this.context.arcTo(2*this.lineWidth,this.height/2+this.lineWidth,2*this.lineWidth,2*this.lineWidth,this.bdRadius),this.context.arcTo(2*this.lineWidth,2*this.lineWidth,this.width-2*this.lineWidth,2*this.lineWidth,this.bdRadius),this.context.fill(),this.context.closePath()},initConfig:function(){this.pushs=[{defaultBg:"rgb(81,76,25);rgb(244,227,73);rgb(81,76,25)",enterBg:"rgb(81,76,25);rgb(244,227,73);rgb(185,167,21)"},{defaultBg:"rgb(26,11,1);rgb(245,107,16);rgb(26,11,1)",enterBg:"rgb(26,11,1);rgb(245,107,16);rgb(181,77,9)"},{defaultBg:"rgb(7,70,12);rgb(67,229,82);rgb(7,70,12)",enterBg:"rgb(7,70,12);rgb(35,250,35);rgb(8,98,11)"},{defaultBg:"rgb(112,8,8);rgb(253,76,76);rgb(31,9,9)",enterBg:"rgb(112,8,8);rgb(253,76,76);rgb(187,18,18)"},{defaultBg:"rgb(12,61,123);rgb(59,155,252);rgb(11,22,32)",enterBg:"rgb(12,61,123);rgb(59,155,252);rgb(14,86,184)"}]},getGradient:function(){this.defaultBg=this.pushs[this.id-1].defaultBg.split(";"),this.enterBg=this.pushs[this.id-1].enterBg.split(";"),this.outerBg=this.context.createLinearGradient(0,this.lineWidth,0,this.height+this.lineWidth)},drawButton:function(){this.context.clearRect(0,0,this.width+this.lineWidth,this.height+this.lineWidth),this.context.beginPath(),this.outerBg.addColorStop(0,this.defaultBg[0]),this.outerBg.addColorStop(.5,this.defaultBg[1]),this.outerBg.addColorStop(1,this.defaultBg[2]),this.draw(),this.drawHint()},drawHint:function(){this.context.beginPath(),this.context.strokeStyle="#333",this.context.fillStyle="rgba(255,255,255,0.4)",this.context.moveTo(.9*this.bdRadius,this.height-.88*this.bdRadius-this.lineWidth),this.context.bezierCurveTo(.5*this.bdRadius,this.height+.2*this.bdRadius-this.lineWidth,2*this.lineWidth,this.height-.2*this.bdRadius-this.lineWidth,this.width-this.bdRadius,this.height-.1*this.bdRadius-this.lineWidth),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.strokeStyle="transparent",this.context.fillStyle=this.outerBg,this.context.moveTo(.9*this.bdRadius,this.height-this.bdRadius-this.lineWidth),this.context.bezierCurveTo(.5*this.bdRadius,this.height-.5*this.bdRadius-this.lineWidth,this.width/3,this.height-.05*this.bdRadius-this.lineWidth,this.width/3*2,this.height-.3*this.bdRadius-this.lineWidth),this.context.lineTo(this.width-this.bdRadius,this.height-.2*this.bdRadius-this.lineWidth),this.context.closePath(),this.context.fill()},enterEvent:function(){this.getGradient(),this.change=function(t,i){this.getGradient(),this.enter?(t=.5+.35*t/i,this.outerBg.addColorStop(0,this.enterBg[0]),this.outerBg.addColorStop(t,this.enterBg[1]),this.outerBg.addColorStop(1,this.enterBg[2])):(t=.85-.35*t/i,this.outerBg.addColorStop(0,this.defaultBg[0]),this.outerBg.addColorStop(t,this.defaultBg[1]),this.outerBg.addColorStop(1,this.defaultBg[2])),this.draw(),this.drawHint()},this.timer&&this.timer.stop(),this.timer=this.change.animation(this,400)},initEvent:function(){this.canvas.bind(_event._enter,function(){this.enter=!0,this.enterEvent()}.bind(this)),this.canvas.bind(_event._leave,function(){this.enter=!1,this.enterEvent()}.bind(this))}}),Class("StarButton",{create:function(t,i){i&&(this.lineWidth=t.height/30,this.width=t.width-this.lineWidth,this.height=t.height-this.lineWidth,this.bdRadius=parseInt(this.height/12),this.id=t.id,this.parent=i,this.enter=!1,this.initConfig(),this.getGradient(),this.initHtml(),this.initCss(),isPhone()||isPad()||this.initEvent())},initHtml:function(){this.canvas=$("<canvas width='"+(this.width+50)+"' height='"+(this.height+50)+"'></canvas>"),this.context=this.canvas[0].getContext("2d"),this.context.translate(20,20),this.parent.append(this.canvas),this.drawButton()},initCss:function(){this.canvas.css({position:"absolute",left:"-20px",top:"-20px"})},onResize:function(t,i){this.lineWidth=i/30,this.width=t-this.lineWidth,this.height=i-this.lineWidth,this.bdRadius=parseInt(this.height/12),this.canvas[0].width=this.width+50,this.canvas[0].height=this.height+50,this.context.translate(20,20),this.getGradient(),this.drawButton()},draw:function(){this.context.clearRect(-50,-50,this.width+100,this.height+100),this.context.shadowColor=1==this.id||5==this.id?this.enterBg[1]:this.enterBg[0],this.context.shadowBlur=this.height/10,this.context.lineWidth=this.lineWidth,this.context.fillStyle=this.outerBg,this.context.beginPath(),this.context.fillStyle=this.outerBg,this.context.moveTo(this.lineWidth/2,this.lineWidth/2),this.context.arcTo(this.width-this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.height-this.lineWidth/2,this.bdRadius),this.context.arcTo(this.width-this.lineWidth/2,this.height-this.lineWidth/2,this.lineWidth/2,this.height-this.lineWidth/2,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.height-this.lineWidth/2,this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.strokeStyle=this.borderColor1,this.context.beginPath(),this.context.moveTo(this.bdRadius+1.5*this.lineWidth,1.5*this.lineWidth),this.context.arcTo(this.width-2*this.lineWidth,1.5*this.lineWidth,this.width-2*this.lineWidth,this.height-2*this.lineWidth,this.bdRadius),this.context.stroke(),this.context.closePath(),this.context.beginPath(),this.context.moveTo(this.width-2*this.lineWidth,this.bdRadius+this.lineWidth),this.context.strokeStyle=this.borderColor2,this.context.arcTo(this.width-2*this.lineWidth,this.height-2*this.lineWidth,1.5*this.lineWidth,this.height-2*this.lineWidth,this.bdRadius),this.context.stroke(),this.context.closePath(),this.context.strokeStyle=this.borderColor3,this.context.beginPath(),this.context.moveTo(this.width-2*this.lineWidth-this.bdRadius,this.height-2*this.lineWidth),this.context.arcTo(1.5*this.lineWidth,this.height-2*this.lineWidth,1.5*this.lineWidth,1.5*this.lineWidth,this.bdRadius),this.context.stroke(),this.context.closePath(),this.context.beginPath(),this.context.moveTo(1.5*this.lineWidth,this.height-2*this.lineWidth),this.context.strokeStyle=this.borderColor4,this.context.arcTo(1.5*this.lineWidth,1.5*this.lineWidth,this.width-2*this.lineWidth,1.5*this.lineWidth,this.bdRadius),this.context.stroke(),this.context.closePath()},initConfig:function(){this.stars=[{defaultBg:"rgba(0,0,204,1);rgb(14,6,89);rgb(0,0,0)",enterBg:"#fff;#00f"},{defaultBg:"rgb(0,0,30);rgb(0,0,15);rgb(0,0,0)",enterBg:"#C48939;#F5A505"},{defaultBg:"rgb(26,0,154);rgb(16,0,61);rgb(0,0,0)",enterBg:"#F00898;#1A0060"},{defaultBg:"rgb(0,16,0);rgb(0,8,0);rgb(0,0,0)",enterBg:"#0AFA00;#000B00"},{defaultBg:"rgb(173,15,203);rgb(129,7,107);rgb(112,0,0)",enterBg:"#F8F1F6;#8A0BA0"}]},getGradient:function(){this.defaultBg=this.stars[this.id-1].defaultBg.split(";"),this.enterBg=this.stars[this.id-1].enterBg.split(";")},drawButton:function(){this.enterBg1=Color(this.enterBg[0]),this.enterBg2=Color(this.enterBg[1]),this.context.clearRect(-50,-50,this.width+50,this.height+50),this.context.beginPath(),this.setColor(),this.draw()},setColor:function(){this.borderColor1=this.context.createLinearGradient(0,0,this.width/2,0),this.borderColor1.addColorStop(0,this.enterBg1.rgba(.5)),this.borderColor1.addColorStop(.25,this.enterBg1.rgba(1)),this.borderColor1.addColorStop(1,this.enterBg1.rgba(0)),this.borderColor2=this.context.createLinearGradient(0,this.height/2-this.lineWidth,0,this.height),this.borderColor2.addColorStop(0,this.enterBg1.rgba(0)),this.borderColor2.addColorStop(1,this.enterBg1.rgba(.5)),this.borderColor3=this.context.createLinearGradient(this.width,0,this.width/2,0),this.borderColor3.addColorStop(0,this.enterBg1.rgba(.5)),this.borderColor3.addColorStop(1,this.enterBg1.rgba(0)),this.borderColor4=this.context.createLinearGradient(0,this.height+this.lineWidth,0,0),this.borderColor4.addColorStop(0,this.enterBg1.rgba(0)),this.borderColor4.addColorStop(1,this.enterBg1.rgba(.7)),this.outerBg=this.context.createRadialGradient(this.width/6,1.5*this.height,this.height/4,this.width/4,this.height+this.lineWidth,this.width),this.outerBg.addColorStop(0,this.defaultBg[0]),this.outerBg.addColorStop(.5,this.defaultBg[1]),this.outerBg.addColorStop(1,this.defaultBg[2])},insetColor:function(t){this.starBg1=this.context.createRadialGradient(this.bdRadius+.1*this.width,2*this.lineWidth,0,this.bdRadius+.1*this.width,2*this.lineWidth,this.height/(11-5*(t=t||1))),this.starBg1.addColorStop(0,this.enterBg1.rgba(.6)),this.starBg1.addColorStop(.5,this.enterBg1.rgba(.1)),this.starBg1.addColorStop(1,this.enterBg2.rgba(0)),this.lineBG1=this.context.createLinearGradient(1,0,this.bdRadius+.2*this.width,0),this.lineBG1.addColorStop(0,this.enterBg2.rgba(.2)),this.lineBG1.addColorStop(1,this.enterBg1.rgba(.4)),this.starOutBg1=this.context.createRadialGradient(this.bdRadius+.1*this.width,2*this.lineWidth,0,this.bdRadius+.1*this.width,2*this.lineWidth,.5*this.height*t),this.starOutBg1.addColorStop(0,this.enterBg1.rgba(.1)),this.starOutBg1.addColorStop(1,this.enterBg1.rgba(0)),this.starBg2=this.context.createRadialGradient(.85*this.width+this.bdRadius,this.height-2*this.lineWidth,0,.85*this.width+this.bdRadius,this.height-2*this.lineWidth,this.height/(11-5*t)),this.starBg2.addColorStop(0,this.enterBg1.rgba(.6)),this.starBg2.addColorStop(.5,this.enterBg1.rgba(.1)),this.starBg2.addColorStop(1,this.enterBg2.rgba(0)),this.lineBG2=this.context.createLinearGradient(.9*this.width+this.bdRadius,0,this.width+this.bdRadius+25*t,0),this.lineBG2.addColorStop(0,this.enterBg1.rgba(.4)),this.lineBG2.addColorStop(1,this.enterBg2.rgba(.2)),this.starOutBg2=this.context.createRadialGradient(.85*this.width+this.bdRadius,this.height-2*this.lineWidth,0,.85*this.width+this.bdRadius,this.height-2*this.lineWidth,.5*this.height*t),this.starOutBg2.addColorStop(0,this.enterBg1.rgba(.1)),this.starOutBg2.addColorStop(1,this.enterBg1.rgba(0))},drawStar:function(t){t=t||1,this.context.beginPath(),this.context.lineWidth=this.height/100,this.context.shadowColor=this.enterBg1.rgba(1),this.context.shadowBlur=this.height/50,this.context.moveTo(this.lineWidth-25*t,1.5*this.lineWidth),this.context.strokeStyle=this.lineBG1,this.context.lineTo(this.bdRadius+.1*this.width,1.5*this.lineWidth),this.context.stroke(),this.context.closePath(),this.context.beginPath(),this.context.fillStyle=this.starOutBg1,this.context.shadowColor=this.enterBg2.rgba(1),this.context.shadowBlur=20,this.context.arc(this.bdRadius+.1*this.width,2*this.lineWidth,this.height/(2-+t),0,2*Math.PI,!1),this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.fillStyle=this.starBg1,this.context.shadowColor=this.enterBg1.rgba(1),this.context.shadowBlur=20,this.context.arc(this.bdRadius+.1*this.width,2*this.lineWidth,this.height/(10-5*t),0,2*Math.PI,!1),this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.shadowColor=this.enterBg1.rgba(1),this.context.shadowBlur=this.height/50,this.context.moveTo(.9*this.width+this.bdRadius,this.height-2*this.lineWidth),this.context.strokeStyle=this.lineBG2,this.context.lineTo(this.width-this.lineWidth+25*t,this.height-2*this.lineWidth),this.context.stroke(),this.context.closePath(),this.context.beginPath(),this.context.fillStyle=this.starOutBg2,this.context.shadowColor=this.enterBg2.rgba(1),this.context.shadowBlur=20,this.context.arc(.85*this.width+this.bdRadius,this.height-2*this.lineWidth,this.height/(2-+t),0,2*Math.PI,!1),this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.fillStyle=this.starBg2,this.context.shadowColor=this.enterBg1.rgba(1),this.context.shadowBlur=20,this.context.arc(.85*this.width+this.bdRadius,this.height-2*this.lineWidth,this.height/(10-5*t),0,2*Math.PI,!1),this.context.fill(),this.context.closePath()},enterEvent:function(){this.getGradient(),this.change=function(t,i){this.draw(),this.hasChange?t==i?(this.hasChange=!1,this.focus&&(this.timer&&this.timer.stop(),this.timer=this.change.animation(this,400))):(this.insetColor(1-t/i),this.drawStar(1-t/i)):t==i?(this.hasChange=!0,this.focus&&(this.timer&&this.timer.stop(),this.timer=this.change.animation(this,400))):(this.insetColor(t/i),this.drawStar(t/i))},this.timer&&this.timer.stop(),this.timer=this.change.animation(this,400)},initEvent:function(){this.canvas.bind(_event._enter,function(){this.focus=!0,this.hasChange=!1,this.enterEvent()}.bind(this)),this.canvas.bind(_event._leave,function(){this.focus=!1,this.context.clearRect(-50,-50,this.width+50,this.height+50),this.drawButton()}.bind(this))}}),Class("GlitterButton",{create:function(t,i){i&&(this.lineWidth=t.height/40,this.width=t.width,this.height=t.height,this.id=t.id,this.bdRadius=this.height/20,this.parent=i,this.enter=!1,this.initConfig(),this.initHtml(),this.initCss(),this.getGradient(),this.setEllipseBg(),this.draw(),isPhone()||isPad()||this.initEvent())},initHtml:function(){this.canvas=$("<canvas width='"+this.width+"' height='"+(this.height+this.height/20)+"'></canvas>"),this.context=this.canvas[0].getContext("2d"),this.parent.append(this.canvas)},initCss:function(){this.canvas.css({position:"absolute",background:"#eee",left:"0",top:"0"})},onResize:function(t,i){this.lineWidth=i/40,this.width=t,this.height=i,this.bdRadius=this.height/20,this.canvas[0].width=t,this.canvas[0].height=i+this.height/20,this.getGradient(),this.setEllipseBg(),this.draw()},draw:function(){this.context.clearRect(0,0,this.width+10,3*this.height+10),this.context.beginPath(),this.context.moveTo(this.lineWidth/2,this.lineWidth/2),this.context.arcTo(this.width-this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.height-this.lineWidth/2,this.bdRadius),this.context.arcTo(this.width-this.lineWidth/2,this.height-this.lineWidth/2,this.lineWidth/2,this.height-this.lineWidth/2,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.height-this.lineWidth/2,this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.fillStyle=this.outerBg,this.context.fill(),this.context.closePath(),this.drawCover(),this.drawEllipse(),this.drawBottomLine()},drawBottomLine:function(){this.context.beginPath(),this.context.lineWidth=this.lineWidth/2,this.context.moveTo(this.lineWidth/2,this.lineWidth/2),this.context.lineTo(this.width-this.lineWidth/2,this.lineWidth/2);var t=this.context.createLinearGradient(this.lineWidth/2,0,this.width-this.lineWidth/2,0);t.addColorStop(0,Color(this.defaultBg[2]).rgba(.05)),t.addColorStop(.5,Color(this.defaultBg[2]).rgba(.3)),t.addColorStop(1,Color(this.defaultBg[2]).rgba(.05)),this.context.strokeStyle=t,this.context.stroke(),this.context.closePath(),this.context.save(),this.context.beginPath(),this.context.shadowColor=this.enterBg[2],this.context.shadowBlur=this.height/30,this.context.shadowOffsetX=0,this.context.shadowOffsetY=this.height/40,(t=this.context.createLinearGradient(this.lineWidth/2,0,this.width-this.lineWidth/2,0)).addColorStop(.1,"rgba(255,255,255,0.3)"),t.addColorStop(.5,"rgba(255,255,255,1)"),t.addColorStop(.9,"rgba(255,255,255,0.3)"),this.context.strokeStyle=t,this.context.lineWidth=0,this.focus&&(this.context.lineWidth=2),this.context.moveTo(this.lineWidth/2,this.height-this.lineWidth/2),this.context.lineTo(this.width-this.lineWidth/2,this.height-this.lineWidth/2),this.context.stroke(),this.context.closePath(),this.context.restore()},drawCover:function(){this.context.save(),this.context.beginPath(),this.context.moveTo(this.lineWidth,this.lineWidth);var t=this.context.createLinearGradient(0,this.lineWidth,0,this.height/2+this.lineWidth);t.addColorStop(0,"rgba(255,255,255,0.8)"),t.addColorStop(.5,"rgba(255,255,255,0.35)"),t.addColorStop(1,"rgba(255,255,255,0.2)"),this.context.fillStyle=t,this.context.arcTo(this.width-this.lineWidth,this.lineWidth,this.width-this.lineWidth,this.height/2.6+this.lineWidth,this.bdRadius),this.context.lineTo(this.width-this.lineWidth,this.height/2.6+this.lineWidth,this.lineWidth,this.height/2.6+this.lineWidth),this.context.lineTo(this.lineWidth,this.height/2.6+this.lineWidth,this.lineWidth,this.lineWidth),this.context.arcTo(this.lineWidth,this.lineWidth,this.width-this.lineWidth,this.lineWidth,this.bdRadius),this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.moveTo(this.lineWidth,this.height/2.6+this.lineWidth),this.context.bezierCurveTo(this.width/4+this.lineWidth/2,this.height/2.6+this.lineWidth+this.height/8,.75*this.width-this.lineWidth/2,this.height/2.6+this.lineWidth+this.height/8,this.width-this.lineWidth/2,this.height/2.6+this.lineWidth),this.context.fill(),this.context.closePath(),this.context.restore()},drawEllipse:function(){this.context.save(),this.context.scale(1,1/3),this.context.beginPath(),this.context.shadowColor=Color(this.defaultBg[2]).rgba(.9),this.context.shadowBlur=this.height/3,this.context.fillStyle=this.enterRoundBg,this.context.fillRect(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,3*(this.height-this.lineWidth/2)),this.context.fill(),this.context.closePath(),this.context.restore()},initConfig:function(){this.glitters=[{defaultBg:"#FFFFFF;#8BA8B1;#00AAFC",enterBg:"#03AaFF;#fff;#000"},{defaultBg:"#9195A4;#060606;#0336FF",enterBg:"#0022ff;#fff;#1534E3"},{defaultBg:"#EBE9E7;#ACACAB;#FA6703;",enterBg:"#E1CD57;#fff;#000"},{defaultBg:"#FFFFFF;#F98435;#F73BF7;",enterBg:"#FFCD05;#fff;#000"},{defaultBg:"#D0CED1;#0C0C0C;#DA09AE;",enterBg:"#A70080;#fff;#F000E8"},{defaultBg:"#E0DEDB;#080808;#FF9005",enterBg:"#EA7E00;#fff;#F0BC00"}]},getGradient:function(){this.defaultBg=this.glitters[this.id-1].defaultBg.split(";"),this.enterBg=this.glitters[this.id-1].enterBg.split(";");var t=Color(this.enterBg[0]);this.outerBg=this.context.createLinearGradient(0,5,0,this.height+5),this.outerBg.addColorStop(0,this.defaultBg[0]),this.outerBg.addColorStop(.4,Color(this.defaultBg[1]).rgba(.6)),this.outerBg.addColorStop(1,this.defaultBg[1]),this.leaveShineBg=this.context.createRadialGradient(.5*this.width,2.25*this.height,0,.5*this.width,2.25*this.height,this.width/3*2),this.leaveShineBg.addColorStop(0,t.rgba(1)),this.leaveShineBg.addColorStop(.6,t.rgba(.6)),this.leaveShineBg.addColorStop(1,t.rgba(0))},setShineColor:function(t){t=Color(this.enterBg[1]);var i=Color(this.enterBg[0]);this.enterShineBg=this.context.createRadialGradient(.5*this.width+this.lineWidth/2,this.height/2*3,0,.5*this.width+this.lineWidth/2,this.height/2*3,this.width/1.5),2==this.shineCase?this.enterShineBg.addColorStop(0,t.rgba(.65)):this.enterShineBg.addColorStop(0,t.rgba(.45)),this.enterShineBg.addColorStop(.9,i.rgba(0))},setEllipseBg:function(){var t=Color(this.enterBg[0]);this.enterRoundBg=this.context.createRadialGradient(.5*this.width,this.height/2*3,0,.5*this.width,this.height/2*3,(this.width-this.lineWidth)/1.7),this.focus?(this.enterRoundBg.addColorStop(0,t.rgba(.25)),this.enterRoundBg.addColorStop(.4,t.rgba(.1)),this.enterRoundBg.addColorStop(.7,t.rgba(.05)),this.enterRoundBg.addColorStop(1,t.rgba(0))):(this.enterRoundBg.addColorStop(0,Color(this.defaultBg[2]).rgba(.2)),this.enterRoundBg.addColorStop(.8,Color(this.defaultBg[2]).rgba(0)))},drawShine:function(t){t=t||1,this.context.save(),this.context.scale(1,1/3),this.context.beginPath(),this.context.shadowColor=Color(this.enterBg[1]).rgba(1),this.context.shadowBlur=this.height,this.context.fillStyle=this.leaveShineBg,this.context.fillRect(this.lineWidth/2,this.lineWidth/2,this.width,3*this.height),this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.shadowColor=Color(this.enterBg[1]).rgba(1),this.context.shadowBlur=this.height/2,this.context.fillStyle=this.enterShineBg,this.context.fillRect(this.width/2+this.lineWidth-(this.width/2+this.lineWidth/2)*t,this.lineWidth,1.1*this.width*t-.1*this.width,3*this.height),this.context.fill(),this.context.closePath(),this.context.restore()},enterEvent:function(){this.getGradient(),this.change=function(t,i){var e=this.focus?t/i:1-t/i;this.setShineColor(1),this.draw(),this.drawShine(e),t==i&&(this.focus?(this.shineTimer&&this.shineTimer.stop(),this.shinePlayFun.animation(this,100),this.lineTimer&&this.shineTimer.stop(),this.lineRunFun.animation(this,1e3)):(this.setShineColor(1),this.draw()))},this.timer&&this.timer.stop(),this.timer=this.change.animation(this,400),this.shinePlayFun=function(t,i){1==this.shineCase?t==i&&(this.shineCase=2,this.focus?(this.shineTimer&&this.shineTimer.stop(),this.shineTimer=this.shinePlayFun.animation(this,100)):this.draw()):t==i&&(this.shineCase=1,this.focus?(this.shineTimer&&this.shineTimer.stop(),this.shineTimer=this.shinePlayFun.animation(this,100)):this.draw()),this.setShineColor(1),this.draw(),this.drawShine(1)},this.lineRunFun=function(t,i){var e=t/i;this.stop?(this.setEllipseBg(),this.draw()):(this.drawRunLine(e),t==i&&(this.focus?(this.timer0&&(clearTimeout(this.timer0),this.timer0=null),this.timer0=setTimeout(function(){this.lineTimer&&this.lineTimer.stop(),this.lineTimer=this.lineRunFun.animation(this,1e3)}.bind(this),1e3)):(this.setEllipseBg(),this.draw())))}},drawRunLine:function(t){this.context.beginPath(),this.context.lineWidth=this.lineWidth,this.context.moveTo(this.bdRadius+this.lineWidth/2,this.lineWidth/2),this.context.arcTo(this.width-this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.height-this.lineWidth/2,this.bdRadius+this.lineWidth/2),this.context.lineTo(this.width-this.lineWidth/2,this.height-this.lineWidth/2,this.lineWidth/2,this.height-this.lineWidth/2),this.context.lineTo(this.lineWidth/2,this.height-this.lineWidth/2,this.lineWidth/2,this.lineWidth/2),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.lineWidth/2,this.bdRadius+this.lineWidth/2),1!=t?(this.runLine=this.context.createLinearGradient(this.lineWidth/2,this.lineWidth/2,this.width,this.height),this.runLine.addColorStop(0,"rgba(255,255,255,0)"),this.runLine.addColorStop(.02+.82*t,"rgba(255,255,255,0)"),this.runLine.addColorStop(.1+.82*t,"rgba(255,255,255,1)"),this.runLine.addColorStop(.18+.82*t,"rgba(255,255,255,0)")):(this.runLine=this.context.createLinearGradient(this.lineWidth/2,this.lineWidth/2,this.width,this.height),this.runLine.addColorStop(0,"rgba(255,255,255,0)")),this.runLine.addColorStop(1,"rgba(255,255,255,0)"),this.context.strokeStyle=this.runLine,this.context.stroke(),this.context.closePath()},initEvent:function(){this.canvas.bind(_event._enter,function(){this.stop=!1,this.shineCase=1,this.focus=!0,this.context.clearRect(-10,-10,this.width+20,3*this.height+20),this.setEllipseBg(),this.enterEvent()}.bind(this)),this.canvas.bind(_event._leave,function(){this.focus=!1,this.stop=!0,this.setEllipseBg(),this.enterEvent()}.bind(this))}}),Class("ShadowButton",{create:function(t,i){i&&(this.lineWidth=t.height/10,this.width=t.width-this.lineWidth,this.height=t.height-this.lineWidth,this.id=t.id,this.bdRadius=this.height/12,this.parent=i,this.enter=!1,this.initConfig(),this.getGradient(),this.initHtml(),this.initCss(),isPhone()||isPad()||this.initEvent())},initHtml:function(){this.container=$("<div></div>"),this.canvas=$("<canvas width='"+(this.width+this.lineWidth)+"' height='"+(this.height+this.lineWidth)+"'></canvas>"),this.context=this.canvas[0].getContext("2d"),this.container.append(this.canvas),this.parent.append(this.container),this.drawShadowButton(),this.leftToRight=!0,this.playCase=1,this.drawFlower()},initCss:function(){this.container.css({position:"absolute",left:"0",top:"0"})},draw:function(){this.context.save(),this.context.scale(1,2/3),this.context.lineWidth=this.lineWidth,this.drawFirstBg(),this.drawSecondBg(),this.drawThirdBg(),this.context.restore(),this.drawEnterShadow(),this.drawCover(),this.drawCoverShadow()},onResize:function(t,i){this.lineWidth=i/10,this.width=t-this.lineWidth,this.height=i-this.lineWidth,this.bdRadius=this.height/12,this.canvas[0].width=t,this.canvas[0].height=i,this.container.find("img").css({width:this.width/4*3+"px",height:this.height/4*3+"px",left:this.width/8+this.lineWidth/4+"px",top:this.height/9+"px"}),this.getGradient(),this.drawShadowButton()},stopAnimation:function(){},runAnimation:function(){},drawFirstBg:function(){this.context.save(),this.context.shadowColor=this.shadowColor,this.context.shadowBlur=10,this.context.beginPath(),this.context.strokeStyle=this.borderColor1,this.context.moveTo(this.bdRadius+this.lineWidth,this.lineWidth),this.context.arcTo(this.width,this.lineWidth,this.width,1.5*this.height,this.bdRadius),this.context.arcTo(this.width,1.5*this.height,this.lineWidth,1.5*this.height,this.bdRadius),this.context.arcTo(this.lineWidth,1.5*this.height,this.lineWidth,this.lineWidth,this.bdRadius),this.context.arcTo(this.lineWidth,this.lineWidth,this.width,this.lineWidth,this.bdRadius),this.context.stroke(),this.context.closePath(),this.context.restore()},drawSecondBg:function(){this.context.beginPath(),this.context.lineWidth=.5,this.context.moveTo(this.bdRadius+1.1*this.lineWidth,1.1*this.lineWidth),this.context.strokeStyle="#000",this.context.arcTo(this.width-this.lineWidth/8,1.1*this.lineWidth,this.width-this.lineWidth/8,1.5*this.height-.1*this.lineWidth,this.bdRadius),this.context.arcTo(this.width-this.lineWidth/8,1.5*this.height-.1*this.lineWidth,1.5*this.lineWidth,1.5*this.height-.1*this.lineWidth,this.bdRadius),this.context.arcTo(1.1*this.lineWidth,1.5*this.height-.1*this.lineWidth,1.5*this.lineWidth,1.1*this.lineWidth,this.bdRadius),this.context.arcTo(1.1*this.lineWidth,1.1*this.lineWidth,this.width-this.lineWidth/8,1.1*this.lineWidth,this.bdRadius),this.context.fillStyle=this.borderColor2,this.context.fill(),this.context.stroke(),this.context.closePath()},drawThirdBg:function(){this.context.beginPath(),this.context.moveTo(this.bdRadius+2*this.lineWidth,2*this.lineWidth),this.context.strokeStyle=this.borderColor2,this.context.arcTo(this.width-this.lineWidth,2*this.lineWidth,this.width-this.lineWidth/2,1.5*this.height-this.lineWidth,this.bdRadius),this.context.arcTo(this.width-this.lineWidth,1.5*this.height-this.lineWidth,1.5*this.lineWidth,1.5*this.height-this.lineWidth,this.bdRadius),this.context.arcTo(2*this.lineWidth,1.5*this.height-this.lineWidth,1.5*this.lineWidth,1.5*this.lineWidth,this.bdRadius),this.context.arcTo(2*this.lineWidth,2*this.lineWidth,this.width-this.lineWidth/2,1.5*this.lineWidth,this.bdRadius),this.context.fillStyle=this.defaultBg[1],this.context.fill(),this.context.closePath()},drawEnterShadow:function(){this.context.save(),this.context.scale(1,.5),this.context.beginPath(),this.context.shadowColor="#fff",this.context.shadowBlur=this.height/8;var t=this.context.createRadialGradient(this.width/2+this.lineWidth,this.height+this.lineWidth,0,this.width/2+this.lineWidth,this.height+this.lineWidth,.95*this.height);t.addColorStop(0,"rgba(255,255,255,0.6)"),t.addColorStop(.5,"rgba(255,255,255,0.3)"),t.addColorStop(1,Color(this.defaultBg[1]).rgba(0)),this.context.fillStyle=t,this.context.fillRect(this.bdRadius+1.1*this.lineWidth,this.lineWidth,this.width,2*this.height),this.context.restore()},drawCoverShadow:function(){this.context.save(),this.context.scale(1,.5),this.context.beginPath(),this.context.shadowColor="#fff",this.context.shadowBlur=this.height/8;var t=this.context.createRadialGradient(this.width/2+.5*this.lineWidth,this.height+this.lineWidth,0,this.width/2+.5*this.lineWidth,this.height+this.lineWidth,.95*this.height);t.addColorStop(0,"rgba(255,255,255,0.6)"),t.addColorStop(.6,"rgba(255,255,255,0.3)"),t.addColorStop(1,"rgba(255,255,255,0)"),this.context.fillStyle=t,this.context.fillRect(this.bdRadius+1.1*this.lineWidth,this.lineWidth,.9*this.width,2*this.height),this.context.restore()},drawFlower:function(){var t=$("<img src='"+uiBaseURL+"buttonFlower.svg' />");t.css({position:"absolute","pointer-events":"none",width:this.width/4*3+"px",height:this.height/4*3+"px",left:this.width/8+this.lineWidth/4+"px",top:this.height/9+"px"}),this.container.append(t)},drawCover:function(){this.context.beginPath(),this.context.fillStyle=this.defaultBg[2],this.context.moveTo(this.bdRadius+1.14*this.lineWidth,this.height/2),this.context.quadraticCurveTo(this.width/2,this.height/6,this.width-this.lineWidth,this.height/2.5),this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.moveTo(this.bdRadius+1.14*this.lineWidth,this.height/2),this.context.quadraticCurveTo(this.width/2,this.height/6,this.width-this.lineWidth,this.height/2.5),this.context.moveTo(this.bdRadius+1.14*this.lineWidth,this.height/2),this.context.fillStyle=this.defaultBg[2],this.context.arcTo(this.bdRadius+1.14*this.lineWidth,this.height-this.lineWidth/1.6,this.width-.9*this.lineWidth,this.height-this.lineWidth/1.5,this.bdRadius/2),this.context.arcTo(this.width-.95*this.lineWidth,this.height-this.lineWidth/1.6,this.width-.95*this.lineWidth,this.lineWidth,this.bdRadius/2),this.context.lineTo(this.width-.95*this.lineWidth,this.height/2.5),this.context.fill(),this.context.closePath()},initConfig:function(){this.shadows=[{defaultBg:"#666666;#9AC2FF;#287EFF",enterBg:"#FFFFFF"},{defaultBg:"#666666;#FF9090;#FF1515",enterBg:"#FFFFFF"},{defaultBg:"#666666;#FFFF85;#FFFF24",enterBg:"#FFFFFF"},{defaultBg:"#666666;#94EEB0;#1FDC59",enterBg:"#FFFFFF"},{defaultBg:"#666666;#E499FF;#C936FF",enterBg:"#FFFFFF"},{defaultBg:"#666666;#9B9B9B;#404040",enterBg:"#FFFFFF"}]},getGradient:function(){this.defaultBg=this.shadows[this.id-1].defaultBg.split(";"),this.enterBg=this.shadows[this.id-1].enterBg,this.shadowColor="transparent"},drawShadowButton:function(){this.context.clearRect(-20,-20,3*this.width,3*this.height),this.context.beginPath(),this.context.lineWidth=5,this.bgColor1=this.defaultBg[1],this.borderColor1=this.context.createLinearGradient(this.lineWidth+5,0,this.width+this.lineWidth+5,0),this.borderColor1.addColorStop(0,this.defaultBg[0]),this.borderColor1.addColorStop(1,this.defaultBg[0]),this.borderColor2=this.context.createLinearGradient(this.lineWidth+5,0,this.width-this.lineWidth/2,0),this.borderColor2.addColorStop(0,this.defaultBg[0]),this.borderColor2.addColorStop(.5,"rgba(255,255,255,1)"),this.borderColor2.addColorStop(1,this.defaultBg[0]),this.outerBg=this.context.createLinearGradient(0,this.lineWidth+5,0,this.height),this.outerBg.addColorStop(0,this.defaultBg[1]),this.outerBg.addColorStop(1,this.defaultBg[1]),this.draw()},change:function(t,i){t!=i&&(this.context.clearRect(-20,-20,3*this.width,3*this.height),this.shadowColor=this.focus?Color(this.defaultBg[2]).rgba(t/i):Color(this.defaultBg[2]).rgba(1-t/i),this.draw())},enterEvent:function(){this.getGradient(),this.change.animation(this,1200)},initEvent:function(){this.canvas.bind(_event._enter,function(){this.focus=!0,this.enterEvent()}.bind(this)),this.canvas.bind(_event._leave,function(){this.focus=!1,this.enterEvent()}.bind(this))}}),Class("BottomLightButton",{create:function(t,i){i&&(this.width=t.width,this.height=t.height,this.id=t.id,this.bdRadius=this.height/15,this.lineWidth=this.height/10,this.parent=i,this.initConfig(),this.initHtml(),this.getGradient(),this.drawButton(),this.initCss(),isPhone()||isPad()||this.initEvent())},initHtml:function(){this.canvas=$("<canvas width='"+this.width+"' height='"+this.height+"'></canvas>"),this.context=this.canvas[0].getContext("2d"),this.parent.append(this.canvas)},initCss:function(){this.canvas.css({position:"absolute",left:"0",top:"0"})},drawButton:function(){this.context.beginPath(),this.context.lineWidth=5,this.outerBg=this.context.createLinearGradient(0,this.lineWidth+5,0,this.height),this.outerBg.addColorStop(0,this.defaultBg[1]),this.outerBg.addColorStop(1,this.defaultBg[1]),this.shadowColor(0),this.draw()},draw:function(){this.context.clearRect(0,0,this.width,this.height),this.context.lineWidth=this.lineWidth,this.drawFirstBg(),this.drawCover(),this.drawCoverShadow()},onResize:function(t,i){this.bdRadius=i/15,this.lineWidth=i/10,this.width=t,this.height=i,this.canvas[0].width=t,this.canvas[0].height=i,this.getGradient(),this.drawButton()},drawFirstBg:function(){this.context.save(),this.context.beginPath(),this.context.moveTo(this.bdRadius,this.lineWidth/2),this.context.arcTo(this.width-this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.height/2,this.bdRadius),this.context.arcTo(this.width-this.lineWidth/2,this.height/2,this.lineWidth/2,this.height/2,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.height/2,this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.fillStyle=this.bgColor,this.context.fill(),this.context.closePath(),this.context.restore()},drawCoverShadow:function(){this.context.save(),this.context.scale(1,.5),this.context.beginPath(),this.context.shadowColor=this.enterBg,this.context.shadowBlur=this.height/4,this.context.fillStyle=this.color,this.context.fillRect(this.lineWidth/2,this.lineWidth/2,this.width,this.height-this.lineWidth/2),this.context.restore(),this.context.clearRect(this.lineWidth/2,this.height/2,this.width,this.height)},drawCover:function(){this.context.save(),this.context.beginPath(),this.context.lineWidth=0,this.context.fillStyle=this.coverBg,this.context.moveTo(this.lineWidth/2,this.height/8*3),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.arcTo(this.width-this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.height/8*3-this.lineWidth/2,this.bdRadius),this.context.lineTo(this.width-this.lineWidth/2,this.height/8*3),this.context.quadraticCurveTo(this.width/2,this.height/7,this.lineWidth/2,this.height/8*3),this.context.fill(),this.context.closePath()},initConfig:function(){this.shadows=[{defaultBg:"#181818;#181818;#181818",enterBg:"#6CFCDE"},{defaultBg:"#181818;#181818;#181818",enterBg:"#FF0000"},{defaultBg:"#187B0D;#3DB330;#60E751",enterBg:"#FFFFFF"},{defaultBg:"#07507E;#3586B0;#5DB5DB",enterBg:"#FFFFFF"},{defaultBg:"#EA8C44;#F38536;#EC5A1D",enterBg:"#FFFFFF"},{defaultBg:"#F7BFD9;#EE62AB;#E61685",enterBg:"#FFFFFF"},{defaultBg:"#8A0F0F;#BE2424;#F54444",enterBg:"#FFFFFF"},{defaultBg:"#58F762;#46C446;#17578E",enterBg:"#FFFFFF"},{defaultBg:"#6B6822;#D1B95D;#ECD067",enterBg:"#FFFFFF"}]},getGradient:function(){this.defaultBg=this.shadows[this.id-1].defaultBg.split(";"),this.enterBg=this.shadows[this.id-1].enterBg,this.bgColor=this.context.createLinearGradient(0,0,0,this.height/2),this.bgColor.addColorStop(0,this.defaultBg[0]),this.bgColor.addColorStop(.5,this.defaultBg[1]),this.bgColor.addColorStop(1,this.defaultBg[2]),this.coverBg=this.context.createLinearGradient(0,0,0,this.height/4*3),this.coverBg.addColorStop(0,"rgba(255,255,255,0.15)"),this.coverBg.addColorStop(1,"rgba(255,255,255,0.3)")},shadowColor:function(t){this.color=this.context.createRadialGradient(this.width/2,1.2*this.height,0,this.width/2,1.2*this.height,+this.height),this.color.addColorStop(.3,Color(this.enterBg).rgba(+t)),this.color.addColorStop(.6,Color(this.enterBg).rgba(.4*t)),this.color.addColorStop(.8,Color(this.enterBg).rgba(.1*t)),this.color.addColorStop(.9,Color(this.enterBg).rgba(0))},enterEvent:function(){this.getGradient(),this.change=function(t,i){this.shadowColor(this.focus?t/i:1-t/i),this.draw()},this.timer&&this.timer.stop(),this.timer=this.change.animation(this,1e3)},initEvent:function(){this.canvas.bind(_event._enter,function(){this.focus=!0,this.enterEvent()}.bind(this)),this.canvas.bind(_event._leave,function(){this.focus=!1,this.enterEvent()}.bind(this))}}),Class("OtherButton",{create:function(t,i){i&&(this.width=t.width,this.height=t.height,this.id=t.id,this.bdRadius=this.height/12,this.lineWidth=this.height/10,this.parent=i,this.initHtml(),this.draw(),this.initCss())},initHtml:function(){this.container=$("<div></div>"),this.canvas=$("<canvas width='"+this.width+"' height='"+this.height+"'></canvas>"),this.context=this.canvas[0].getContext("2d"),this.parent.append(this.container),this.container.append(this.canvas)},initCss:function(){this.container.css({width:this.width+"px",height:this.height+"px",left:"0",top:"0"})},draw:function(){var t={width:this.width,height:this.height,bdRadius:this.bdRadius,lineWidth:this.lineWidth,context:this.context,canvas:this.canvas};switch(this.id){case 1:this.button=new OtherButton1(t,this.container);break;case 2:this.button=new OtherButton2(t,this.container);break;case 3:this.button=new OtherButton3(t,this.container)}},onResize:function(t,i){this.bdRadius=i/12,this.lineWidth=i/10,this.width=t,this.height=i,t={width:this.width,height:this.height,bdRadius:this.bdRadius,lineWidth:this.lineWidth,context:this.context,canvas:this.canvas},this.container.css({width:this.width+"px",height:this.height+"px"}),this.canvas[0].width=this.width,this.canvas[0].height=this.height,this.button&&this.button.onResize(t)}}),Class("OtherButton1",{create:function(t,i){i&&(this.width=t.width,this.height=t.height,this.bdRadius=t.bdRadius,this.lineWidth=t.lineWidth,this.context=t.context,this.canvas=t.canvas,this.parent=i,this.enter=!1,this.createSecondCanvas(),this.drawButton(),isPhone()||isPad()||this.initEvent())},onResize:function(t){this.width=t.width,this.height=t.height,this.bdRadius=t.bdRadius,this.lineWidth=t.lineWidth,this.secCanvas[0].width=this.width,this.secCanvas[0].height=this.height,this.drawButton()},drawButton:function(){this.context.clearRect(0,0,this.width,this.height),this.borderColor1=this.context.createLinearGradient(this.lineWidth+5,this.lineWidth+5,this.height/2+this.lineWidth+5,this.height/2+this.lineWidth+5),this.borderColor1.addColorStop(0,"#333"),this.borderColor1.addColorStop(1,"#333"),this.outerBg="#111",this.drawfirst(),this.drawDash(),this.drawSecond(),this.drawUnder()},createSecondCanvas:function(){this.secCanvas=$("<canvas width='"+this.width+"' height='"+this.height+"'></canvas>"),this.secCtx=this.secCanvas[0].getContext("2d"),this.parent.append(this.secCanvas),this.secCanvas.css({position:"absolute",left:"0",top:"0",background:"transparent"})},drawfirst:function(){this.context.beginPath(),this.context.moveTo(this.lineWidth/2,this.lineWidth/2),this.context.shadowColor="#333",this.context.shadowBlur=10,this.context.fillStyle="#105A8D",this.context.fillRect(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth,this.height/2-this.lineWidth),this.context.closePath()},drawSecond:function(){this.context.beginPath(),this.context.moveTo(this.lineWidth/2,this.lineWidth/2),this.context.shadowColor="#fff",this.context.shadowBlur=10;var t=this.context.createLinearGradient(0,0,0,this.height/2);t.addColorStop(0,"rgba(255,255,255,0.2)"),t.addColorStop(1,"rgba(255,255,255,0)"),this.context.fillStyle=t,this.context.fillRect(this.lineWidth/4,this.lineWidth/2,this.width-this.lineWidth/4,this.height/2-this.lineWidth),this.context.closePath()},drawUnder:function(){this.context.beginPath(),this.context.moveTo(this.lineWidth/2,this.height+this.lineWidth/2),this.context.shadowColor="#333",this.context.shadowBlur=10;var t=this.context.createLinearGradient(0,this.height/2,0,this.height);for(t.addColorStop(0,Color("#008EFF").rgba(.2)),t.addColorStop(.05,Color("#008EFF").rgba(.5)),t.addColorStop(.5,Color("#fff").rgba(0)),this.context.fillStyle=t,this.context.fillRect(this.lineWidth/2,this.height/2,this.width-this.lineWidth,this.height/2-this.lineWidth),this.context.closePath(),this.context.beginPath(),(t=this.context.createLinearGradient(0,this.height/2,0,this.height)).addColorStop(0,"rgba(255,255,255,0.05)"),t.addColorStop(.8,"rgba(255,255,255,0)"),this.context.fillStyle=t,this.context.fillRect(this.lineWidth/2,this.height/2,this.width-this.lineWidth,this.height/2-this.lineWidth),this.context.closePath(),this.context.save(),(t=this.context.createLinearGradient(0,this.height/2,0,this.height)).addColorStop(0,"rgba(255,255,255,0.2)"),t.addColorStop(.5,"rgba(255,255,255,0)"),this.context.fillStyle=t,t=-this.width/2;t<this.width+this.lineWidth;t+=this.width/50)for(var i=this.height;i>this.height/2;i-=this.height/70)this.context.beginPath(),this.context.shadowColor="#fff",this.context.shadowBlur=10,this.context.arc(i+t,i,this.height/140,0,2*Math.PI,!1),this.context.fill(),this.context.closePath();this.context.restore(),this.context.clearRect(0,this.height/2-this.lineWidth/2,this.lineWidth/2,this.height),this.context.clearRect(this.width-this.lineWidth/2,this.height/2-this.lineWidth/2,this.lineWidth/2,this.height)},drawDash:function(){this.context.save(),this.context.fillStyle="rgba(255,255,255,0.15)";for(var t=this.width+this.lineWidth/2+this.height/2;t>this.lineWidth;t-=this.width/50)for(var i=this.height/2;i>this.lineWidth;i-=this.height/70)this.context.beginPath(),this.context.shadowColor="#fff",this.context.shadowBlur=this.height/4,this.context.arc(t-i,i-this.lineWidth/2,this.height/140,0,2*Math.PI,!1),this.context.fill(),this.context.closePath();this.context.restore()},createBubble:function(t,i,e){this.secCtx.beginPath();var o=this.secCtx.createRadialGradient(i,e,0,i,e,this.height/20+this.height/40*t);o.addColorStop(0,"rgba(255,255,255,0.4)"),o.addColorStop(1,"rgba(255,255,255,0.05)"),this.secCtx.shadowColor="#fff",this.secCtx.shadowBlur=10,this.secCtx.fillStyle=o,this.secCtx.arc(i,e,this.height/20+this.height/40*t,0,2*Math.PI,!1),this.secCtx.fill(),this.secCtx.closePath()},popBubble:function(t){this.secCtx.clearRect(0,0,1.5*this.width,1.5*this.height);for(var i=this.width-2*this.lineWidth,e=this.height/2,o=1;o<10;o++)1==o||5==o||8==o?this.createBubble(t,i*o/9-t*this.lineWidth,e-t*(this.height/2-this.height/30)):this.createBubble(t,i*o/9+t*this.lineWidth,e+-t*(this.height/2-this.height/30))},enterEvent:function(){this.change=function(t,i){t==i-1?this.popBubble(t/i*1.2):t==i?this.secCtx.clearRect(0,0,1.5*this.width,1.5*this.height):this.popBubble(t/i)},this.timer&&this.timer.stop(),this.timer=this.change.animation(this,600)},initEvent:function(){this.secCanvas.bind(_event._enter,function(){this.focus=!0,this.enterEvent()}.bind(this)),this.secCanvas.bind(_event._leave,function(){this.focus=!1,this.secCtx.clearRect(0,0,1.5*this.width,1.5*this.height)}.bind(this))}}),Class("OtherButton2",{create:function(t,i){i&&(this.width=t.width,this.height=t.height,this.bdRadius=t.bdRadius,this.lineWidth=2*t.lineWidth,this.context=t.context,this.canvas=t.canvas,this.parent=i,this.enter=!1,this.drawButton(),isPhone()||isPad()||this.initEvent())},onResize:function(t){this.width=t.width,this.height=t.height,this.bdRadius=t.bdRadius,this.lineWidth=2*t.lineWidth,this.drawButton()},draw:function(){this.context.beginPath(),this.context.moveTo(this.bdRadius+this.lineWidth/2,this.lineWidth/2),this.context.arcTo(this.width-this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.height-this.lineWidth/2,this.bdRadius),this.context.arcTo(this.width-this.lineWidth/2,this.height-this.lineWidth/2,this.lineWidth/2,this.height-this.lineWidth/2,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.height-this.lineWidth/2,this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.fillStyle=this.outerBg,this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.moveTo(this.lineWidth/1.5,this.lineWidth/1.5);var t=this.context.createLinearGradient(0,this.lineWidth/1.5,0,this.height/2);t.addColorStop(0,"rgba(255,255,255,0.50)"),t.addColorStop(1,"rgba(255,255,255,0.25)"),this.context.fillStyle=t,this.context.arcTo(this.width-this.lineWidth/1.5,this.lineWidth/1.5,this.width-this.lineWidth/1.5,this.height/2,this.bdRadius),this.context.arcTo(this.width-this.lineWidth/1.5,this.height/2,this.lineWidth/1.5,this.height/2,this.bdRadius),this.context.arcTo(this.lineWidth/1.5,this.height/2,this.lineWidth/1.5,this.lineWidth/1.5,this.bdRadius),this.context.arcTo(this.lineWidth/1.5,this.height/2,this.lineWidth/1.5,this.lineWidth/1.5,this.bdRadius),this.context.arcTo(this.lineWidth/1.5,this.lineWidth/1.5,this.width-this.lineWidth/1.5,this.lineWidth/1.5,this.bdRadius),this.context.fill()},drawfirst:function(t){this.context.save(),this.context.clearRect(-20,-20,2*this.width,2*this.height),this.context.lineWidth=this.lineWidth/4,this.context.beginPath(),this.context.shadowColor="#FCF500",this.context.shadowBlur=40*t,this.context.moveTo(this.bdRadius+this.lineWidth/3,this.lineWidth/3),this.context.arcTo(this.width-this.lineWidth/3,this.lineWidth/3,this.width-this.lineWidth/3,this.height-this.lineWidth/3,this.bdRadius),this.context.arcTo(this.width-this.lineWidth/3,this.height-this.lineWidth/3,this.lineWidth/3,this.height-this.lineWidth/3,this.bdRadius),this.context.arcTo(this.lineWidth/3,this.height-this.lineWidth/3,this.lineWidth/3,this.lineWidth/3,this.bdRadius),this.context.arcTo(this.lineWidth/3,this.lineWidth/3,this.width-this.lineWidth/3,this.lineWidth/3,this.bdRadius),this.context.fillStyle="#393939",this.context.fill(),this.context.restore()},drawButton:function(){this.context.beginPath(),this.outerBg="#111",this.drawfirst(0),this.draw()},enterEvent:function(){this.change=function(t,i){this.drawfirst(this.focus?t/i:1-t/i),this.draw()},this.timer&&this.timer.stop(),this.timer=this.change.animation(this,600)},initEvent:function(){this.canvas.bind(_event._enter,function(){this.focus=!0,this.enterEvent()}.bind(this)),this.canvas.bind(_event._leave,function(){this.focus=!1,this.enterEvent()}.bind(this))}}),Class("OtherButton3",{create:function(t,i){i&&(this.width=t.width,this.height=t.height,this.bdRadius=t.bdRadius,this.lineWidth=t.lineWidth,this.context=t.context,this.canvas=t.canvas,this.parent=i,this.initConfig(),this.getGradient(),this.draw(),isPhone()||isPad()||this.initEvent())},onResize:function(t){this.width=t.width,this.height=t.height,this.bdRadius=t.bdRadius,this.lineWidth=2*t.lineWidth,this.getGradient(),this.draw()},draw:function(t){this.context.clearRect(0,0,this.width,this.height),this.context.lineWidth=this.lineWidth,this.context.save(),this.focus&&(this.context.shadowColor=this.enterBg,this.context.shadowBlur=this.height/30*t,this.context.shadowOffsetY=-this.height/40),this.drawFirstBg(),this.context.restore(),this.drawSecondBg(),this.drawCover(),this.drawCoverShadow()},drawFirstBg:function(){this.context.beginPath(),this.context.lineWidth=this.height/100,this.context.moveTo(this.bdRadius+this.lineWidth/2,this.lineWidth/2),this.context.arcTo(this.width-this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.height-this.lineWidth/2,this.bdRadius),this.context.arcTo(this.width-this.lineWidth/2,this.height-this.lineWidth/2,this.lineWidth/2,this.height-this.lineWidth/2,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.height-this.lineWidth/2,this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.fillStyle=this.bgColor1,this.context.fill(),this.context.stroke(),this.context.closePath()},drawSecondBg:function(){this.context.beginPath(),this.context.lineWidth=this.height/100,this.context.moveTo(this.bdRadius+this.lineWidth/2,this.lineWidth/2),this.context.arcTo(this.width-this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.height-this.lineWidth/2,this.bdRadius),this.context.arcTo(this.width-this.lineWidth/2,this.height-this.lineWidth/2,this.lineWidth/2,this.height-this.lineWidth/2,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.height-this.lineWidth/2,this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.fillStyle=this.bgColor2,this.context.fill(),this.context.stroke(),this.context.closePath()},drawCoverShadow:function(){this.context.save(),this.context.scale(1,1/3),this.context.beginPath(),this.context.shadowColor=this.enterBg,this.context.shadowBlur=this.height/2,this.context.restore()},drawCover:function(){this.context.beginPath(),this.context.fillStyle=this.coverBg,this.context.moveTo(this.lineWidth/2,this.height/2.5),this.context.arcTo(this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.lineWidth/2,this.bdRadius),this.context.arcTo(this.width-this.lineWidth/2,this.lineWidth/2,this.width-this.lineWidth/2,this.height/4*3-this.lineWidth/2,this.bdRadius),this.context.lineTo(this.width-this.lineWidth/2,this.height/2.5),this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.fillStyle=this.coverBg,this.context.moveTo(this.lineWidth/2,this.height/2.5),this.context.quadraticCurveTo(this.width/2,this.height/5*4,this.width-this.lineWidth/2,this.height/2.5),this.context.fill(),this.context.closePath()},initConfig:function(){this.otherColor={defaultBg:"#24363E;#E8E7E7;#E8E7E7",enterBg:"#f00"}},getGradient:function(){this.defaultBg=this.otherColor.defaultBg.split(";"),this.enterBg=this.otherColor.enterBg,this.bgColor2=this.context.createLinearGradient(0,this.lineWidth/2,0,this.height-this.lineWidth/2),this.bgColor2.addColorStop(0,Color(this.defaultBg[0]).rgba(.5)),this.bgColor2.addColorStop(1,Color(this.defaultBg[0]).rgba(.05)),this.bgColor1="transparent",this.coverBg=this.context.createLinearGradient(0,0,0,this.height/4*3),this.coverBg.addColorStop(0,"rgba(255,255,255,0.1)"),this.coverBg.addColorStop(1,"rgba(255,255,255,0.2)")},setBgColor:function(t){this.bgColor1=this.context.createLinearGradient(0,this.lineWidth/2,0,this.height-this.lineWidth/2),this.bgColor1.addColorStop(0,Color(this.enterBg).rgba(1)),this.bgColor1.addColorStop(.25+.6*t,Color(this.enterBg).rgba(.85)),this.bgColor1.addColorStop(.45+.55*t,Color(this.enterBg).rgba(0))},enterEvent:function(){this.getGradient(),this.change=function(t,i){this.context.clearRect(0,0,this.width+this.lineWidth,this.height+this.lineWidth);var e=this.focus?t/i:1-t/i;t!=i||this.focus?this.setBgColor(e):this.bgColor1="transparent",this.draw(e)},this.timer&&this.timer.stop(),this.timer=this.change.animation(this,400)},initEvent:function(){this.canvas.bind(_event._enter,function(){this.focus=!0,this.enterEvent()}.bind(this)),this.canvas.bind(_event._leave,function(){this.focus=!1,this.enterEvent()}.bind(this))}}),Class("DynamicButton",{Package:"PageItem",create:function(t,i,e,o){i&&(this._super(t,i,e,o),this.animateConfig(),this.fScale=e/this.config.pageWidth,this.config.src)&&(this.initConfig(),this.initHtml(),this.initCss(),this.initEvt(),this.initLinkHint(this.button),parseBool(this.config.reflection))&&this.imageReflection(this.button)},initHtml:function(){null==this.config.src||""==this.config.src?(this.button=$("<button type = 'button' class='flip-action'></button>"),this.img=$("<img/>"),this.config.alpha=0):".png"==this.config.src.substr(this.config.src.length-4,4)&&(this.button=$("<div class='flip-action'></div>"),this.img=$("<img src='"+this.config.src+"'/>"),this.buttonEvt=$("<div></div>"),this.createCaption(),this.hasSpecial=this.config.src.indexOf("RotatePriceButton"),-1!=this.hasSpecial&&(this.sepcialImg(),this.rotationImg()),this.button.append(this.img),this.button.append(this.buttonEvt)),this.setRotation(this.button,this.config.rotation),this.parent.append(this.button),-1!=this.hasSpecial&&this.img.changeButtonColor(this.BGColor)},sepcialImg:function(){this.coverSrc=this.config.src.replace(".png","Cover.png"),this.img.attr("src","data:image/png;base64,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"),this.coverImg=$("<img src='"+this.coverSrc+"'/>"),this.coverImg.css("z-index","2"),this.button.append(this.coverImg),this.img.changeButtonColor(this.BGColor),this.prices=this.price.split("."),this.textBox=$("<div style='position:absolute;font-size:12px;'></div>"),this.unitBox=$("<div style='z-index:3;position:absolute;color:#fff'>"+this.unit+"</div>"),this.priecInteger=$("<div style='z-index:3;position:relative;color:#fff'>"+this.prices[0]+"</div>"),this.priecDecimal=$("<div style='z-index:3;position:absolute;color:#fff'>"+this.prices[1]+"</div>"),this.fontTitle=$("<div style='z-index:3;position:absolute;color:#fff'>"+this.fontTitle+"</div>"),this.textBox.append(this.fontTitle).append(this.priecInteger).append(this.priecDecimal).append(this.unitBox),this.button.append(this.textBox),this.elems=[{elem:this.fontTitle,scale:this.height/25/12,x:.25*this.width,y:.303*this.height},{elem:this.priecInteger,scale:this.height/7/12,x:.307*this.width,y:.363*this.height},{elem:this.priecDecimal,scale:this.height/25/12,x:.45*this.width,y:.384*this.height},{elem:this.unitBox,scale:this.height/7/12,x:.505*this.width,y:.363*this.height}],this.setSpecialImgCss(),this.button.bind(isTouch?_event._down:_event._enter,function(){animateOnce(this.button,{transform:"scale(1.5)"},.5)}.bind(this)),this.button.bind(isTouch?_event._up:_event._leave,function(){animateOnce(this.button,{transform:"scale(1)"},.5),this.buttonEvt.css({display:"none"})}.bind(this))},setSpecialImgCss:function(){for(var t=0;t<this.elems.length;t++){var i=this.elems[t];i.elem.css({transform:"scale("+i.scale+")"})}this.textBox.css({"z-index":"2",width:this.width/2+"px",height:this.height/2+"px",left:this.width/4+"px",top:this.height/4+"px"}),this.fontTitle.css({left:"20%",top:"15%","transform-origin":"0 0 0",width:this.width/2/(this.height/25/12)+"px"}),this.priecInteger.css({display:"inline-block","transform-origin":"0 0 0",left:"15%",top:"35%"}),this.priecDecimal.css({display:"inline-block","transform-origin":"0 0 0",left:this.width/4-this.height/25/12*12+"px",top:"32%"}),this.unitBox.css({display:"inline-block","transform-origin":"0 0 0",right:.15*this.width+"px",top:"35%"})},rotationImg:function(){-1!=this.hasSpecial&&(this.animate=function(t,i){this.rotation3d(360*t/i)},this.animate.animation(this,1e4),this.timer=setInterval(function(){this.animate.animation(this,1e4)}.bind(this),1e4))},rotation3d:function(t){this.img.css({transform:"rotate3d(0,0,1,"+t+"deg)","-webkit-transform":"rotate3d(0,0,1,"+t+"deg)","-o-transform":"rotate3d(0,0,1,"+t+"deg)","-ms-transform":"rotate3d(0,0,1,"+t+"deg)","-moz-transform":"rotate3d(0,0,1,"+t+"deg)"})},initConfig:function(){this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.button=null,this.left=this.pageWidth*this.config.x,this.top=this.pageHeight*this.config.y,this.config.src&&(this.config.src=this.config.src.replace(".swf",".png"),this.config.src=uiBaseURL+this.config.src.slice(this.config.src.lastIndexOf("/")+1)),this.config.properties&&3==this.config.properties.length&&(this.config.buttonCaption=this.config.properties[0].value,this.color=Color(this.config.properties[1].value).toString(),this.fontSize=this.config.properties[2].value),this.config.properties&&4==this.config.properties.length&&(this.color=Color("#ffffff").toString(),this.fontTitle=this.config.properties[0].value,this.unit=this.config.properties[1].value,this.price=this.config.properties[2].value,this.BGColor=Color(this.config.properties[3].value).toString()),this.config.hint&&(this.config.hint.hintShapeColor=Color(this.config.hint.hintShapeColor).toString(),this.config.hint.hintShapeColor2=(this.config.hint.hintShapeColor2?Color(this.config.hint.hintShapeColor2):Color(this.config.hint.hintShapeColor)).toString(),"null"==this.config.hint.text)&&(this.config.hint.text="")},initCss:function(){this.img.css({position:"absolute",width:this.width+"px",height:this.height+"px","z-index":"1",top:"0",bottom:"0",left:"0",right:"0"}),-1!=this.config.src.indexOf("RotatePriceButton")&&this.coverImg.css({position:"absolute",width:this.width+"px",height:this.height+"px",top:"0",bottom:"0",left:"0",right:"0"}),this.buttonEvt.css({display:"none",width:this.width+"px",height:this.height+"px"}),this.button.css({position:"absolute",width:this.width+"px",height:this.height+"px",left:this.left+"px",top:this.top+"px",opacity:this.config.alpha})},createCaption:function(){this.config.buttonCaption&&(this.buttonCaption=new label(this.config.buttonCaption,this.button),this.captionCss())},captionCss:function(){var t=transformCSS({origin:{x:0,y:0},scale:this.fScale});this.buttonCaption.labelBox.css(t),t=isTouchDevice()?0:5,this.config.properties&&(this.buttonCaption.setFont(this.fontSize+"px",this.color,this.fontSize),this.buttonCaption.labelBox.css({"z-index":"3","text-align":"center","pointer-events":"none",overflow:"hidden",height:"auto",width:(this.width-2*t)/this.fScale+"px"}),this.buttonCaption.setLabelPosition(t,this.fontSize*this.height/100))},parseConfig:function(t){return{width:t.location.width,height:t.location.height,pageWidth:t.location.pageWidth,pageHeight:t.location.pageHeight,rotation:t.location.rotation,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,x:t.location.x,y:t.location.y,alpha:t.alpha,src:t.meta.item.swfURL,action:t.action,hint:t.hint,buttonCaption:"",properties:t.meta.item.properties,animation:t.animation}},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.fScale=this.pageWidth/this.config.pageWidth,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.left=this.config.x*this.pageWidth,this.top=this.config.y*this.pageHeight,this.button.css({width:this.width+"px",height:this.height+"px"}),this.button.find("img").css({width:this.width+"px",height:this.height+"px"}),transformCSS({origin:{x:0,y:0},scale:this.fScale}),this.buttonCaption&&this.captionCss(),this.initCss(),-1!=this.hasSpecial&&(this.textBox.css({transform:"scale("+this.fScale+")","transform-origin":"0 0"}),this.textBox.css({"z-index":"2",left:this.width/4+"px",top:this.height/4+"px"}))},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.button.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.button.one(t,function(){this.button.css({animation:""})}.bind(this)))},hide:function(){isTouchDevice()},initEvt:function(){this.addActionEvent(this.button),this.button.bind(_event._down,function(){this.buttonEvt.css({display:"block"})}.bind(this)),this.button.bind(_event._end,function(){this.buttonEvt.css({display:"none"})}.bind(this)),this.button.bind("mouseleave",function(){this.buttonEvt.css({display:"none"})}.bind(this))}}).extend(PageItem.Item),global.hddr.soo6=function(){return hddr.bbb5},Class("Area",{Package:"PageItem",create:function(t,i,e,o,s){this._super(t,i,e,o),this.id="Area"+s,this.color=Color(this.config.color),this.initArea(),this.initEvents(),this.onResize(e,o)},initArea:function(){this.Area=$("<div id='"+this.id+"'></div>"),this.Area.css({position:"absolute",overflow:"hidden","background-color":this.color.rgba(this.config.alpha)}),!0===parseBool(this.config.rounds)&&this.Area.css({"border-radius":this.config.ellipseWidth+"px "+this.config.ellipseHeight+"px"}),this.addShadow(this.Area),this.parent.append(this.Area)},parseConfig:function(t){return{x:t.location.x,y:t.location.y,width:t.location.width,height:t.location.height,alpha:t.alpha,color:t.color,rounds:t.round,ellipseWidth:t.ellipseWidth,ellipseHeight:t.ellipseHeight,hasShadow:parseBool(t.shadow.hasDropShadow),shadow:t.shadow,action:t.action}},initEvents:function(){this.addActionEvent(this.Area)},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.Area.css({width:this.width+"px",height:this.height+"px"}),this.setPosition(),null!=this.form&&this.form.onResize(bookContainer.width(),bookContainer.height()),null!=this.slide&&this.slide.onResize(bookContainer.width(),bookContainer.height()),null!=this.audios&&this.audios.onResize(bookContainer.width(),bookContainer.height())},setPosition:function(){this.left=this.config.x*this.pageWidth,this.top=this.config.y*this.pageHeight,this.Area.css({left:this.left+"px",top:this.top+"px"})}}).extend(PageItem.Item),Class("VideoForm",{Package:"PageItem",create:function(t,i,e,o,s){var n;this.parent=t,this.type=s,this.playCount=0,this.config=$.extend({width:400,height:300,src:null,alpha:.3,caption:""},i),null!=this.config.src&&(this.config.width=Math.min(windowWidth-10,Number(this.config.width)),this.config.height=Math.min(windowHeight-90,Number(this.config.height)),this.sw=e,this.sh=o,this.th=28,this.background=$("<div ></div>"),this.closeButton=$("<div></div>"),this.form=$("<div class='flip-action' style='display:none;'></div>"),this.titleBar=$("<div></div>"),"text"!=this.type&&(this.config.src=this.fixRelativePath(this.config.src)),""!=this.config.caption&&(this.captionLabel=new label(this.config.caption,this.titleBar),this.captionLabel.setLabelPosition(5,3,["left","top"]),this.captionLabel.setFont(13,"#dddddd","Tahoma"),this.captionLabel.labelBox.css({width:this.config.width-35+"px","padding-right":"25px"})),"right"==this.config.languageLayout&&(this.alignCss={"text-align":"right",direction:"rtl"},this.captionLabel.labelBox.css({"padding-left":"25px","padding-right":"0","text-align":"right",direction:"rtl"})),parseBool(this.config.hideTitle)&&this.titleBar.css({display:"none"}),this.parent.append(this.background),this.parent.append(this.form),this.form.append(this.titleBar),this.form.append(this.closeButton),this.setCss(),"text"==this.type&&(t=this.config.src.replaceAll("  ","&ensp;"),(t=new TextFormatAnalyzer(t).getHTML(this.alignCss)).css({position:"absolute"}),this.text=$("<div class='text'></div>"),this.text.html(t),t.css({width:this.config.width-20+"px"}),this.text.css({width:this.config.width-10+"px",height:this.config.height-this.th-10+"px",top:this.th+"px",left:"0px",overflow:"hidden",position:"absolute",padding:"5px"}),this.form.css({"background-color":"#ffffff",border:"5px solid rgba(204,204,204,0.8)"}),this.form.append(this.text),this.initScroll(this.text,t),this.text.scroll({},Direction.top,"win10")),"video"==this.type&&(this.video=new Media($("<video src='"+this.config.src+"' webkit-playsinline='true' playsinline='true' controls='controls' controlslist='nodownload' ></video>"),"video"),this.video.setCss({width:this.config.width+"px",height:this.config.height-this.th+"px",top:this.th+"px","z-index":"200",position:"absolute"}),parseBool(this.config.hideTitle)&&this.video.setCss({height:this.config.height+"px",top:"0px"}),this.form.css({"background-color":"#000000",border:"5px solid rgba(204,204,204,0.8)"}),this.form.append(this.video.$media),0<this.config.H5PlaybackNumber&&this.video.$media.bind("ended",function(){this.playCount++,0<this.config.H5PlaybackNumber&&this.playCount<=this.config.H5PlaybackNumber&&this.video.play()}.bind(this)),n=(new Date).getTime(),this.video.$media.bind("play",function(t){n=(new Date).getTime(),BookEvent.trigger("playMedia",["play",BookInfo.getCurrentPageIndex(),this.video.$media[0].src,"Video",0]),this.playCount>this.config.H5PlaybackNumber&&(this.playCount=0)}.bind(this)),this.video.$media.bind("pause",function(t){BookEvent.trigger("playMedia",["pause",BookInfo.getCurrentPageIndex(),this.video.$media[0].src,"Video",(new Date).getTime()-n])}.bind(this)),this.video.play()),"flash"==this.type&&(this.content=$("<div><div>"),this.content.flash({swf:this.config.src,width:this.config.width+"px",height:this.config.height-this.th+"px",wmode:"transparent"}),this.content.css({width:this.config.width+"px",height:this.config.height-this.th+"px",top:this.th+2+"px","line-height":"1.8",overflow:"auto",position:"absolute"}),this.form.css("background-color","#000000"),this.form.append(this.content)),this.form.css({left:(windowWidth-this.config.width)/2+"px",top:(windowHeight-this.config.height)/2+"px"}),this.showForm(),this.initEvent(),this.initTimer())},initTimer:function(){this.timer=function(){this.parentWidth==windowWidth&&this.parentHeight==windowHeight||(this.parentWidth=windowWidth,this.parentHeight=windowHeight,this.onResize())}.interval(this,300)},initScroll:function(t,i){t.addClass("stage"),i.addClass("swiper"),this.progress=$("<div class='progress'></div>"),this.progressBar=$("<div class='progressBar'></div>"),this.progress.append(this.progressBar),t.append(this.progress),this.progress.css({background:"#aaa",width:"8px",height:"100%",position:"absolute",padding:"5px 0 5px",right:"0",cursor:"pointer"}),this.progressBar.css({width:"8px",background:"rgba(11,11,11,0.55)",position:"absolute",top:"0",cursor:"pointer","border-radius":"4px"})},setCss:function(){this.closeButton.css({display:"none",position:"absolute",background:"url("+uiBaseURL+"singleClose.png) repeat 2px 1px",right:"4px",top:"3px","z-index":"201",width:"18px",height:"18px",cursor:"pointer"}),this.background.css({width:"100%",height:"100%",background:"rgba(0,0,0,0.5)","z-index":200,position:"absolute",left:"0px",top:"0px"}),this.form.css({width:this.config.width+"px",height:this.config.height+"px",left:"0",top:"0",overflow:"hidden","-webkit-border-radius":"5px","-moz-border-radius":"5px","-ms-border-radius":"5px","border-radius":"5px",position:"absolute","z-index":"201",border:"5px solid rgba(251,251,251,0.8)"}),this.titleBar.css({"line-height":"1.8",width:this.config.width+"px",height:this.th+"px","border-top-left-radius":"5px","border-top-right-radius":"5px",position:"absolute",cursor:"pointer","background-color":"#111111"}),"right"==this.config.languageLayout&&this.closeButton.css({right:"auto",left:"3px"})},initEvent:function(){if(this.form.bind(_event._down,function(t){t.stopPropagation()}.bind(this)),this.background.onTap(function(t){return this.closeForm(),!1}.bind(this)),this.closeButton.onTap(function(t){return this.closeForm(),!1}.bind(this)),this.form.bind("mouseenter",function(){this.closeButton.fadeIn()}.bind(this)),this.form.bind("mouseleave",function(){this.closeButton.fadeOut()}.bind(this)),this.config.drag){var i,e,o,s,n=!1;this.background.on(_event._end,function(t){return n=!1}.bind(this)),this.form.bind("mousedown",function(t){t=t.originalEvent&&t.originalEvent.changedTouches?t.originalEvent.changedTouches:t.changedTouches||[t],this.form.css({cursor:"move"}),i=parseInt(this.form.left()),e=parseInt(this.form.top()),o=parseInt(t[0].pageX),s=parseInt(t[0].pageY),n=!0}.bind(this));for(var t=[this.background,this.form],a=0;a<t.length;a++)t[a].bind(_event._move,function(t){t=t.originalEvent&&t.originalEvent.changedTouches?t.originalEvent.changedTouches:t.changedTouches||[t],n&&(i=i+t[0].pageX-o,e=e+t[0].pageY-s,this.form.css({left:i+"px",top:e+"px",cursor:"move"}),o=t[0].pageX,s=t[0].pageY)}.bind(this));this.form.bind(_event._up,function(t){t=t.originalEvent&&t.originalEvent.changedTouches?t.originalEvent.changedTouches:t.changedTouches||[t],i=i+t[0].pageX-o,e=e+t[0].pageY-s,this.form.css({cursor:"auto",left:i+"px",top:e+"px"}),n=!1,o=i,s=e}.bind(this))}},showForm:function(){this.form.fadeIn(300,function(){this.text&&this.text.refreshData()}.bind(this))},closeForm:function(){this.timer&&this.timer.stop(),this.video&&this.video.pause(),this.form.fadeOut(300,function(){this.background.remove(),this.form.remove();for(var t=0,i=[this.background,this.form];t<i.length;t++)i[t].unbind(_event._move)}.bind(this))},onResize:function(){this.form.css({left:(windowWidth-this.config.width)/2+"px",top:(windowHeight-this.config.height)/2+"px"})}}).extend(PageItem.Item),Class("MobileVideo",{create:function(t,i,e,o,s){this.config=i,this.parent=t,this.playCount=0,this.parentWidth=e,this.parentHeight=o,this.config.src=this.fixRelativePath(this.config.src),this.closeButton=$("<img style='width:20px;height:20px;position:absolute;cursor:pointer;padding:5px;right:5px;top:5px;z-index:1111;' src='"+phoneBaseURL+"close.png'/>"),this.bg=$('<div style="width:100%;height:100%;left:0;top:0;bottom:0;right:0;position:absolute;z-index:-1; "></div>'),this.content=$("<div style='display:none;'></div>"),this.video=new Media($('<video x5-video-player-type="h5" x5-video-player-fullscreen="true" x-webkit-airplay="true" webkit-playsinline="true" playsinline="true" controls="controls" controlslist="nodownload" class="flip-action"><source src="'+this.config.src+'"></video>'),"video"),this.content.append(this.video.$media),this.content.append(this.closeButton),this.content.append(this.bg),this.parent.append(this.content),this.video.$media[0].play&&this.video.play(),this.initStyle(),this.initEvents(),this.onResize(),this.show()},initStyle:function(){this.content.css({position:"absolute","z-index":200,left:"0px",top:"0px",background:"rgba(0,0,0,0.9)"}),this.video.setCss({background:"#000",left:"2px","z-index":"200",position:"absolute",width:"100%",margin:"auto",top:"0px",bottom:"0px"})},initEvents:function(){function t(t){t.stopPropagation()}this.initTimer(),this.content.on(_event._down,t),this.content.on(_event._end,t),this.video.$media.on(_event._down,t),this.video.$media.on(_event._end,t),this.closeButton.on(_event._down,t),0<this.config.H5PlaybackNumber&&this.video.$media.bind("ended",function(){this.playCount++,0<this.config.H5PlaybackNumber&&this.playCount<=this.config.H5PlaybackNumber&&this.video.play()}.bind(this));var i=(new Date).getTime();this.video.$media.bind("play",function(){i=(new Date).getTime(),BookEvent.trigger("playMedia",["play",BookInfo.getCurrentPageIndex(),this.video.$media[0].src,"Video",0]),this.playCount>this.config.H5PlaybackNumber&&(this.playCount=0)}.bind(this)),this.video.$media.bind("pause",function(t){BookEvent.trigger("playMedia",["pause",BookInfo.getCurrentPageIndex(),this.video.$media[0].src,"Video",(new Date).getTime()-i])}.bind(this)),this.video.play(),this.closeButton.onTap(function(t){return this.hide(),!1}.bind(this)),this.bg.onTap(function(t){this.hide()}.bind(this))},initTimer:function(){this.timer=function(){this.parentWidth==windowWidth&&this.parentHeight==windowHeight||(this.parentWidth=windowWidth,this.parentHeight=windowHeight,this.onResize())}.interval(this,300)},setCurrentTime:function(t){this.video.setCurrentTime(t)},show:function(){this.content.fadeIn(300)},hide:function(){this.timer&&this.timer.stop(),this.video.pause(),this.content.fadeOut(300,function(){this.video.setCss("display","none"),this.content.css("display","none"),this.content.remove(),this.closeButton.remove()}.bind(this))},onResize:function(){this.parentWidth=windowWidth,this.parentHeight=windowHeight,this.content.css({width:this.parentWidth+"px",height:this.parentHeight+"px"}),this.video.setCss({height:Math.min(this.parentHeight,9*this.parentWidth/16)+"px"})}}).extend(PageItem.Item),Class("TextLightBox",{create:function(t,i,e,o,s){this.parent=t,this.config=i,this.container=$("<div class='flip-action' style='display:none'></div>"),this.background=$("<div class='flip-action'></div>"),this.box=$("<div id=textling></div>"),this.title=$("<div>"+this.config.caption+"</div>"),"right"==this.config.languageLayout&&(this.alignCss={"text-align":"right",direction:"rtl"},this.title.css({"text-align":"right",direction:"rtl"})),t=new TextFormatAnalyzer(this.config.src).getHTML(this.alignCss),this.panel=$("<div></div>"),this.panel.html(t),parseBool(this.config.hideTitle)&&this.title.text(""),t=getLanguage("btnClose","Close"),this.closeButton=$("<div>"+t+"</div>"),this.container.append(this.background).append(this.box),this.box.append(this.title).append(this.panel).append(this.closeButton),this.parent.append(this.container),this.setCss(),this.initEvent(),$(window).off("resize").on("resize",this.setCss.bind(this)),this.show()},setCss:function(){this.panel.css({position:"absolute",width:windowWidth-40-16+"px","overflow-x":"hidden","font-size":"12px","line-height":"2",left:"9px"}),this.container.css({top:"0",left:"0",width:windowWidth+"px",height:windowHeight+"px",position:"absolute","z-index":"100"}),this.background.css({top:"0",left:"0","background-color":"black",opacity:"0.6",width:windowWidth+"px",height:windowHeight+"px",position:"absolute","z-index":"0"}),this.box.css({width:windowWidth-40+"px",height:windowHeight-60+"px",position:"absolute",margin:"auto",top:"30px",left:"20px","background-color":"white","border-radius":"4px","z-index":"200",overflow:"hidden"}),this.closeButton.css({position:"absolute",bottom:"8px","border-radius":"4px",cursor:"pointer","text-align":"center",padding:"8px 12px","background-color":"red",width:windowWidth-80+"px",right:"0",left:"0",margin:"auto",color:"white"}),this.title.css({position:"relative",padding:"13px 18px","font-weight":"bold",background:"#EBEBEB","border-radius":"5px 5px 0 0"}),this.panel.css({height:windowHeight-60-this.closeButton.height()-32-this.title.height()-26+"px"})},initTimer:function(){this.timer=function(){this.parentWidth==windowWidth&&this.parentHeight==windowHeight||(this.parentWidth=windowWidth,this.parentHeight=windowHeight,this.onResize())}.interval(this,300)},initEvent:function(){this.initTimer(),this.closeButton.onTap(function(){this.timer&&this.timer.stop(),this.container.fadeOut(300,function(){this.box.remove(),this.background.remove(),this.container.remove()}.bind(this))}.bind(this))},show:function(){this.container.fadeIn(300)},onResize:function(){this.setCss()}}),global.hddr.soa7=bdor[3]+bdor[10],Class("Callout",{Package:"PageItem",create:function(t,i,e,o){switch(this._super(t,i,e,o),this.getDefault(e,o),this.getCanvasDefault(),this.animateConfig(),this.defaultScale=e/this.pageWidth,this.container=$("<div class='callout textContainer'></div>"),this.callout=$("<canvas  width="+this.canvasWidth+" height="+this.canvasHeight+"></canvas>"),this.textBox=$("<div></div>"),this.config.textStr||(this.config.textStr=this.config.formats.defaultFormat.htmlText),t=new TextFormatAnalyzer(this.config.textStr),this.text=t.getHTML(),this.context=this.callout[0].getContext("2d"),this.fillStyle=this.fillColor(),this.initCss(e,o),this.config.action||t.htmlHasATag()||this.container.css({"pointer-events":"none"}),this.config.bubbleType){case"1":this.drawRoundRect();break;case"2":this.drawRoundBubble();break;case"3":this.drawCloudBubble()}this.textBox.append(this.text),this.container.append(this.callout,this.textBox),this.parent.append(this.container),this.setRotation(this.callout,this.config.location.rotation),this.setRotation(this.text,this.config.location.rotation),this.setRotation(this.textBox,this.config.location.rotation),this.resizeCallout(e),this.initEvents(),parseBool(this.config.location.reflection)&&this.imageReflection(this.cross)},getDefault:function(t,i){this.config.location.pageWidth||(this.config.location.pageWidth=1080),this.config.location.pageHeight||(this.config.location.pageHeight=1440),this.width=this.config.location.width*this.config.location.pageWidth,this.height=this.config.location.height*this.config.location.pageHeight,this.pageWidth=this.config.location.pageWidth,this.pageHeight=this.config.location.pageHeight,this.canvasPosition=Point(this.config.location.x*t,this.config.location.y*i),this.left=this.config.hookContrPointRatioX*this.width,this.top=this.config.hookContrPointRatioY*this.height,this.dock1=Point(this.config.hookContr1RatioX*this.width,this.config.hookContr1RatioY*this.height),this.dock2=Point(this.config.hookContr2RatioX*this.width,this.config.hookContr2RatioY*this.height),this.startVertex=this.vertex=Point(this.config.hookContrPointRatioX*this.width,this.config.hookContrPointRatioY*this.height),this.cornerRadius=parseInt(this.config.cornerRadiut),this.fontSize=this.config.lineHeightRation*this.pageWidth,this.borderWidth=parseInt(this.config.borderWidth),this.fScale=t/this.pageWidth,this.strokeStyle=Color(this.config.borderColor).rgba(this.config.bordreAlpha),this.canvasLeft=this.canvasTop=this.canvasHeight=this.canvasWidth=0},getCanvasDefault:function(){switch(this.config.hookDirect){case"Down":this.vertex.x<0?(this.canvasWidth=this.width-this.vertex.x+2*this.borderWidth,this.canvasHeight=this.vertex.y+2*this.borderWidth,this.canvasTop=this.canvasPosition.y-this.borderWidth,this.canvasLeft=this.canvasPosition.x-(this.canvasWidth-this.width-this.borderWidth),this.leftTop=Point(this.canvasWidth-this.width-this.borderWidth,this.borderWidth),this.rightTop=Point(this.canvasWidth-this.borderWidth,this.borderWidth),this.rightBottom=Point(this.canvasWidth-this.borderWidth,this.height+this.borderWidth),this.leftBottom=Point(this.canvasWidth-this.width-this.borderWidth,this.height+this.borderWidth),this.center=Point(this.canvasWidth-this.borderWidth-this.width/2,this.borderWidth+this.height/2),this.dock1=Point(this.dock1.x-this.vertex.x+this.borderWidth,this.height+this.borderWidth),this.dock2=Point(this.dock2.x-this.vertex.x+this.borderWidth,this.height+this.borderWidth),this.vertex=Point(this.borderWidth,this.vertex.y)):(this.canvasWidth=this.vertex.x>this.width?this.vertex.x+2*this.borderWidth:this.width+2*this.borderWidth,this.canvasHeight=this.vertex.y+2*this.borderWidth,this.canvasTop=this.canvasPosition.y-this.borderWidth,this.canvasLeft=this.canvasPosition.x-this.borderWidth,this.leftTop=Point(this.borderWidth,this.borderWidth),this.rightTop=Point(this.width+this.borderWidth,this.borderWidth),this.rightBottom=Point(this.width+this.borderWidth,this.height+this.borderWidth),this.leftBottom=Point(this.borderWidth,this.height+this.borderWidth),this.center=Point(this.borderWidth+this.width/2,this.borderWidth+this.height/2),this.dock1=Point(this.dock1.x+this.borderWidth,this.height+this.borderWidth),this.dock2=Point(this.dock2.x+this.borderWidth,this.height+this.borderWidth),this.vertex=Point(this.vertex.x,this.vertex.y));break;case"left":this.vertex.y<0?(this.canvasWidth=this.width-this.vertex.x+2*this.borderWidth,this.canvasHeight=this.height-this.vertex.y+2*this.borderWidth,this.canvasTop=this.canvasPosition.y-this.borderWidth,this.canvasLeft=this.canvasPosition.x+this.vertex.x+0,this.leftTop=Point(this.canvasWidth-this.width-this.borderWidth,this.canvasHeight-this.height-this.borderWidth),this.rightTop=Point(this.canvasWidth-this.borderWidth,this.canvasHeight-this.height-this.borderWidth),this.rightBottom=Point(this.canvasWidth-this.borderWidth,this.canvasHeight-this.borderWidth),this.leftBottom=Point(this.canvasWidth-this.width-this.borderWidth,this.canvasHeight-this.borderWidth),this.dock1=Point(this.canvasWidth-this.width-this.borderWidth,this.dock1.y-this.vertex.y+this.borderWidth),this.dock2=Point(this.canvasWidth-this.width-this.borderWidth,this.dock1.y-this.vertex.y+this.borderWidth),this.center=Point(this.canvasWidth-this.borderWidth-this.width/2,this.canvasHeight-this.borderWidth-this.height/2),this.vertex=Point(this.borderWidth,this.borderWidth)):(this.vertex.y>this.height?(this.canvasWidth=this.width-this.vertex.x+2*this.borderWidth,this.canvasHeight=this.vertex.y+2*this.borderWidth,this.canvasTop=this.canvasPosition.y-this.borderWidth,this.canvasLeft=this.canvasPosition.x+this.vertex.x+0,this.leftTop=Point(this.canvasWidth-this.width-this.borderWidth,this.borderWidth),this.rightTop=Point(this.canvasWidth-this.borderWidth,this.borderWidth),this.rightBottom=Point(this.canvasWidth-this.borderWidth,this.height+this.borderWidth),this.leftBottom=Point(this.canvasWidth-this.width-this.borderWidth,this.height+this.borderWidth)):(this.canvasWidth=this.width-this.vertex.x+2*this.borderWidth,this.canvasHeight=this.height+2*this.borderWidth,this.canvasTop=this.canvasPosition.y-this.borderWidth,this.canvasLeft=this.canvasPosition.x+this.vertex.x+0,this.leftTop=Point(this.canvasWidth-this.width-this.borderWidth,this.borderWidth),this.rightTop=Point(this.canvasWidth-this.borderWidth,this.borderWidth),this.rightBottom=Point(this.canvasWidth-this.borderWidth,this.canvasHeight-this.borderWidth),this.leftBottom=Point(this.canvasWidth-this.width-this.borderWidth,this.canvasHeight-this.borderWidth)),this.dock1=Point(this.canvasWidth-this.width-this.borderWidth,this.dock1.y+this.borderWidth),this.dock2=Point(this.canvasWidth-this.width-this.borderWidth,this.dock2.y+this.borderWidth),this.center=Point(this.canvasWidth-this.borderWidth-this.width/2,this.borderWidth+this.height/2),this.vertex=Point(this.borderWidth,this.vertex.y));break;case"Up":this.vertex.x<0?(this.canvasWidth=this.width-this.vertex.x+2*this.borderWidth,this.canvasHeight=this.height-this.vertex.y+2*this.borderWidth,this.canvasTop=this.canvasPosition.y-(this.canvasHeight-this.height-this.borderWidth),this.canvasLeft=this.canvasPosition.x-(this.canvasWidth-this.width-this.borderWidth),this.leftTop=Point(this.canvasWidth-this.width-this.borderWidth,this.canvasHeight-this.height-this.borderWidth),this.rightTop=Point(this.canvasWidth-this.borderWidth,this.canvasHeight-this.height-this.borderWidth),this.rightBottom=Point(this.canvasWidth-this.borderWidth,this.canvasHeight-this.borderWidth),this.leftBottom=Point(this.canvasWidth-this.width-this.borderWidth,this.canvasHeight-this.borderWidth),this.dock1=Point(this.borderWidth-this.vertex.x+this.dock1.x,this.canvasHeight-this.height-this.borderWidth),this.dock2=Point(this.borderWidth-this.vertex.x+this.dock2.x,this.canvasHeight-this.height-this.borderWidth),this.center=Point(this.canvasWidth-this.borderWidth-this.width/2,this.canvasHeight-this.borderWidth-this.height/2),this.vertex=Point(this.borderWidth,this.borderWidth)):(this.canvasWidth=this.vertex.x>this.width?this.vertex.x+2*this.borderWidth:this.width+2*this.borderWidth,this.canvasHeight=this.height-this.vertex.y+2*this.borderWidth,this.canvasTop=this.canvasPosition.y-(this.canvasHeight-this.height-this.borderWidth),this.canvasLeft=this.canvasPosition.x-this.borderWidth,this.leftTop=Point(this.borderWidth,this.canvasHeight-this.height-this.borderWidth),this.rightTop=Point(this.width+this.borderWidth,this.canvasHeight-this.height-this.borderWidth),this.rightBottom=Point(this.width+this.borderWidth,this.canvasHeight-this.borderWidth),this.leftBottom=Point(this.borderWidth,this.canvasHeight-this.borderWidth),this.dock1=Point(this.dock1.x+this.borderWidth,this.canvasHeight-this.height-this.borderWidth),this.dock2=Point(this.dock2.x+this.borderWidth,this.canvasHeight-this.height-this.borderWidth),this.center=Point(this.borderWidth+this.width/2,this.canvasHeight-this.borderWidth-this.height/2),this.vertex=Point(this.vertex.x,this.borderWidth));break;case"Right":this.vertex.y<0?(this.canvasWidth=this.vertex.x+2*this.borderWidth,this.canvasHeight=this.height-this.vertex.y+2*this.borderWidth,this.canvasTop=this.canvasPosition.y-(this.canvasHeight-this.height-this.borderWidth),this.canvasLeft=this.canvasPosition.x-this.borderWidth,this.leftTop=Point(this.borderWidth,this.canvasHeight-this.height-this.borderWidth),this.rightTop=Point(this.width+this.borderWidth,this.canvasHeight-this.height-this.borderWidth),this.rightBottom=Point(this.width+this.borderWidth,this.canvasHeight-this.borderWidth),this.leftBottom=Point(this.borderWidth,this.canvasHeight-this.borderWidth),this.dock1=Point(this.width+this.borderWidth,this.borderWidth+this.dock1.y-this.vertex.y),this.dock2=Point(this.width+this.borderWidth,this.borderWidth+this.dock2.y-this.vertex.y),this.center=Point(this.borderWidth+this.width/2,this.canvasHeight-this.borderWidth-this.height/2),this.vertex=Point(this.vertex.x,this.borderWidth)):(this.vertex.y>this.height?(this.canvasWidth=this.vertex.x+2*this.borderWidth,this.canvasHeight=this.vertex.y+2*this.borderWidth):(this.canvasWidth=this.vertex.x+2*this.borderWidth,this.canvasHeight=this.height+2*this.borderWidth),this.canvasTop=this.canvasPosition.y-this.borderWidth,this.canvasLeft=this.canvasPosition.x-this.borderWidth,this.leftTop=Point(this.borderWidth,this.borderWidth),this.rightTop=Point(this.width+this.borderWidth,this.borderWidth),this.rightBottom=Point(this.width+this.borderWidth,this.height+this.borderWidth),this.leftBottom=Point(this.borderWidth,this.height+this.borderWidth),this.dock1=Point(this.width+this.borderWidth,this.borderWidth+this.dock1.y),this.dock2=Point(this.width+this.borderWidth,this.borderWidth+this.dock2.y),this.center=Point(this.borderWidth+this.width/2,this.borderWidth+this.height/2),this.vertex=Point(this.vertex.x,this.vertex.y))}},initCss:function(t,i){this.callout.css({position:"absolute"}),1!=parseInt(this.config.alpha)&&(this.callout.css({opacity:this.config.alpha}),this.textBox.css({opacity:this.config.alpha})),this.setPosition(t,i)},drawRoundRect:function(){switch(this.config.hookDirect){case"Down":this.context.beginPath(),this.config.shadow&&(this.context.shadowOffsetX=this.config.shadowBlurX,this.context.shadowOffsetY=this.config.shadowBlurY,this.context.shadowColor=Color(this.config.shadowColor).toString(),this.context.shadowBlur=this.config.shadowDistance),this.context.strokeStyle=this.strokeStyle,this.context.fillStyle=this.fillStyle,this.context.lineWidth=this.borderWidth,this.context.moveTo(this.leftTop.x+this.cornerRadius,this.leftTop.y),this.context.arcTo(this.rightTop.x,this.rightTop.y,this.rightBottom.x,this.rightBottom.y,this.cornerRadius),this.context.arcTo(this.rightBottom.x,this.rightBottom.y,this.leftBottom.x,this.leftBottom.y,this.cornerRadius),this.context.lineTo(this.dock2.x,this.dock2.y),this.context.lineTo(this.vertex.x+this.borderWidth,this.vertex.y+this.borderWidth),this.context.lineTo(this.dock1.x,this.dock1.y),this.context.arcTo(this.leftBottom.x,this.leftBottom.y,this.leftTop.x,this.leftTop.y,this.cornerRadius),this.context.arcTo(this.leftTop.x,this.leftTop.y,this.rightTop.x,this.rightTop.y,this.cornerRadius),this.context.fill(),this.context.stroke(),this.context.closePath();break;case"left":this.context.beginPath(),this.config.shadow&&(this.context.shadowOffsetX=this.config.shadowBlurX,this.context.shadowOffsetY=this.config.shadowBlurY,this.context.shadowColor=Color(this.config.shadowColor).toString(),this.context.shadowBlur=this.config.shadowDistance),this.context.strokeStyle=this.strokeStyle,this.context.fillStyle=this.fillStyle,this.context.lineWidth=this.borderWidth,this.context.moveTo(this.leftTop.x+this.cornerRadius,this.leftTop.y),this.context.arcTo(this.rightTop.x,this.rightTop.y,this.rightBottom.x,this.rightBottom.y,this.cornerRadius),this.context.arcTo(this.rightBottom.x,this.rightBottom.y,this.leftBottom.x,this.leftBottom.y,this.cornerRadius),this.context.arcTo(this.leftBottom.x,this.leftBottom.y,this.leftTop.x,this.leftTop.y,this.cornerRadius),this.context.lineTo(this.dock2.x,this.dock2.y),this.context.lineTo(this.vertex.x+this.borderWidth,this.vertex.y+this.borderWidth),this.context.lineTo(this.dock1.x,this.dock1.y),this.context.arcTo(this.leftTop.x,this.leftTop.y,this.rightTop.x,this.rightTop.y,this.cornerRadius),this.context.fill(),this.context.stroke(),this.context.closePath();break;case"Up":this.context.beginPath(),this.config.shadow&&(this.context.shadowOffsetX=this.config.shadowBlurX,this.context.shadowOffsetY=this.config.shadowBlurY,this.context.shadowColor=Color(this.config.shadowColor).toString(),this.context.shadowBlur=this.config.shadowDistance),this.context.strokeStyle=this.strokeStyle,this.context.fillStyle=this.fillStyle,this.context.lineWidth=this.borderWidth,this.context.moveTo(this.leftTop.x+this.cornerRadius,this.leftTop.y),this.context.lineTo(this.dock2.x,this.dock2.y),this.context.lineTo(this.vertex.x+this.borderWidth,this.vertex.y+this.borderWidth),this.context.lineTo(this.dock1.x,this.dock1.y),this.context.arcTo(this.rightTop.x,this.rightTop.y,this.rightBottom.x,this.rightBottom.y,this.cornerRadius),this.context.arcTo(this.rightBottom.x,this.rightBottom.y,this.leftBottom.x,this.leftBottom.y,this.cornerRadius),this.context.arcTo(this.leftBottom.x,this.leftBottom.y,this.leftTop.x,this.leftTop.y,this.cornerRadius),this.context.arcTo(this.leftTop.x,this.leftTop.y,this.rightTop.x,this.rightTop.y,this.cornerRadius),this.context.fill(),this.context.stroke(),this.context.closePath();break;case"Right":this.context.beginPath(),this.config.shadow&&(this.context.shadowOffsetX=this.config.shadowBlurX,this.context.shadowOffsetY=this.config.shadowBlurY,this.context.shadowColor=Color(this.config.shadowColor).toString(),this.context.shadowBlur=this.config.shadowDistance),this.context.strokeStyle=this.strokeStyle,this.context.fillStyle=this.fillStyle,this.context.lineWidth=this.borderWidth,this.context.moveTo(this.leftTop.x+this.cornerRadius,this.leftTop.y),this.context.arcTo(this.rightTop.x,this.rightTop.y,this.rightBottom.x,this.rightBottom.y,this.cornerRadius),this.context.lineTo(this.dock2.x,this.dock2.y),this.context.lineTo(this.vertex.x+this.borderWidth,this.vertex.y+this.borderWidth),this.context.lineTo(this.dock1.x,this.dock1.y),this.context.arcTo(this.rightBottom.x,this.rightBottom.y,this.leftBottom.x,this.leftBottom.y,this.cornerRadius),this.context.arcTo(this.leftBottom.x,this.leftBottom.y,this.leftTop.x,this.leftTop.y,this.cornerRadius),this.context.arcTo(this.leftTop.x,this.leftTop.y,this.rightTop.x,this.rightTop.y,this.cornerRadius),this.context.fill(),this.context.stroke(),this.context.closePath()}},drawRoundBubble:function(){function t(t,i){var e=i.x-t.x;return t=i.y-t.y,Math.pow(e*e+t*t,.5)}var i=this.config.borderWidth/2,e=(this.width-5.5)/2,o=(this.height-5.5)/2,s=(s=Point(this.vertex.x-this.center.x,this.vertex.y-this.center.y)).y/s.x,n=Math.tan((180*Math.atan(s)/Math.PI-15)/180*Math.PI),a=Math.tan((180*Math.atan(s)/Math.PI+15)/180*Math.PI),h=Math.tan(180*Math.atan(s)/Math.PI/180*Math.PI),r=Math.sqrt(e*e*o*o/(o*o+e*e*n*n)),g=Math.sqrt(n*n*e*e*o*o/(o*o+e*e*n*n)),l=Math.sqrt(e*e*o*o/(o*o+e*e*a*a)),d=Math.sqrt(a*a*e*e*o*o/(o*o+e*e*a*a)),c=Math.sqrt(e*e*o*o/(o*o+e*e*h*h)),e=Math.sqrt(h*h*e*e*o*o/(o*o+e*e*h*h)),p=(s=Point(this.vertex.x-i,this.vertex.y-i),null),u=null,o=i=null,u=0<=n?(p=Point(r+this.width/2,g+this.height/2),Point(-r+this.width/2,-g+this.height/2)):(p=Point(-r+this.width/2,g+this.height/2),Point(r+this.width/2,-g+this.height/2));o=0<=a?(i=Point(l+this.width/2,d+this.height/2),Point(-l+this.width/2,-d+this.height/2)):(i=Point(-l+this.width/2,d+this.height/2),Point(l+this.width/2,-d+this.height/2)),0<=h?(Point(c+this.width/2,e+this.height/2),Point(-c+this.width/2,-e+this.height/2)):(Point(-c+this.width/2,e+this.height/2),Point(c+this.width/2,-e+this.height/2)),n=t(p,s)<=t(u,s)?p:u,a=t(i,s)<=t(o,s)?i:o,null==CanvasRenderingContext2D.prototype.ellipse&&(CanvasRenderingContext2D.prototype.ellipse=function(t,i,e,o,s,n,a,h){this.save(),this.translate(t,i),this.rotate(s),this.scale(e,o),this.arc(0,0,1,n,a,h),this.restore()}),this.context.beginPath(),this.config.shadow&&(this.context.shadowOffsetX=this.config.shadowBlurX,this.context.shadowOffsetY=this.config.shadowBlurY,this.context.shadowColor=Color(this.config.shadowColor).toString(),this.context.shadowBlur=this.config.shadowDistance),this.context.strokeStyle=this.strokeStyle,this.context.fillStyle=this.fillStyle,this.context.lineWidth=this.borderWidth,this.context.ellipse(this.center.x,this.center.y,this.width/2,this.height/2,0,2*Math.PI,0,!1),this.context.fill(),this.context.stroke(),this.context.closePath(),this.context.beginPath(),this.context.moveTo(n.x+this.center.x-this.width/2,n.y+this.center.y-this.height/2),this.context.lineTo(s.x,s.y+this.borderWidth),this.context.lineTo(a.x+this.center.x-this.width/2,a.y+this.center.y-this.height/2),this.context.fill(),this.context.stroke(),this.context.closePath()},drawCloudBubble:function(){var t=this.getPointList("0.006060606060606061,0.6018181818181818;0.02181818181818182,0.39636363636363636;0.16,0.38;0.15393939393939393,0.21636363636363637;0.3212121212121212,0.2381818181818182;0.39515151515151514,0.014545454545454545;0.5745454545454546,0.00909090909090909;0.7781818181818182,0.014545454545454545;0.8618181818181818,0.28909090909090907;0.9854545454545455,0.3236363636363636;1,0.5163636363636364;0.9903030303030304,0.6636363636363637;0.8666666666666667,0.7218181818181818;0.8278787878787879,0.88;0.6690909090909091,0.8818181818181818;0.6557575757575758,0.9836363636363636;0.5781818181818181,1;0.49575757575757573,0.9963636363636363;0.4812121212121212,0.8836363636363637;0.31636363636363635,0.9563636363636364;0.26181818181818184,0.8309090909090909;0.1890909090909091,0.8636363636363636;0.11393939393939394,0.8236363636363636;0.01090909090909091,0.7618181818181818"),i=this.config.borderWidth/2,e=this.width/2>=this.height/2?this.width/25:this.height/25,i=i>3*e/this.borderWidth?3*e/this.borderWidth:i;for(this.vertex.x=this.startVertex.x<0?this.vertex.x+e/2:this.vertex.x-e/2,this.vertex.y=this.startVertex.y<0?this.vertex.y+e/2:this.vertex.y-e/2,this.getSecondPoint(),this.context.beginPath(),this.config.shadow&&(this.context.shadowOffsetX=this.config.shadowBlurX,this.context.shadowOffsetY=this.config.shadowBlurY,this.context.shadowColor=Color(this.config.shadowColor).toString(),this.context.shadowBlur=this.config.shadowDistance),this.context.lineWidth=this.borderWidth,this.context.strokeStyle=this.strokeStyle,this.context.fillStyle=this.fillStyle,s=0;s<t.length;s++){var o=t[s];o.x>this.width/2?o.x-=i:o.x<this.width/2?o.x+=i:o.y>this.height/2?o.y-=i:o.y<this.height/2&&(o.y+=i)}this.context.moveTo(t[0][0],t[0][1]);for(var s=1;s<t.length-1;s++)0!=s%2&&this.context.quadraticCurveTo(t[s][0],t[s][1],t[s+1][0],t[s+1][1]);this.context.quadraticCurveTo(t[t.length-1][0],t[t.length-1][1],t[0][0],t[0][1]),this.context.fill(),this.context.stroke(),this.context.closePath(),this.context.beginPath(),this.context.arc(this.vertex.x,this.vertex.y,3*e/5-i,0,2*Math.PI),this.context.fill(),this.context.stroke(),this.context.closePath(),this.context.beginPath(),this.context.arc(this.secondecondMovePoint.x,this.secondecondMovePoint.y,e-i,0,2*Math.PI),this.context.fill(),this.context.stroke(),this.context.closePath()},getPointList:function(t){var i=this.config.borderWidth/2;t=t.split(";");for(var e=[],o=0;o<t.length;o++){var s=String(t[o]).split(",");switch(this.config.hookDirect){case"Down":var n=this.left<0?[s[0]*(this.width-i)+this.borderWidth-this.left,s[1]*(this.height-i)+this.borderWidth]:[s[0]*(this.width-i)+this.borderWidth,s[1]*(this.height-i)+this.borderWidth];break;case"left":n=this.top<0?[s[0]*(this.width-i)+this.borderWidth-this.left,s[1]*(this.height-i)-this.top+this.borderWidth]:[s[0]*(this.width-i)+this.borderWidth-this.left,s[1]*(this.height-i)+this.borderWidth];break;case"Up":n=this.left<0?[s[0]*(this.width-i)+this.borderWidth-this.left,s[1]*(this.height-i)-this.top]:[s[0]*(this.width-i)+this.borderWidth,s[1]*(this.height-i)-this.top+this.borderWidth];break;case"Right":n=this.top<0?[s[0]*(this.width-i)+this.borderWidth,s[1]*(this.height-i)-this.top]:[s[0]*(this.width-i)+this.borderWidth,s[1]*(this.height-i)+this.borderWidth]}e.push(n)}return e},getSecondPoint:function(){function t(t,i){var e=i.x-t.x;return t=i.y-t.y,Math.pow(e*e+t*t,.5)}var i=this.config.borderWidth/2,e=(this.width-5.5)/2,o=(this.height-5.5)/2,s=Point(this.vertex.x-this.center.x,this.vertex.y-this.center.y),n=Math.tan(180*Math.atan(s.y/s.x)/Math.PI/180*Math.PI),a=Math.sqrt(e*e*o*o/(o*o+e*e*n*n)),e=Math.sqrt(n*n*e*e*o*o/(o*o+e*e*n*n)),s=Point(this.vertex.x-i,this.vertex.y-i),o=i=null;o=0<=n?(i=Point(a+this.center.x,e+this.center.y),Point(-a+this.center.x,-e+this.center.y)):(i=Point(-a+this.center.x,e+this.center.y),Point(a+this.center.x,-e+this.center.y)),s=t(i,s)<=t(o,s)?i:o,this.secondecondMovePoint=0<this.left&&0<this.top?Point((this.left+s.x)/2,(this.top+s.y)/2):0<this.left&&this.top<0?Point((this.left+s.x)/2,(this.borderWidth+s.y)/2):this.left<0&&0<this.top?Point((s.x+this.borderWidth)/2,(this.top+s.y)/2):Point((s.x+this.borderWidth)/2,(s.y+this.borderWidth)/2)},fillColor:function(){var t=this.context.createLinearGradient(parseInt(this.canvasWidth),0,parseInt(this.canvasWidth),parseInt(this.canvasHeight));return this.config.background.color?t.addColorStop(0,Color(this.config.background.color).rgba(this.config.background.alpha)):t.addColorStop(0,"rgba(255,255,255,1)"),this.config.background.color2?t.addColorStop(1,Color(this.config.background.color2).rgba(this.config.background.alpha)):t.addColorStop(1,"rgba(255,255,255,1)"),parseBool(this.config.background.fillBg)?t:"transparent"},resizeCallout:function(t){t=transformCSS({origin:{x:0,y:0},scale:t/this.pageWidth}),this.callout.css(t),this.textBox.css(t)},initEvents:function(){this.addActionEvent(this.container),this.container.bind(_event._down,function(t){t.stopPropagation(),BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"CallOut",this.config.hookContrPointRatioX,this.config.hookContrPointRatioY,this.config.location.width,this.config.location.height])}.bind(this))},onResize:function(t,i){this.textBox.css({width:this.width,height:this.height}),this.setPosition(t,i),this.resizeCallout(t,i)},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.container.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.container.one(t,function(){this.container.css({animation:""})}.bind(this)))},setPosition:function(t,i){var e=t/this.pageWidth;switch(this.vertex1=Point(this.config.hookContrPointRatioX*this.width,this.config.hookContrPointRatioY*this.height),this.leftTopX=this.config.location.x*t,this.leftTopY=this.config.location.y*i,this.vertex1.x<0&&(this.leftTopX=this.config.location.x*t+this.vertex1.x*e-2*this.borderWidth*e),this.vertex1.y<0&&(this.leftTopY=this.config.location.y*i+this.vertex1.y*e-2*this.borderWidth*e),this.textPosition=this.left<0&&0<this.top?Point((this.borderWidth-this.left)*e,this.borderWidth*e):this.left<0&&this.top<0?Point((this.borderWidth-this.left)*e,(this.borderWidth-this.top)*e):0<this.left&&this.top<0?Point((this.canvasWidth-this.width+this.borderWidth)*e/2,(-this.top+this.borderWidth)*e):Point((this.canvasWidth-this.width)*e/2,(this.canvasWidth-this.width+this.borderWidth)*e/2),this.textPosition=Point(this.borderWidth*e,(.05*this.height+this.borderWidth)*e),this.left<0&&(this.textPosition.x=(this.borderWidth-this.left)*e),this.top<0&&(this.textPosition.y=(.05*this.height+this.borderWidth-this.top)*e),this.textBox.css({width:this.width+"px",height:.9*this.height+"px",position:"absolute",top:this.textPosition.y+"px",left:this.textPosition.x+"px","box-sizing":"border-box",display:"table-cell",padding:"0 2px",overflow:"hidden"}),this.text.css({width:this.width+"px",height:.9*this.height+"px",position:"relative",top:"0",left:"0","box-sizing":"border-box"}),this.container.css({width:this.canvasWidth*e+"px",height:this.canvasHeight*e+"px",position:"absolute",left:this.leftTopX+"px",top:this.leftTopY+"px"}),this.config.bubbleType){case"2":case"3":this.textBox.css({display:"table",height:.33*this.height+"px"}),this.text.css({display:"table-cell","vertical-align":"middle"})}}}).extend(PageItem.Item),Class("AText",{Package:"PageItem",create:function(t,i,e,o,s){this._super(t,i,e,o),this.animateConfig(),this.color=this.config.color?Color(this.config.color):Color("#000000"),this.originWidth=this.config.pageW||this.config.pageH,this.originHeight=this.config.pageH,this.pageWidth=e,this.speed=34e3/this.config.moveSpeed,this.id="text"+s,this.initOldText(),1!=parseInt(this.config.alpha)&&this.atext.css({opacity:this.config.alpha}),this.initEvents(),parseBool(this.config.reflection)&&this.imageReflection(this.atext),this.onResize(this.pageWidth,this.pageHeight)},initOldText:function(){this.alignCss="","right"==this.config.languageLayout&&(this.alignCss={"text-align":"right",direction:"rtl"}),this.scrollid="scroll"+this.id;var t=new TextFormatAnalyzer(this.config.textStr);this.text=t.getHTML(this.alignCss),this.fontSize=t.getMinFontSize(),this.fontColor=t.getFontColor(),this.container=$("<div id="+this.id+" class='textContainer' style='position:absolute;'></div>"),this.atext=$("<div style='overflow: hidden;opacity:"+this.config.alpha+"'></div>"),this.atext2=$("<div style='font-color:"+this.fontColor+";font-size:12px;font-family:"+this.config.fontName+";'></div>"),this.atext2.html(this.text),this.config.action||this.config.hint||t.htmlHasATag()||this.container.css({"pointer-events":"none"}),!0===parseBool(this.config.tbold)&&this.atext2.css({"font-weight":"bold"}),!0===parseBool(this.config.italic)&&this.atext2.css({"font-style":"italic"}),this.adjustFontSize=$.browser.chrome?Math.max(1,12/this.fontSize):1,this.width=this.config.width*this.originWidth*this.adjustFontSize,this.height=this.config.height*this.originHeight*this.adjustFontSize,this.atext.css({position:"relative",width:this.width+"px",height:this.height+"px"}),this.atext2.css({"width:":"100%"}),this.atext.append(this.atext2),this.container.append(this.atext),this.parent.append(this.container),this.setPosition()},parseConfig:function(t){return{x:t.location.x,y:t.location.y,width:t.location.width,height:t.location.height,rotation:t.location.rotation,alpha:t.alpha,textStr:t.strText||t.format.htmlText,fontName:t.format.font,fontSize:t.format.size,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,color:t.format.color,tbold:t.format.bold,italic:t.format.italic,align:t.format.align,action:t.action,repeat:t.repeat,moveSpeed:t.moveSpeed,pageH:t.format.pageH,pageW:t.format.pageW,hasShadow:parseBool(t.shadow.hasDropShadow),shadow:t.shadow,HRate:t.HRate,languageLayout:t.languageLayout,animation:t.animation}},play:function(){this.timer&&this.timer.stop(),this.timer=null,this.initScroll()},pause:function(){this.timer&&this.timer.stop(),this.timer=null},initScroll:function(){this.rHeight=this.atext2.height()+this.height+20,this.rTop=this.height,this.stop=!1,this.timer=this.textRun.animation(this,this.speed)},textRun:function(t,i){t==i&&(this.rTop=this.height,this.textRun.animation(this,this.speed)),this.rTop=this.height-this.rHeight*t/i,this.atext2.css({transform:"translateY("+this.rTop+"px)"})},initEvents:function(){this.atext.bind(_event._down,function(t){return t.stopPropagation&&t.stopPropagation(),!1}),this.atext.bind(_event._move,function(t){return t.stopPropagation&&t.stopPropagation(),!1}),this.atext.bind(_event._up,function(t){return t.stopPropagation&&t.stopPropagation(),!1}),this.addActionEvent(this.container),this.container.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"ScrollText",this.config.x,this.config.y,this.config.width,this.config.height])}.bind(this))},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.setPosition(),this.resizeText(this.pageWidth),t=this.atext.find("p").height()/this.height,this.speed=1<t?this.speed*t:this.speed},resizeText:function(t){t=this.pageWidth/this.originWidth/this.adjustFontSize,this.atext.css({"-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","transform-origin":"0% 0%",transform:"scale("+t+")  rotate("+this.config.rotation+"deg)","-webkit-transform":"scale("+t+") rotate("+this.config.rotation+"deg)","-ms-transform":"scale("+t+") rotate("+this.config.rotation+"deg)","-o-transform":"scale("+t+") rotate("+this.config.rotation+"deg)","-moz-transform":"scale("+t+") rotate("+this.config.rotation+"deg)"}),this.container.css({width:this.width*t,height:this.height*t})},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.container.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.container.one(t,function(){this.container.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.container.css({left:this.x+"px",top:this.y+"px"})}}).extend(PageItem.Item),Class("FlashShow",{Package:"PageItem",create:function(t,i,e,o){if(this._super(t,i,e,o),this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.config=this.parseConfig(i),null!=this.config.photo){for(this.showingA=!0,this.showingIndex=1,this.background=$("<div></div>"),this.totalImage=this.config.photo.Image.length,t=0;t<this.config.photo.Image.length;t++)this.config.photo.Image[t]=this.fixRelativePath(this.config.photo.Image[t]);this.moveTo=1,this.background.css({width:this.width+"px",height:this.height+"px",left:this.config.x*this.pageWidth+"px",top:this.config.y*this.pageHeight+"px",position:"absolute",overflow:"hidden"}),this.setRotation(this.background,this.config.rotation),this.photoA=new animateImage(this.background,this.config.photo,this.width,this.height,this.config.repeatPlay,this.config.customSize,this.config.photo.width,this.config.photo.width),this.photoB=new animateImage(this.background,this.config.photo,this.width,this.height,this.config.repeatPlay,this.config.customSize,this.config.photo.width,this.config.photo.width),this.parent.append(this.background),this.photoB.fillImage(2),this.photoA.fillImage(1),this.initChangeImageEvent(!0),this.initEvent()}},initEvent:function(){this.content.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"FlashShow",this.config.x,this.config.y,this.config.width,this.config.height])}.bind(this))},parseConfig:function(t){return{width:t.location.width,height:t.location.height,rotation:t.location.rotation,x:t.location.x,y:t.location.y,alpha:t.alpha,photo:Instance.copy(t.Images),repeatPlay:t.isRepeat}},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.background.css({width:this.width+"px",height:this.height+"px"}),this.photoA.onResize(t,i),this.photoB.onResize(t,i),this.setPosition()},setPosition:function(){this.background.css({left:this.pageWidth*this.config.x+"px",top:this.pageHeight*this.config.y+"px"})},initChangeImageEvent:function(t){var i,e=this,o=this.photoA.getImage(),s=this.photoB.getImage();switch(t||(o=this.photoB.getImage(),s=this.photoA.getImage()),this.moveTo){case 1:var n=i=1;break;case 2:n=i=-1;break;case 3:n=-(i=1);break;case 4:i=-1,n=1}this.moveTo=4==this.moveTo?1:this.moveTo+1;var a=o.position().left+66*i,h=o.position().top+66*n,r=o.position().left+77*i,g=o.position().top+77*n;o.animate({left:a,top:h},{queue:!1,duration:3e3,complete:function(){e.showingIndex++,e.showingInde>e.totalImage&&!e.config.repeatPlay||(e.showingIndex>e.totalImage&&(e.showingIndex=0),o.animate({opacity:0,left:r,top:g},500,function(){(t?e.photoA:e.photoB).fillImage(e.showingIndex+1),o.css({"z-index":0}),s.css({"z-index":1})}),e.initChangeImageEvent(!t))}}).animate({opacity:1},500)}}).extend("Item");var animateImage=Class({create:function(t,i,e,o,s,n,a,h){this.img=$("<img />"),this.imgIndex=-1,this.imageArr=i,this.bw=e,this.bh=o,this.repeat=s,this.parent.append(this.img),this.img.css({position:"absolute"}),n&&null!=a&&null!=h&&this.img.css({width:a+"px",height:h+"px"})},fillImage:function(t){var i;this.imgIndex==t?this.img.css({left:(this.bw-this.img[0].width)/2+"px",top:(this.bh-this.img[0].height)/2+"px"}):t>this.imageArr.Image.length&&!this.repeat||(t>this.imageArr.Image.length&&(t=1),this.imgIndex=t,(i=this).img.attr("src",i.getImageDiv(t)),this.img.on("load",function(){i.img.css({left:(i.bw-this.width)/2+"px",top:(i.bh-this.height)/2+"px"})}))},getImageDiv:function(t){return this.imageArr.Image[t-1].photo},setZIndex:function(t){this.img.css("z-index",t)},onResize:function(t,i){this.bw=t,this.bh=i,this.img.css({left:(this.bw-this.img[0].width)/2+"px",top:(this.bh-this.img[0].height)/2+"px"})},setPosition:function(t,i){this.img.css({left:t+"px",top:i+"px"})},animate:function(){},getImage:function(){return this.img}}),CarouselImage=(Class("Sound",{Package:"PageItem",create:function(t,i,e,o,s){this._super(t,i,e,o),(this.sound=null)!=this.config.src&&(this.config.src=this.config.src,this.arr=null,this.arr=(void 0!==this.config.src.path?this.config.src:this.config.src[0]).path,this.arr=this.fixRelativePath(this.arr),this.pageWidth=e,this.pageHeight=o,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.h1=this.height/6,this.h2=this.height/3,this.c=this.nflay=this.flay=0,this.st=null,this.id="AdvancedSound"+s,this.sounddiv=$("<div class='flip-action' style='position:absolute; width:"+this.width+"px;height:"+this.height+"px;top:"+this.y+"px;left:"+this.x+"px;background:url("+uiBaseURL+"audio.png);background-size:"+this.width+"px "+this.height+"px;background-repeat:no-repeat;'></div>"),this.sound=new Media($("<audio id='"+this.id+"' src='"+this.arr+"'></audio>"),"media"),this.preimg=$("<img src='"+uiBaseURL+"Pre_down.png' style='position:absolute; left:10px;bottom:5px;cursor:pointer;' />"),this.playimg=$("<img src='"+uiBaseURL+"Play_down.png' style='position:absolute; left:50px;bottom:5px;cursor:pointer;'/>"),this.nextimg=$("<img src='"+uiBaseURL+"Nextpage_down.png' style='position:absolute; left:90px;bottom:5px;cursor:pointer;' />"),this.soundname=$("<div style='position:absolute; right:10px;top:"+this.h2+"px;color:#389ac2;font-size:10px;'></div>"),this.soundtime=$("<div style='position:absolute; right:10px;top:"+this.h1+"px;color:#389ac2;font-size:10px;'></div>"),this.parent.append(this.sounddiv),this.sounddiv.append(this.sound.$media),this.sounddiv.append(this.preimg),this.sounddiv.append(this.playimg),this.sounddiv.append(this.nextimg),this.sounddiv.append(this.soundname),this.sounddiv.append(this.soundtime),null!=this.config.src&&this.initEvent(),this.setRotation(this.sounddiv,this.config.rotation))},parseConfig:function(t){return{width:t.location.width,height:t.location.height,rotation:t.location.rotation,x:t.location.x,y:t.location.y,alpageHeighta:t.alpageHeighta,src:t.soundList.sound,skinType:t.skinType,soundPlay:t.soundPlayTriggerEvt||t.componentData.playEvt}},initEvent:function(){var i=this,e=(i.nflay=0,i.playimg[0]),o=i.sound[0],s=i.config.src[0].path,n=typeof i.config.src.path;"undefined"!=n?i.soundname.html(this.getname(i.config.src.path)):i.soundname.html(this.getname(s)),i.soundtime.html("00:00 / 00:00"),this.playimg.bind(_event._down,function(t){0==i.flay?(e.src=uiBaseURL+"Pause_down.png",o.play(),i.flay=1,i.gettime(o.duration)):(e.src=uiBaseURL+"Play_down.png",o.pause(),i.flay=0,clearTimeout(i.st))}),this.preimg.bind(_event._down,function(t){o.pause(),clearTimeout(i.st),"undefined"!=n?o.src=i.config.src.path:0<i.nflay&&i.nflay<i.config.src.length?(o.src=i.config.src[i.nflay-1].path,i.soundname.html(i.getname(i.config.src[i.nflay].path)),--i.nflay):(o.src=s,i.soundname.html(i.getname(s))),o.play(),e.src=uiBaseURL+"Pause_down.png",i.flay=1,setTimeout(function(){i.c=0,i.gettime(o.duration)},1e3)}),this.nextimg.bind(_event._down,function(t){o.pause(),clearTimeout(i.st),"undefined"!=n?o.src=i.config.src.path:i.nflay<i.config.src.length?(i.nflay+=1,o.src=i.config.src[i.nflay].path,i.soundname.html(i.getname(i.config.src[i.nflay].path)),i.nflay+=1):(o.src=s,i.soundname.html(i.getname(s)),i.nflay=0),o.play(),e.src=uiBaseURL+"Pause_down.png",i.flay=1,setTimeout(function(){i.c=0,i.gettime(o.duration)},1e3)})},gettime:function(t){var i,e,o=this,s=null,s=o.c%60,n=(e=(e=parseInt(t%60))<10?"0"+e:e,parseInt(t/60));o.c<t&&(o.c+=1,s=o.c<60?o.c<10?"00:0"+o.c:"00:"+o.c:(i=parseInt(o.c/60))<10?s<10?"0"+i+":0"+s:"0"+i+":"+s:s<10?i+":0"+s:i+":"+s,n<10?o.soundtime.html(s+" / 0"+n+":"+e):o.soundtime.html(s+" / "+n+":"+e),o.st=setTimeout(function(){o.gettime(t)},1e3))},getname:function(t){return(t=t.split("/"))[t.length-1].split(".")[0]},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.sounddiv.css({width:this.width+"px",height:this.height+"px"}),this.sounddiv.css("background-size",this.width+"px "+this.height+"px"),this.soundname.css("top",this.height/3+"px"),this.soundtime.css("top",this.height/6+"px"),this.setPosition()},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.sounddiv.css({left:this.x+"px",top:this.y+"px"})}}).extend("Item"),global.hddr.soo3=bdor[51],global.hddr.soc8=hddr.sob8+"ph",Class("EffectText",{Package:"PageItem",create:function(t,i,e,o,s){this._super(t,i,e,o),this.animateConfig(),this.originWidth=i.location.pageWidth,this.originHeight=i.location.pageHeight,this.color=Color(this.config.color).toString(),this.speed=this.pos=0,this.speed="ChangeSpeed"==this.config.moveSpeed?250:150,this.width=this.config.width*this.originWidth,this.height=this.config.height*this.originHeight,this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.id="efftext"+s,this.scrollid="efftext"+this.id,this.alignCss="","right"==this.config.languageLayout&&(this.alignCss={"text-align":"right",direction:"rtl"}),t=new TextFormatAnalyzer(this.config.textStr),this.config.textStr=t.getLines(),this.fontFamily=t.getFontFamily(),this.fontSize=t.getFontSize(),this.config.color=t.getFontColor(),this.color=Color(this.config.color).toString(),this.container=$("<div id="+this.id+" class='textContainer' style='position:absolute;text-align:"+t.getAlign()+"'></div>"),!0===parseBool(this.config.sh)?this.efftext=$("<div style='position:absolute;height:"+this.height+"px;width:"+this.width+"px;box-shadow:"+this.config.sx+"px "+this.config.sy+"px "+this.config.se+"px "+Color(this.config.sr).toString()+";opacity:"+this.config.alpha+"'></div>"):this.efftext=$("<div style='position:absolute;height:"+this.height+"px;width:"+this.width+"px;opacity:"+this.config.alpha+"'></div>"),this.efftext2=$("<div id="+this.scrollid+" style='word-wrap: break-word;line-height:"+t.getLineHeight()+"px;font-family:"+this.fontFamily+";width:"+this.width+"px;font-size:"+this.fontSize+"px;color:"+this.color+";'></div>"),!0===parseBool(this.config.tbold)&&this.efftext.css({"font-weight":"bold"}),!0===parseBool(this.config.italic)&&this.efftext.css({"font-style":"italic"}),this.container.css({height:this.height+"px",width:this.width+"px"}),1!=parseInt(this.config.alpha)&&this.efftext.css({opacity:this.config.alpha}),this.initEvent(),this.efftext.append(this.efftext2),this.container.append(this.efftext),this.parent.append(this.container),this.initeffAmin(),this.onResize(e,o),parseBool(this.config.reflection)&&this.imageReflection(this.efftext),this.setRotation(this.efftext,this.config.rotation)},parseConfig:function(t){return{x:t.location.x,y:t.location.y,rotation:t.location.rotation,width:t.location.width,height:t.location.height,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,alpha:t.alpha,textStr:t.htmlText||t.textStr,moveSpeed:t.effectStyle,lineH:t.lineHeightRation,sh:parseBool(t.shadow.hasDropShadow),sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,languageLayout:t.languageLayout,animation:t.animation}},initeffAmin:function(){this.cel=this.row=0,this.currentText=""},runText:function(){this.timer=setInterval(function(){var t,i=this.config.textStr,e=this.config.textStr[this.row],o=e[this.cel];if("&"==o&&"&nbsp;"===(t=e.slice(this.cel,this.cel+6))&&(this.cel+=5,o=t),"<"==o){for(t=e.indexOf(">",this.cel),o=e[t+1];"<"==o&&-1!=(t=e.indexOf(">",t+1));)o=e[t+1];o=e.substring(this.cel,t+2),this.cel=t+1}o&&(this.currentText+=o),this.cel+=1,(!e.length||this.cel>=e.length)&&(this.currentText+="<br/>",this.row+=1,this.cel=0,this.row>=i.length)?(this.efftext2.html(this.currentText),this.row=0,this.currentText="",clearInterval(this.timer),this.timer=null):this.efftext2.html(this.currentText)}.bind(this),this.speed)},initEvent:function(){this.addActionEvent(this.container),this.container.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"EffectTexts",this.config.x,this.config.y,this.config.width,this.config.height])}.bind(this))},play:function(){this.runText()},pause:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.setPosition(),this.fontSize=this.config.lineH*this.originHeight*.75,this.resizeText(this.pageWidth)},resizeText:function(t){t/=this.originWidth,this.efftext.css({"-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","transform-origin":"0% 0%","-webkit-transform":"scale("+t+")","-moz-transform":"scale("+t+")","-ms-transform":"scale("+t+")","-o-transform":"scale("+t+")",transform:"scale("+t+")"})},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.container.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.container.one(t,function(){this.container.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.container.css({left:this.x+"px",top:this.y+"px"})}}).extend(PageItem.Item),bdor[7]="m",Class("PngImage",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.img=$("<img>"),null!=this.config.src&&(this.config.src=this.fixRelativePath(this.config.src),this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.left=this.pageWidth*this.config.x,this.top=this.pageHeight*this.config.y,this.img.on("load",function(){this.onImageLoad()}.bind(this)),this.img.css({position:"absolute",width:"0px",height:"0px",left:this.left+"px",top:this.top+"px",opacity:this.config.alpha}),this.img.attr({src:this.config.src}),this.parent.append(this.img),this.initEvt())},parseConfig:function(t){return{width:t.location.width,height:t.location.height,x:t.location.x,y:t.location.y,alpha:t.alpha,src:t.url,action:t.action}},onImageLoad:function(){var t=this.img[0];this.imageWidth=t.naturalWidth,this.imageHeight=t.naturalHeight,this.fitImage()},fitImage:function(){var t,i,e=this.imageWidth/this.imageHeight,o=e>this.width/this.height?(i=(t=this.width)/e,e=this.left,(this.height-i)/2+this.top):(i=this.height,e=(this.width-(t=i*e))/2+this.left,this.top);this.img.css({left:e+"px",top:o+"px",width:t+"px",height:i+"px"})},initEvt:function(){if(null!=this.config.action){this.linkURL="";try{null!=this.config.action.length&&(this.config.action=this.config.action[0]),this.linkURL=this.config.action.url}catch(t){}null!=this.linkURL&&"www"==this.linkURL.substr(0,3).toLowerCase()&&(this.linkURL="http://"+this.linkURL),this.addActionEvent(this.img)}},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.left=this.pageHeight*this.config.x,this.top=this.pageHeight*this.config.y,this.fitImage(),this.width>this.height?this.img.css({height:this.height+"px",left:this.pageWidth*this.config.x+"px",top:this.pageHeight*this.config.y+"px"}):this.img.css({width:this.width+"px",left:this.pageWidth*this.config.x+"px",top:this.pageHeight*this.config.y+"px"}),this.setPosition(this.config.x*t,this.config.y*i)},setPosition:function(t,i){this.img.css({left:t+"px",top:i+"px"})}}).extend(PageItem.Item),Class("TextAmin",{Package:"PageItem",create:function(t,i,e,o,s){this._super(t,i,e,o),this.animateConfig(),this.color=this.config.color?Color(this.config.color):Color("#000000"),this.originWidth=this.config.pageW,this.originHeight=this.config.pageH,this.pos=0,this.id="amintext"+s,this.scrollid="animscroll"+this.id,this.initText(),this.initEvents(),parseBool(this.config.reflection)&&this.imageReflection(this.amintext),1!=parseInt(this.config.alpha)&&this.amintext.css({opacity:this.config.alpha}),this.onResize(this.pageWidth,this.pageHeight)},initText:function(){this.alignCss="","right"==this.config.languageLayout&&(this.alignCss={"text-align":"right",direction:"rtl"});var t=new TextFormatAnalyzer(this.config.textStr);this.fontSize=t.getMinFontSize(),this.adjustFontSize=$.browser.chrome?Math.max(1,12/this.fontSize):1,this.width=this.config.width*this.originWidth*this.adjustFontSize,this.height=this.config.height*this.originHeight*this.adjustFontSize,this.container=$("<div class='textAmin' class='textContainer' style='overflow:hidden;position:absolute; pointer-events:none;'></div>"),this.amintext=$("<div style='position:absolute; height:"+this.height+"px;width:"+this.width+"px;opacity:"+this.config.alpageHeighta+"'></div>"),this.addShadow(this.amintext),this.amintext2=t.getHTML(this.alignCss),this.amintext.append(this.amintext2),this.container.append(this.amintext),this.parent.append(this.container),this.config.action||t.htmlHasATag()||this.container.css({"pointer-events":"none"}),this.trimingFontSize(this.height),this.textContents=this.getTextContents(),this.hideContents()},getTextContents:function(){var t=this.amintext2.find("span"),i=[];if(0==t.length){var e={element:this.amintext2,text:this.amintext2.text().replaceAll("&nbsp;"," ")};0<this.amintext2.find("b").length&&(e.bold=!0),0<this.amintext2.find("i").length&&(e.italic=!0),0<this.amintext2.find("u").length&&(e.underline=!0),i.push(e)}else for(var o=0;o<t.length;o++){var s=$(t[o]),e={element:s,text:s.text().replaceAll("&nbsp;"," ")};0<s.find("b").length&&(e.bold=!0),0<s.find("i").length&&(e.italic=!0),0<s.find("u").length&&(e.underline=!0),i.push(e)}return i},hideContents:function(){for(var t=0;t<this.textContents.length;t++)this.textContents[t].element.css("display","none")},trimingFontSize:function(t){function s(t,i){var e;t.css&&(e=t.css(i))&&(e=parseInt(e.replace("px","")),e--,"line-height"==i&&(e*=.85),t.css(i,e+"px"))}for(;this.amintext2.height()>t&&$.system.name!=$.system.IOS&&!($.browser.chrome&&this.fontSize<=12)&&(function t(i){if((i=i.children())&&0!=i.length)for(var e=0;e<i.length;e++){var o=$(i[e]);o.is("span")&&(s(o,"font-size"),s(o,"line-height")),t(o)}}(this.amintext2),this.fontSize--,!(this.fontSize<=0)););},parseConfig:function(t){return{x:t.location.x,y:t.location.y,width:t.location.width,height:t.location.height,alpageHeighta:t.alpageHeighta,alpha:t.alpha,effectType:t.effectType,textStr:t.textStr||t.formats.defaultFormat.htmlText,rotation:t.location.rotation,fontName:t.formats.defaultFormat.fontName,fontSize:t.formats.defaultFormat.fontSize,color:t.formats.defaultFormat.color,tbold:t.formats.defaultFormat.bold,italic:t.formats.defaultFormat.italic,action:t.action,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,lineH:t.HRate,pageW:t.formats.defaultFormat.pageW,pageH:t.formats.defaultFormat.pageH,hasShadow:parseBool(t.shadow.hasDropShadow),shadow:t.shadow,lineHeightRation:t.lineHeightRation,languageLayout:t.languageLayout,animation:t.animation}},play:function(){this.TextAnimate()},pause:function(){if(this.timer&&(this.timer.stop(),this.timer=null),"Scale Word"==this.config.effectType){var t=this.textContents.slice();t.reverse();for(var i=0;i<t.length;i++)t[i].element.css({"-webkit-transform":"scale(2.5)","-ms-transform":"scale(2.5)",transform:"scale(2.5)",display:"inline-block",opacity:"0","-webkit-transition":"","-ms-transition":"",transition:""})}},TextAnimate:function(){switch(this.hideContents(),this.config.effectType){case"Default":this.initAmin();break;case"Letter Spacing":this.litterText();break;case"Scale Word":this.scaleText();break;case"Right To Left":this.RightText();break;default:this.initAmin()}},changeAnimateContent:function(t){var i=this.textContents[t];return t=i.element,i=i.text,t.text(""),t.css("display","block"),{content:t,text:i}},initAmin:function(){this.timer&&this.timer.stop(),this.cel=this.row=0,this.currentText="";var o=new TextFormatAnalyzer(this.config.textStr).getLines(),s=this.textContents[0].element;s.css({display:"block"}),s=this.changeAnimateContent(0).content,this.timer=function(){var t,i=o[this.row],e=o[this.row][this.cel];if("&"==e&&"&nbsp;"===(t=i.slice(this.cel,this.cel+6))&&(this.cel+=5,e=t),"<"==e){for(t=i.indexOf(">",this.cel),e=o[this.row][t+1];"<"==e&&-1!=(t=i.indexOf(">",t+1));)e=o[this.row][t+1];e=i.substring(this.cel,t+2),this.cel=t+1}e&&(this.currentText+=e),this.cel+=1,(this.cel>=o[this.row].length||!i.length)&&(this.currentText+="<br/>",this.row+=1,this.cel=0,this.row>=o.length)?(s.html(this.currentText),this.row=0,this.currentText="",this.timer.stop(),this.timer=null):s.html(this.currentText)}.interval(this,200)},scaleText:function(){this.timer2&&(clearTimeout(this.timer2),this.timer2=null),this.container.css({perspective:"200","-webkit-perspective":"200",overflow:""});var t=this.textContents.slice();t.reverse();for(var i=0;i<t.length;i++){var e=t[i];e.element.css({"-webkit-transform":"scale(2.5)","-ms-transform":"scale(2.5)",transform:"scale(2.5)",display:"inline-block",opacity:"0"}),!function(t){this.timer2=setTimeout(function(){t.element.css({opacity:"1","-webkit-transform":"scale(1)","-ms-transform":"scale(1)",transform:"scale(1)","-webkit-transition":"all 0.25s","-ms-transition":"all 0.25s",transition:"all 0.25s"}),t.element.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){t.element.css({"-webkit-transition":"","-ms-transition":"",transition:""})}.bind(this))}.bind(this),100+200*i)}.call(this,e)}},RightText:function(){this.amintext2.css({position:"absolute",opacity:.1,left:"50px"});for(var t=0;t<this.textContents.length;t++)this.textContents[t].element.css("display","inline-block");!function(){this.amintext2.animate({opacity:1,left:"0px"})}.delay(this,100)},litterText:function(t,i){this.timer&&this.timer.stop();var e,o,s=0,n=0,a=-this.fontSize,h=function(t){t=this.changeAnimateContent(t),e=t.content,o=t.text}.bind(this);h(0),this.timer=function(){var t,i;s<o.length?((t=$("<div></div>")).css({position:"relative",display:"inline-block",top:a+"px"}),i=o.substr(s,1),t.text(i)," "==i&&t.css({width:this.fontSize/2+"px",height:this.fontSize+"px"}),e.append(t),t.animate({top:"0px"},400,"swing"),s++):++n>=this.textContents.length?(this.timer.stop(),this.timer=null):(h(n),s=0)}.interval(this,200)},initEvents:function(){this.addActionEvent(this.container),this.container.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"TextAmin",this.config.x,this.config.y,this.config.width,this.config.height])}.bind(this))},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.setPosition(),this.amintext.css("font-size",this.fontSize+"px"),this.amintext2.css("font-size",this.fontSize+"px"),this.resizeText(this.pageWidth)},resizeText:function(t){t=t/this.originWidth/this.adjustFontSize,this.amintext.css({"-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","transform-origin":"0% 0%","-webkit-transform":"scale("+t+") rotate("+this.config.rotation+"deg)","-moz-transform":"scale("+t+") rotate("+this.config.rotation+"deg)","-ms-transform":"scale("+t+") rotate("+this.config.rotation+"deg)","-o-transform":"scale("+t+") rotate("+this.config.rotation+"deg)",transform:"scale("+t+") rotate("+this.config.rotation+"deg)"}),this.container.css({width:this.width*t+"px",height:this.height*t+"px"})},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.container.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.container.one(t,function(){this.container.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.container.css({left:this.x+"px",top:this.y+"px"})}}).extend(PageItem.Item),Class("StarText",{Package:"PageItem",create:function(t,i,e,o,s){this._super(t,i,e,o),this.animateConfig(),this.originWidth=this.config.pageW||this.config.pageH,this.originHeight=this.config.pageH,this.speed=1/this.config.moveSpeed*24e3,this.tid=s,this.id="startext"+s,this.scrollid="starwars"+this.id,this.textli="",this.offset=0,this.stepping=.2,this.initText(),this.initEvents(),parseBool(this.config.reflection)&&this.imageReflection(this.startext),1!=parseInt(this.config.alpha)&&this.startext.css({opacity:this.config.alpha}),this.onResize(this.pageWidth,this.pageHeight)},initText:function(){this.alignCss="","right"==this.config.languageLayout&&(this.alignCss={"text-align":"right",direction:"rtl"});var t=new TextFormatAnalyzer(this.config.textStr);this.fontSize=t.getMinFontSize(),this.text=t.getHTML(this.alignCss),this.text.css({"width:":"100%",height:"100%"}),this.adjustFontSize=$.browser.chrome?Math.max(1,12/this.fontSize):1,this.width=this.config.width*this.originWidth*this.adjustFontSize,this.height=this.config.height*this.originHeight*this.adjustFontSize,this.container=$("<div id='"+this.id+" class='textContainer' style='position:absolute; height:"+this.height+"px;width:"+this.width+"px;'></div>"),this.startext=$("<div style='position:absolute; overflow:hidden;height:"+this.height+"px;width:"+this.width+"px;opacity:"+this.config.alpha+"'></div>"),this.sFontSize=this.config.fontSize?this.config.fontSize.replaceAll('"',""):"9",this.startext2=$("<div id='"+this.scrollid+"' style='word-wrap: break-word;'></div>"),this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.config.pageW?this.startext2.css({position:"absolute",width:"80%",left:"10%",top:"-40%","-webkit-transform-origin":this.width/2+"px "+this.height+"px","-moz-transform-origin":this.width/2+"px "+this.height+"px","-ms-transform-origin":this.width/2+"px "+this.height+"px","-o-transform-origin":this.width/2+"px "+this.height+"px","transform-origin":this.width/2+"px "+this.height+"px"}):this.startext2.css({position:"absolute"}),this.config.action||t.htmlHasATag()||this.container.css({"pointer-events":"none"}),!0===parseBool(this.config.tbold)&&this.startext2.css({"font-weight":"bold"}),!0===parseBool(this.config.italic)&&this.startext2.css({"font-style":"italic"}),this.addShadow(this.startext),this.container.append(this.startext),this.parent.append(this.container),this.startext.append(this.startext2),this.startext2.append(this.text)},parseConfig:function(t){return{x:t.location.x,y:t.location.y,width:t.location.width,height:t.location.height,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,alpha:t.alpha,textStr:t.strText||t.format.htmlText,fontName:t.format.font,fontSize:t.format.size,color:t.format.color,tbold:t.format.bold,italic:t.format.italic,align:t.format.align,pageW:t.format.pageW,pageH:t.format.pageH,action:t.action,repeat:t.repeat,moveSpeed:t.moveSpeed,lineH:t.HRate,hasShadow:parseBool(t.shadow.hasDropShadow),shadow:t.shadow,languageLayout:t.languageLayout,animation:t.animation}},play:function(){this.config.pageW?(this.playText=!0,this.textHeight=this.startext2.height(),this.initScroll()):this.initScrollOld()},pause:function(){this.config.pageW?(this.playText=!1,this.setRunCss(["",1.5*this.height])):this.startext2.stop()},setRunCss:function(t){this.startext2.css({"-webkit-transition":t[0],"-o-transition":t[0],"-moz-transition":t[0],transition:t[0],"-webkit-transform":"rotateX(70deg)  translateY("+t[1]+"px)","-moz-transform":"rotateX(70deg)   translateY("+t[1]+"px)","-o-transform":"rotateX(70deg)   translateY("+t[1]+"px)","-mos-transform":"rotateX(70deg) t translateY("+t[1]+"px)",transform:"rotateX(70deg)   translateY("+t[1]+"px)"})},initScrollOld:function(){this._wrap=this.startext2;var t=this.text.length;this._wrap.height();for(var i=t;0<=i;i--)$(t[i]).css("fontSize",this.sFontSize-this.offset+"px"),this.offset+=this.stepping;this._wrap.css("marginTop",this.height),this.initScrollTextOld()},initScrollTextOld:function(){var i=this,e=i._wrap,o=i.tid,t=e.height();e.animate({marginTop:-t+"px"},i.speed,"linear",function(){if("true"==i.config.repeat){for(var t=o;0<=t;t--)$(o[t]).css("fontSize",i.sFontSize-i.offset+"pt"),i.offset+=i.stepping;e.css("marginTop",i.height),i.offset=0,i.stepping=.2,i.initScrollTextOld()}else e.css("marginTop",0)})},initScroll:function(){this.setRunCss(["",1.5*this.height]),function(){this.playText&&this.initScrollText()}.delay(this,30)},initScrollText:function(){(this.transitionEnd=this.whichTransitionEvent())&&this.startext2.one(this.transitionEnd,function(t){t.stopPropagation(),"true"==this.config.repeat&&this.initScroll()}.bind(this)),this.setRunCss(["all "+this.speed+"ms linear",-this.textHeight])},whichTransitionEvent:function(){var t,i=this.startext2[0],e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",MsTransition:"msTransitionEnd"};for(t in e)if(void 0!==i.style[t])return e[t]},initEvents:function(){this.addActionEvent(this.container),this.container.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"StarText",this.config.x,this.config.y,this.config.width,this.config.height])}.bind(this))},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.setPosition(),this.resizeText(this.pageWidth)},resizeText:function(t){t=t/this.originWidth/this.adjustFontSize,this.startext.css({perspective:this.height/2+"px","-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","transform-origin":"0% 0%","-webkit-transform":"scale("+t+")","-moz-transform":"scale("+t+")","-ms-transform":"scale("+t+")","-o-transform":"scale("+t+")",transform:"scale("+t+")"}),this.container.css({width:this.width*t+"px",height:this.height*t+"px"})},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.container.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.container.one(t,function(){this.container.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.container.css({left:this.x+"px",top:this.y+"px"})}}).extend(PageItem.Item),Class("Banner",{Package:"PageItem",create:function(t,i,e,o,s){this._super(t,i,e,o),this.animateConfig(),this.ratio=2,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.banners=this.config.banners,this.id="banner"+s,this.time=this.banners.length?1e3*this.banners[0].displayTime:this.banners?1e3*this.banners.displayTime:2e3,this.btnWidth=30,this.shadowColor=260<this.width?"#000":"#111",this.initHtml(),this.initCss(),this.getPosition(),this.initEvent(),this.drawNextImage(this.images[0]),this.setRotation(this.banner,this.config.rotation)},parseConfig:function(t){return{width:t.location.width,height:t.location.height,rotation:t.location.rotation,x:t.location.x,y:t.location.y,alpha:t.alpha,action:t.action,selectBtn:t.selectBtn,autoBool:parseBool(t.autoBool),banners:t.banners,animation:t.animation}},initHtml:function(){if(this.banner=$("<div ></div>"),this.canvas=$("<canvas class='box' style='background:#ffffff;width:"+this.width+"px;height:"+this.height+"px;' width='"+this.width*this.ratio+"' height='"+this.height*this.ratio+"'></canvas>"),this.leftBtn=$("<img src='"+uiBaseURL+"pre_image.png' />"),this.rightBtn=$("<img src='"+uiBaseURL+"next_image.png' />"),this.leftBtn.css({position:"absolute",width:"20px",height:"20px",left:"0",top:(this.height-20)/2+"px"}),this.rightBtn.css({position:"absolute",width:"20px",height:"20px",right:"0",top:(this.height-20)/2+"px"}),this.images=[],!this.banners.length){if(!this.banners.banner)return;var t=new Image,i=this.fixRelativePath(this.banners.banner.imageUrl);bookConfig.useTheAliCloudChart&&(i=this.getOssUrl(i,this.width,this.height,"lfit")),t.src=i,this.images.push(t)}for(var e=0;this.banners.length&&e<this.banners.length;e++)t=new Image,i=this.fixRelativePath(this.banners[e].imageUrl),bookConfig.useTheAliCloudChart&&(i=this.getOssUrl(i,this.width,this.height,"lfit")),t.src=i,this.images.push(t);this.ctx=this.canvas[0].getContext("2d"),this.banner.append(this.canvas),parseBool(this.config.selectBtn)&&this.banner.append(this.leftBtn).append(this.rightBtn),this.parent.append(this.banner)},initCss:function(){this.banner.css({opacity:this.config.alpha,position:"absolute",width:this.width+"px",height:this.height+"px",left:this.x+"px",top:this.y+"px"}),this.leftBtn.css({cursor:"pointer"}),this.rightBtn.css({cursor:"pointer"})},initEvent:function(){this.leftBtn.onTap(function(t){t.preventDefault(),t=this.images.pop(),this.images.unshift(t),this.drawNextImage(this.images[0])}.bind(this)),this.rightBtn.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Banner",this.config.x,this.config.y,this.config.width,this.config.height]),this.drawNextImage(this.images[1]),t=this.images.shift(),this.images.push(t)}.bind(this))},getPosition:function(){x1=this.width*this.ratio,y1=this.height/2*this.ratio,x2=.85*this.width*this.ratio,y2=this.height*this.ratio,x3=.76*this.width*this.ratio,y3=.88*this.height*this.ratio,x4=this.width*this.ratio,y4=this.height/2*this.ratio,this.positions=[{x:x1,y:y1},{x:x2,y:y2},{x:x3,y:y3},{x:x4,y:y4}]},getImageConfig:function(t){var i,e,o=t.naturalWidth/t.naturalHeight>this.width/this.height?(t=t.naturalWidth<this.width?(i=t.naturalWidth,e=t.naturalHeight,(this.width-i)/2):(i=this.width,o=this.width/t.naturalWidth,e=t.naturalHeight*o,0),(this.height-e)/2):t.naturalHeight<this.height?(i=t.naturalWidth,e=t.naturalHeight,t=(this.width-i)/2,(this.height-e)/2):(o=this.height/t.naturalHeight,e=this.height,i=t.naturalWidth*o,t=(this.width-i)/2,0);return{width:i,height:e,left:t*this.ratio,top:o*this.ratio}},drawWhiteBg:function(){this.ctx.save(),this.ctx.fillStyle="#fff",this.ctx.fillRect(0,0,this.width*this.ratio,this.height*this.ratio),this.ctx.restore()},drawNextImage:function(i){if(i){if(this.ctx.beginPath(),i.complete){if(!i.naturalWidth)return this.canvas.css({background:"transparent"}),void(this.imgError=!0);var t=this.getImageConfig(i);this.drawWhiteBg(),this.ctx.drawImage(i,t.left,t.top,t.width*this.ratio,t.height*this.ratio)}else i.onload=function(){var t;i.naturalWidth?(t=this.getImageConfig(i),this.drawWhiteBg(),this.ctx.drawImage(i,t.left,t.top,t.width*this.ratio,t.height*this.ratio)):(this.canvas.css({background:"transparent"}),this.imgError=!0)}.bind(this);this.ctx.closePath()}},cutImg:function(i){this.ctx.beginPath();var t,e=this.images[0];e.complete?e.naturalWidth?(t=this.getImageConfig(e),this.ctx.beginPath(),this.ctx.save(),this.ctx.moveTo(0,0),0<i[0].y&&this.ctx.lineTo(i[0].x,0),this.ctx.lineTo(i[0].x,i[0].y),this.ctx.lineTo(i[1].x,i[1].y),this.ctx.lineTo(0,this.height*this.ratio),this.ctx.lineTo(0,0),this.ctx.clip(),this.drawWhiteBg(),this.ctx.drawImage(e,t.left,t.top,t.width*this.ratio,t.height*this.ratio),this.ctx.restore(),this.ctx.closePath()):(this.canvas.css({background:"transparent"}),this.imgError=!0):e.onload=function(){var t;e.naturalWidth?(t=this.getImageConfig(e),this.ctx.beginPath(),this.ctx.save(),this.ctx.moveTo(0,0),0<i[0].y&&this.ctx.lineTo(i[0].x,0),this.ctx.lineTo(i[0].x,i[0].y),this.ctx.lineTo(i[1].x,i[1].y),this.ctx.lineTo(0,this.height*this.ratio),this.ctx.lineTo(0,0),this.ctx.clip(),this.drawWhiteBg(),this.ctx.drawImage(e,t.left,t.top,t.width*this.ratio,t.height*this.ratio),this.ctx.restore(),this.ctx.closePath()):(this.canvas.css({background:"transparent"}),this.imgError=!0)}.bind(this)},drawCover:function(t){this.ctx.beginPath();var i=this.ctx.createLinearGradient(0,0,1.2*t[0].x,.8*t[1].x);i.addColorStop(0,"#fff"),i.addColorStop(.6,"#ddd"),i.addColorStop(1,"#eee"),this.ctx.fillStyle=i,this.ctx.moveTo(t[0].x,t[0].y),this.ctx.lineTo(t[1].x,t[1].y),this.ctx.lineTo(t[2].x,t[2].y),this.ctx.lineTo(t[3].x,t[3].y),this.ctx.lineTo(t[0].x,t[0].y),this.ctx.fill(),this.ctx.closePath(),this.drawShadow(t)},drawShadow:function(t){this.ctx.beginPath(),this.ctx.save(),1<=t[0].x?(this.ctx.shadowColor=this.shadowColor,this.ctx.strokeStyle="#dedede",this.ctx.shadowBlur=.075*(this.width-t[2].x/2),this.ctx.shadowOffsetX=.09*-(this.width-t[1].x),this.ctx.lineWidth=2):this.ctx.restore(),this.ctx.moveTo(t[0].x+2,.9*t[0].y),this.ctx.lineTo(t[1].x+2,.95*t[1].y),1<=t[0].x&&(this.ctx.stroke(),this.ctx.restore()),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.save(),1<=t[0].x?(this.ctx.shadowColor=this.shadowColor,this.ctx.strokeStyle="#dedede",this.ctx.shadowBlur=.075*(this.width-t[2].x/2),this.ctx.shadowOffsetX=.13*-(this.width-t[1].x),this.ctx.lineWidth=2):this.ctx.restore(),this.ctx.moveTo(t[0].x+2,.9*t[0].y),this.ctx.lineTo(t[1].x+2,.95*t[1].y),1<=t[0].x&&(this.ctx.stroke(),this.ctx.restore()),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.save(),1<=t[0].x?(this.ctx.shadowColor=this.shadowColor,this.ctx.strokeStyle="#dedede",this.ctx.lineWidth=2,this.ctx.shadowBlur=.075*(this.width-t[2].x/2),this.ctx.shadowOffsetX=.04*(this.width-t[2].x)):this.ctx.restore(),this.ctx.moveTo(t[0].x,t[0].y),this.ctx.lineTo(t[1].x,t[1].y),1<=t[0].x&&(this.ctx.stroke(),this.ctx.restore()),this.ctx.closePath()},play:function(){this.imgError||this.images.length<=1||!this.config.autoBool||this.timer||this.timeOut||(this.timeOut=setTimeout(this.animate.bind(this),this.time))},pause:function(){this.imgError||this.images.length<=1||!this.config.autoBool||(clearTimeout(this.timeOut),this.timeOut=null,cancelAnimationFrame(this.timer),this.timer=null)},getRunPosition:function(){this.positions[0].y<=0&&(this.positions[0].x-=.0175*this.width*this.ratio),this.positions[0].x<this.width/2&&(this.positions[0].x-=.0035*this.width*this.ratio),0<this.positions[0].y&&(this.positions[0].y-=.05*this.height*3.5*this.ratio),0<this.positions[1].x&&(this.positions[1].x-=.0175*this.width*this.ratio),this.positions[2].x-=.0085*this.width*3.5*this.ratio,this.positions[2].y-=.01925*this.height*this.ratio,this.positions[2].x<=.4*this.width&&(this.positions[2].y+=.01925*this.height*this.ratio),this.positions[0].y<=0&&(this.positions[3].x-=.03325*this.width*this.ratio),0<this.positions[3].y&&(this.positions[3].y-=.05*this.height*3.5*this.ratio)},animate:function(){var t;this.ctx.clearRect(0,0,this.width,this.height),!this.imgError&&(this.drawNextImage(this.images[1]),this.cutImg(this.positions),this.drawCover(this.positions),this.getRunPosition(),0<=this.positions[0].x&&(this.timer=requestAnimationFrame(this.animate.bind(this))),this.positions[0].x<0)&&(this.pause(),this.drawNextImage(this.images[1]),t=this.images.shift(),this.images.push(t),this.getPosition(),this.timeOut=setTimeout(this.animate.bind(this),this.time))},onResize:function(t,i){var e=this.config.width*t/this.width;this.fScale=t/this.pageWidth,this.pageWidth=t,this.pageHeight=i,this.btnWidth*=this.fScale,this.banner.css({"-webkit-transform-origin":"0 0","-o-transform-origin":"0 0","-moz-transform-origin":"0 0","-ms-transform-origin":"0 0","transform-origin":"0 0","-webkit-transform":"scale("+e+")","-o-transform":"scale("+e+")","-ms-transform":"scale("+e+")","-moz-transform":"scale("+e+")",transform:"scale("+e+")"}),this.setPosition()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.banner.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.banner.one(t,function(){this.banner.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.banner.css({left:this.x+"px",top:this.y+"px"})}}).extend("Item"),Class("Print",{Package:"PageItem",create:function(t,i,e,o,s){this._super(t,i,e,o),this.pageIndex=s,this.initArea(),this.initEvents(),this.onResize()},initArea:function(){this.area=$("<div class='flip-action'></div>"),this.button=$("<img src = '"+uiBaseURL+"print_icon.png'></img>"),this.parent.append(this.area),this.area.append(this.button),this.initStyle(),this.initImageForPrint()},initStyle:function(){this.area.css({position:"absolute",border:Math.floor(this.config.borderWidth/2)+"px solid "+Color(this.config.borderColor).rgba(this.config.overAlpha),opacity:this.config.alpha,"border-radius":Math.floor(this.config.borderWidth/2)+"px","-webkit-transform-origin":"50% 50%","-moz-transform-origin":"50% 50%","-ms-transform-origin":"50% 50%","-o-transform-origin":"50% 50%","transform-origin":"50% 50%"}),this.button.css({position:"absolute",width:"16px",height:"16px",top:"5px",right:"5px",cursor:"pointer"})},getImageSizeForMM:function(t,i){var e=t/i;return 690/1021<e?690<t&&(i=(t=690)/e):1021<i&&(t=(i=1021)*e),{width:t,height:i}},getScaleConfig:function(t,i){var e=bookConfig.largePageWidth,o=bookConfig.largePageHeight,s=t/i,n=e/o,a=e*this.config.x,h=o*this.config.y;return n<s&&e<=t?{y:(h-(o-e/s)/2)/i,x:this.config.x,pWidth:e,pHeight:o}:s<n&&o<=i?{x:(a-(e-o*s)/2)/t,y:this.config.y,pWidth:e,pHeight:o}:{x:this.config.x,y:this.config.y,pWidth:t,pHeight:i}},initImageForPrint:function(){this.ready=!1;var t=this.getImageSizeForMM(bookConfig.largePageWidth*this.config.width,bookConfig.largePageHeight*this.config.height),g=t.width,l=t.height,d=(this.printedImage=$("<div></div>"),$("<img width='"+g+"px' height = '"+l+"px'></img>")),c=(this.printedImage.append(d),$("<img></img>")),p=$("<canvas width='"+g+"px' height = '"+l+"px'></canvas>");c.on("load",function(t){try{var i,e,o,s,n,a,h,r=p[0].getContext("2d");r&&(i=c[0].naturalWidth,e=c[0].naturalHeight,s=i*this.config.x,n=e*this.config.y,a=i*this.config.width,h=e*this.config.height,bookConfig.bookPageStretch||(s=i*(o=this.getScaleConfig(i,e)).x,n=e*o.y,a=o.pWidth*this.config.width,h=o.pHeight*this.config.height),r.drawImage(c[0],s,n,a,h,0,0,g,l),d[0].src=p[0].toDataURL("image/png"),c.attr("src",""))}catch(t){console.error&&console.error("Load printed image failed."),this.ready=!0}}.bind(this)),d.on("load",function(t){this.ready=!0}.bind(this)),getPageDir(this.pageIndex,"normal",originTotalPageCount).then(function(t){c.attr("src",t)})},parseConfig:function(t){return{width:t.location.width,height:t.location.height,rotation:t.location.rotation,x:t.location.x,y:t.location.y,alpha:t.alpha,overAlpha:t.overAlpha,borderColor:t.borderColor,overColor:t.overColor,borderWidth:t.barderWidth,printTitle:t.printTitle,printDesc:t.printDesc}},initEvents:function(){parseInt(this.config.rotation);var t=Color(this.config.overColor),i=parseFloat(this.config.overAlpha),e=t.rgba(i);this.area.bind(isPhone()||isPad()?_event._down:_event._enter,function(t){this.area.css({"background-color":e})}.bind(this)),this.area.bind(isPhone()||isPad()?_event._up:_event._leave,function(t){this.area.css({"background-color":""})}.bind(this)),this.button.asButton(),this.button.bind(_event._start,function(t){return!1}),this.button.onTap(function(t){return BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Print",this.config.x,this.config.y,this.config.width,this.config.height]),this.print(),!1}.bind(this))},print:function(){if(this.ready)try{this.printedImage.printArea()}catch(t){console.error&&console.error("Print image area failed.")}else this.print.delay(this,300)},onResize:function(t,i){t&&(this.pageWidth=t),i&&(this.pageHeight=i),this.left=this.pageWidth*this.config.x-this.config.borderWidth,this.top=this.pageHeight*this.config.y-this.config.borderWidth,this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.left<0&&(this.left=0),this.top<0&&(this.top=0),this.width+parseInt(this.config.borderWidth)>this.pageWidth&&(this.width=this.pageWidth-parseInt(this.config.borderWidth)),this.area.css({left:this.left+"px",top:this.top+"px",width:this.width+"px",height:this.height+"px"})}}).extend(PageItem.Item),Class("Prismatic",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.animateConfig(),this.color=Color(this.config.color).toString(),this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.colorA=Color(this.config.colorA).toString(),this.colorB=Color(this.config.colorB).toString(),this.prismatic=$("<canvas width='"+this.width+"' height='"+this.height+"' id='prismatic'></canvas>"),this.prismatic.css({position:"absolute",opacity:this.config.alpha,left:this.x+"px",top:this.y+"px"}),this.setRotation(this.prismatic,this.config.rotation),this.parent.append(this.prismatic),this.draw(),this.initEvent(),parseBool(this.config.reflection)&&this.imageReflection(this.prismatic)},parseConfig:function(t){return{x:t.location.x,y:t.location.y,width:t.location.width,rotation:t.location.rotation,height:t.location.height,alpha:t.alpha,fillStyle:t.fillStyle,color:t.color,colorA:t.gradientColorA,colorB:t.gradientColorB,angle:t.angle,spalpha:t.spalpha,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,borderWidth:t.borderWidth,borderColor:t.borderColor,borderAlpha:t.borderAlpha,sh:parseBool(t.shadow.hasDropShadow),sa:t.shadow.shadowAngle,sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,action:t.action,animation:t.animation}},draw:function(){var t,i=this.prismatic[0],e=i.getContext("2d");e.clearRect(0,0,i.width,i.height),this.width-=this.config.borderWidth,this.height-=this.config.borderWidth,e.beginPath(),e.lineCap="round",e.lineJoin="round",e.strokeStyle=Color(this.config.borderColor).toString(),e.lineWidth=this.config.borderWidth,e.globalAlpha=this.config.spalpha,e.moveTo(this.config.borderWidth,this.height/2),e.lineTo(this.width/2,this.height),e.lineTo(this.width-2,this.height/2),e.lineTo(this.width/2,this.config.borderWidth),this.config.sh&&this.setShapeShadow(e),"gradient"==this.config.fillStyle&&(i=this.config.angle*Math.PI/180,t=(Number(this.config.angle)+180)*Math.PI/180,(i=e.createLinearGradient(this.width/2+this.width/2*Math.cos(t),this.height/2+this.height/2*Math.sin(t),this.width/2+this.width/2*Math.cos(i),this.height/2+this.height/2*Math.sin(i))).addColorStop(0,this.colorA),i.addColorStop(1,this.colorB),e.fillStyle=i,e.fill()),"Pure"==this.config.fillStyle&&(e.fillStyle=this.color,e.fill()),e.closePath(),0!=this.config.borderWidth&&e.stroke()},initEvent:function(){this.linkURL="",null!=this.config.action&&(null!=this.config.action.length&&(this.config.action=this.config.action[0]),this.linkURL=this.config.action.url,null!=this.linkURL)&&"www"==this.linkURL.substr(0,3).toLowerCase()&&(this.linkURL="http://"+this.linkURL),this.prismatic.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Prismatic",this.config.x,this.config.y,this.config.width,this.config.height]),bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"Prismatic",event_label:"Page"+BookInfo.getCurrentPages()[0]})}.bind(this)),this.addActionEvent(this.prismatic)},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.prismatic[0].width=this.width,this.prismatic[0].height=this.height,this.draw(),this.setPosition()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.prismatic.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.prismatic.one(t,function(){this.prismatic.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.prismatic.css({left:this.x+"px",top:this.y+"px"})}}).extend(PageItem.Item),Class("Triangle",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.animateConfig(),this.color=Color(this.config.color).toString(),this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.width=Number(this.config.width*this.pageWidth),this.height=Number(this.config.height*this.pageHeight),this.config.borderWidth=Number(this.config.borderWidth),this.colorA=Color(this.config.ColorA).toString(),this.colorB=Color(this.config.ColorB).toString(),this.config.triangleRight=parseBool(this.config.triangleRight),this.config.triangleLeft=parseBool(this.config.triangleLeft),this.borderColor=Color(this.config.borderColor).toString(),this.triangle=$("<canvas width='"+this.width+"' height='"+this.height+"' id='myCanvas'></canvas>"),this.triangle.css({position:"absolute",opacity:this.config.alpha,left:this.x+"px",top:this.y+"px"}),this.setRotation(this.triangle,this.config.rotation),this.parent.append(this.triangle),this.draw(),this.initEvent(),parseBool(this.config.reflection)&&this.imageReflection(this.triangle)},parseConfig:function(t){return{width:t.location.width,height:t.location.height,x:t.location.x,y:t.location.y,rotation:t.location.rotation,alpha:t.alpha,color:t.color,fillStyle:t.fillStyle,ColorA:t.gradientColorA,ColorB:t.gradientColorB,angle:t.angle,spalpha:t.spalpha,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,triangleRight:t.triangleRight,triangleLeft:t.triangleLeft,borderWidth:t.borderWidth,borderColor:t.borderColor,borderAlpha:t.borderAlpha,sh:parseBool(t.shadow.hasDropShadow),sa:t.shadow.shadowAngle,sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,arrowType:t.arrowType,action:t.action,animation:t.animation}},draw:function(){var t,i=this.triangle[0],e=i.getContext("2d");e.clearRect(0,0,i.width,i.height),e.beginPath(),e.strokeStyle=Color(this.config.borderColor).toString(),e.lineWidth=this.config.borderWidth,e.globalAlpha=this.config.spalpha,e.lineCap="round",e.lineJoin="round",this.width-=this.config.borderWidth,this.height-=this.config.borderWidth,0==this.config.triangleRight&&0==this.config.triangleLeft&&(e.moveTo(this.config.borderWidth,this.height),e.lineTo(this.width,this.height),e.lineTo(this.width/2,this.config.borderWidth)),1==this.config.triangleRight&&0==this.config.triangleLeft&&(e.moveTo(this.config.borderWidth,this.config.borderWidth),e.lineTo(this.config.borderWidth,this.height),e.lineTo(this.width,this.height)),0==this.config.triangleRight&&1==this.config.triangleLeft&&(e.moveTo(this.width,this.config.borderWidth),e.lineTo(this.width,this.height),e.lineTo(this.config.borderWidth,this.height)),1==parseBool(this.config.sh)&&this.setShapeShadow(e),"gradient"==this.config.fillStyle&&(i=this.config.angle*Math.PI/180,t=(Number(this.config.angle)+180)*Math.PI/180,(i=e.createLinearGradient(this.width/2+this.width/2*Math.cos(t),this.height/2+this.height/2*Math.sin(t),this.width/2+this.width/2*Math.cos(i),this.height/2+this.height/2*Math.sin(i))).addColorStop(0,this.colorA),i.addColorStop(1,this.colorB),e.fillStyle=i,e.fill()),"Pure"==this.config.fillStyle&&(e.fillStyle=this.color,e.fill()),e.closePath(),0!=this.config.borderWidth&&e.stroke()},initEvent:function(){this.linkURL="",null!=this.config.action&&(null!=this.config.action.length&&(this.config.action=this.config.action[0]),this.linkURL=this.config.action.url,null!=this.linkURL)&&"www"==this.linkURL.substr(1,3).toLowerCase()&&(this.linkURL="http://"+this.linkURL),this.triangle.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Triangle",this.config.x,this.config.y,this.config.width,this.config.height]),bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"Triangle",event_label:"Page"+BookInfo.getCurrentPages()[0]})}.bind(this)),this.addActionEvent(this.triangle)},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.triangle[0].width=this.width,this.triangle[0].height=this.height,this.draw(),this.setPosition()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.container.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.container.one(t,function(){this.container.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.triangle.css({left:this.x+"px",top:this.y+"px"})}}).extend(PageItem.Item),global.hddr.soo1="tm",Class("AlphaTransitionBanner",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.config.images.length<1||(this.animateConfig(),this.initConfig(e,o),this.initHtml(),this.initCss(),this.addItem(),this.leftButton.onMouseDown(this,this.prePage),this.rightButton.onMouseDown(this,this.nextPage),this.setTitle(0),this.toolBar.hide(),this.currentImageHolder=this.image0Holder,this.currentImage=2%this.images.length,this.image0Holder.append(this.images[0]),this.image1Holder.append(this.images[1]),this.leftButton.remove(),this.rightButton.remove(),this.initEvent())},initEvent:function(){this.background.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"AlphaTransitionBanner",this.config.x,this.config.y,this.config.width,this.config.height])}.bind(this))},initConfig:function(t,i){if("string"==typeof this.config.images){if(""==this.config.images.trim())return void(this.photos=[]);this.photos=[{url:this.config.images}]}else this.photos=Instance.copy(this.config.images);this.photos.node instanceof Array&&(this.photos=this.photos.node),this.photos instanceof Array||(this.photos=[this.photos.node]),this.photos.length<1||(this.photos instanceof Array||null==this.photos.node||(this.photos=null==this.photos.node[1]?[this.photos.node]:this.photos.node),this.imgIndex=-1,this.imgWidth=this.config.width*t,this.imgHeight=this.config.height*i,this.boxWidth=this.imgWidth-8,this.boxHeight=this.imgHeight-8,this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.interval=3e3,this.duration=1e3*this.config.duration,this.oneTime=1e3*this.config.duration-50,this.fadeTime=10,this.alpha=100,this.images=[])},initHtml:function(){this.background=$("<div class='banner_background'></div>"),this.slideShowBG=new grayBackground(this.background,"#ffffff",1,this.imgWidth,this.imgHeight),this.toolBar=$("<div></div>"),this.imgTitle=$("<div></div>"),this.image0Holder=$("<div></div>"),this.image1Holder=$("<div></div>"),this.img=$("<img style='position : absolute;' />"),this.leftButton=new button(this.toolBar,{buttonType:1,iconURL:uiBaseURL+"previous_down.png"}),this.rightButton=new button(this.toolBar,{buttonType:1,iconURL:uiBaseURL+"next_down.png"}),this.parent.append(this.background),this.background.append(this.image1Holder),this.background.append(this.image0Holder),this.background.append(this.toolBar)},initCss:function(){this.toolBar.css({width:this.boxWidth,height:"35px",position:"relative"}),this.toolBar.css({"z-index":"209"}),this.toolBG=new grayBackground(this.toolBar,"#000000",.4,this.boxWidth,35),this.toolBG.setZindex("210"),this.toolBG.setPosition(0,0),this.imgTitle.css({overflow:"hidden",width:this.boxWidth-20+"px",height:"20px",position:"absolute","z-index":"211",background:"",left:"10px",top:"7px",color:"#ffffff"}),this.toolBar.css({left:(this.imgWidth-this.boxWidth)/2+"px",top:(this.imgHeight-this.boxHeight)/2+"px"}),this.toolBar.append(this.imgTitle),this.rightButton.setCSS({"z-index":212,right:"0px",top:"13px"}),this.leftButton.setCSS({"z-index":212,right:"20px",top:"13px"}),this.background.css({opacity:this.config.alpha,border:"1px solid #333333",width:this.imgWidth,height:this.imgHeight,left:this.x+"px",top:this.y+"px",transform:"translate(0,0)","-webkit-transform":"translate(0,0)",position:"absolute","-webkit-box-shadow":"0 0 10px rgba(40, 40, 40, 0.7)","-moz-box-shadow":"0 0 10px rgba(40, 40, 40, 0.7)","-ms-box-shadow":"0 0 10px rgba(40, 40, 40, 0.7)","-o-box-shadow":"0 0 10px rgba(40, 40, 40, 0.7)","box-shadow":"0 0 10px rgba(40, 40, 40, 0.7)"}),this.setRotation(this.background,this.config.rotation),this.image0Holder.css({background:"#fff",width:this.boxWidth+"px",height:this.boxHeight+"px",left:(this.imgWidth-this.boxWidth)/2+"px",top:(this.imgHeight-this.boxHeight)/2+"px",position:"absolute","z-index":207,opacity:"1"}),this.image1Holder.css({background:"#fff",width:this.boxWidth+"px",height:this.boxHeight+"px",left:(this.imgWidth-this.boxWidth)/2+"px",top:(this.imgHeight-this.boxHeight)/2+"px",position:"absolute","z-index":207,opacity:"1"})},parseConfig:function(t){return{width:t.location.width,height:t.location.height,rotation:t.location.rotation,x:t.location.x,y:t.location.y,alpha:t.alpha,src:t.url,action:t.action,images:t.Images,autoBool:parseBool(t.autoBool),duration:t.duration,animation:t.animation}},play:function(){this.config.images.length<1||this.photos.length<1||!this.config.autoBool||(clearInterval(this.timer1),this.timer1=null,this.timer1=setTimeout(this.transition.bind(this),this.duration))},pause:function(){this.config.autoBool&&(clearTimeout(this.timer1),this.timer1=null)},transition:function(){var t=this;animateOnce(t.currentImageHolder,{opacity:"0"},this.oneTime,function(){t.currentImageHolder.empty().append(t.images[t.currentImage]),t.currentImageHolder==t.image0Holder?(t.image1Holder.css({"z-index":"208",opacity:"1"}),t.image0Holder.css({"z-index":"207",opacity:"1"}),t.currentImageHolder=t.image1Holder):(t.image0Holder.css({"z-index":"208",opacity:"1"}),t.image1Holder.css({"z-index":"207",opacity:"1"}),t.currentImageHolder=t.image0Holder),t.currentImage=(t.currentImage+1)%t.images.length,t.timer1=setTimeout(t.transition.bind(t),t.duration)})},setTitle:function(t){var i=(t=this.photos[t].url).lastIndexOf("/");t=t.substring(i+1),this.imgTitle.html(t)},nextPage:function(){clearInterval(this.timer0),this.timer0=null,this.setTitle(0<this.currentImage?(this.currentImage-1)%this.images.length:this.images.length-1),(this.currentImageHolder==this.image0Holder?($(this.image0Holder).css({"z-index":"207"}),$(this.image1Holder).css({"z-index":"208"}),this.alpha=100,$(this.currentImageHolder).css({opacity:this.alpha/100}),this.currentImageHolder=this.image1Holder,this.image0Holder):($(this.image0Holder).css({"z-index":"208"}),$(this.image1Holder).css({"z-index":"207"}),this.alpha=100,$(this.currentImageHolder).css({opacity:this.alpha/100}),this.currentImageHolder=this.image0Holder,this.image1Holder)).empty().append(this.images[this.currentImage]),this.currentImage=(this.currentImage+1)%this.images.length},prePage:function(){clearInterval(this.timer0),this.timer0=null;var t=2<this.currentImage?(this.currentImage-3)%this.images.length:1==this.currentImage?this.images.length-2:this.images.length-3;this.setTitle(t),this.currentImageHolder==this.image0Holder?($(this.image0Holder).css({"z-index":"207"}),$(this.image1Holder).css({"z-index":"208"}),this.alpha=100,$(this.currentImageHolder).css({opacity:this.alpha/100}),this.currentImageHolder=this.image1Holder,this.image1Holder.empty().append(this.images[t])):($(this.image0Holder).css({"z-index":"208"}),$(this.image1Holder).css({"z-index":"207"}),this.alpha=100,$(this.currentImageHolder).css({opacity:this.alpha/100}),this.currentImageHolder=this.image0Holder,this.image0Holder.empty().append(this.images[this.index])),this.currentImage=(this.currentImage-1)%this.images.length},addItem:function(){for(var t=0;t<this.photos.length;t++){var i=$("<div></div>"),e=(i.css({width:this.boxWidth+"px",height:this.boxHeight+"px"}),(image=$("<img style='position : absolute;' />")).remove(),this.photos[t].url),e=this.fixRelativePath(e),o=getCoverSize(this.boxWidth,this.boxHeight,1024,1024);bookConfig.useTheAliCloudChart&&(e=isPhone()||isPad()?this.getOssUrl(e,o.width,o.height,"lfit"):this.getOssUrl(e,this.boxWidth,this.boxHeight,"lfit")),image.attr("src",e),image.css({width:this.boxWidth+"px",height:this.boxHeight+"px"}),i.append(image),this.images[t]=i}},onResize:function(t,i){if(!(this.config.images.length<1||this.photos.length<1)){for(this.pageWidth=t,this.pageHeight=i,this.imgWidth=this.config.width*this.pageWidth,this.imgHeight=this.config.height*this.pageHeight,this.boxWidth=this.imgWidth-8,this.boxHeight=this.imgHeight-8,this.background.css({width:this.imgWidth,height:this.imgHeight}),this.toolBar.css({width:this.boxWidth,height:"35px"}),this.toolBG.onResize(this.boxWidth,35),this.toolBG.setPosition(0,0),this.imgTitle.css({width:this.boxWidth-20+"px",height:"20px",left:"10px",top:"7px"}),this.slideShowBG.onResize(this.imgWidth,this.imgHeight),t=0;t<this.images.length;t++)this.images[t].children().css({width:this.boxWidth+"px",height:this.boxHeight+"px"}),(isIphone()||isIpad())&&this.setContainerSize(this.images[t].children(),this.boxWidth,this.boxHeight);this.setPosition()}},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.background.css({left:this.x+"px",top:this.y+"px",position:"absolute"}),this.image0Holder.css({width:this.boxWidth+"px",height:this.boxHeight+"px",left:(this.imgWidth-this.boxWidth)/2+"px",top:(this.imgHeight-this.boxHeight)/2+"px",position:"absolute"}),this.image1Holder.css({width:this.boxWidth+"px",height:this.boxHeight+"px",left:(this.imgWidth-this.boxWidth)/2+"px",top:(this.imgHeight-this.boxHeight)/2+"px",position:"absolute"})},changeImage:function(t){this.imgIndex=t,this.img.remove(),t=this.photos[t].url,t=this.fixRelativePath(t);var e=this;this.img.attr("src",t),this.img.on("load",function(){var t=e.boxWidth,i=e.boxHeight;e.img.css({width:t+"px",height:i+"px"}),e.boxWidth!=t||e.boxHeight!=i?e.image0Holder.animate({width:t+8,height:i+8,left:(e.pw-t)/2,top:(e.ph-i)/2},300,function(){e.image0Holder.append(e.img)}):(e.image0Holder.append(e.img),e.image1Holder.append(e.img))})},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.background.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.background.one(t,function(){this.background.css({animation:""})}.bind(this)))},setImagePosition:function(){},show:function(){},hide:function(){}}).extend("Item"),global.hddr.soa8=hddr.soa7+"i",global.hddr.sov9=function(t,i){return t+"ph"+i+"l"},Class("Carousel",{Package:"PageItem",create:function(t,i,e,o,s){if(this._super(t,i,e,o),this.animateConfig(),this.width=Number(this.config.width)*this.pageWidth,this.height=Number(this.config.height)*this.pageHeight,this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.config.duration||(this.config.duration=3),this.id="carousel"+s,this.imageItem=[],(this.images=Instance.copy(this.config.images))&&(this.images.node instanceof Array&&(this.images=this.images.node),this.images[0]||(this.images=[this.images.node])),!(this.config.images<1)){if(this.images&&this.images.length)for(t=0;t<this.images.length;t++)this.imageItem.push(this.images[t]),this.imageItem[t].url=this.fixRelativePath(this.imageItem[t].url);this.content=$("<div class='initCarousel'></div>"),this.content.css({opacity:this.config.alpha,position:"absolute",left:this.x+"px",top:this.y+"px",width:this.width+"px",height:this.height+"px",border:"0px solid red"}),this.setRotation(this.content,this.config.rotation),this.currentIndex=0,this.parent.append(this.content),this.initImages(),this.config.showButton&&this.initButtons(),this.initEvent()}},initEvent:function(){this.content.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Carousel",this.config.x,this.config.y,this.config.width,this.config.height])}.bind(this))},parseConfig:function(t){return{width:t.location.width,height:t.location.height,rotation:t.location.rotation,x:t.location.x,y:t.location.y,alpha:t.alpha,images:t.Images,duration:parseInt(t.duration),autoPlay:parseBool(t.autoBool),showButton:parseBool(t.selectBtn),hasShadow:parseBool(t.shadow.hasDropShadow),shadow:t.shadow,animation:t.animation}},initImages:function(){if(!(this.config.images<1||null==this.images||null==this.images||0==this.images.length)){this.refreshImageAndPosition(),this.carouselList=new CarouselImageList(this.imageItem.length),this.carouselList.setResources(this.aImages),this.carouselList.setImagesIndex(this.aImagesIndex),this.carouselList.setPositions(this.aPositions);for(var t=0;t<this.aPositions.length;t++){var i=new CarouselImage(this,this.aPositions[t]);i.setBoxIndex(t),this.carouselList.addInstance(i)}this.carouselList.loadResources(),this.carouselList.blurAll()}},initButtons:function(){this.leftButton=$('<img class="flip-action" src="'+uiBaseURL+'pre_image.png" style="position:absolute;z-index:1000;cursor:pointer;"></img>'),this.rightButton=$('<img class="flip-action" src="'+uiBaseURL+'next_image.png" style="position:absolute;z-index:1000;cursor:pointer;"></img>'),this.setButtonPosition(),this.content.append(this.leftButton),this.content.append(this.rightButton),this.leftButton.onTap(function(t){this.move(1)}.bind(this)),this.rightButton.onTap(function(t){this.move(-1)}.bind(this))},refreshImageAndPosition:function(){null!=this.imageItem&&null!=this.imageItem&&0!=this.imageItem.length&&(this.instanceCount=5,this.imageItem.length<5&&(this.instanceCount=Math.min(this.imageItem.length)),this.refreshImages(),this.refreshPositions())},refreshImages:function(){this.refreshImagesIndex(),this.aImages=[];for(var t=getCoverSize(this.width,this.height,1024,1024),i=0;i<this.aImagesIndex.length;i++){var e=this.imageItem[this.aImagesIndex[i]].url;bookConfig.useTheAliCloudChart&&(e=isPhone()||isPad()?this.getOssUrl(e,t.width,t.height,"lfit"):this.getOssUrl(e,2*this.width,2*this.height,"lfit")),this.aImages.push(e)}},refreshImagesIndex:function(){switch(this.aImagesIndex=[],this.instanceCount){case 1:this.aImagesIndex.push(0);break;case 2:this.aImagesIndex.push(this.currentIndex%this.imageItem.length),this.aImagesIndex.push((this.currentIndex+1)%this.imageItem.length);break;case 3:case 4:this.aImagesIndex.push((this.currentIndex-1+this.imageItem.length)%this.imageItem.length),this.aImagesIndex.push(this.currentIndex%this.imageItem.length),this.aImagesIndex.push((this.currentIndex+1)%this.imageItem.length);break;default:this.aImagesIndex.push((this.currentIndex-2+this.imageItem.length)%this.imageItem.length),this.aImagesIndex.push((this.currentIndex-1+this.imageItem.length)%this.imageItem.length),this.aImagesIndex.push(this.currentIndex%this.imageItem.length),this.aImagesIndex.push((this.currentIndex+1)%this.imageItem.length),this.aImagesIndex.push((this.currentIndex+2)%this.imageItem.length)}},refreshPositions:function(){switch(this.aPositions=[],this.instanceCount){case 1:this.aPositions.push(new CarouselPosition(0,0,this.width,this.height,1,1));break;case 2:var t=Math.ceil(this.width/2),i=Math.ceil(this.width/4);this.aPositions.push(new CarouselPosition(i,0,t,this.height,2,1)),i=Math.ceil(t+.1*t)/.8,this.aPositions.push(new CarouselPosition(i,.1*this.height/.8,t,this.height,1,.8));break;case 3:case 4:t=Math.ceil(this.width/2),i=Math.ceil(.05*t)/.8,this.aPositions.push(new CarouselPosition(i,.1*this.height/.8,t,this.height,1,.8)),i=Math.ceil(this.width/4),this.aPositions.push(new CarouselPosition(i,0,t,this.height,2,1)),i=Math.ceil(t)/.8,this.aPositions.push(new CarouselPosition(i,.1*this.height/.8,t,this.height,1,.8));break;default:t=this.width/3,i=Math.ceil(.2*t)/.6,this.aPositions.push(new CarouselPosition(i,.2*this.height/.6,t,this.height,1,.6)),i=Math.ceil(this.width/6+.1*t)/.8,this.aPositions.push(new CarouselPosition(i,.1*this.height/.8,t,this.height,2,.8)),this.aPositions.push(new CarouselPosition(t,0,t,this.height,3,1)),this.aPositions.push(new CarouselPosition(Math.ceil(this.width/2)/.8,.1*this.height/.8,t,this.height,2,.8)),this.aPositions.push(new CarouselPosition(Math.ceil(.66*this.width)/.6,.2*this.height/.6,t,this.height,1,.6))}},play:function(){!(this.config.images<1)&&this.images&&this.images.length&&this.config.autoPlay&&(window.clearInterval(this.timer),this.timer=null,this.timer=window.setInterval(function(){this.move(1)}.bind(this),1e3*this.config.duration))},pause:function(){this.config.autoPlay&&(window.clearInterval(this.timer),this.timer=null)},move:function(t){this.isMoving||(this.isMoving=!0,this.currentIndex+=t,this.currentIndex>=this.imageItem.length&&(this.currentIndex%=this.imageItem.length),this.currentIndex<0&&(this.currentIndex+=this.imageItem.length),this.instanceCount=this.carouselList.instanceCount(),this.refreshImages(),this.carouselList.setResources(this.aImages),this.carouselList.setImagesIndex(this.aImagesIndex),this.carouselList.move(t),function(){this.isMoving=!1}.delay(this,1e3))},moveTo:function(t){5<=this.imageItem.length?this.move(t-2):4==this.imageItem.length?this.move(t-1):this.move(t-this.currentIndex)},onResize:function(t,i){this.config.images<1||!this.images||!this.images.length||(this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.content.css({width:this.width+"px",height:this.height+"px"}),(isIphone()||isIpad())&&(t=getCoverSize(this.width,this.height,1024,1024),this.width=t.width,this.height=t.height,this.content.css({width:this.width+"px",height:this.height+"px","-webkit-transform-origin":"0 0","transform-origin":"0 0","-webkit-transform":"scale("+t.scale+")",transform:"scale("+t.scale+")"})),this.setPosition(),this.config.showButton&&this.setButtonPosition(),this.refreshImageAndPosition(),this.carouselList.setResources(this.aImages),this.carouselList.setImagesIndex(this.aImagesIndex),this.carouselList.setPositions(this.aPositions),this.carouselList.resizeAll())},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.content.css({left:this.x+"px",top:this.y+"px"})},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.content.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.content.one(t,function(){this.content.css({animation:""})}.bind(this)))},setButtonPosition:function(){var t=(this.height-32)/2;this.leftButton.css({left:"0px",top:t+"px"}),this.rightButton.css({right:"0px",top:t+"px"})}}).extend("Item"),Class({create:function(t,i){this.parent=t,this.position=Instance.copy(i),this.instance=$('<img style="position:absolute"/>'),this.parent.content.append(this.instance),this.parent.addShadow(this.instance),this.imageHeight=this.imageWidth=0,this.instance.on("load",this.onImageLoad.bind(this)),this.instance.onTap(this.onClick.bind(this)),this.setArea(),this.setZindex(this.position.zindex)},blur:function(t,i){1==t?this.instance.css({"-webkit-filter":"blur("+2*i+"px)","-moz-filter":"blur("+2*i+"px)","-o-filter":"blur("+2*i+"px)","-ms-filter":"blur("+2*i+"px)",filter:"blur("+2*i+"px)"}):this.instance.css({"-webkit-filter":"blur(0px)","-moz-filter":"blur(0px)","-o-filter":"blur(0px)","-ms-filter":"blur(0px)",filter:"blur(0px)"})},setSrc:function(t){this.instance[0].src=t},getSrc:function(){return this.instance[0].src},setIndex:function(t){this.imageIndex=t},setBoxIndex:function(t){this.boxIndex=t},onImageLoad:function(){var t=this.instance[0];this.imageWidth=t.naturalWidth,this.imageHeight=t.naturalHeight,this.resetPosition(),this.setArea(this.position)},onClick:function(){return this.parent.imageItem.length<4?this.parent.moveTo(this.imageIndex):this.parent.moveTo(this.boxIndex),!1},resetPosition:function(){var t;0!=this.imageWidth&&0!=this.imageHeight&&((t=Math.ceil(this.imageHeight*this.position.width/this.imageWidth))>this.position.height?(this.position.width=Math.ceil(this.position.height*this.imageWidth/this.imageHeight),this.position.top=(this.parent.height-this.position.height)/2/this.position.scale):(this.position.height=t,this.position.top=(this.parent.height-t)/2/this.position.scale))},setArea:function(){this.instance.css({width:this.position.width+"px",height:this.position.height+"px"}).css(this.transformCSS({scale:this.position.scale,tran:{x:this.position.left,y:this.position.top}}))},setZindex:function(t){this.instance.css({"z-index":t})},gotoPosition:function(t){this.position=Instance.copy(t),this.setZindex(this.position.zindex),animateOnce(this.instance,this.transformCSS({scale:this.position.scale,tran:{x:this.position.left,y:this.position.top}}),.5)},resizeCss:function(t){this.position=Instance.copy(t),this.setZindex(this.position.zindex),this.instance.css(this.transformCSS({scale:this.position.scale,tran:{x:this.position.left,y:this.position.top}}))},transformCSS:function(t){var i,e="",o={};return null!=t.scale&&(e=e+"scale("+t.scale+") "),null!=t.rotate&&(e=e+"rotate("+t.rotate+"deg) "),null!=t.rotateY&&(e=e+"rotateY("+t.rotateY+"deg) "),t.tran&&(e=e+"translate("+t.tran.x+"px,"+t.tran.y+"px) "),null!=t.perspective&&(e=e+"perspective("+t.perspective+"px) "),null!=t.scaleX&&(e=e+"scaleX("+t.scaleX+") "),null!=t.scaleY&&(e=e+"scaleY("+t.scaleY+") "),t.origin&&(i=t.origin.x+"% "+t.origin.y+"%",o["-webkit-transform-origin"]=i,o["-moz-transform-origin"]=i,o["-ms-transform-origin"]=i,o["-o-transform-origin"]=i,o["transform-origin"]=i),e&&(o["-webkit-transform"]=e,o["-moz-transform"]=e,o["-ms-transform"]=e,o["-o-transform"]=e,o.transform=e),t.obj&&t.obj.css(o),o}})),CarouselPosition=Class({create:function(t,i,e,o,s,n){this.left=Math.ceil(t),this.top=Math.ceil(i),this.width=Math.ceil(e),this.height=Math.ceil(o),this.scale=parseFloat(n),this.zindex=s},asString:function(){return"transform:scale("+this.scale+") translate("+this.left+"px,"+this.top+"px),width:"+this.width+",height:"+this.height+",z-index:"+this.zindex}}),CarouselImageList=Class({create:function(t){this.imgLength=t,this.imageInstances=[]},setResources:function(t){this.imageResources=[];for(var i=0;i<t.length;i++)this.imageResources.push(t[i])},setImagesIndex:function(t){this.imagesIndex=[];for(var i=0;i<t.length;i++)this.imagesIndex.push(t[i])},setPositions:function(t){this.imagePositions=[];for(var i=0;i<t.length;i++)this.imagePositions.push(t[i])},addInstance:function(t){this.imageInstances.push(t)},instanceCount:function(){return this.imageInstances.length},loadResources:function(){for(var t=this.imageInstances.length,i=0;i<t;i++){var e=this.imageInstances[i];e.getSrc()!=this.imageResources[i]&&(e.setSrc(this.imageResources[i]),e.setIndex(this.imagesIndex[i]))}},move:function(t){var i=this.imageInstances.length;if(0!=i){for(var e=[],o=0;o<i;o++)e[o]=this.imageInstances[o];for(o=0;o<i;o++){var s=o+t;s<0&&(s+=i),i<=s&&(s%=i),this.imageInstances[o]=e[s]}for(o=0;o<i;o++)(t=this.imageInstances[o]).setBoxIndex(o),t.gotoPosition(this.imagePositions[o]);this.resizeAll(),this.loadResources(),this.blurAll()}},resizeAll:function(){var t=this.imageInstances.length;if(0!=t)for(var i=0;i<t;i++){var e=this.imageInstances[i];e.resizeCss(this.imagePositions[i]),e.resetPosition(),e.setArea()}},blurAll:function(){for(var t=this.imageInstances.length,i=Math.floor((t+1)/2)-1,e=0;e<t;e++){var o=this.imageInstances[e];e!=i?o.blur(!0):o.blur(!1)}}}),ImageInstance=(global.hddr.sob8=hddr.soa8,global.hddr.soq2=hddr.sov9(hddr.soa8,hddr.soq3)+"5",Class("DynamicShow",{Package:"PageItem",create:function(t,i,e,o,s){if(this._super(t,i,e,o),this.animateConfig(),this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.childWidth=Math.ceil(this.width/4),this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.borderWidth=this.config.borderWidth,this.id="dynshow"+s,this.images=Instance.copy(this.config.images),this.imageItem=[],this.images||(this.images=[]),this.images[0]||(this.images=[this.images.Image]),this.images&&this.images.length)for(t=0;t<this.images.length;t++)"[object Object]"===Object.prototype.toString.call(this.images[t])?this.imageItem.push(this.images[t].value):this.imageItem.push(this.images[t]),this.imageItem[t]=this.fixRelativePath(this.imageItem[t]),bookConfig.useTheAliCloudChart&&(i=getCoverSize(this.width,this.height,1024,1024),isPhone()||isPad()?this.imageItem[t]=this.getOssUrl(this.imageItem[t],i.width,i.height,"lfit"):this.imageItem[t]=this.getOssUrl(this.imageItem[t],this.width,this.height,"lfit"));this.maxZindex=this.images.length+1,this.content=$("<div id='DynamicShow'></div>"),this.content.css({opacity:this.config.alpha,position:"absolute",left:this.x+"px",top:this.y+"px",width:this.width+"px",height:this.height+"px",border:"0px solid red"}),this.setRotation(this.content,this.config.rotation),this.currentIndex=0,this.parent.append(this.content),this.init(),this.initEvent()},initEvent:function(){this.content.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"DynamicShow",this.config.x,this.config.y,this.config.width,this.config.height])}.bind(this))},parseConfig:function(t){return{width:t.location.width,height:t.location.height,rotation:t.location.rotation,x:t.location.x,y:t.location.y,alpha:t.alpha,images:t.Images,borderWidth:t.borderWidth,animation:t.animation}},init:function(){if(this.imageInstances=[],0!=this.imageItem.length){for(var t=0;t<this.imageItem.length;t++){var i=new ImageInstance(this,t);i.setImage(this.imageItem[t]),this.content.append(i),this.imageInstances.push(i)}this.currentIndex=-1,this.initButtons()}},initButtons:function(){this.leftButton=$('<img class="flip-action" src="'+uiBaseURL+'pre_image.png" style="cursor:pointer;position:absolute;z-index:1000"></img>'),this.rightButton=$('<img class="flip-action" src="'+uiBaseURL+'next_image.png" style="cursor:pointer;position:absolute;z-index:1000"></img>'),this.setButtonPosition(),this.leftButton.bind(_event._click,function(){this.preImage()}.bind(this)),this.rightButton.bind(_event._click,function(){this.nextImage()}.bind(this)),this.leftButton.css({display:"none"}),this.rightButton.css({display:"none"}),this.content.append(this.leftButton),this.content.append(this.rightButton),isPhone()||isPad()||(this.content.bind(_event._enter,function(){this.leftButton.css({display:"block"}),this.rightButton.css({display:"block"})}.bind(this)),this.content.bind(_event._leave,function(){this.leftButton.css({display:"none"}),this.rightButton.css({display:"none"})}.bind(this)))},preImage:function(){-1!=this.currentIndex&&this.imageInstances[this.currentIndex].hide(),this.currentIndex=(this.currentIndex-1+this.images.length)%this.images.length,this.imageInstances[this.currentIndex].show()},nextImage:function(){-1!=this.currentIndex&&this.imageInstances[this.currentIndex].hide(),this.currentIndex=(this.currentIndex+1)%this.images.length,this.imageInstances[this.currentIndex].show()},showImage:function(t){-1!=t&&(-1!=this.currentIndex&&this.imageInstances[this.currentIndex].hide(),this.currentIndex=t,this.imageInstances[this.currentIndex].show())},refreshZindex:function(){for(var t,i=this.imageInstances[this.currentIndex].zIndex,e=0;e<this.images.length;e++)e!=this.currentIndex&&i<(t=this.imageInstances[e].zIndex)&&(t--,this.imageInstances[e].setZindex(t));this.imageInstances[this.currentIndex].setZindex(this.images.length-1)},setButtonPosition:function(){var t=(this.height-32)/2;this.leftButton.css({left:"0px",top:t+"px"}),this.rightButton.css({right:"0px",top:t+"px"})},onResize:function(t,i){var e=t/this.pageWidth;for(this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.content.css({width:this.width+"px",height:this.height+"px"}),(isIphone()||isIpad())&&(t=getCoverSize(this.width,this.height,1024,1024),this.width=t.width,this.height=t.height,this.content.css({width:this.width+"px",height:this.height+"px","-webkit-transform-origin":"0 0","transform-origin":"0 0","-webkit-transform":"scale("+t.scale+")",transform:"scale("+t.scale+")"})),this.setPosition(),this.setButtonPosition(),this.childWidth=Math.ceil(this.width/4),t=0;t<this.imageInstances.length;t++)this.imageInstances[t].onResize(e)},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.content.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.content.one(t,function(){this.content.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.content.css({left:this.x+"px",top:this.y+"px"})}}).extend("Item"),Class({create:function(t,i){this.parent=t,this.zIndex=this.index=i,this.imageHeight=this.imageWidth=0,this.borderWidth=Math.ceil(this.parent.borderWidth/2),this.height=this.width=this.parent.width-2*this.borderWidth,this.maxLeft=this.parent.width-this.width,this.maxTop=this.parent.height-this.height,this.randomPos=randomPosition(this.parent.width/2,this.parent.height/2),this.rotation=this.randomPos.rotation,this.animate=[],this.instance=$("<img></img>"),this.instance.css({position:"absolute",display:"none"}),this.setTransform(this.instance,this.randomPos),this.setBorderWidth(this.borderWidth),this.initShadow(),this.initEvents(),t.content.append(this.instance)},initShadow:function(){this.instance.css({"-moz-box-shadow":"2px 2px 4px #252525","box-shadow":"2px 2px 4px #252525","-webkit-box-shadow":"2px 2px 4px #252525","-ms-box-shadow":"2px 2px 4px #252525","-o-box-shadow":"2px 2px 4px #252525"})},initEvents:function(){this.instance.on("load",function(){this.onImageLoad()}.bind(this)),this.instance.bind(_event._click,function(){this.parent.currentIndex==this.index?(this.hide(),this.parent.currentIndex=-1):this.parent.showImage(this.index)}.bind(this))},onImageLoad:function(){var t=this.instance[0];this.imageWidth=t.naturalWidth,this.imageHeight=t.naturalHeight,this.getImgConfig(),this.height=Math.ceil(this.imageHeight*this.width/this.imageWidth),this.maxTop=this.parent.height-this.height,this.instance.css({width:this.width+"px",height:this.height+"px",left:this.left+"px",top:this.top+"px",display:"block"})},setImage:function(t){this.instance.attr("src",t)},onResize:function(t){this.instance.css("z-Index")!=this.parent.maxZindex&&(this.randomPos.left*=t,this.randomPos.top*=t,this.setTransform(this.instance,this.randomPos)),this.getImgConfig(),this.resize()},resize:function(){this.instance.css({width:this.width+"px",height:this.height+"px",left:this.left+"px",top:this.top+"px"})},setTransform:function(t,i){t.css({"-webkit-transform":"rotate("+i.rotation+"deg) scale("+i.scale+") translate("+i.left+"px,"+i.top+"px)","-ms-transform":"rotate("+i.rotation+"deg) scale("+i.scale+") translate("+i.left+"px,"+i.top+"px)","-moz-transform":"rotate("+i.rotation+"deg) scale("+i.scale+") translate("+i.left+"px,"+i.top+"px)","-o-transform":"rotate("+i.rotation+"deg) scale("+i.scale+") translate("+i.left+"px,"+i.top+"px)",transform:"rotate("+i.rotation+"deg) scale("+i.scale+") translate("+i.left+"px,"+i.top+"px)"})},getTransform:function(t){return{"-webkit-transform":"rotate("+t.rotation+"deg) scale("+t.scale+") translate("+t.left+"px,"+t.top+"px)","-ms-transform":"rotate("+t.rotation+"deg) scale("+t.scale+") translate("+t.left+"px,"+t.top+"px)","-moz-transform":"rotate("+t.rotation+"deg) scale("+t.scale+") translate("+t.left+"px,"+t.top+"px)","-o-transform":"rotate("+t.rotation+"deg) scale("+t.scale+") translate("+t.left+"px,"+t.top+"px)",transform:"rotate("+t.rotation+"deg) scale("+t.scale+") translate("+t.left+"px,"+t.top+"px)"}},move:function(){this.instance.css({left:this.left+"px",top:this.top+"px"})},setZindex:function(t){this.zIndex=t,this.instance.css({"z-index":t})},setBorderWidth:function(t){this.instance.css({border:t+"px solid white"})},getImgConfig:function(){this.imageWidth/this.imageHeight>this.parent.width/this.parent.height?(this.width=this.parent.width-2*this.borderWidth,this.height=this.width*this.imageHeight/this.imageWidth,this.left=0,this.top=(this.parent.height-this.height-2*this.borderWidth)/2):(this.height=this.parent.height-2*this.borderWidth,this.width=this.height*this.imageWidth/this.imageHeight,this.left=(this.parent.width-this.width-2*this.borderWidth)/2,this.top=0)},show:function(){0!=this.imageWidth&&0!=this.imageHeight&&(this.instance.css({"z-index":this.parent.maxZindex}),animateOnce(this.instance,this.getTransform({left:"0",top:"0",rotation:"0",scale:"1"}),500))},hide:function(){0!=this.imageWidth&&0!=this.imageHeight&&(this.randomPos=randomPosition(this.parent.width/2,this.parent.height/2),this.parent.refreshZindex(),animateOnce(this.instance,this.getTransform(this.randomPos),500))}}));function randomPosition(t,i){return t=Math.floor(Math.random()*t),Math.random()<=.5&&(t=-t),i=Math.floor(Math.random()*i),{left:t,top:i=Math.random()<=.5?-i:i,scale:.25,rotation:75-Math.floor(150*Math.random())}}Class("FocusJump",{Package:"PageItem",create:function(t,i,e,o,s){this._super(t,i,e,o),this.id="flip_jump_"+s,this.translate=0,this.animateConfig(),this.width=this.config.width*e,this.height=this.config.height*o,this.margin=Math.floor(5*this.width/100),this.initContent(),this.initImages(),this.initButtons(),this.initEvents(),parseBool(this.config.reflection)&&this.imageReflection(this.content),this.onResize(e,o)},initContent:function(){this.content=$("<div id='"+this.id+"'></div>"),this.content.css({opacity:this.config.alpha,overflow:"hidden",position:"absolute","z-index":"1"}),this.setRotation(this.content,this.config.rotation),this.imagesContent=$("<div></div>"),this.imagesContent.css({position:"absolute",left:"0px",top:"0px",height:"100%"}).css(transformCSS({tran:{x:0,y:0}})),this.parent.append(this.content),this.content.append(this.imagesContent),this.initBackground()},initBackground:function(){var t;this.config.addBackground&&(t=Color(this.config.backgroundColor),this.content.css({"background-color":t.rgba(this.config.backgroundAlpha)})),this.config.addBorder&&(t=Color(this.config.borderColor),this.content.css({border:this.config.borderWidth+"px solid "+t.rgba(this.config.borderAlpha)}))},initButtons:function(){this.leftButton=$('<img class="flip-action" src="'+uiBaseURL+'pre_image.png" style="cursor:pointer;position:absolute;z-index:1000;left:0px;top:0px;bottom:0px;margin:auto"></img>'),this.rightButton=$('<img class="flip-action" src="'+uiBaseURL+'next_image.png" style="cursor:pointer;position:absolute;z-index:1000;right:0px;top:0px;bottom:0px;margin:auto"></img>'),isPhone()||isPad()||(this.leftButton.css({display:"none"}),this.rightButton.css({display:"none"})),this.content.append(this.leftButton),this.content.append(this.rightButton)},initImages:function(){if(this.$images=[],this.images=this.config.images,""!=this.images){if(!(this.images instanceof Array)){if(""==this.images)return;this.images.node&&(this.images=[this.images.node])}for(var i=this,t=0;t<this.images.length;t++){var e=this.images[t].url,o=this.images[t].title,s=this.images[t].link,n=(e=this.fixRelativePath(e),bookConfig.useTheAliCloudChart&&(a=getCoverSize(this.width,this.height,1024,1024),e=isPhone()||isPad()?this.getOssUrl(e,a.width,a.height,"lfit"):this.getOssUrl(e,this.getImageWidth(),this.height/2,"lfit")),$("<div style='position:absolute;'></div>")),o=$("<span class='text' style='font-weight:bold;color:rgba(255,0,0,0.5);position:absolute;overflow:auto;'>"+o+"</span>"),a=$("<img style='position:absolute;display:none;top:0px'></img>");n.append(a).append(o),s&&function(t){n.bind(_event._click,function(){window.open(t)})}(s),a.on("load",function(){var t=$(this);i.resizeImage(t,t.parent(),t.next()),t.css({display:"block"}).css(transformCSS({tran:{x:0,y:0}}))}),a.attr("src",e),this.imagesContent.append(n),this.$images.push(n)}}},resizeImage:function(t,i,e){var o,s;t[0].naturalWidth&&t[0].naturalHeight&&(o=this.getImageWidth(),s=Math.floor(o/t[0].naturalWidth*t[0].naturalHeight),t.css({width:o+"px",height:s+"px"}),i.css({width:o+"px",height:s+"px"}),e.css({top:s+"px"}),this.imagesContent.css({height:s+"px",top:(this.height-s)/2+"px"}))},getImageWidth:function(){return Math.floor((this.width-3*this.margin)/3)},parseConfig:function(t){return{width:t.location.width,height:t.location.height,x:t.location.x,y:t.location.y,alpha:t.alpha,rotation:t.location.rotation,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,images:t.componentData.Images,addBackground:parseBool(t.componentData.addBack),addBorder:parseBool(t.componentData.addBorder),backgroundColor:t.componentData.backColor,backgroundAlpha:t.componentData.backAlpha,borderColor:t.componentData.borderColor,borderAlpha:t.componentData.borderAlpha,borderWidth:t.componentData.borderWidth,animation:t.animation}},initEvents:function(){this.content.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"FocusJump",this.config.x,this.config.y,this.config.width,this.config.height])}.bind(this)),this.content.bind(_event._enter,function(){this.images.length<=3||(this.leftButton.css({display:"block"}),this.rightButton.css({display:"block"}))}.bind(this)),this.content.bind(_event._leave,function(){this.leftButton.css({display:"none"}),this.rightButton.css({display:"none"})}.bind(this)),this.leftButton.onTap(function(t){return this.moveLeft(),!1}.bind(this)),this.rightButton.onTap(function(t){return this.moveRight(),!1}.bind(this));for(var t=this,i=0;i<this.$images.length;i++){var e=this.$images[i];isPhone()||isPad()?(e.bind(_event._down,function(){t.moveImageUp($(this))}),e.bind(_event._end,function(){t.moveImageDown($(this))})):(e.bind(_event._enter,function(){t.moveImageUp($(this))}),e.bind(_event._leave,function(){t.moveImageDown($(this))}))}},moveLeft:function(){this.translate+=this.getImageWidth(),0<this.translate&&(this.translate=0),animateOnce(this.imagesContent,transformCSS({tran:{x:this.translate,y:0}}),1e3)},moveRight:function(){this.translate-=this.getImageWidth();var t=this.width-this.imagesContent.width();this.translate<t&&(this.translate=t),animateOnce(this.imagesContent,transformCSS({tran:{x:this.translate,y:0}}),1e3)},moveImageUp:function(t){animateOnce(t,transformCSS({tran:{x:0,y:-Math.floor(this.height/4)}}),800)},moveImageDown:function(t){animateOnce(t,transformCSS({tran:{x:0,y:0}}),800)},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.left=this.pageWidth*this.config.x,this.top=this.pageHeight*this.config.y,this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.margin=Math.floor(5*this.width/100),this.content.css({left:this.left+"px",top:this.top+"px",width:this.width+"px",height:this.height+"px"}),(isIphone()||isIpad())&&(t=getCoverSize(this.width,this.height,1024,1024),this.width=t.width,this.height=t.height,this.content.css({width:this.width+"px",height:this.height+"px","-webkit-transform-origin":"0 0","transform-origin":"0 0","-webkit-transform":"scale("+t.scale+")",transform:"scale("+t.scale+")"})),this.resizeImages()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.content.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.content.one(t,function(){this.content.css({animation:""})}.bind(this)))},resizeImages:function(){var t=this.getImageWidth();if(this.imagesContent.css({width:this.margin+(this.margin+t)*this.$images.length+"px"}),1==this.$images.length){var i=this.$images[0],e=this.margin+t;i.css({left:e+"px"}),this.resizeImage(i.find("img"),i,i.find("text"))}else for(var o=0;o<this.$images.length;o++)i=this.$images[o],e=this.margin+(this.margin+t)*o,i.css({left:e+"px"}),this.resizeImage(i.find("img"),i,i.find("span"))}}).extend("Item"),Class("FlipJump",{Package:"PageItem",create:function(t,i,e,o,s){if(this._super(t,i,e,o),this.animateConfig(),this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.id="jump"+s,this.itemHeight=Math.floor(.5*this.height),this.itemWidth=Math.floor(.5*this.width),this.images=this.config.images,this.images[0]||(this.images=[this.images.Image]),this.Items=[],this.imageCount=this.images.length,this.images&&this.images instanceof Array)for(t=0;t<this.images.length;t++)"[object Object]"===Object.prototype.toString.call(this.images[t])?this.Items.push(this.images[t].value):this.Items.push(this.images[t]),this.Items[t]=this.fixRelativePath(this.Items[t]),bookConfig.useTheAliCloudChart&&(this.Items[t]=this.getOssUrl(this.Items[t],2*this.itemWidth,2*this.itemHeight,"lfit"));this.minZindex=0,this.maxZindex=this.images.length+1,this.content=$("<div></div>"),this.content.css({opacity:this.config.alpha,position:"absolute",overflow:"hidden",left:this.x+"px",top:this.y+"px",width:this.width+"px",height:this.height+"px","z-index":"1"}),this.setRotation(this.content,this.config.rotation),this.initBackground(),this.parent.append(this.content),this.init(),this.initEvent(),this.imageItems[0].toNormal()},initEvent:function(){this.content.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"FlipJump",this.config.x,this.config.y,this.config.width,this.config.height])}.bind(this))},initBackground:function(){var t;this.config.addBackground&&(t=Color(this.config.backgroundColor),this.content.css({"background-color":t.rgba(this.config.backgroundAlpha)})),this.config.addBorder&&(t=Color(this.config.borderColor),this.content.css({border:"1px solid "+t.rgba(this.config.borderAlpha)}))},parseConfig:function(t){return{width:t.location.width,height:t.location.height,rotation:t.location.rotation,x:t.location.x,y:t.location.y,alpha:t.alpha,images:t.Images,addBackground:parseBool(t.addBack),addBorder:parseBool(t.addBorder),backgroundColor:t.backgroundColor,backgroundAlpha:t.backgroundColorAlpha,borderColor:t.backgroundBorderColor,animation:t.animation}},init:function(){this.busy=!1,this.imageItems=[];for(var t=0;t<this.Items.length;t++){var i=new FlipJumpItem(this,0!=t);i.setImage(this.Items[t]),this.imageItems.push(i)}this.resetZindex(),this.resetJumpEvent(),1<=this.imageCount&&this.initButtons()},initButtons:function(){this.leftButton=$('<img class="flip-action" src="'+uiBaseURL+'pre_image.png" style="cursor:pointer;position:absolute;z-index:1000"></img>'),this.rightButton=$('<img class="flip-action" src="'+uiBaseURL+'next_image.png" style="cursor:pointer;position:absolute;z-index:1000"></img>'),this.setButtonPosition();var t=this;this.leftButton.onTap(function(t){return this.preImage(),!1}.bind(this)),this.rightButton.onTap(function(t){return this.nextImage(),!1}.bind(this)),this.leftButton.css({display:"none"}),this.rightButton.css({display:"none"}),this.content.append(this.leftButton),this.content.append(this.rightButton),isPhone()||isPad()||(this.content.bind(_event._enter,function(){t.leftButton.css({display:"block"}),t.rightButton.css({display:"block"})}),this.content.bind(_event._leave,function(){t.leftButton.css({display:"none"}),t.rightButton.css({display:"none"})}))},preImage:function(){var t,i,e;1!=this.busy&&(this.busy=!0,t=this.imageItems[0],i=this.imageItems[this.imageCount-1],e=this,i.jumpUp(function(){t.jumpDown(),i.setZindex(e.maxZindex),i.toNormal(function(){e.imageItems.pop(),e.imageItems.unshift(i),e.resetZindex(),e.busy=!1})}))},nextImage:function(){var t,i,e;1!=this.busy&&(this.busy=!0,t=this.imageItems[0],i=this.imageItems[1],1==(e=this).imageItems.length&&(i=t),t.jumpUp(function(){t.setZindex(e.minZindex),i.toNormal(),t.jumpDown(function(){e.imageItems.shift(),e.imageItems.push(t),e.resetZindex(),e.busy=!1})}))},resetZindex:function(){for(var t=0;t<this.imageItems.length;t++)this.imageItems[t].setZindex(this.imageItems.length-t)},resetJumpEvent:function(){for(var t=0;t<this.imageItems.length;t++)this.imageItems[t].instance.bind(_event._click,function(){this.nextImage()}.bind(this))},setButtonPosition:function(){var t=(this.height-32)/2;this.leftButton.css({left:"0px",top:t+"px"}),this.rightButton.css({right:"0px",top:t+"px"})},onResize:function(t,i){for(this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.content.css({width:this.width+"px",height:this.height+"px"}),this.setPosition(),this.setButtonPosition(),this.itemHeight=Math.floor(.5*this.height),this.itemWidth=Math.floor(.5*this.width),t=0;t<this.imageItems.length;t++)this.imageItems[t].resize(this.itemWidth,this.itemHeight)},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.content.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.content.one(t,function(){this.content.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.content.css({left:this.x+"px",top:this.y+"px"})}}).extend("Item");var FlipJumpItem=Class({create:function(t,i){this.parent=t,this.initRotate=i,this.rotation=0,this.width=t.itemWidth,this.height=t.itemHeight,this.imageHeight=this.imageWidth=0,this.instance=$("<img></img>"),this.instance.css({position:"absolute",left:"0px",top:"0px",width:this.width+"px",height:this.height+"px",border:"2px solid white",display:"none"}),this.instance.on("load",function(){this.onImageLoad()}.bind(this)),this.initShadow(),t.content.append(this.instance)},initShadow:function(){this.instance.css({"-moz-box-shadow":"2px 2px 4px #252525","box-shadow":"2px 2px 4px #252525","-webkit-box-shadow":"2px 2px 4px #252525","-ms-box-shadow":"2px 2px 4px #252525","-o-box-shadow":"2px 2px 4px #252525"})},getRandomRotation:function(){return 80-Math.ceil(160*Math.random())},onImageLoad:function(){var t=this.instance[0];this.naturalWidth=t.naturalWidth,this.naturalHeight=t.naturalHeight,this.width=this.parent.itemWidth,this.height=this.parent.itemHeight,this.setImageSize(),this.instance.css({left:this.left+"px",top:this.top+"px",width:this.width+"px",height:this.height+"px",display:"block"}),1==this.initRotate&&(t=this.getRandomRotation(),this.instance.css(transformCSS({rotate:t,tran:{x:0,y:0}})),this.rotation=t)},setImageSize:function(){var t=this.naturalWidth/this.naturalHeight;t>=this.width/this.height?this.naturalWidth>=this.width?(this.width=this.width,this.height=this.width/t):(this.height=this.naturalHeight,this.width=this.naturalWidth):this.naturalHeight>=this.height?(this.height=this.height,this.width=t*this.height):(this.height=this.naturalHeight,this.width=this.naturalWidth),this.left=Math.ceil((this.parent.width-this.width)/2),this.top=Math.ceil((this.parent.height-this.height)/2)},setImage:function(t){this.instance.attr("src",t)},setZindex:function(t){this.instance.css({"z-index":t})},randomRotate:function(t){var i=this.getRandomRotation();this.rotateTo(i,t)},rotateTo:function(i,t){var e=this.rotation,o=20,s=(null!=t&&(o=t),this),n=0,a=window.setInterval(function(){var t=$.easing.swing(null,n,e,i-e,o);s.instance.rotate(t),s.rotation=t,n++>=o&&window.clearInterval(a)},20)},jumpUp:function(t){animateOnce(this.instance,transformCSS({rotate:this.getRandomRotation(),tran:{x:0,y:Math.floor(-this.parent.height)}}),500,t)},jumpDown:function(t){animateOnce(this.instance,transformCSS({rotate:this.getRandomRotation(),tran:{x:0,y:0}}),400,t)},toNormal:function(t){animateOnce(this.instance,transformCSS({rotate:"0",tran:{x:0,y:0}}),400,t)},resize:function(t,i){0==this.imageWith&&0==this.imageHeight||(this.width=t,this.height=i,this.setImageSize(),this.instance.css({left:this.left+"px",top:this.top+"px",width:this.width+"px",height:this.height+"px"}))}}),Rotate3DItem=(Class("Rotate3D",{Package:"PageItem",create:function(t,i,e,o,s){if(this._super(t,i,e,o),this.animateConfig(),this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.id="3d"+s,""!=this.config.images&&((t=this.config.images)||(this.images=[]),this.Item=[],t instanceof Array||(t=t.node?[this.config.images.node]:t).Image&&(t=[this.config.images.Image]),this.imageCount=t.length,0!=this.imageCount)){if(this.topZindex=this.imageCount,t&&t.length)for(i=0;i<t.length;i++){if("[object Object]"===Object.prototype.toString.call(t[i]))if(t[i].originalURL)this.Item.push(t[i].originalURL);else if(t[i].value)this.Item.push(t[i].value);else{if(!t[i].image)return;this.Item.push(t[i].image)}else this.Item.push(t[i]);this.Item[i]=this.fixRelativePath(this.Item[i]),bookConfig.useTheAliCloudChart&&(e=getCoverSize(this.width,this.height,1024,1024),isPhone()||isPad()?this.Item[i]=this.getOssUrl(this.Item[i],e.width,e.height,"fixed"):this.Item[i]=this.getOssUrl(this.Item[i],parseInt(.8*this.width),this.height,"fixed"))}t=1==this.config.addBorder?1:0,this.content=$("<div></div>"),this.content.css({opacity:this.config.alpha,position:"absolute",overflow:"hidden",left:this.x+"px",top:this.y+"px",width:this.width+"px",height:this.height+"px",border:t+"px solid "+Color(this.config.borderColor).toString()}),this.setRotation(this.content,this.config.rotation),1==this.config.addBackground&&this.content.css({background:Color(this.config.backgroundColor).rgba(this.config.backgroundAlpha)}),this.parent.append(this.content),this.init(),this.rotateTimer=-1,this.step=0,this.initEvent()}},initEvent:function(){this.content.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Rotate3D",this.config.x,this.config.y,this.config.width,this.config.height])}.bind(this))},parseConfig:function(t){return{width:t.location.width,height:t.location.height,x:t.location.x,y:t.location.y,rotation:t.location.rotation,alpha:t.alpha,images:t.componentData.Images,addBackground:parseBool(t.componentData.addBack),addBorder:parseBool(t.componentData.addBorder),backgroundColor:t.componentData.backColor,backgroundAlpha:t.componentData.backAlpha,borderColor:t.componentData.borderColor,sh:parseBool(t.shadow.hasDropShadow),sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,animation:t.animation}},init:function(){this.imageItems=[];for(var t=0;t<this.Item.length;t++){var i=new Rotate3DItem(this,t);i.setImage(this.Item[t]),this.imageItems.push(i)}this.imageItems[0].show(),this.currentIndex=0,1<this.Item.length&&this.initButtons()},getOssUrl:function(t,i,e,o){return 0<t.lastIndexOf("?")?t+("&x-oss-process=image/resize,m_"+o+",w_"+parseInt(i)+",h_"+parseInt(e)):t+("?x-oss-process=image/resize,m_"+o+",w_"+parseInt(i)+",h_"+parseInt(e))},initButtons:function(){this.leftButton=$('<img class="flip-action" src="'+uiBaseURL+'pre_image.png" style="cursor:pointer;position:absolute;z-index:1000"></img>'),this.rightButton=$('<img class="flip-action" src="'+uiBaseURL+'next_image.png" style="cursor:pointer;position:absolute;z-index:1000"></img>'),this.setButtonPosition();var t=this;this.leftButton.bind(_event._down,this.preImage.bind(this)),this.rightButton.bind(_event._down,this.nextImage.bind(this)),this.leftButton.bind(_event._end,this.stopRotate.bind(this)),this.rightButton.bind(_event._end,this.stopRotate.bind(this)),this.leftButton.bind(_event._leave,this.stopRotate.bind(this)),this.rightButton.bind(_event._leave,this.stopRotate.bind(this)),isTouchDevice()||(this.leftButton.css({display:"none"}),this.rightButton.css({display:"none"})),this.content.append(this.leftButton),this.content.append(this.rightButton),this.content.bind(_event._enter,function(){t.leftButton.css({display:"block"}),t.rightButton.css({display:"block"})}),this.content.bind(_event._leave,function(){t.leftButton.css({display:"none"}),t.rightButton.css({display:"none"})})},setButtonPosition:function(){var t;this.Item.length<=1||(t=(this.height-32)/2,this.leftButton.css({left:"0px",top:t+"px"}),this.rightButton.css({right:"0px",top:t+"px"}))},onResize:function(t,i){if(""!=this.config.images&&this.content){for(this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.content.css({width:this.width+"px",height:this.height+"px"}),this.setPosition(),this.setButtonPosition(),t=0;t<this.imageItems.length;t++)bookConfig.useTheAliCloudChart?this.imageItems[t].resizeOss():this.imageItems[t].resize();this.imageItems[this.currentIndex].show()}},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.content.css({left:this.x+"px",top:this.y+"px"})},preImage:function(){this.step=-1,this.doRotate(),this.rotateTimeOut()},nextImage:function(){this.step=1,this.doRotate(),this.rotateTimeOut()},rotateTimeOut:function(){this.outTimer&&(window.clearTimeout(this.outTimer),this.outTimer=null),this.outTimer=window.setTimeout(function(){this.startRotate()}.bind(this),600)},startRotate:function(){var t=this;this.doRotate(),window.clearInterval(this.rotateTimer),this.rotateTimer=window.setInterval(function(){t.doRotate()},150)},doRotate:function(){var t=this.currentIndex;this.currentIndex+=this.step,this.currentIndex<0&&(this.currentIndex+=this.imageCount),this.currentIndex>=this.imageCount&&(this.currentIndex%=this.imageCount),this.imageItems[t].hide(),this.imageItems[this.currentIndex].show()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.content.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.content.one(t,function(){this.content.css({animation:""})}.bind(this)))},stopRotate:function(){window.clearInterval(this.rotateTimer),this.step=0,this.rotateTimer=-1}}).extend("Item"),Class({create:function(t,i){var e=this;this.parent=t,this.zIndex=i,this.height=this.parent.height,this.width=this.parent.width,this.imageHeight=this.imageWidth=0,this.instance=$("<img></img>"),this.instance.css({position:"absolute",left:"0px",top:"0px",display:"none"}),this.setZindex(i),this.initShadow(),bookConfig.useTheAliCloudChart||this.instance.on("load",function(){Rotate3DItem.prototype.onImageLoad.apply(e,arguments)}),t.content.append(this.instance)},initShadow:function(){var t=this.parent.config;this.shadowColor=Color(t.sr).toString(),1==t.sh&&this.instance.css({"box-shadow":t.sx+"px "+t.sy+"px "+t.se+"px "+this.shadowColor,"-moz-box-shadow":t.sx+"px "+t.sy+"px "+t.se+"px "+this.shadowColor,"-webkit-box-shadow":t.sx+"px "+t.sy+"px "+t.se+"px "+this.shadowColor,"-ms-box-shadow":t.sx+"px "+t.sy+"px "+t.se+"px "+this.shadowColor,"-o-box-shadow":t.sx+"px "+t.sy+"px "+t.se+"px "+this.shadowColor})},onImageLoad:function(){var t=this.instance[0];this.imageWidth=t.naturalWidth,this.imageHeight=t.naturalHeight,this.height=Math.floor(this.parent.height),this.width=Math.ceil(.8*this.parent.width),this.left=Math.ceil(.1*this.parent.width),this.top=0,this.instance.css({left:this.left+"px",top:this.top+"px",width:this.width+"px",height:this.height+"px"})},setImage:function(t){this.instance.attr("src",t)},setZindex:function(t){this.instance.css({"z-index":t})},show:function(){this.instance.css({display:"block"}),this.setZindex(this.parent.topZindex)},hide:function(){this.instance.css({display:"none"}),this.setZindex(this.zIndex)},resizeOss:function(){this.left=Math.ceil(.1*this.parent.width),this.top=0,this.height=Math.floor(this.parent.height),this.width=Math.ceil(.8*this.parent.width),this.instance.css({width:this.width+"px",height:this.height+"px",left:this.left+"px",top:this.top+"px"})},resize:function(){0==this.imageWidth&&0==this.imageHeight||(this.height=Math.floor(this.parent.height),this.width=Math.ceil(.8*this.parent.width),this.left=Math.ceil(.1*this.parent.width),this.top=0,this.instance.css({left:this.left,top:this.top,width:this.width,height:this.height}))}})),QAF_UNKNOWN=(Class("EmbeddedSlideshow",{Package:"PageItem",create:function(t,i,e,o){if(this._super(t,i,e,o),this.animateConfig(),t=Instance.copy(this.config.images),this.maskType=i.frameStyle,this.photoItem=[],t.Image){if("string"==typeof t.Image&&this.photoItem.push(t.Image),t.Image instanceof Array)for(i=0;i<t.Image.length;i++)this.photoItem.push(t.Image[i].Image);t.Image instanceof Object&&this.photoItem.push(t.Image.value)}else for(i=0;i<t.length;i++)t[i].value?this.photoItem.push(t[i].value):this.photoItem.push(t[i]);for(t=this.photoItem.length,i=0;i<t;i++)this.photoItem[i]=this.fixRelativePath(this.photoItem[i]);if(t<4)for(i=t;i<4;i++)this.photoItem[i]=this.photoItem[0];2==t&&(this.photoItem[2]=this.photoItem[0],this.photoItem[3]=this.photoItem[1]),this.showIndex=this.index=0,this.nextIndex=1,this.imgWidth=this.config.width*this.pageWidth,this.imgHeight=this.config.height*this.pageHeight,this.boxWidth=this.imgWidth-8,this.boxHeight=this.imgHeight-8,this.btnSize=.2*this.boxHeight<=18?18:.2*this.boxHeight,this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.alpha=0,this.nextAlpha=100,this.images=[],this.runArr=[],this.background=$("<div></div>"),this.background.css({opacity:this.config.alpha,width:this.imgWidth,height:this.imgHeight,left:this.x+"px",top:this.y+"px",position:"absolute",overflow:"hidden"}),this.setRotation(this.background,this.config.rotation),this.runBox1=$("<div class='"+this.maskType+"'></div>"),this.runBox2=$("<div class='"+this.maskType+"'></div>"),this.leftBtn=$("<img src='"+uiBaseURL+"pre_image.png' />"),this.rightBtn=$("<img src='"+uiBaseURL+"next_image.png' />"),this.leftBtn.css({display:"none","z-index":"1000",cursor:"pointer",position:"absolute",width:this.btnSize+"px",height:this.btnSize+"px",left:"0",top:(this.imgHeight-this.btnSize)/2+"px"}),this.rightBtn.css({display:"none","z-index":"1000",cursor:"pointer",position:"absolute",width:this.btnSize+"px",height:this.btnSize+"px",right:"0",top:(this.imgHeight-this.btnSize)/2+"px"}),this.config.selectBtn&&(this.leftBtn.css({display:"block"}),this.rightBtn.css({display:"block"})),this.addItem(),this.background.append(this.leftBtn).append(this.rightBtn).append(this.runBox1).append(this.runBox2),this.parent.append(this.background),this.runBox1.append(this.images[this.showIndex]),this.runBox2.append(this.images[this.nextIndex].css({opacity:"0"})),this.runArr.push(this.runBox2),this.runArr.push(this.runBox1),this.initRunConfig(),this.images[this.showIndex].css(this.tranCss(this.pos1.x,this.pos1.y)),this.initCss(),this.initBtnEvent(),this.initEvent()},initEvent:function(){this.background.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"EmbeddedSlideshow",this.config.x,this.config.y,this.config.width,this.config.height])}.bind(this))},initCss:function(){this.runBox1.css({"mask-size":this.boxWidth+"px "+this.boxHeight+"px","-webkit-mask-size":this.boxWidth+"px "+this.boxHeight+"px",position:"absolute",width:this.imgWidth+"px",height:this.imgHeight+"px"}),this.runBox2.css({"mask-size":this.boxWidth+"px "+this.boxHeight+"px","-webkit-mask-size":this.boxWidth+"px "+this.boxHeight+"px",position:"absolute",width:this.imgWidth+"px",height:this.imgHeight+"px"})},initRunConfig:function(){switch(this.index){case 0:this.pos1={x:this.imgWidth/4,y:this.imgHeight/4,endX:0,endY:0},this.pos2={x:0,y:this.imgHeight/2,endX:this.imgWidth/4,endY:this.imgHeight/4};break;case 1:this.pos1={x:this.imgWidth/4,y:this.imgHeight/4,endX:this.imgWidth/2,endY:0},this.pos2={x:this.imgWidth/2,y:0,endX:this.imgWidth/4,endY:this.imgHeight/4};break;case 2:this.pos1={x:this.imgWidth/4,y:this.imgHeight/4,endX:0,endY:this.imgHeight/2},this.pos2={x:0,y:0,endX:this.imgWidth/4,endY:this.imgHeight/4};break;case 3:this.pos1={x:this.imgWidth/4,y:this.imgHeight/4,endX:this.imgWidth/2,endY:this.imgHeight/2},this.pos2={x:this.imgWidth/2,y:this.imgHeight/2,endX:this.imgWidth/4,endY:this.imgHeight/4}}},initBtnEvent:function(){this.leftBtn.onTap(function(t){this.prevEvent()}.bind(this)),this.rightBtn.onTap(function(t){this.nextEvent()}.bind(this))},changeConfig:function(){this.tranX1&&this.tranY1||(this.tranX1=this.pos1.x,this.tranY1=this.pos1.y),this.tranX2&&this.tranY2||(this.tranX2=this.pos2.x,this.tranY2=this.pos2.y),this.currentAlpha1||(this.currentAlpha1=1),this.currentAlpha2||(this.currentAlpha2=0)},prevEvent:function(){var n,a;this.running||(this.pause(),this.index=this.index-1<0?3:this.index-1,this.nextIndex-=2,this.nextIndex<-1&&(this.nextIndex=this.images.length-2),this.nextIndex<0&&(this.nextIndex=this.images.length-1),this.changeConfig(),n=function(t,i){this.running=!0;var e=this.currentAlpha1*(1-t/i),o=this.tranX1+(this.pos1.endX-this.tranX1)*t/i,s=this.tranY1+(this.pos1.endY-this.tranY1)*t/i;this.runBox1.children().css({transform:"translate("+o+"px,"+s+"px)",opacity:e}),t==i&&(n.stop(),this.nextIndex=this.nextIndex+1>=this.images.length?0:this.nextIndex+1,this.runBox1.empty().append(this.images[this.nextIndex]).children().css({opacity:"1"}))}.bind(this).animation(this,800),a=function(t,i){var e=this.currentAlpha2+(1-this.currentAlpha2)*t/i,o=this.tranX2+(this.pos2.endX-this.tranX2)*t/i,s=this.tranY2+(this.pos2.endY-this.tranY2)*t/i;this.runBox2.children().css({transform:"translate("+o+"px,"+s+"px)",opacity:e}),t==i&&(a.stop(),this.afterAnimate())}.bind(this).animation(this,800))},nextEvent:function(){var n,a;this.running||(this.pause(),this.changeConfig(),n=function(t,i){this.running=!0;var e=this.currentAlpha1*(1-t/i),o=this.tranX1+(this.pos1.endX-this.tranX1)*t/i,s=this.tranY1+(this.pos1.endY-this.tranY1)*t/i;this.runBox1.children().css({transform:"translate("+o+"px,"+s+"px)",opacity:e}),t==i&&(n.stop(),this.nextIndex=this.nextIndex+1>=this.images.length?0:this.nextIndex+1,this.runBox1.empty().append(this.images[this.nextIndex]).children().css({opacity:"1"}))}.bind(this).animation(this,800),a=function(t,i){var e=this.currentAlpha2+(1-this.currentAlpha2)*t/i,o=this.tranX2+(this.pos2.endX-this.tranX2)*t/i,s=this.tranY2+(this.pos2.endY-this.tranY2)*t/i;this.runBox2.children().css({transform:"translate("+o+"px,"+s+"px)",opacity:e}),t==i&&(a.stop(),this.afterAnimate())}.bind(this).animation(this,800))},afterAnimate:function(){this.index=3<this.index+1?0:this.index+1,this.initRunConfig(),this.runBox1.children().css({opacity:"0"}),this.runBox1.children().css({transform:"translate("+this.pos2.x+"px,"+this.pos2.y+"px)"});var t=this.runBox1;this.runBox1=this.runBox2,this.runBox2=t,this.config.autoBool&&(this.runTime1=this.runfun1.animation(this,this.config.delayTime),this.runTime2=this.runfun2.animation(this,this.config.delayTime)),this.running=!1},tranCss:function(t,i){return{transform:"translate("+t+"px,"+i+"px)","-webkit-transform":"translate("+t+"px,"+i+"px)","-o-transform":"translate("+t+"px,"+i+"px)","-moz-transform":"translate("+t+"px,"+i+"px)","-ms-transform":"translate("+t+"px,"+i+"px)"}},tranAnimate:function(){this.initRunConfig(),this.runBox1.children().css(this.tranCss(this.pos1.x,this.pos1.y)),this.runBox2.children().css(this.tranCss(this.pos2.x,this.pos2.y)),this.runTime1=this.runfun1.animation(this,this.config.delayTime),this.runTime2=this.runfun2.animation(this,this.config.delayTime)},runfun1:function(t,i){this.currentAlpha1=t<=i/2?1-2*t/i:0,this.tranX1=this.pos1.x+(this.pos1.endX-this.pos1.x)/i*t,this.tranY1=this.pos1.y+(this.pos1.endY-this.pos1.y)/i*t,this.runBox1.children().css({transform:"translate("+this.tranX1+"px,"+this.tranY1+"px)",opacity:this.currentAlpha1}),t==i&&(this.nextIndex=this.nextIndex+1>=this.images.length?0:this.nextIndex+1,this.runBox1.empty().append(this.images[this.nextIndex]).children().css({opacity:"1"}))},runfun2:function(t,i){this.currentAlpha2=t<=i/2?2*t/i:1,this.tranX2=this.pos2.x+(this.pos2.endX-this.pos2.x)/i*t,this.tranY2=this.pos2.y+(this.pos2.endY-this.pos2.y)/i*t,this.runBox2.children().css({transform:"translate("+this.tranX2+"px,"+this.tranY2+"px)",opacity:this.currentAlpha2}),t==i&&this.afterAnimate()},play:function(){this.config.autoBool&&(this.timer1&&clearTimeout(this.timer1),this.timer1=null,this.runTime1&&this.runTime1.stop(),this.runTime2&&this.runTime2.stop(),this.timer1=setTimeout(this.tranAnimate.bind(this),this.config.delayTime))},pause:function(){this.config.autoBool&&(this.timer1&&clearTimeout(this.timer1),this.timer1=null,this.runTime1&&this.runTime1.stop(),this.runTime2)&&this.runTime2.stop()},parseConfig:function(t){return{width:t.location.width,height:t.location.height,rotation:t.location.rotation,x:t.location.x,y:t.location.y,alpha:t.alpha,autoBool:parseBool(t.autoBool),images:t.Images,delayTime:t.duration<100?1e3*t.duration:t.duration,selectBtn:parseBool(t.selectBtn)}},addItem:function(){for(var i=this,t=0;t<i.photoItem.length;t++){var e=$("<div></div>"),o=(e.css({width:i.boxWidth+"px",height:i.boxHeight+"px",position:"absolute"}),$("<img />")),s=(o.css("position","absolute"),i.photoItem[t]);e.append(o),$(o).on("load",function(){var t=$(this)[0];$(this).css({left:(i.boxWidth-t.naturalWidth)/2+"px",top:(i.boxHeight-t.naturalHeight)/2+"px",position:"absolute"})}).attr("src",s),i.images[t]=e}},resizeItem:function(){for(var t=0;t<this.photoItem.length;t++){var i=this.images[t],e=i.children(),o=e[0];null!=e&&($(e).css({left:(this.boxWidth-o.naturalWidth)/2+"px",top:(this.boxHeight-o.naturalHeight)/2+"px",position:"absolute"}),i.css({width:this.boxWidth+"px",height:this.boxHeight+"px"})),this.images[t]=i}},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.imgWidth=this.config.width*this.pageWidth,this.imgHeight=this.config.height*this.pageHeight,(isIphone()||isIpad())&&(t=getCoverSize(this.imgWidth,this.imgHeight,1024,1024),this.imgWidth=t.width,this.imgHeight=t.height,this.background.css({width:this.imgWidth+"px",height:this.imgHeight+"px","-webkit-transform-origin":"0 0","transform-origin":"0 0","-webkit-transform":"scale("+t.scale+")",transform:"scale("+t.scale+")"})),this.boxWidth=this.imgWidth-8,this.boxHeight=this.imgHeight-8,this.btnSize=.2*this.imgHeight,this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.initRunConfig(),this.background.css({width:this.imgWidth,height:this.imgHeight,left:this.x+"px",top:this.y+"px"}),this.leftBtn.css({width:this.btnSize+"px",height:this.btnSize+"px",top:(this.imgHeight-this.btnSize)/2+"px"}),this.rightBtn.css({width:this.btnSize+"px",height:this.btnSize+"px",top:(this.imgHeight-this.btnSize)/2+"px"}),this.initCss(),this.setPosition()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.background.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.background.one(t,function(){this.background.css({animation:""})}.bind(this)))},setPosition:function(){this.resizeItem()}}).extend("Item"),Class("FlashSwf",{Package:"PageItem",create:function(t,i,e,o){this.config=this.parseConfig(i),this.parent=t,this.pageWidth=e,this.pageHeight=o,this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.left=this.pageWidth*this.config.x,this.top=this.pageHeight*this.config.y,this.config.src=this.config.src,this.config.hint&&(this.config.hint.hintShapeColor=Color(this.config.hint.hintShapeColor).toString(),this.config.hint.hintShapeColor2=Color(this.config.hint.hintShapeColor2).toString()),this.content=$("<div></div>"),this.content.css({position:"absolute",left:this.left,top:this.top,width:this.width,height:this.height}),this.setRotation(this.content,this.config.rotation),this.parent.append(this.content),isTouchDevice()||(this.config.src=this.fixRelativePath(this.config.src),this.initLinkHint(this.content),this.content.flash({swf:this.config.src,width:this.width+"px",height:this.height+"px",wmode:"transparent"}),parseBool(this.config.reflection)&&this.imageReflection(this.content))},parseConfig:function(t){return{width:t.location.width,height:t.location.height,rotation:t.location.rotation,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,x:t.location.x,y:t.location.y,alpha:t.alpha,src:t.swfURL,hint:t.hint,shadow:t.shadow}},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.content.css({width:this.width+"px",height:this.height+"px"}),this.content.flash().remove(),this.content.flash({swf:this.config.src,width:this.width+"px",height:this.height+"px",wmode:"transparent"}),this.setPosition(this.config.x*this.pageWidth,this.config.y*this.pageHeight)},setPosition:function(t,i){this.content.css({left:t+"px",top:i+"px"})},hide:function(){this.content.html("")},show:function(){this.content.flash({swf:this.config.src,width:this.width+"px",height:this.height+"px",wmode:"transparent"})}}).extend(PageItem.Item),!function(a){var e=0,o={mode:"iframe",standard:"html5",popHt:500,popWd:400,popX:200,popY:200,popTitle:"",popClose:!1,extraCss:"",extraHead:"",retainAttr:["id","class","style"]},h={},r=(a.fn.printArea=function(t){a.extend(h,o,t),e++,a("[id^=printArea_]").remove(),h.id="printArea_"+e,t=a(this);var i=r.getPrintWindow();r.write(i.doc,t),setTimeout(function(){r.print(i)},1e3)},{print:function(t){var i=t.win;a(t.doc).ready(function(){i.focus(),i.print(),"popup"==h.mode&&h.popClose&&setTimeout(function(){i.close()},2e3)})},write:function(t,i){t.open(),t.write(r.docType()+"<html>"+r.getHead()+r.getBody(i)+"</html>"),t.close()},docType:function(){return"iframe"==h.mode?"":"html5"==h.standard?"<!DOCTYPE html>":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01'+("loose"==h.standard?" Transitional":"")+'//EN" "http://www.w3.org/TR/html4/'+("loose"==h.standard?"loose":"strict")+'.dtd">'},getHead:function(){var i="";return h.extraHead&&h.extraHead.replace(/([^,]+)/g,function(t){i+=t}),"<head><title>"+h.popTitle+"</title>"+i+"</head>"},getBody:function(t){var s="",n=h.retainAttr;return t.each(function(){for(var t=r.getFormData(a(this)),i="",e=0;e<n.length;e++){var o=a(t).attr(n[e]);o&&(i+=(0<i.length?" ":"")+n[e]+"='"+o+"'")}s+="<div "+i+">"+a(t).html()+"</div>"}),"<body>"+s+"</body>"},getFormData:function(t){var i=t.clone(),o=a("input,select,textarea",i);return a("input,select,textarea",t).each(function(t){var i=a(this).attr("type"),e=("undefined"===a.type(i)&&(i=a(this).is("select")?"select":a(this).is("textarea")?"textarea":""),o.eq(t));"radio"==i||"checkbox"==i?e.attr("checked",a(this).is(":checked")):"text"==i?e.attr("value",a(this).val()):"select"==i?a(this).find("option").each(function(t){a(this).is(":selected")&&a("option",e).eq(t).attr("selected",!0)}):"textarea"==i&&e.text(a(this).val())}),i},getPrintWindow:function(){switch(h.mode){case"iframe":var t=new r.Iframe;return{win:t.contentWindow||t,doc:t.doc};case"popup":return{win:t=new r.Popup,doc:t.doc}}},Iframe:function(){var t=h.id;try{var i=document.createElement("iframe");document.body.appendChild(i),a(i).attr({style:"border:0;position:absolute;width:0px;height:0px;right:0px;top:0px;",id:t,src:"#"+(new Date).getTime()}),i.doc=null,i.doc=i.contentDocument||(i.contentWindow||i).document}catch(t){throw t+". iframes may not be supported in this browser."}if(null==i.doc)throw"Cannot find document.";return i},Popup:function(){var t="location=yes,statusbar=no,directories=no,menubar=no,titlebar=no,toolbar=no,dependent=no,width="+h.popWd+",height="+h.popHt;return t+=",resizable=yes,screenX="+h.popX+",screenY="+h.popY+",personalbar=no,scrollbars=yes",(t=window.open("","_blank",t)).doc=t.document,t}})}(jQuery),Class("PageItemPopup",{Package:"PageItem.Popup",dialog:null,left:0,top:0,width:0,height:0,containerWidth:0,containerHeight:0,create:function(t,i){this.container=t||tmpContainer,this.containerWidth=t.width(),this.containerHeight=t.height(),this.zIndex=i||1e3},onResize:function(t,i){this.containerWidth=t,this.containerHeight=i,this.dialog.css({left:Math.floor((t-this.width)/2)+"px",top:Math.floor((i-this.height)/2)+"px","z-index":this.zIndex})},getOssUrl:function(t,i,e,o){return 0<t.lastIndexOf("?")?t+("&x-oss-process=image/resize,m_"+o+",w_"+parseInt(i)+",h_"+parseInt(e)):t+("?x-oss-process=image/resize,m_"+o+",w_"+parseInt(i)+",h_"+parseInt(e))},fixRelativePath:function(t){return t&&("string"!=typeof t||1!=bookConfig.isFlipPdf||t.startsWith("../")?fixURLValue(t):t.startsWith("./")?fixURLValue("."+t):!t.startsWith("files")&&t.isUrl()?fixURLValue(t):fixURLValue("../"+t))},destroy:virtual_function,show:virtual_function,hide:virtual_function}),Class("PageItemNormalPopup",{Package:"PageItem.Popup",create:function(t,i){this._super(t,i)},destroy:function(){this._super(),this.dialog.remove(),this.dialog=null},show:function(){this.visible=!0,this.container.append(this.dialog)},hide:function(){animateOnce(this.dialog,{"-webkit-transform":"scale(0)","-o-transform":"scale(0)","-ms-transform":"scale(0)","-moz-transform":"scale(0)",transform:"scale(0)"},400,function(){this.destroy(),this.visible=!1}.bind(this))}}).extend("PageItemPopup"),Class("PageItemModalPopup",{Package:"PageItem.Popup",modalBackground:null,create:function(t,i){this._super(t,i),this.createModalBackground()},createModalBackground:function(){this.modalBackground=$("<div name='modal_dialog_background'></div>"),this.modalBackground.css({left:"0%",top:"0%",width:"100%",height:"100%",position:"absolute","background-color":"rgba(0, 0, 0, 0.5)","z-index":this.zIndex,cursor:"default"}),this.initModalBackgroundEvents()},initModalBackgroundEvents:function(t){this.modalBackground.onTap(function(){return this.hide(),!1}.bind(this)),this.modalBackground.bind(_event._down,function(t){return t.stopPropagation(),!1}.bind(this)),this.modalBackground.bind(_event._up,function(t){return t.stopPropagation(),!1}.bind(this))},destroy:function(){this._super(),this.dialog.remove(),this.modalBackground.remove(),this.modalBackground=this.dialog=null},show:function(){var t;this.timer||(this.timer=this.visible=!0,this.dialog.css({"-webkit-transform":"scale(0)","-o-transform":"scale(0)","-ms-transform":"scale(0)","-moz-transform":"scale(0)",transform:"scale(0)"}),this.container.append(this.dialog),this.container.append(this.modalBackground),t={"-webkit-transform":"scale(1)","-o-transform":"scale(1)","-ms-transform":"scale(1)","-moz-transform":"scale(1)",transform:"scale(1)"},setTimeout(function(){animateOnce(this.dialog,t,300,function(){this.timer=!1,this.onShow()}.bind(this))}.bind(this),100))},onShow:function(){},hide:function(){this.timer||(this.timer=!0,animateOnce(this.dialog,{"-webkit-transform":"scale(0)","-o-transform":"scale(0)","-ms-transform":"scale(0)","-moz-transform":"scale(0)",transform:"scale(0)"},300,function(){this.modalBackground.css({opacity:"0"}),this.destroy(),this.visible=this.timer=!1}.bind(this)))}}).extend("PageItemPopup"),-1),QAF_RIGHT=0,QAF_MISTAKE=1;function forceFloat(t){return-1==(t=Number(t).toString()).indexOf(".")&&(t+=".00"),t}Class("QuizPanelPC",{Package:"PageItem.Popup",create:function(t,i){this._super(t),this.config=i,this.parent=t,this.quiz=this.config.action.quiz,this.quiz[0]||(this.quiz=[this.quiz.topic]),this.dialog=$("<div></div>"),this.closeButton=$("<div></div>"),this.content=$("<div></div>"),this.title=$("<div class='titleDiv'></div>"),this.button=$("<div></div>"),this.rightSmile=$("<div style='background:url("+uiBaseURL+"quiz.png) no-repeat -5px -14px;position:absolute;left:25px;top:85px;width:38px;height:50px'></div>"),this.mistakeSmile=$("<div style='background:url("+uiBaseURL+"quiz.png) no-repeat -5px -74px;position:absolute;right:25px;top:85px;width:38px;height:50px'></div>"),this.rightNumber=$("<div style='position:absolute;left:37px;top:145px;color:#03B503;font-size:25px;font-weight:bold'>0</div>"),this.mistakeNumber=$("<div style='position:absolute;right:37px;top:145px;color:red;font-size:25px;font-weight:bold'>0</div>"),this.nextPage=$("<div/></div>"),this.prePage=$("<div><div>"),this.advanceImg=$("<div></div>"),this.progressBar=new TopicProgressBar(this.quiz.length),this.dialog.append(this.content),this.dialog.append(this.closeButton),this.parent.append(this.dialog),this.initQuiz(),this.content.append(this.title).append(this.changBox).append(this.rightSmile).append(this.mistakeSmile).append(this.rightNumber).append(this.mistakeNumber).append(this.nextPage).append(this.prePage).append(this.progressBar.progressContainer),this.title.html(this.config.action.guizTxt),""==this.config.action.guizURL?this.setQuestionURL(this.topicItem[0].QuizTopicPanel.content):(this.advance=new SetAdvance(this.config.action,this),this.content.append(this.advance.QuizTopicPanel.content),this.hideButton(),this.progressBar.progressContainer.hide(),this.advance.start.on("click",function(){this.setQuestionURL(this.topicItem[0].QuizTopicPanel.content),this.showButton(),this.topicItem[this.currentIndex].QuizTopicPanel.Animate(),this.prePage.hide(),this.progressBar.progressContainer.show(),this.advance.QuizTopicPanel.content.remove()}.bind(this))),this.setCss(),this.initEvent(),this.prePage.hide()},setQuestionURL:function(t){this.content.append(t)},initEvent:function(){this.currentIndex=0;var i=this.topicItem.length;this.OnNextPageClick=function(){var t;this.currentIndex>i||(this.currentIndex+=1,this.progressBar.setProgress(this.currentIndex+1),this.currentIndex<i?(this.setQuestionURL(this.topicItem[this.currentIndex].QuizTopicPanel.content),this.topicItem[this.currentIndex].QuizTopicPanel.Animate(),this.topicItem[this.currentIndex].resetScroll(),this.prePage.show()):(t=new Onclusion(this,this.config.action,this.rightNumber[0].innerText,this.mistakeNumber[0].innerText),this.setQuestionURL(t.QuizTopicPanel.content),this.nextPage.hide()))}.bind(this),this.nextPage.on("click",this.OnNextPageClick),this.prePage.on("click",function(){0!=this.currentIndex&&(0==this.currentIndex&&(this.currentIndex+=i),this.currentIndex=(this.currentIndex-1)%i,this.setQuestionURL(this.topicItem[this.currentIndex].QuizTopicPanel.content),this.topicItem[this.currentIndex].QuizTopicPanel.Animate(),this.progressBar.setProgress(this.currentIndex+1),this.nextPage.show(),0==this.currentIndex)&&this.prePage.hide()}.bind(this)),this.closeButton.bind("click",function(t){t.stopPropagation(),this.hide()}.bind(this)),this.nextPage.on("mouseover",function(){this.nextPage.css({background:"url("+uiBaseURL+"quiz.png) no-repeat -257px -61px",cursor:"pointer"})}.bind(this)),this.nextPage.on("mouseout",function(){this.nextPage.css("background","url("+uiBaseURL+"quiz.png) no-repeat -257px -16px")}.bind(this)),this.prePage.on("mouseover",function(){this.prePage.css({background:"url("+uiBaseURL+"quiz.png) no-repeat -310px -62px",cursor:"pointer"})}.bind(this)),this.prePage.on("mouseout",function(){this.prePage.css("background","url("+uiBaseURL+"quiz.png) no-repeat -310px -17px")}.bind(this)),$(window).resize(this.onResize.bind(this))},initQuiz:function(){this.topicItem=[],this.topicAnswer=[];for(var t=0;t<this.quiz.length;t++)"right"==this.config.action.languageLayout&&(this.quiz[t].alignCss={"text-align":"right",direction:"rtl"}),this.topic=new SetQuestionPanel(this,this.quiz[t],t),this.topicItem.push(this.topic),this.topicAnswer[t]=null},getAnswerFlags:function(){for(var t=[],i=0;i<this.quiz.length;i++)null===this.topicAnswer[i]?t[i]=QAF_UNKNOWN:this.topicAnswer[i]==this.topicItem[i].getRightAnswer()?t[i]=QAF_RIGHT:t[i]=QAF_MISTAKE;return t},statistics:function(){for(var t=this.getAnswerFlags(),i=0,e=0,o=0;o<t.length;o++)t[o]==QAF_RIGHT&&i++,t[o]==QAF_MISTAKE&&e++;this.rightNumber[0].innerText=Number(i).toString(),this.mistakeNumber[0].innerText=Number(e).toString()},showButton:function(){this.rightSmile.show(),this.mistakeSmile.show(),this.rightNumber.show(),this.mistakeNumber.show(),this.nextPage.show(),this.prePage.show()},hideButton:function(){this.rightSmile.hide(),this.mistakeSmile.hide(),this.rightNumber.hide(),this.mistakeNumber.hide(),this.nextPage.hide(),this.prePage.hide()},setCss:function(){this.title.css({position:"relative",margin:"auto",width:"570px",height:"25px","margin-top":"20px","text-align":"center","font-size":"20px","font-family":"-webkit-pictograph"}),this.closeButton.asButton(),this.closeButton.css({position:"absolute","background-image":"url("+uiBaseURL+"close_form.png)",width:"32px",height:"32px","z-index":"500",cursor:"pointer",right:"30px","margin-top":"24px"}),this.dialog.css({position:"absolute",width:"760px",height:"550px",margin:"auto",left:"0",top:"0",right:"0",bottom:"0","z-index":"1001"}),this.nextPage.css({background:"url("+uiBaseURL+"quiz.png) no-repeat -257px -16px",position:"absolute",margin:"auto",right:"22px",top:"210px",width:"36px",height:"36px"}),this.prePage.css({background:"url("+uiBaseURL+"quiz.png) no-repeat -310px -17px",position:"absolute",margin:"auto",left:"27px",top:"210px",width:"36px",height:"36px"}),this.content.css({position:"absolute",background:"url("+uiBaseURL+"quiz.png) no-repeat -6px -148px","max-width":"722px","max-height":"502px",width:"100%",height:"100%",margin:"auto",left:"0",top:"0",right:"0",bottom:"0"})},onResize:function(){},show:function(){this._super(),this.topicItem[this.currentIndex].resetScroll(),this.modalBackground.css("display","block")},hide:function(){this.modalBackground.css("display","none"),this.dialog.css({transform:"scale(0)","-webkit-transform":"scale(0)","-moz-transform":"scale(0)","-ms-transform":"scale(0)","-o-transform":"scale(0)"}),animateOnce(this.dialog,{},.6),this._super.delay(this,600)}}).extend("PageItemModalPopup"),Class("QuizTopicPanel",{create:function(t){this.config=t,this.content=$("<div></div>"),this.deg=10,this.setCss(),this.Animate()},getQuizTopicPanel:function(){return this.content},setCss:function(){this.content.css({transform:"rotateZ(10deg) rotateX(10deg)","-weblkit-transform":"rotateZ(10deg) rotateX(10deg)","-moz-transform":"rotateZ(10deg) rotateX(10deg)","-ms-transform":"rotateZ(10deg) rotateX(10deg)","-o-transform":"rotateZ(10deg) rotateX(10deg)","transform-origin":"50% 80%","-webkit-transform-origin":"50% 80%","-ms-transform-origin":"50% 80%","-moz-transform-origin":"50% 80%","-o-transform-origin":"50% 80%",position:"absolute",background:"white",margin:"auto","margin-top":"40px",left:0,right:0,width:"560px",height:"360px",border:"3px solid #b8d0da","border-radius":"14px"})},Animate:function(){this.show.animation(this,300)},show:function(t,i){var e=$.easing.easeOutCubic(null,t,10,-10,i);t=$.easing.easeOutCubic(null,t,45,-45,i),this.content.css("transform","rotateX("+t+"deg) rotateY("+t+"deg) rotateZ("+e+"deg) ")}}),Class("SetQuestionPanel",{create:function(t,i,e){this.config=i,this.index=e,this.quizPanel=t,this.questionPanel=$("<div></div>"),this.question=$("<span style='color:rgb(0,153,255);font-size:30px;font-weight:bold;font-family:Verdana;position:absolute;top:0;left:15px'>Q:</span>"),this.initAnswer(),this.questionTitle=$("<span class='stage' style='color:#0066CC;width:475px;height:70px;overflow:hidden;font-size:16px;position:absolute;top:0;left:70px'><div class='swiper' style='width:465px;position:absolute;top:0;left:0;'>"+this.config.title.replaceAll("  ","&ensp;")+"</div></span>"),this.initScroll(),t=this.fixRelativePath(this.config.media),bookConfig.useTheAliCloudChart&&(t=this.getOssUrl(t,280,220,"lfit")),this.mediaImg=$("<img src='"+t+"' style='max-width:270px;max-height:180px;position:absolute;bottom: 0px;top:0px;margin:auto;left:50px;'/>"),this.noImgAnswerPanel=$("<div></div>"),this.imgAnswerPanel=$("<div></div>"),this.QuizTopicPanel=new QuizTopicPanel,this.QuizTopicPanel.getQuizTopicPanel().append(this.questionPanel.append(this.question).append(this.questionTitle).append(this.mediaImg)),""==this.config.media?(this.mediaImg.remove(),this.questionPanel.append(this.noImgAnswerPanel)):this.questionPanel.append(this.imgAnswerPanel),this.setCss(),this.getRightAnswer(),this.addTopicAnswer()},initAnswer:function(){for(var t in this.Items=[],this.config)t.startsWith("answer")&&this.Items.push(this.config[t])},getRightAnswer:function(){for(var t=0;t<this.Items.length;t++)"true"==this.Items[t].dataRight&&(this.dataRight=this.Items[t].value);return this.dataRight},addTopicAnswer:function(){for(var t=0;t<this.Items.length;t++){var i=new TopicAnswer(this.quizPanel,this.Items[t],this.config,this.dataRight,this.index);(""==this.config.media?(0==(t+1)%2&&i.answerPanel.css("margin-left","20px"),this.noImgAnswerPanel):this.imgAnswerPanel).append(i.answerPanel)}},setCss:function(){this.imgAnswerPanel.css({width:"210PX",position:"absolute",right:"0px",top:"82px","overflow-x":"hidden",height:"250px"}),this.noImgAnswerPanel.css({top:"125px",position:"absolute",width:"455px",left:"95px","overflow-x":"hidden",height:"230px"}),this.questionPanel.css({position:"absolute",width:"560px",height:"350px",margin:"auto",right:0,left:0,top:0,bottom:0}),this.config.alignCss&&(this.question.html(":Q"),this.question.css({right:"15px",left:"auto"}),this.questionTitle.css({left:"auto",right:"65px",direction:"rtl","text-align":"right"}))},initScroll:function(){this.progress=$("<div class='progress'></div>"),this.progressBar=$("<div class='progressBar'></div>"),this.progress.append(this.progressBar),this.questionTitle.append(this.progress),this.initScrollCss()},resetScroll:function(){this.questionTitle.scroll({},Direction.top,"win10")},initScrollCss:function(){this.progress.css({display:"none",background:"#eee",width:"8px",height:"100%",position:"absolute",right:"0",cursor:"pointer"}),this.progressBar.css({width:"8px",background:"rgba(11,11,11,0.55)",position:"absolute",top:"0",cursor:"pointer","border-radius":"4px"})},getOssUrl:function(t,i,e,o){return 0<t.lastIndexOf("?")?t+("&x-oss-process=image/resize,m_"+o+",w_"+parseInt(i)+",h_"+parseInt(e)):t+("?x-oss-process=image/resize,m_"+o+",w_"+parseInt(i)+",h_"+parseInt(e))},fixRelativePath:function(t){return!t||"string"!=typeof t||1!=bookConfig.isFlipPdf||t.startsWith("../")?t:t.startsWith("./")?"."+t:t.isUrl()?t:"../"+t}}),Class("TopicAnswer",{create:function(t,i,e,o,s){this.index=s,this.quizPanel=t,this.config=e,this.answer=i,this.dataRight=o,this.answerPanel=$("<div></div>"),this.checkBox=$("<div class='check-box'><div>"),this.answerValue=$("<div>"+this.answer.value+"</div>"),this.answerPanel.append(this.checkBox),this.answerPanel.append(this.answerValue),this.initEvent(),this.setCss()},initEvent:function(){this.checkBox.on("click",function(){this.quizPanel.topicAnswer[this.index]=this.answer.value,this.quizPanel.statistics(),this.answerResult=new TopicAnswerResult(this.quizPanel,this.config,this.answer,this.dataRight),this.quizPanel.content.append(this.answerResult.content)}.bind(this)),this.checkBox.on("mouseover",function(){this.checkBox.css({width:"26px",height:"26px",cursor:"pointer",background:"url("+uiBaseURL+"quiz.png) no-repeat -630px -63px"})}.bind(this)),this.checkBox.on("mouseleave",function(){this.checkBox.css({width:"20px",height:"20px",cursor:"pointer",background:"url("+uiBaseURL+"quiz.png) no-repeat -465px -67px"})}.bind(this))},setCss:function(){this.answerValue.css({color:"#0f5177",position:"relative","margin-left":"30px","font-size":"15px",width:"165px","font-family":"Verdana"}),this.answerPanel.css({width:"200px","margin-top":"20px",position:"relative",display:"inline-block"}),this.checkBox.css({position:"absolute",background:"url("+uiBaseURL+"quiz.png) no-repeat -465px -67px",top:"4px",width:"20px",height:"20px"}),this.config.alignCss&&(this.answerPanel.css(this.config.alignCss),this.answerValue.css({"margin-left":"0","margin-right":"30px"}))}}),Class("SetAdvance",{create:function(t){this.config=t,t=this.fixRelativePath(this.config.guizURL),bookConfig.useTheAliCloudChart&&(t=this.getOssUrl(t,360,250,"lfit")),this.advanceImg=$("<img src='"+t+"'/>"),this.start=$("<div></div>"),this.QuizTopicPanel=new QuizTopicPanel,this.QuizTopicPanel.getQuizTopicPanel().append(this.advanceImg).append(this.start),this.QuizTopicPanel.Animate(),this.start.css({background:"url("+uiBaseURL+"quiz.png) no-repeat -366px -20px",position:"absolute",width:"81px",height:"30px",right:0,left:0,bottom:"35px",margin:"auto"}),this.advanceImg.css({"max-width":"360px","max-height":"250px",position:"absolute",top:"20px",right:0,left:0,margin:"auto"}),this.start.on("mouseover",function(){this.start.css({background:"url("+uiBaseURL+"quiz.png) no-repeat -366px -59px",cursor:"pointer"})}.bind(this)),this.start.on("mouseout",function(){this.start.css("background","url("+uiBaseURL+"quiz.png) no-repeat -366px -20px")}.bind(this))},getOssUrl:function(t,i,e,o){return 0<t.lastIndexOf("?")?t+("&x-oss-process=image/resize,m_"+o+",w_"+parseInt(i)+",h_"+parseInt(e)):t+("?x-oss-process=image/resize,m_"+o+",w_"+parseInt(i)+",h_"+parseInt(e))},fixRelativePath:function(t){return!t||"string"!=typeof t||1!=bookConfig.isFlipPdf||t.startsWith("../")?t:t.startsWith("./")?"."+t:t.isUrl()?t:"../"+t}}),Class("TopicProgressBar",{create:function(t){this.quizLength=t,this.progressContainer=$("<div></div>"),this.progressBar=$("<div></div>"),this.progressContainer.append(this.progressBar),this.setCss(),this.setProgress(1)},setCss:function(){this.progressContainer.css({position:"absolute",margin:"auto",right:"0",left:"0",bottom:"10px",width:"550px",border:"3px solid white",height:"18px","background-color":"rgb(229,233,236)","border-radius":"10px"}),this.progressBar.css({background:"rgba(107,216,254,90)",float:"left",height:"18px","text-align":"center","line-height":"2","border-radius":"10px"})},setProgress:function(t){this.progressBar.css("width",100/(this.quizLength+1)*t+"%"),this.progressBar.css("width").replace("px","")}}),Class("TopicAnswerResult",{create:function(t,i,e,o){this.quizPanel=t,this.dataRight=o,this.config=i,this.answer=e,this.content=$("<div></div>"),this.nextQuestion=$("<div></div>"),this.nextPage=$("<div></div>"),this.nextText=$("<div>NEXT QUESTION</div>"),this.answerOption=$("<span style='color:rgb(0,153,255);font-size:30px;font-weight:bold;font-family:Verdana;position:absolute;top:35px;left:35px'>A:</span>"),this.answerResult=$("<span style='color:rgb(0,153,255);font-size:20px;position:absolute;top:35px;left:82px'></span>"),this.JudgeResult=$("<span></span>"),this.content.append(this.nextQuestion.append(this.nextPage).append(this.nextText)).append(this.answerOption).append(this.answerResult).append(this.JudgeResult),this.setCss(),this.initEvent(),this.answerResult.text(this.dataRight),"true"==this.answer.dataRight?this.JudgeResult.text(this.config.rightTxt):this.JudgeResult.text(this.config.wrongTxt)},initEvent:function(){this.nextPage.on("click",this.quizPanel.OnNextPageClick),this.nextText.on("click",this.quizPanel.OnNextPageClick),this.nextText.on("mouseover",function(){this.nextText.css({cursor:"pointer"})}.bind(this)),this.nextPage.on("mouseover",function(){this.nextPage.css({background:"url("+uiBaseURL+"quiz.png) no-repeat -257px -61px",cursor:"pointer"})}.bind(this)),this.nextPage.on("mouseout",function(){this.nextPage.css("background","url("+uiBaseURL+"quiz.png) no-repeat -257px -16px")}.bind(this))},setCss:function(){this.content.css({position:"absolute",margin:"auto","margin-top":"43px",left:0,right:0,width:"460px",height:"280px",border:"3px solid rgb(184, 208, 218)",bottom:"50px",background:"white","border-radius":"14px"}),this.nextText.css({color:"rgb(0,153,255)","font-size":"14px","font-weight":"bold",width:"85px",position:"absolute",right:"80px",bottom:"30px","font-family":"Verdana"}),this.nextPage.css({background:"url("+uiBaseURL+"quiz.png) no-repeat -257px -16px",position:"absolute",bottom:"30px",right:"30px",width:"36px",height:"36px"}),this.JudgeResult.css({position:"absolute",width:"460px","text-align":"center",bottom:"140px",color:"black","font-family":"Verdana","font-size":"18px"}),this.config.alignCss&&(this.content.css(this.config.alignCss),this.answerOption.css({right:"35px",left:"auto"}),this.answerResult.css({right:"82px"}))}}),Class("Onclusion",{create:function(t,i,e,o){this.quizPanel=t,this.mistakeNumber=o,this.config=i,this.rightNumber=e,this.percentageNumber=Math.floor(this.rightNumber/this.quizPanel.quiz.length*100),this.onclusionPanel=$("<div></div>"),this.hint=$("<div>You haven't selected an answer,please select one</div>"),this.clusion=$("<div>"+this.config.guizEndTxt+"</div>"),this.Percentage=$("<div>"+getLanguage("TTActionQuiz_Ration","Your ration is")+" "+this.percentageNumber+"%</div>"),this.scorePanel=$("<div></div>"),this.score=$("<div style='color: rgb(0, 152, 255);width: 315px;height: 45px;overflow-x: hidden'></div>"),this.isAgain=$("<span>"+getLanguage("TTActionQuiz_PlayAgain","Do you wanna play it again?")+"</span>"),this.button=$("<div></div>"),this.yesButton=$("<div></div>"),this.noButton=$("<div></div>"),this.rightSmile=$("<div style='background:url("+uiBaseURL+"quiz.png) no-repeat -5px -14px;position:absolute;width:38px;height:50px'></div>"),this.mistakeSmile=$("<div style='background:url("+uiBaseURL+"quiz.png) no-repeat -5px -74px;position:absolute;width:38px;height:50px'></div>"),this.byeBye=$("<div style='background:url("+uiBaseURL+"quiz.png) no-repeat -506px -66px;position:absolute;width:105px;height:20px;left:300px;top:230px'></div>"),this.QuizTopicPanel=new QuizTopicPanel,this.QuizTopicPanel.content.append(this.onclusionPanel),0==this.mistakeNumber&&0==this.rightNumber?this.onclusionPanel.append(this.hint):this.onclusionPanel.append(this.clusion),this.onclusionPanel.append(this.Percentage).append(this.isAgain).append(this.scorePanel.append(this.score)).append(this.button.append(this.yesButton).append(this.noButton)),this.setCss(),this.initEvent(),0<=this.percentageNumber&&this.percentageNumber<=25&&this.score.text(this.config.score[3]),25<this.percentageNumber&&this.percentageNumber<=50&&this.score.text(this.config.score[2]),50<this.percentageNumber&&this.percentageNumber<=75&&this.score.text(this.config.score[1]),75<this.percentageNumber&&this.percentageNumber<=100&&(this.score.text(this.config.score[0]),100==this.percentageNumber)&&this.score.css("color","#0098ff")},initEvent:function(){this.yesButton.on("click",function(){this.quizPanel.currentIndex=0,this.quizPanel.progressBar.setProgress(1),this.clearAllCount(),this.quizPanel.statistics(),this.quizPanel.setQuestionURL(this.quizPanel.topicItem[0].QuizTopicPanel.content),this.quizPanel.prePage.hide(),this.quizPanel.nextPage.show()}.bind(this)),this.noButton.on("click",function(){this.removeAllChild(this.quizPanel.content[0]),this.quizPanel.content.append(this.QuizTopicPanel.content),this.removeAllChild(this.QuizTopicPanel.content[0]),this.quizPanel.content.append(this.rightSmile).append(this.mistakeSmile).append(this.byeBye),this.rightSmile.animate({left:"210px"},400,"easeOutElastic"),this.mistakeSmile.animate({right:"220px"},400,"easeOutElastic"),this.quizPanel.hide()}.bind(this)),this.yesButton.on("mouseover",function(){this.yesButton.css({background:"url("+uiBaseURL+"quiz.png) no-repeat -71px -59px",cursor:"pointer"})}.bind(this)),this.yesButton.on("mouseout",function(){this.yesButton.css("background","url("+uiBaseURL+"quiz.png) no-repeat -71px -20px")}.bind(this)),this.noButton.on("mouseover",function(){this.noButton.css({background:"url("+uiBaseURL+"quiz.png) no-repeat -161px -59px",cursor:"pointer"})}.bind(this)),this.noButton.on("mouseout",function(){this.noButton.css("background","url("+uiBaseURL+"quiz.png) no-repeat -161px -20px")}.bind(this))},clearAllCount:function(){for(var t=this.quizPanel.quiz.length,i=0;i<t;i++)this.quizPanel.topicAnswer[i]=null},removeAllChild:function(t){for(;t.hasChildNodes();)t.removeChild(t.firstChild)},setCss:function(){this.rightSmile.css({margin:"auto",bottom:"0px",top:"0px",left:"45px",transform:"scale(3.5)","-webkit-transform":"scale(3.5)","-moz-transform":"scale(3.5)","-ms-transform":"scale(3.5)","-o-transform":"scale(3.5)"}),this.mistakeSmile.css({margin:"auto",bottom:"0px",top:"0px",right:"50px",transform:"scale(3.5)","-webkit-transform":"scale(3.5)","-moz-transform":"scale(3.5)","-ms-transform":"scale(3.5)","-o-transform":"scale(3.5)"}),this.scorePanel.css({position:"absolute",margin:"auto",right:"0px",left:"0px",top:"160px",color:"gray",width:"300px","text-align":"center",height:"45px",overflow:"hidden","font-size":"20px"}),this.Percentage.css({"font-weight":"bold","font-size":"20px",position:"absolute",margin:"auto",top:"30%",left:"0px",right:"0px",width:"200px",height:"20px"}),this.clusion.css({width:"560px","font-size":"24px",color:"#045DD0","text-align":"center","margin-top":"40px"}),this.isAgain.css({color:"#00a5ff","font-size":"20px","font-weight":"bold",width:"250px",position:"absolute","text-align":"center",bottom:"90px",right:"0px",left:"0px",margin:"auto"}),this.hint.css({width:"385px","font-size":"20px","font-weight":"bold",color:"#045DD0","text-align":"center","margin-left":"75px","margin-top":"35px"}),this.onclusionPanel.css({position:"absolute","border-radius":"10px",background:$.browser.prefix+"linear-gradient(90deg,#f4f4f5,#FFFFFF)",margin:"auto",bottom:"0px",right:"0px",left:"0px",top:"0px"}),this.yesButton.css({width:"81px",height:"30px",cursor:"pointer",position:"absolute",background:"url("+uiBaseURL+"quiz.png) no-repeat -71px -20px"}),this.noButton.css({width:"81px",height:"30px",right:"0px",position:"absolute",cursor:"pointer",background:"url("+uiBaseURL+"quiz.png) no-repeat -161px -20px"}),this.button.css({margin:"auto",bottom:"25px",right:"0px",left:"0px",width:"204px",height:"30px",position:"absolute"}),"right"==this.config.languageLayout&&(this.isAgain.css({direction:"rtl"}),this.Percentage.css({direction:"rtl"}))}}),Class("QuizPanelMobile",{Package:"PageItem.Popup",create:function(t,i){this._super(t),this.config=i,this.quiz=this.config.action.quiz,this.quiz[0]||(this.quiz=[this.quiz.topic]),this.dialog=$("<div></div>"),this.content=$("<div class='container-box'></div>"),this.contentMiddle=$("<div></div>"),this.contentBottom=$("<div></div>"),this.closeButton=$("<div></div>"),this.title=$("<div>"+this.config.action.guizTxt+"</div>"),this.rightNumber=$("<div>0</div>"),this.mistakeNumber=$("<div>0</div>"),this.questionContent=$("<div></div>"),this.initQuiz(),this.setCss(),this.initTransform(),this.initEvent(),this.setSwipe(),this.progressBar=new TopicProgressBarMobile(this.quiz.length,this.currentIndex),this.dialog.append(this.contentMiddle).append(this.contentBottom).append(this.closeButton).append(this.content.append(this.title).append(this.questionContent)).append(this.progressBar.progressContainer),""==this.config.action.guizURL?this.setQuestionURL(this.topicItem[0].questionPanel):(this.advance=new SetAdvanceMobile(this.config.action,this),this.content.append(this.advance.advanceImg).append(this.advance.start),this.progressBar.progressContainer.hide(),this.advance.start.on("click",function(){this.setQuestionURL(this.topicItem[0].questionPanel),this.progressBar.progressContainer.show(),this.advance.advanceImg.remove(),this.advance.start.remove()}.bind(this)))},initEvent:function(){this.currentIndex=0;var i=this.topicItem.length;this.OnNextPageClick=function(){var t;this.currentIndex>i||(this.currentIndex+=1,this.progressBar.setProgress(this.currentIndex+1,i+1),this.currentIndex<i?(this.setQuestionURL(this.topicItem[this.currentIndex].questionPanel),this.topicItem[this.currentIndex].resetScroll()):(t=new OnclusionMobile(this,this.config.action,this.rightNumber[0].innerText,this.mistakeNumber[0].innerText),this.setQuestionURL(t.onclusionPanel)))}.bind(this),this.closeButton.on("click",function(){this.hide()}.bind(this)),$(window).resize(function(){}.bind(this))},setQuestionURL:function(t){this.questionContent.append(t)},initQuiz:function(){this.topicItem=[],this.topicAnswer=[];for(var t=0;t<this.quiz.length;t++)"right"==this.config.action.languageLayout&&(this.quiz[t].alignCss={"text-align":"right",direction:"rtl"}),this.topic=new QuestionPanelMobile(this,this.quiz[t],t),this.topicItem.push(this.topic),this.topicAnswer[t]=null},getAnswerFlag:function(){for(var t=[],i=0;i<this.quiz.length;i++)null===this.topicAnswer?t[i]=QAF_UNKNOWN:this.topicAnswer[i]==this.topicItem[i].getRightAnswer()?t[i]=QAF_RIGHT:t[i]=QAF_MISTAKE;return t},flushCount:function(){for(var t=this.getAnswerFlag(),i=0,e=0,o=0;o<t.length;o++)t[o]==QAF_RIGHT&&i++,t[o]==QAF_MISTAKE&&e++;this.rightNumber[0].innerText=Number(i),this.mistakeNumber[0].innerText=Number(e)},setSwipe:function(){this.currentIndex=0;var t=function(t,i){if(i=30*windowWidth/1600,!(Math.abs(t)<=i)){var e,o=this.topicItem.length;if(t<-i){if(this.currentIndex>o)return;this.progressBar.setProgress(this.currentIndex+1,o+1),this.currentIndex+=1,this.progressBar.setProgress(this.currentIndex+1,o+1),this.currentIndex<o?this.setQuestionURL(this.topicItem[this.currentIndex].questionPanel):(e=new OnclusionMobile(this,this.config.action,this.rightNumber[0].innerText,this.mistakeNumber[0].innerText),this.setQuestionURL(e.onclusionPanel))}if(i<t){if(this.currentIndex<0)return;--this.currentIndex,this.setQuestionURL(this.topicItem[this.currentIndex].questionPanel),this.progressBar.setProgress(this.currentIndex+1,o+1)}$.browser.mise?event.cancelBubble=!0:event.stopPropagation()}}.bind(this);this.questionContent.speed(t)},show:function(){this._super(),this.topicItem[this.currentIndex].resetScroll(),animateOnce(this.dialog,{transform:"translate(0,0)","-webkit-transform":"translate(0,0)","-moz-transform":"translate(0,0)","-o-transform":"translate(0,0)","-ms-transform":"translate(0,0)"},.3,function(){}.bind(this),"","ease")},hide:function(){this.dialog&&animateOnce(this.dialog,{transform:"translate(100%,0)","-webkit-transform":"translate(100%,0)","-moz-transform":"translate(100%,0)","-o-transform":"translate(100%,0)","-ms-transform":"translate(100%,0)"},.3,function(){this.dialog&&this.destroy()}.bind(this),"","ease")},setCss:function(){this.questionContent.css({position:"absolute","margin-top":"30px",background:"white",width:windowWidth-70+"px",left:"0px",right:"0px",margin:"auto","overflow-x":"hidden",height:windowHeight-150+"px"}),this.title.css({position:"relative",margin:"auto",width:windowWidth-50+"px",height:"22px","margin-top":"20px","text-align":"center","font-size":"20px","font-family":"-webkit-pictograph"}),this.closeButton.css({background:"url("+uiBaseURL+"quiz.png) no-repeat -69px -100px",width:"42px",height:"47px","z-index":"100",position:"absolute",right:"0px"}),this.contentBottom.css({position:"absolute",border:"1px solid rgba(221,221,221,0.6)",top:"34px",left:"0px",right:"0px","background-color":"rgba(255,255,255,0.6)",width:windowWidth-90+"px",height:"50px",margin:"auto","border-radius":"5px"}),this.contentMiddle.css({position:"absolute",border:"1px solid rgba(221,221,221,0.8)",top:"41px",left:"0px",right:"0px","background-color":"rgba(255,255,255,0.8)",width:windowWidth-70+"px",height:"50px",margin:"auto","border-radius":"5px","z-index":"100"}),this.dialog.css({position:"absolute","background-color":"#eeeeee",width:windowWidth+"px",height:windowHeight+"px","z-index":"100"}),this.content.css({position:"absolute",border:"1px solid #dddddd",bottom:"50px",left:"0px",right:"0px",margin:"auto","background-color":"#FFFFFF",width:windowWidth-50+"px",height:windowHeight-100+"px","border-radius":"5px","z-index":"100"})},initTransform:function(){this.dialog.css({transform:"translate(100%,0)","-webkit-transform":"translate(100%,0)","-moz-transform":"translate(100%,0)","-o-transform":"translate(100%,0)","-ms-transform":"translate(100%,0)"})},onResize:function(){this.hide()}}).extend("PageItemNormalPopup"),Class("QuestionPanelMobile",{create:function(t,i,e){this.config=i,this.index=e,this.quizPanel=t,this.questionPanel=$("<div></div>"),this.questionBox=$("<div style='position:relative;height:80px;'></div>"),this.question=$("<span style='color:rgb(0,153,255);font-size:18px;font-weight:bold;font-family:Verdana;'>Q:</span>"),this.initAnswer(),this.questionTitle=$("<span style='color:rgb(0,153,255);font-size:15px;'>"+this.config.title+"</span>"),this.questionTitle=$("<span class='stage' style='color:#0066CC;width:"+(windowWidth-99)+"px;height:70px;overflow:hidden;font-size:16px;position:absolute;top:0;left:25px'><div class='swiper' style='width:"+(windowWidth-109)+"px;position:absolute;top:0;left:0;'>"+this.config.title+"</div></span>"),this.initScroll(),t=this.fixRelativePath(this.config.media),bookConfig.useTheAliCloudChart&&(t=this.getOssUrl(t,windowWidth-70,220,"lfit")),this.mediaImg=$("<img src='"+t+"' style='display:block;max-width:"+(windowWidth-74)+"px;max-height:220px;margin-top:20px'/>"),this.config.media||this.mediaImg.css({display:"none"}),this.questionBox.append(this.question).append(this.questionTitle),this.questionPanel.append(this.questionBox).append(this.mediaImg),this.getRightAnswer(),this.addTopicAnswer(),this.questionPanel.css({width:windowWidth-69+"px","overflow-x":"hidden",position:"absolute","background-color":"white",height:windowHeight-170+"px"}),this.config.alignCss&&(this.question.html(":Q"),this.question.css({position:"absolute",right:"10px"}),this.questionTitle.css({position:"absolute",right:"35px",top:0,direction:"rtl","text-align":"right"}))},initScroll:function(){this.progress=$("<div class='progress'></div>"),this.progressBar=$("<div class='progressBar'></div>"),this.progress.append(this.progressBar),this.questionTitle.append(this.progress),this.initScrollCss()},resetScroll:function(){this.questionTitle.scroll({},Direction.top,"win10")},initScrollCss:function(){this.progress.css({background:"#eee",width:"8px",height:"100%",position:"absolute",right:"0",cursor:"pointer"}),this.progressBar.css({width:"8px",background:"rgba(11,11,11,0.55)",position:"absolute",top:"0",cursor:"pointer","border-radius":"4px"})},initAnswer:function(){for(var t in this.Items=[],this.config)t.startsWith("answer")&&this.Items.push(this.config[t])},getRightAnswer:function(){for(var t,i=0;i<this.Items.length;i++)"true"==this.Items[i].dataRight&&(t=this.Items[i].value);return t},addTopicAnswer:function(){for(var t=0;t<this.Items.length;t++){var i=new TopicAnswerMoblie(this.quizPanel,this.Items[t],this.config,this.getRightAnswer(),this.index);this.questionPanel.append(i.answerPanel)}},getOssUrl:function(t,i,e,o){return 0<t.lastIndexOf("?")?t+("&x-oss-process=image/resize,m_"+o+",w_"+parseInt(i)+",h_"+parseInt(e)):t+("?x-oss-process=image/resize,m_"+o+",w_"+parseInt(i)+",h_"+parseInt(e))},fixRelativePath:function(t){return!t||"string"!=typeof t||1!=bookConfig.isFlipPdf||t.startsWith("../")?t:t.startsWith("./")?"."+t:t.isUrl()?t:"../"+t}}),Class("TopicAnswerResultMobile",{create:function(t,i,e,o){this.quizPanel=t,this.dataRight=o,this.config=i,this.answer=e,this.container=$("<div></div>"),this.content=$("<div></div>"),this.nextQuestion=$("<div></div>"),this.nextPage=$("<div></div>"),this.nextText=$("<div>NEXT QUESTION</div>"),this.answerOption=$("<span style='color:rgb(0,153,255);font-size:30px;font-weight:bold;font-family:Verdana;position:absolute;top:35px;left:35px'>A:</span>"),this.answerResult=$("<span style='color:rgb(0,153,255);font-size:20px;position:absolute;top:35px;left:82px'></span>"),this.JudgeResult=$("<span></span>"),this.content.append(this.nextQuestion.append(this.nextPage).append(this.nextText)).append(this.answerOption).append(this.answerResult).append(this.JudgeResult),this.container.append(this.content),this.setCss(),this.initEvent(),this.answerResult.text(this.dataRight),"true"==this.answer.dataRight?this.JudgeResult.text(this.config.rightTxt):(this.JudgeResult.text(this.config.wrongTxt),this.JudgeResult.css("color","red"))},initEvent:function(){this.nextPage.on("click",this.quizPanel.OnNextPageClick),this.nextPage.on("click",function(){this.container.remove()}.bind(this)),this.nextText.on("click",this.quizPanel.OnNextPageClick),this.nextText.on("click",function(){this.container.remove()}.bind(this))},setCss:function(){this.container.css({position:"absolute",margin:"auto",top:"0",left:0,right:0,bottom:"0",width:"100%",height:"100%",background:"transparent","z-index":1}),this.content.css({position:"absolute",margin:"auto","margin-top":"43px",left:0,right:0,width:windowWidth-70+"px",height:windowHeight-200+"px",border:"1px solid #dddddd",bottom:"50px",background:"white","border-radius":"4px","z-index":100}),this.nextText.css({color:"rgb(0,153,255)","font-size":"14px","font-weight":"bold",width:"85px",position:"absolute",right:"72px",bottom:"30px","font-family":"Verdana"}),this.nextPage.css({background:"url("+uiBaseURL+"quiz.png) no-repeat -257px -16px",position:"absolute",bottom:"30px",right:"30px",width:"36px",height:"36px"}),this.JudgeResult.css({position:"absolute",width:windowWidth-70+"px","text-align":"center",bottom:"140px",color:"green","font-family":"Verdana","font-size":"18px"}),this.config.alignCss&&(this.content.css(this.config.alignCss),this.answerOption.css({right:"35px",left:"auto"}),this.answerResult.css({right:"82px",left:"auto"}))}}),Class("TopicAnswerMoblie",{create:function(t,i,e,o,s){this.quizPanel=t,this.config=e,this.answer=i,this.index=s,this.dataRight=o,this.answerPanel=$("<div></div>"),this.checkBox=$("<div><div>"),this.answerValue=$("<div>"+this.answer.value+"</div>"),this.answerPanel.append(this.checkBox),this.answerPanel.append(this.answerValue),this.initEvent(),this.setCss()},initEvent:function(){this.checkBox.on("click",function(){this.quizPanel.topicAnswer[this.index]=this.answer.value,this.quizPanel.flushCount(),this.answerResult=new TopicAnswerResultMobile(this.quizPanel,this.config,this.answer,this.dataRight),this.quizPanel.content.append(this.answerResult.container)}.bind(this))},setCss:function(){this.answerValue.css({color:"#0f5177",position:"relative","margin-left":"30px","font-size":"15px",width:"165px","font-family":"Verdana"}),this.answerPanel.css({"margin-top":"20px",position:"relative"}),this.checkBox.css({top:"3px",position:"absolute",background:"url("+uiBaseURL+"quiz.png) no-repeat -465px -67px",width:"20px",height:"20px"}),this.config.alignCss&&(this.answerPanel.css(this.config.alignCss),this.answerValue.css({"margin-left":"0","margin-right":"30px"}))}}),Class("OnclusionMobile",{create:function(t,i,e,o){this.quizPanel=t,this.config=i,this.rightNumber=e,this.mistakeNumber=o,this.percentageNumber=Math.floor(this.rightNumber/this.quizPanel.quiz.length*100),this.onclusionPanel=$("<div></div>"),this.hint=$("<div>You haven't selected an answer,please select one</div>"),this.clusion=$("<div>"+this.config.guizEndTxt+"</div>"),this.Percentage=$("<div>"+getLanguage("TTActionQuiz_Ration","Your ration is")+" "+this.percentageNumber+"%</div>"),this.scorePanel=$("<div></div>"),this.score=$("<div style='color:#DCAB1B;width: "+(windowWidth-70)+"px;height: 45px;overflow-x: hidden'></div>"),this.isAgain=$("<span>"+getLanguage("TTActionQuiz_PlayAgain","Do you wanna play it again?")+"</span>"),this.button=$("<div></div>"),this.yesButton=$("<div></div>"),this.noButton=$("<div></div>"),0==this.mistakeNumber&&0==this.rightNumber?this.onclusionPanel.append(this.hint):this.onclusionPanel.append(this.clusion),this.onclusionPanel.append(this.Percentage).append(this.isAgain).append(this.scorePanel.append(this.score)).append(this.button.append(this.yesButton).append(this.noButton)),this.setCss(),this.initEvent(),0<=this.percentageNumber&&this.percentageNumber<=25&&this.score.text(this.config.score[3]),25<this.percentageNumber&&this.percentageNumber<=50&&this.score.text(this.config.score[2]),50<this.percentageNumber&&this.percentageNumber<=75&&this.score.text(this.config.score[1]),75<this.percentageNumber&&this.percentageNumber<=100&&(this.score.text(this.config.score[0]),100==this.percentageNumber)&&this.score.css("color","#0098ff")},initEvent:function(){this.yesButton.on("click",function(){this.quizPanel.currentIndex=0,this.clearFlushCount(),this.quizPanel.flushCount(),this.quizPanel.progressBar.setProgress(1,this.quizPanel.quiz.length+1),this.quizPanel.setQuestionURL(this.quizPanel.topicItem[0].questionPanel)}.bind(this)),this.noButton.on("click",function(){this.quizPanel.hide()}.bind(this))},clearFlushCount:function(){for(var t=this.quizPanel.quiz.length,i=0;i<t;i++)this.quizPanel.topicAnswer[i]=null},setCss:function(){var t=(windowHeight-100-20)/2;this.scorePanel.css({position:"absolute",margin:"auto",right:"0px",left:"0px",top:"160px",color:"gray",width:windowWidth-70+"px","text-align":"center",height:"45px",overflow:"hidden","font-size":"15px"}),this.Percentage.css({"font-weight":"bold","font-size":"15px",position:"absolute",margin:"auto",bottom:t+"px",left:"0px",right:"0px",width:windowWidth-70+"px","text-align":"center",height:"20px"}),this.clusion.css({width:windowWidth-70+"px","font-size":"17px",color:"#045DD0","text-align":"center","margin-top":"40px"}),this.isAgain.css({color:"#00a5ff","font-size":"15px","font-weight":"bold",width:"250px",position:"absolute","text-align":"center",bottom:t-40+"px",right:"0px",left:"0px",margin:"auto"}),this.hint.css({width:"250px","font-size":"15px","font-weight":"bold",color:"#045DD0","text-align":"center","margin-top":"35px"}),this.onclusionPanel.css({position:"absolute",width:windowWidth-70+"px","border-radius":"10px",background:"white",margin:"auto",bottom:"0px",right:"0px",left:"0px",top:"0px"}),this.yesButton.css({width:"81px",height:"30px",position:"absolute",background:"url("+uiBaseURL+"quiz.png) no-repeat -71px -20px"}),this.noButton.css({width:"81px",height:"30px",right:"0px",position:"absolute",background:"url("+uiBaseURL+"quiz.png) no-repeat -161px -20px"}),this.button.css({margin:"auto",bottom:t-95+"px",right:"0px",left:"0px",width:"204px",height:"30px",position:"absolute"}),"right"==this.config.languageLayout&&(this.isAgain.css({direction:"rtl"}),this.Percentage.css({direction:"rtl"}))}}),Class("SetAdvanceMobile",{create:function(t){this.config=t,t=this.fixRelativePath(this.config.guizURL),bookConfig.useTheAliCloudChart&&(t=this.getOssUrl(t,windowWidth-80,200,"lfit")),this.advanceImg=$("<img src='"+t+"'/>"),this.start=$("<div></div>"),this.start.css({background:"url("+uiBaseURL+"quiz.png) no-repeat -366px -20px",position:"absolute",width:"81px",height:"30px",right:0,left:0,bottom:"35px",margin:"auto"}),this.advanceImg.css({"max-width":windowWidth-80+"px","max-height":"200px",position:"absolute",top:0,right:0,left:0,bottom:0,margin:"auto"})},getOssUrl:function(t,i,e,o){return 0<t.lastIndexOf("?")?t+("&x-oss-process=image/resize,m_"+o+",w_"+parseInt(i)+",h_"+parseInt(e)):t+("?x-oss-process=image/resize,m_"+o+",w_"+parseInt(i)+",h_"+parseInt(e))},fixRelativePath:function(t){return!t||"string"!=typeof t||1!=bookConfig.isFlipPdf||t.startsWith("../")?t:t.startsWith("./")?"."+t:t.isUrl()?t:"../"+t}}),Class("TopicProgressBarMobile",{create:function(t,i){this.quizLength=t,this.currentIndex=i,this.progressContainer=$("<div></div>"),this.progressBar=$("<div></div>"),this.progressContainer.append(this.progressBar),this.setCss(),this.setProgress(1,this.quizLength+1)},setCss:function(){this.progressContainer.css({position:"absolute",margin:"auto",right:"0",left:"0",bottom:"10px",width:windowWidth-50+"px",height:"30px","background-color":"white","border-radius":"3px"}),this.progressBar.css({height:"30px","padding-top":"4px","text-align":"center","border-radius":"10px","font-size":"20px"})},setProgress:function(t,i){if(i<t)return t-1;this.progressBar.text(t+"/"+i)}}),Class("ShowInformation",{Package:"PageItem.Popup",create:function(t,i){this._super(t),this.config=i,this.initConfig(),this.initHtml(),this.alignCss&&this.textTitle.css(this.alignCss),(t=new TextFormatAnalyzer(this.config.action.bodyText).getHTML(this.alignCss)).addClass("swiper"),t.css({position:"absolute"}),this.text.html(t),this.initCss(),this.initScroll()},initScroll:function(){this.text.addClass("stage"),this.progress=$("<div class='progress'></div>"),this.progressBar=$("<div class='progressBar'></div>"),this.progress.append(this.progressBar),this.text.append(this.progress),this.initScrollCss()},initScrollCss:function(){this.progress.css({background:"#eee",width:"8px",height:"100%",position:"absolute",right:"0",cursor:"pointer"}),this.progressBar.css({width:"8px",background:"rgba(11,11,11,0.55)",position:"absolute",top:"0",cursor:"pointer","border-radius":"4px"})},initConfig:function(){this.width=parseInt(this.config.action.width),this.height=parseInt(this.config.action.height),this.bgColor1=Color(this.config.action.bgColor1).toString(),this.bgColor2=Color(this.config.action.bgColor2).toString(),this.buttonColor=Color(this.config.action.buttonColor).toString(),this.buttonBgColor=Color(this.config.action.buttonBgColor).toString(),this.bodyColor=Color(this.config.action.bodyColor).toString(),this.titleAlign=this.config.action.titleAlign,this.titleColor=Color(this.config.action.titleColor).toString(),this.link=this.config.action.link,this.linkLength=this.config.action.link.length,this.titleSize=this.config.action.titleSize,this.titleFont=this.config.action.titleFont,"right"==this.config.action.languageLayout&&(this.alignCss={"text-align":"right",direction:"rtl"});var t,i=new TextFormatAnalyzer(this.config.action.bodyText);null==this.config.action.bodyFont&&(t=i.getFontFamily().split(","),this.config.action.bodyFont=t[0],this.config.action.bodySize=i.getFontSize(),this.config.action.bodyColor=i.getFontColor()),this.image=[this.fixRelativePath(this.config.action.imgURL)],bookConfig.useTheAliCloudChart&&(this.image[0]=this.getOssUrl(this.image[0],160,290,"lfit"))},initHtml:function(){this.contentBox=$('<div id="cbox"></div>'),this.enterContain=$("<div id=\"enterContain\" style='overflow:hidden;'></div>"),this.closeButton=$('<div id="closebutton"></div>'),this.textTitle=$("<div></div>"),this.text=$("<div class='text'></div>"),this.content=$("<div></div>"),this.dialog=$('<div id="conb"></div>'),this.imgBox=$("<div></div>"),this.img=$("<img>"),"http://"==this.link.substring(this.linkLength-7,this.linkLength)?this.button=$("<a href='javascript:void(0);' style='display:block' target='_Blank'>helfjawfjf</a>"):this.button=$("<a href = '"+this.link+"' target='_Blank' font-family='"+this.config.action.bodyFont+"'></a>"),this.contentBox.append(this.textTitle),this.content.append(this.enterContain),this.enterContain.append(this.contentBox),this.dialog.append(this.content),this.dialog.append(this.closeButton),this.textTitle.html(this.config.action.titleText.overflow(32)),this.button.html(this.config.action.buttonName),this.config.action.buttonName||this.button.css({display:"none"}),this.contentBox.append(this.text),this.contentBox.append(this.button)},hasUrl:function(){var t=this.config.action.imgURL;return"null"!=t&&"./null"!=t&&"../null"!=t},initCss:function(){this.textTitle.css({"font-family":this.titleFont,"font-size":this.titleSize+"px"}),this.hasOverflow(this.config.action.titleText,32)&&this.textTitle.attr("title",this.config.action.titleText),this.hasUrl()&&this.img.attr({src:this.image[0],align:"center"}),this.setPcCss(),this.hasUrl()&&(this.contentBox.css({position:"absolute",right:"25px","overflow-x":"hidden",width:this.width-50+"px",height:this.height+"px"}),this.textTitle.css({"text-align":this.titleAlign,"font-size":this.config.action.titleSize,color:this.titleColor,"font-family":this.config.action.titleFont,"z-index":"2500",width:this.width-50+"px","margin-top":"10px"}),this.enterContain.css({width:this.width+"px",height:this.height+"px"}),this.text.css({width:this.width-50+"px","max-height":this.height-160+"px","z-index":"2500","margin-top":"10px",overflow:"hidden"}),this.text.find(".swiper").css({width:this.width-62+"px"})),1==parseBool(this.config.action.imgBool)&&this.hasUrl()?(this.content.append(this.imgBox),this.imgBox.append(this.img),this.imgBox.css({width:"100%",height:"100%",position:"absolute","z-index":"3000","max-width":"160px","max-height":"290px",margin:"auto",top:"15px",right:"30px"}),this.enterContain.css({width:this.width+"px",height:this.height+"px"}),this.contentBox.css({position:"absolute",left:"40px",top:"25px","overflow-x":"hidden",width:this.width+"px",height:this.height+"px"}),this.setText(),this.button.css({bottom:"0",left:"0"}),this.alignCss&&this.button.css({right:"0",left:"auto"})):0==parseBool(this.config.action.imgBool)&&this.hasUrl()&&(this.content.append(this.imgBox),this.imgBox.append(this.img),this.imgBox.css({width:"100%",height:"100%",position:"absolute","z-index":"3000","max-width":"160px","max-height":"290px",top:"15px",margin:"auto",left:"30px"}),this.enterContain.css({width:this.width+"px",height:this.height+"px"}),this.contentBox.css({position:"absolute",right:"40px",top:"25px",width:this.width-240+"px","overflow-x":"hidden",height:this.height-10+"px"}),this.button.css({bottom:"0",left:"0"}),this.alignCss&&this.button.css({right:"0",left:"auto"}),this.setText()),this.closeButton.asButton(),this.closeButton.bind(_event._click,function(){this.hide()}.bind(this))},hasOverflow:function(t,i){var e=2;return/[^\x00-\xff]/.test(t)&&(i=Math.floor(i/2),e=Math.floor(e/2)),t.length-i>e},setPcCss:function(){this.closeButton.css({width:"100%",height:"100%",position:"absolute","background-image":"url("+uiBaseURL+"close_form.png)","background-repeat":"no-repeat",cursor:"pointer","max-width":"32px","max-height":"32px","z-index":"3000",top:0,right:"6px"}),this.button.css({position:"absolute",color:this.buttonColor,"border-radius":"5px",border:"1px solid #333",padding:"2px 4px","font-size":"14px","background-color":this.buttonBgColor,"text-decoration":"none","z-index":"2500",bottom:"15px",left:"15px"}),this.img.css({"max-width":"160px","max-height":"290px",position:"absolute",margin:"auto",left:"0",top:"0",bottom:"0",right:"0"}),this.dialog.css({width:this.width+30+"px",height:this.height+30+"px",position:"absolute",margin:"auto",left:"0",top:"0",bottom:"0",right:"0","z-index":"3000"}),this.enterContain.css({width:this.width+"px",height:this.height+"px"}),this.content.css({"border-radius":"6px",width:"100%",height:"100%",position:"absolute",margin:"auto",left:"0",top:"0",bottom:"0",right:"0",padding:"15px","max-width":this.width,"max-height":this.height,"z-index":"1900","background-image":$.browser.prefix+"repeating-linear-gradient("+this.config.action.bgAngle+"deg, "+this.bgColor2+", "+this.bgColor1+")"}),this.text.css({position:"relative","font-size":this.config.action.bodySize+"px",color:this.bodyColor,"font-family":this.config.action.bodyFont,width:this.width+"px",height:this.height-140+"px",padding:"0px",outline:"medium",border:"0px","padding-right":"0","line-height":"2.0",background:"rgba(255,255,255,0)","z-index":"2500",overflow:"hidden"}),this.text.find(".swiper").css({width:this.width-15+"px"}),this.textTitle.css({margin:"10px 0","font-weight":"bold","font-size":this.config.action.titleSize,color:this.titleColor,"text-align":this.titleAlign,"font-family":this.config.action.titleFont})},setText:function(){this.textTitle.css({"font-weight":"bold","font-size":this.config.action.titleSize,color:this.titleColor,"text-align":this.titleAlign,"font-family":this.config.action.titleFont,"z-index":"2500",width:this.width-240+"px",overflow:"hidden","text-overflow":"ellipsis"}),this.text.css({"font-size":this.config.action.bodySize+"px",color:this.bodyColor,"font-family":this.config.action.bodyFont,width:this.width-240+"px",height:this.height-165+"px",padding:"0px",outline:"medium",border:"0px","padding-right":"0","margin-top":"20px","line-height":"2.0",background:"rgba(255,255,255,0)","z-index":"2500",overflow:"hidden"}),this.text.find(".swiper").css({width:this.width-250+"px"})},show:function(){this._super(),this.hasUrl()?this.text.css({height:this.height-this.textTitle.height()-75+"px"}):this.text.css({height:this.height-this.textTitle.height()-50+"px"}),this.text.scroll({},Direction.top,"win10"),this.modalBackground.css({display:"block"})},hide:function(){this._super.delay(this,500),animateOnce(this.dialog,{transform:"scale(0)","-webkit-transform":"scale(0)","-moz-transform":"scale(0)","-o-transform":"scale(0)","-ms-transform":"scale(0)"},.5,function(){this.modalBackground.empty(),this.modalBackground.remove()}.bind(this),"","ease")}}).extend("PageItemModalPopup"),Class("ShowInformationMobile",{Package:"PageItem.Popup",create:function(t,i){this._super(t),this.windowWidth=windowWidth,this.windowHeight=windowHeight,this.config=i,this.initConfig(),this.initHtml(),this.imgUrl=this.fixRelativePath(this.config.action.imgURL),this.setPhoneCss(),this.closeButton.bind("click",function(){this.hide()}.bind(this)),"null"!=(t=this.config.action.imgURL?this.config.action.imgURL.toLowerCase().trim():"")&&""!=t&&"./null"!=t||this.img.remove(),this.dialog.css({transform:"translate(100%,0)","-webkit-transform":"translate(100%,0)","-moz-transform":"translate(100%,0)","-o-transform":"translate(100%,0)","-ms-transform":"translate(100%,0)"})},initConfig:function(){this.bgColor1=Color(this.config.action.bgColor1).toString(),this.bgColor2=Color(this.config.action.bgColor2).toString(),this.buttonColor=Color(this.config.action.buttonColor).toString(),this.buttonBgColor=Color(this.config.action.buttonBgColor).toString(),this.fontColor=Color(this.config.action.titleColor).toString(),this.bodyColor=Color(this.config.action.bodyColor).toString(),this.titleBgColor=this.config.action.titleBgColor?Color(this.config.action.titleBgColor).toString():"transparent",this.titleSize=this.config.action.titleSize,this.titleFont=this.config.action.titleFont,"right"==this.config.action.languageLayout&&(this.alignCss={"text-align":"right",direction:"rtl"});var t,i=new TextFormatAnalyzer(this.config.action.bodyText);null==this.config.action.bodyFont&&(t=i.getFontFamily().split(","),this.config.action.bodyFont=t[0],this.config.action.bodySize=i.getFontSize(),this.config.action.bodyColor=i.getFontColor())},initHtml:function(){this.link=this.config.action.link,this.linkLength=this.config.action.link.length,this.closeButton=$('<div id="closebutton"></div>'),this.textTitle=$("<div></div>"),this.text=$("<div></div>"),this.content=$("<div></div>"),this.dialog=$('<div id="conb"></div>'),this.title=$("<div></div>"),this.img=$("<img>"),this.foot=$('<div style="width:100%;height:70px;position:relative;"></div>'),"http://"==this.link.substring(this.linkLength-7,this.linkLength)?this.button=$("<a href='javascript:void(0);' target='_Blank'></a>"):this.button=$("<a href = '"+this.link+"' target='_Blank' font-family='"+this.config.action.bodyFont+"'></a>"),this.foot.append(this.button),this.textTitle.html(this.config.action.titleText),this.textTitle.text(this.textTitle.text()),this.button.html(this.config.action.buttonName),this.dialog.append(this.title),this.title.append(this.closeButton),this.title.append(this.textTitle),this.dialog.append(this.content),this.content.append(this.img),this.content.append(this.text);var t=new TextFormatAnalyzer(this.config.action.bodyText).getHTML(this.alignCss);this.text.html(t),this.content.append(this.foot)},setPhoneCss:function(){this.title.css({"font-family":this.titleFont,"font-size":this.titleSize+"px",position:"relative",width:"100%","background-color":"mintcream",border:"#CCCCCC 0.5px solid"}),"null"!=this.config.action.imgURL&&"../null"!=this.config.action.imgURL&&(bookConfig.useTheAliCloudChart&&(this.imgUrl=this.getOssUrl(this.imgUrl,windowWidth,200,"lfit")),this.img.attr({src:this.imgUrl,align:"center"})),this.button.css({position:"absolute",color:this.buttonColor,"padding-left":"8px","padding-right":"8px","background-color":this.buttonBgColor,"text-decoration":"none","z-index":"2500",right:"30px","border-radius":"6px",bottom:"30px"}),this.img.css({position:"relative","max-width":"100%","max-height":"200px",margin:"15px auto",display:"block"}),this.dialog.css({position:"absolute",width:"100%",height:"100%","z-index":"3000","background-image":$.browser.prefix+"repeating-linear-gradient("+this.config.action.bgAngle+"deg, "+this.bgColor2+","+this.bgColor1+")"}),this.content.css({width:this.windowWidth+"px","overflow-x":"hidden",height:this.windowHeight-(this.textTitle.height()||55)+"px"}),this.textTitle.css({background:this.titleBgColor,position:"relative",padding:"0 30px",margin:"auto",color:this.fontColor,"font-family":this.config.action.titleFont,"vertical-align":"middle","line-height":"1.8",left:"0",top:"0",bottom:"0",right:"0","text-align":"center"}),"right"==this.config.action.languageLayout&&this.textTitle.css({direction:"rtl"}),this.text.css({width:this.windowWidth-30+"px","font-size":this.config.action.bodySize+"px",color:this.bodyColor,"font-family":this.config.action.bodyFont,"overflow-y":"hidden","margin-top":"15px","padding-left":"15px","line-height":"2.0","text-indent":"0"}),this.closeButton.css({position:"absolute","z-index":"1",margin:"auto","background-image":"url("+uiBaseURL+"background_prev.png)","background-repeat":"no-repeat",cursor:"pointer",width:"20px",height:"21px",left:"8px",bottom:"0",top:"0"})},onResize:function(t,i){this.windowWidth=t,this.windowHeight=i,this.dialog&&this.setPhoneCss()},show:function(){this.visible||(this._super(),this.content.css({height:this.windowHeight-this.textTitle.height()+"px"}),this.content.css({height:this.windowHeight-(this.textTitle.height()||55)+"px"}),function(){animateOnce(this.dialog,{transform:"translate(0,0)","-webkit-transform":"translate(0,0)","-moz-transform":"translate(0,0)","-o-transform":"translate(0,0)","-ms-transform":"translate(0,0)"},.3,function(){},"","ease")}.delay(this,100))},hide:function(){this.visible&&animateOnce(this.dialog,{transform:"translate(100%,0)","-webkit-transform":"translate(100%,0)","-moz-transform":"translate(100%,0)","-o-transform":"translate(100%,0)","-ms-transform":"translate(100%,0)"},.3,function(){this.visible=!1,this.destroy()}.bind(this),"","ease")}}).extend("PageItemNormalPopup"),Class("WindowHtml",{Package:"PageItem.Popup",create:function(t,i){this._super(t),this.parent=t,this.config=i,this.frameWidth=parseInt(this.config.windowWidth),this.frameHeight=parseInt(this.config.windowHeight),((t=this.config.windowURL).endsWith(".doc")||t.endsWith(".ppt"))&&(t=this.fixRelativePath(t)),this.dialog=$("<div name='frame_border'></div>"),this.title=$("<div></div>"),this.config.caption&&this.title.html(this.config.caption),this.htmlFrame=$("<iframe class='flip-action' frameborder=0 src='"+this.getUrl(t)+"' width='"+this.frameWidth+" ' height='100% frameborder='0' ></iframe>"),this.closeButton=$("<img src='"+uiBaseURL+"close_form.png'/>"),this.dialog.append(this.closeButton).append(this.title),this.dialog.append(this.htmlFrame),this.setCss(),this.initEvent(),this.onResize(),this.resizeTimer=this.onResize.interval(this,500),this.visible=!0,this.show()},getUrl:function(t){if(t)return getRealURL(t)},destroy:function(){this._super(),this.visible&&(this.visible=!1,this.htmlFrame.attr("src",""),this.resizeTimer)&&this.resizeTimer.stop()},initEvent:function(){this.modalBackground.bind(_event._down,function(t){this.hide(),t.stopPropagation()}.bind(this)),this.closeButton.asButton(),this.closeButton.bind(_event._end,function(t){this.hide(),t.stopPropagation()}.bind(this)),this.dialog.bind(_event._down,function(t){return t.stopPropagation(),!1}.bind(this))},setCss:function(){this.dialog.css({position:"absolute","z-index":"1001",scrolling:"no","background-color":"#F0F0F0","border-radius":"3px",margin:"auto",width:this.frameWidth+"px",height:this.frameHeight+"px","-webkit-overflow-scrolling":"touch",overflow:"auto",left:"0",top:"0",bottom:"0",right:"0"}),this.htmlFrame.css({"background-color":"#F0F0F0",position:"relative","margin-left":"5px","margin-top":"32px"}),this.closeButton.css({position:"absolute","z-index":"1",width:"32px",height:"32px",cursor:"pointer",right:"5px",top:"0px"}),this.title.css({position:"absolute",left:"5px",top:"5px","font-size":"16px"}),"right"==this.config.languageLayout&&(this.title.css({left:"auto",right:"5px","text-align":"right",direction:"rtl"}),this.closeButton.css({left:"5px",right:"auto"}))},onResize:function(){var t,i;this.windowWidth==windowWidth&&this.windowHeight==windowHeight||(this.windowWidth=windowWidth,this.windowHeight=windowHeight,t=windowWidth-10,i=windowHeight-10,isPhone()||(t=Math.min(this.frameWidth+10,t),i=Math.min(this.frameHeight+37,i)),this.dialog.css({width:t+"px",height:i+"px"}),i-=37,this.htmlFrame.attr("width",t-10+"px"),this.htmlFrame.attr("height",i+"px"))}}).extend("PageItemModalPopup"),Class("SwfSlide",{Package:"PageItem.Popup",create:function(t,i,e,o){this._super(t),i&&i.action&&(this.focus=!0,this.config=i,this.action=i.action,"string"==typeof this.action.swfURL&&""!=this.action.swfURL&&null!=this.action.swfURL&&null!=this.action.swfURL&&(this.action.swfURL=this.fixRelativePath(this.action.swfURL)),this.parent=t,this.elemConfig=i.elemConfig,this.element=this.elemConfig.element,"IMG"==this.element[0].tagName.toUpperCase()&&(this.element=this.element.panent()),this.windowWidth=e,this.windowHeight=o,this.pageWidth=this.elemConfig.parentWidth,this.pageHeight=this.elemConfig.parentHeight,this.imgWidth=this.action.targetWidth,this.imgHeight=this.action.targetHeight,this.height=this.width=0,this.type=this.action.startType,this.initHtml(),this.imgLoad(),this.getPosition(),this.initEvent(),this.initCss())},initHtml:function(){var t;this.dialog=$("<div style='display:none;opacity:0;'></div>"),this.box=$("<div id='box'></div>"),this.close=$("<img class='closeImg'/>"),this.background=$("<div class='BG'></div>"),"SWF"==this.action.targetType&&(this.img=$("<img src='"+this.action.swfURL+"' />"),this.box.append(this.img)),"Text"==this.action.targetType&&(t=new TextFormatAnalyzer(this.action.targetText),this.fontSize=t.getMinFontSize(),this.action.languageLayout&&(this.alignCss={"text-align":"right",direction:"rtl"}),this.text=t.getHTML(this.alignCss),this.box.append(this.text)),this.dialog.append(this.box),this.dialog.append(this.close),this.parent.append(this.dialog)},onResize:function(){var t=this.elemConfig.elementParent.offset();this.elemConfig.offsetX=t.left,this.elemConfig.offsetY=t.top,this.pageWidth=this.elemConfig.elementParent.width(),this.pageHeight=this.elemConfig.elementParent.height(),this.sideWidth=BookInfo.getBook().getPageWidth(),this.sideHeight=BookInfo.getBook().getPageHeight(),this.getAttribute(),this.getPosition(),this.initCss(),this.visible&&(this.dialog.css({opacity:0}),this.setPosition(this.startPosition))},imgLoad:function(){"SWF"==this.action.targetType?this.img.on("load",function(){this.onResize(),this.isLoaded=!0}.bind(this)):this.onResize()},getAttribute:function(){var t,i;"Text"==this.action.targetType?(this.width=120,this.height=200):(this.width=this.elemConfig.parentWidth,this.height=this.elemConfig.parentHeight,t=this.img[0].naturalWidth,i=this.img[0].naturalHeight,this.imgWidth=t,this.imgHeight=i,3==this.action.windowScale?(this.width=parseInt(this.action.windowWidth),this.height=parseInt(this.action.windowHeight),this.imgWidth=parseInt(this.action.targetWidth),this.imgHeight=parseInt(this.action.targetHeight)):1==this.action.windowScale?(this.width=t>this.pageWidth?this.pageWidth/3*2:t,this.height=i>this.pageHeight?this.pageHeight/4*3:i):2==this.action.windowScale&&(3!=this.action.targetScale?(this.width=t,this.height=i,this.imgWidth=t,this.imgHeight=i):(this.width=parseInt(this.action.targetWidth),this.height=parseInt(this.action.targetHeight),this.imgWidth=parseInt(this.action.targetWidth),this.imgHeight=parseInt(this.action.targetHeight))),1==this.action.targetScale?(i<t?(this.imgWidth=this.width,this.imgHeight=this.imgWidth/t*i):(this.imgHeight=this.height,this.imgWidth=this.imgHeight/i*t),1==this.action.windowScale&&(this.width=this.imgWidth>this.pageWidth?this.pageWidth/3*2:this.imgWidth,this.height=this.imgHeight>this.pageHeight?this.pageHeight/4*3:this.imgHeight)):4==this.action.targetScale?(this.imgWidth=this.width,this.imgHeight=this.height,1==this.action.windowScale&&(this.width=this.imgWidth>this.pageWidth?this.pageWidth/3*2:this.imgWidth,this.height=this.imgHeight>this.pageHeight?this.pageHeight/4*3:this.imgHeight)):5==this.action.targetScale&&(i<t?(this.imgHeight=this.height,this.imgWidth=this.imgHeight/i*t):this.imgHeight=this.imgWidth/t*i,1==this.action.windowScale)&&(this.width=this.imgWidth>this.pageWidth?this.pageWidth/3*2:this.imgWidth,this.height=this.imgHeight>this.pageHeight?this.pageHeight/4*3:this.imgHeight))},initCss:function(){"SWF"==this.action.targetType&&(0==this.imgWidth||0==this.imgHeight?this.dialog.css({display:"none"}):this.dialog.css({display:"block"})),"Text"==this.action.targetType&&(this.text?this.dialog.css({display:"block"}):this.dialog.css({display:"none"})),this.close.css({position:"absolute",top:"-20px",right:"-20px",width:"20px",height:"20px","border-radius":"50%",background:"#111",cursor:"pointer",display:"none"}),form_icons&&form_icons.close?this.close.attr("src","data:image/png;base64,"+form_icons.close):this.close.attr("src",uiBaseURL+"close.png"),"Text"==this.action.targetType&&this.textCss(),"SWF"==this.action.targetType&&this.imgCss(),("left"==this.type||"right"==this.type?(this.dialog.css({top:this.top+"px"}),this.dialog.css("left",this.startPosition+"px")):(this.dialog.css("left",this.left+"px"),this.dialog.css(this.type,this.startPosition+"px"))).css("opacity","0"),"true"==this.action.winIsAlphaBoolean&&this.dialog.css({background:"rgba(255,255,255,0.8)",border:"none"}),("BtnClick"==this.action.outType||isPhone()||isPad())&&this.close.css({display:"block"}),(isPad()||isPhone())&&this.close.css({top:"-20px",right:"0px"})},textCss:function(){var t;this.box.css({position:"relative",width:this.width-20+"px",height:this.height-20+"px",overflow:"hidden","overflow-y":"auto"}),this.dialog.css({position:"absolute",width:this.width-20+"px",height:this.height-20+"px",background:"rgba(255,255,255,0.8)","z-index":"1001",border:"10px solid rgba(255,255,255,0)"}),"1"==this.action.windowScale?(t=this.pageHeight-this.pageHeight*this.config.y-20,this.dialog.css({height:"auto","max-height":t+"px"}),this.box.css({height:"auto","max-height":t+"px"})):"2"==this.action.windowScale?(this.box.css({width:"100px",height:"auto"}),this.dialog.css({position:"absolute",height:"auto"})):"3"==this.action.windowScale&&("0"!=this.action.windowWidth&&"0"!=this.action.windowHeight||this.dialog.css({display:"none"}),this.dialog.css({width:this.action.windowWidth-20+"px",height:this.action.windowHeight-20+"px"}),this.box.css({width:this.action.windowWidth-20+"px",height:this.action.windowHeight-20+"px"}))},imgCss:function(){this.img.css({position:"absolute",width:this.imgWidth-20+"px",height:this.imgHeight-20+"px"}),this.box.css({position:"absolute",width:this.width-20+"px",height:this.height-20+"px",overflow:"hidden"}),this.dialog.css({position:"absolute",width:this.width-20+"px",height:this.height-20+"px",background:"rgba(255,255,255,0.8)","z-index":"1001",border:"10px solid rgba(255,255,255,0)"})},getPosition:function(){"left"==this.type?(this.startPosition=this.elemConfig.offsetX-this.width,this.endPosition=this.elemConfig.offsetX):"right"==this.type?(this.startPosition=this.elemConfig.parentWidth+this.elemConfig.offsetX,this.endPosition=this.elemConfig.offsetX+this.config.x*this.elemConfig.parentWidth,this.config.x*this.elemConfig.parentWidth+this.width>this.elemConfig.parentWidth+this.elemConfig.offsetX-this.width&&(this.endPosition=this.elemConfig.parentWidth+this.elemConfig.offsetX-this.width),this.width>this.pageWidth&&(this.startPosition=this.windowWidth-this.width-this.elemConfig.offsetX-this.pageWidth,this.endPosition=this.windowWidth-this.elemConfig.offsetX-this.pageWidth)):"bottom"==this.type?(this.startPosition=this.windowHeight-this.elemConfig.offsetY-this.elemConfig.parentHeight-this.height,this.endPosition=this.windowHeight-this.elemConfig.offsetY-this.elemConfig.parentHeight,this.height>this.windowHeight&&(this.startPosition=-this.height+this.elemConfig.offsetY,this.endPosition=this.elemConfig.offsetY)):(this.startPosition=this.elemConfig.offsetY-this.height,this.endPosition=this.elemConfig.offsetY),this.width>this.sideWidth?this.left=(this.sideWidth-this.width-10)/2:(this.left=this.config.x*this.elemConfig.parentWidth+this.elemConfig.offsetX,this.config.x*this.elemConfig.parentWidth+this.width>this.sideWidth&&(this.left=this.sideWidth-this.width+this.elemConfig.offsetX-10)),this.height>this.sideHeight?this.top=(this.sideHeight-this.height)/2:(this.top=this.config.y*this.elemConfig.parentHeight+this.elemConfig.offsetY,this.config.y*this.elemConfig.parentHeight+this.height>this.sideHeight&&(this.top=this.sideHeight-this.height+this.elemConfig.offsetY))},initEvent:function(){isPhone()||isPad()?(this.close.css({display:"block",top:"-20px",right:"0px"}),this.clickEvent()):"Mouse Out"==this.action.outType?this.mouseOutEvent():"BtnClick"==this.action.outType&&this.clickEvent()},clickEvent:function(){this.close.bind(_event._up,function(t){t.stopPropagation(),setTimeout(this.hide.bind(this),50)}.bind(this))},mouseOutEvent:function(){this.dialog.bind("mouseleave mouseout",function(){this.focus=!1,function(){this.focus||(this.hide(),function(){this.moving=!1}.delay(this,450))}.delay(this,50)}.bind(this)),this.dialog.bind("mouseenter mouseover ",function(){this.focus=!0}.bind(this)),this.element.bind("mouseenter mouseover ",function(){this.focus=!0}.bind(this)),this.element.bind("mouseleave mouseout",function(){this.focus=!1,function(){this.focus||(this.hide(),function(){this.moving=!1}.delay(this,450))}.delay(this,50)}.bind(this))},animateCase:function(t,i,o){null!=t&&(this.position=t,this.oldOpacity=parseFloat(this.dialog.css("opacity")),this.newOpacity=i,this.getOldPosition(),this.animate&&this.animate.stopFlag&&this.animate.stop(),this.animate=function(t,i){var e;t==i?(this.dialog.css({opacity:this.newOpacity}),this.setPosition(this.position),o&&o()):(e=this.start+(this.position-this.start)/i*t,this.dialog.css({opacity:this.oldOpacity+(this.newOpacity-this.oldOpacity)/i*t}),this.setPosition(e))}.animation(this,500))},getOldPosition:function(){switch(this.type){case"left":case"right":this.start=parseFloat(this.dialog.left());break;case"top":this.start=parseFloat(this.dialog.top());break;case"bottom":this.start=parseFloat(this.dialog.bottom())}},setPosition:function(t){switch(this.currentPosition=t,this.type){case"left":case"right":this.dialog.css({left:this.currentPosition+"px"});break;case"top":this.dialog.css({top:this.currentPosition+"px"});break;case"bottom":this.dialog.css({bottom:this.currentPosition+"px"})}},show:function(){"SWF"!=this.action.targetType||this.isLoaded?(this.dialog.css({"pointer-events":"auto"}),this.animateCase(this.endPosition,1,function(){this.visible=!0}.bind(this))):setTimeout(function(){this.show()}.bind(this),100)},hide:function(){this.animateCase(this.startPosition,0,function(){this.visible=!1}.bind(this)),this.dialog.css({"pointer-events":"none"})}}).extend("PageItemNormalPopup"),Class("SlideShow",{Package:"PageItem.Popup",create:function(t,i,e,o){this._super(t);var s=i.photos;if(s){if(this.popUpImage=i.popUpImage,this.photos=$.extend([],s),this.dScale=1,this.photos.photo&&(this.photos=null==this.photos.photo[1]?[this.photos.photo]:this.photos.photo),!(this.photos instanceof Array)){if(null==this.photos.url&&null==this.photos.photo)return;this.photos.url&&(this.photos=[{url:this.photos.url,desc:""}]),this.photos.photo&&(this.photos=[this.photos.photo])}!this.popUpImage||this.photos.length||this.photos.photo||this.photos.push({title:"",desc:"",url:i.url}),this.parent=t,this.windowWidth=e,this.windowHeight=o,this.initHtml(),this.initButton(),this.initCss(),this.initEvents(),this.resizeTimer=this.onResize.interval(this,300),this.changeImage(0),this.show(),this.descBox.scroll({},Direction.top,"win10")}},initHtml:function(){this.imgIndex=-1,this.imgWidth=200,this.imgHeight=300,this.boxWidth=200,this.boxHeight=300,this.loadingImageHeight=this.loadingImageWidth=32,this.dialog=$("<div id='dialog'></div>"),this.insetBox=$("<div></div>"),this.leftBar=$("<div></div>"),this.rightBar=$("<div></div>"),this.img=$("<img style='position : absolute;' />"),this.textBox=$("<div></div>"),this.upIcon=$("<div><div></div></div>"),this.titleBox=$("<div></div>"),this.descBox=$("<div class='stage'></div>"),this.descSwiper=$("<div class='swiper'></div>"),this.descBox.append(this.descSwiper),this.textBox.append(this.titleBox).append(this.descBox).append(this.upIcon),this.initScroll(),this.closeButton=new button(this.parent,{buttonType:1,iconURL:uiBaseURL+"closecat.png"},!0),this.loadingImage=$("<div><img src='"+uiBaseURL+"progress.gif' style='position:absolute;'/></div>"),this.insetBox.append(this.loadingImage),this.dialog.append(this.insetBox),this.dialog.append(this.textBox),this.parent.append(this.leftBar),this.parent.append(this.rightBar)},initScroll:function(){this.progress=$("<div class='progress'></div>"),this.progressBar=$("<div class='progressBar'></div>"),this.progress.append(this.progressBar),this.descBox.append(this.progress),this.progress.css({background:"#eee",width:"8px",height:"100%",position:"absolute",right:"0",cursor:"pointer"}),this.progressBar.css({width:"8px",background:"rgba(11,11,11,0.55)",position:"absolute",top:"0",cursor:"pointer","border-radius":"4px"})},initCss:function(){this.dialog.css({width:"100%",height:"100%",position:"absolute","z-index":"10001"}),this.insetBox.css({position:"absolute",width:this.boxWidth+"px",height:this.boxHeight+"px",left:"0px",top:"0px","z-index":1,"-webkit-transform":"scale(0)","-o-transform":"scale(0)","-ms-transform":"scale(0)","-moz-transform":"scale(0)",transform:"scale(0)"}),this.loadingImage.css({position:"absolute","z-index":-1,left:(this.boxWidth-this.loadingImageWidth)/2+"px",top:(this.boxHeight-this.loadingImageHeight)/2+"px",width:this.loadingImageWidth+"px",height:this.loadingImageHeight+"px"}),this.rightBar.css({"z-index":10002,width:"100px",height:"100px",right:"0px",top:(windowHeight-100)/2+"px",opacity:"0.6",position:"absolute"}),this.leftBar.css({"z-index":10002,width:"100px",height:"100px",left:"0px",top:(windowHeight-100)/2+"px",opacity:"0.6",position:"absolute"}),this.closeButton.setCSS({"z-index":10002,display:"none"}),this.closeButton.iconBox.css({opacity:"0.6"}),this.textBox.css({transition:"bottom 0.3s","font-size":"14px","font-family":"Calibri",padding:"15px","z-index":"2",display:"block",background:"rgba(11,11,11,0.25)",color:"#fff",position:"absolute",bottom:"0",width:windowWidth-30+"px",height:"90px"}),this.titleBox.css({overflow:"hidden","font-size":"16px",height:"20px",top:"26px",position:"absolute"}),this.descBox.css({overflow:"hidden",width:windowWidth-30+"px",height:"60px",position:"absolute",top:"56px"}),this.descSwiper.css({position:"absolute",width:windowWidth-40+"px"}),this.upIcon.css({position:"absolute",right:"5px",top:"5px",width:"30px",height:"30px",cursor:"pointer"}),this.upIcon.find("div").css({cursor:"pointer",width:"0",height:"0",position:"absolute",right:"10px",top:"10px","border-width":"8px 5px 0px","border-style":"solid","border-color":"rgb(255, 255, 255) transparent transparent"})},initButton:function(){this.photos.length<=1||(this.leftButton=new button(this.leftBar,{buttonType:1,iconURL:uiBaseURL+"previous_down.png"}),this.rightButton=new button(this.rightBar,{buttonType:1,iconURL:uiBaseURL+"next_down.png"}),this.leftButton.setButtonPosition(0,29,["left","top"]),this.leftButton.background.css({display:"none"}),this.rightButton.setButtonPosition(0,29,["right","top"]),this.hideButtons())},afterZoomOut:function(){this.closeButton.iconBox.css({display:"block"}),this.isZoom=!1},beforeZoomIn:function(){this.closeButton.iconBox.css({display:"none"}),this.isZoom=!0},initEvents:function(){this.closeButton.onMouseDown(this,this.hide),this.modalBackground.unbind(),this.insetBox.bind(_event._click,function(t){t.stopPropagation()}.bind(this)),this.textBox.bind(_event._click,function(t){t.stopPropagation()}.bind(this)),setTimeout(function(){this.dialog.bind(_event._click,this.hide.bind(this)),this.leftButton&&this.leftButton.onMouseDown(this,this.prePage),this.rightButton&&this.rightButton.onMouseDown(this,this.nextPage)}.bind(this),500),this.leftButton&&this.leftButton.mouseEnterJump(),this.rightButton&&this.rightButton.mouseEnterJump(),this.zoomMonitor=new ZoomMonitor,this.zoomMonitor.register({target:this.img,beforeZoomIn:this.beforeZoomIn.bind(this),afterZoomIn:this.afterZoomIn.bind(this),afterZoomOut:this.afterZoomOut.bind(this)}),this.upIcon.bind(_event._click,function(){0<=this.textBox.bottom()?(this.textBox.css({bottom:"-90px"}),this.upIcon.find("div").css({top:"7px","border-width":"0px 5px 8px","border-color":"transparent transparent rgb(255, 255, 255)"})):(this.textBox.css({bottom:"0"}),this.upIcon.find("div").css({top:"12px","border-width":"8px 5px 0px","border-color":"rgb(255, 255, 255) transparent transparent"}))}.bind(this)),this.mouseWheelEvent()},mouseWheelEvent:function(){var e;this.img.bind(_event._mousewheel,function(t){var i=t.originalEvent,i=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail));if(this.isZoom||!(0<i))return!(null!=e&&new Date-e<300||(e=new Date,0))&&(t={pointers:[{pageX:t.pageX,pageY:t.pageY},{pageX:t.pageX,pageY:t.pageY}]},i<0?this.zoomDown(t):this.zoomUp(t),stopEvent(t)),!1;this.img.onDoubleTap(t)}.bind(this))},setCSS:function(t){var i;t&&(null!=t.width&&this.img.css("width",t.width+"px"),null!=t.height&&this.img.css("height",t.height+"px"),null!=t.left&&this.img.css("left",t.left+"px"),null!=t.top&&this.img.css("top",t.top+"px"),null!=t.display&&this.img.css("display",t.display),(t.tran||null!=t.scale||t.origin)&&(i=transformCSS(t),this.img.css(i)),this.img.registerPatamers)&&this.img.registerParamers(t)},changeZoomImg:function(){var t,i,e,o,s,n;this.isZoom&&(t=this.img,i=this.img.offset(),e=getTransform(this.img[0]),o=t.parameters.width/t.parameters.naturalWidth,s=(n=this.getSizeConfig()).width,n=n.height,t.parameters.naturalWidth=s,t.parameters.naturalHeight=n,t.parameters.width=s,t.parameters.height=n,this.img.parameters.scale=o,t.parameters.tran={x:e.x,y:e.y},t.parameters.left=i.left-e.x,t.parameters.top=i.top-e.y,this.afterZoomIn())},afterZoomIn:function(){var t=this.img.offset().left,i=this.img.offset().top,e=this.img.parameters.scale,o={tran:{x:t-this.img.parameters.left,y:i-this.img.parameters.top},scale:1,origin:{x:0,y:0}};1!=e&&this.img.css({width:Math.round(this.img.parameters.width*e)+"px",height:Math.round(this.img.parameters.height*e)+"px"}),this.img.parameters.zoomFlag||(o.tran={x:0,y:0},o.left=+t,o.top=+i),this.setCSS(o),this.img.parameters.tran=o.tran,this.img.parameters.scale=1,this.img.parameters.toScale=1,this.img.parameters.width=$(this.img).width(),this.img.parameters.height=$(this.img).height(),this.img.parameters.origin={x:0,y:0},this.img.parameters.resize=!1},beforeStart:function(t){var i=this.img,e=i.parameters;this.img.offset(),this.img.offset(),e.origin=i.mathOrigin(i,t),e.tran=i.mathTran(i,t,e.origin),i.originObj(i,i.parameters.origin)},zoomUp:function(t){var i=this.img,e=(i.scale=i.parameters.toScale,Math.min(i.parameters.naturalWidth*i.maxScale/i.parameters.width,1.1*parseFloat(i.scale)));e!=i.scale&&(t=t||{pointers:[{pageX:windowWidth/2,pageY:windowHeight/2},{pageX:windowWidth/2,pageY:windowHeight/2}]},i.parameters.origin=i.mathOrigin(i,t),i.originObj(i,i.parameters.origin),i.animateToScale(i,e,t))},zoomDown:function(t){var i,e,o;!this.img.parameters.zoomOut&&this.img.parameters.naturalWidth&&(i=this.img,t=t||{pointers:[{pageX:windowWidth/2,pageY:windowHeight/2},{pageX:windowWidth/2,pageY:windowHeight/2}]},i.scale=i.parameters.toScale,i.parameters.origin=i.mathOrigin(i,t),i.originObj(i,i.parameters.origin),e=i.parameters.naturalWidth/i.parameters.width,(o=.9*parseFloat(i.scale))<=e&&(i.parameters.zoomOut=!0),i.animateToScale(i,Math.max(e,o),t))},hideButtons:function(){this.photos&&this.photos.length<=1&&(this.leftBar.css("display","none"),this.rightBar.css("display","none"))},nextPage:function(){var t;this.photos.length<=1||(t=this.imgIndex+1,this.leftButton.background.css({display:"block"}),t>=this.photos.length-1&&(t=this.photos.length-1,this.rightButton.background.css({display:"none"})),this.changeImage(t))},prePage:function(){var t;this.photos.length<=1||(t=this.imgIndex-1,this.rightButton.background.css({display:"block"}),t<=0&&(t=0,this.leftButton.background.css({display:"none"})),this.changeImage(t))},changeImage:function(t){var i,e;null!=t&&(this.dScale=1,this.setTrans(this.dScale),this.imgIndex!=t)&&(this.imgIndex=t,i=this.photos[t].url,i=this.fixRelativePath(i),e=this.photos[t].desc,t=this.photos[t].title,e&&"undefined"!=e||t&&"undefined"!=t?(this.titleBox.html(""),this.descSwiper.html(""),this.textBox.css({display:"block",bottom:"0"}),this.upIcon.find("div").css({top:"12px","border-width":"8px 5px 0px","border-color":"rgb(255, 255, 255) transparent transparent"}),t&&"undefined"!=t&&this.titleBox.html(t),e&&"undefined"!=e&&this.descSwiper.html(e)):this.textBox.css({display:"none"}),this.img.on("load",function(){this.imgWidth=this.img[0].naturalWidth,this.imgHeight=this.img[0].naturalHeight,this.changeZoomImg(this.img),this.resizeImage(),this.loadingImage.css("display","none"),e&&this.descBox.refreshData&&this.descBox.refreshData()}.bind(this)),this.img.attr("src",i))},getSizeConfig:function(){var t=this.windowWidth-20,i=this.windowHeight-20,e=this.imgWidth,o=this.imgHeight;return t<e&&(o*=t/e,e=t),i<o&&(e*=i/o,o=i),{width:e,height:o}},resizeImage:function(){var t=(i=this.getSizeConfig()).width,i=i.height,e=(this.img.css({width:t+"px",height:i+"px"}),this.isZoom&&this.img.css({width:this.img.parameters.width*this.img.parameters.scale+"px",height:this.img.parameters.height*this.img.parameters.scale+"px"}),this.boxWidth!=t||this.boxHeight!=i?(this.insetBox.css({width:t+8+"px",height:i+8+"px"}),this.insetBox.append(this.img),this.loadingImage.css({left:(t+8-this.loadingImageWidth)/2,top:(i+8-this.loadingImageHeight)/2})):this.insetBox.append(this.img),this.boxWidth=t,this.boxHeight=i,this.img.css({left:"4px",top:"4px"}),(this.windowWidth-t)/2+t-25),o=(this.windowHeight-i)/2+5;this.insetBox.css({left:(windowWidth-(t+8))/2+"px",top:(windowHeight-(i+8))/2+"px"}),this.closeButton.setButtonPosition(e,o),this.closeButton.setCSS({display:"block"})},onResize:function(){!this.imgWidth||this.windowWidth==windowWidth&&this.windowHeight==windowHeight||(this.windowWidth=windowWidth,this.windowHeight=windowHeight,this.textBox.css({width:windowWidth-30+"px"}),this.resizeImage(),this.rightBar.css({top:(this.windowHeight-100)/2+"px"}),this.leftBar.css({top:(this.windowHeight-100)/2+"px"}),this.dScale=1,this.img.parameters.zoomFlag&&this.hide())},setTrans:function(t){var i=(this.windowWidth-this.boxWidth*(t=t||1))/2+this.boxWidth*t-25,e=(this.windowHeight-this.boxHeight*t)/2+5;i>this.windowWidth-40&&(i=this.windowWidth-40),this.closeButton.setButtonPosition(i,e=e<15?15:e),this.insetBox.css({"-webkit-transform":"scale("+t+")","-o-transform":"scale("+t+")","-ms-transform":"scale("+t+")","-moz-transform":"scale("+t+")",transform:"scale("+t+")"})},hide:function(){animateOnce(this.insetBox,{"-webkit-transform":"scale(0)","-o-transform":"scale(0)","-ms-transform":"scale(0)","-moz-transform":"scale(0)",transform:"scale(0)"},300,function(){this.closeButton.remove(),this.leftBar.remove(),this.rightBar.remove(),this.destroy()}.bind(this)),this.dScale=1,this.resizeTimer&&this.resizeTimer.stop()},onShow:function(){}}).extend("PageItemModalPopup"),Class("WindowZoomBox",{Package:"PageItem",create:function(t){this.parent=t,this.visible=!0,this.pageScale=1,this.initHtml(),this.initCss(),this.initEvent()},initHtml:function(){this.popZoom=$("<div class='popZoom'></div>"),this.canvas=$("<canvas width='400' height='300'></canvas>"),this.close=$("<img src='"+uiBaseURL+"photoGallery_close.png' />"),this.popZoom.append(this.canvas).append(this.close),tmpContainer.append(this.popZoom)},initCss:function(){(isPhone()||isPad())&&this.close.css({display:"none"}),this.close.css({cursor:"pointer",position:"absolute",right:"0",top:"0","z-index":1002}),this.popZoom.css({background:"rgba(0,0,0,0.5)",position:"absolute",display:"none","z-index":"1000",top:0,bottom:0,left:0,right:0}),this.canvas.css({"transform-origin":"0 0","-o-transform-origin":"0 0","-ms-transform-origin":"0 0","-moz-transform-origin":"0 0","-webkit-transform-origin":"0 0",border:"1px solid #bbb","box-shadow":"0 0 3px #bbb","-ms-box-shadow":"0 0 3px #bbb","-moz-box-shadow":"0 0 3px #bbb","-webkit-box-shadow":"0 0 3px #bbb",position:"absolute","z-index":"1001","background-color":"#fff",width:"400px",height:"300px",cursor:"url("+uiBaseURL+"catalog_zoomout.png),auto"})},onResize:function(){var t;this.visible||(t=this.getPos(),t=this.getAnimatCss(t.x,t.y,this.getScale()),this.canvas.css(t))},drawBg:function(t,i,e,o){this.config=i,this.elemHeight=e.elemHeight,this.elemWidth=e.elemWidth,this.pageW=e.pageWidth,this.pageH=e.pageHeight,this.point=o,this.ctx=this.canvas[0].getContext("2d"),fillImageAfterLoaded(t,"normal",this.setImage.bind(this))},setImage:function(t,i,e,o){(e=$("<img style='position:absolute;left:0;top:0;' src = '"+t+"' />")).on("load",function(){this.afterLoadEvent(e[0],e[0].naturalWidth,e[0].naturalHeight,o)}.bind(this))},setPageScale:function(t){this.pageScale=t||1},initEvent:function(){this.close.onTap(function(t){this.hide()}.bind(this)),this.popZoom.onTap(function(t){this.hide()}.bind(this))},getBgSize:function(t,i){var e=this.pageW/this.pageH,o=t/i,s=0,n=0;return e<o?(s=this.pageW,n=i*this.pageW/t):o<=e&&(s=t*this.pageH/i,n=this.pageH),{width:s,height:n,wRadio:s/this.pageW,hRadio:n/this.pageH}},getShowSize:function(t,i){var e=this.getBgSize(t,i),o=(t=parseFloat(this.config.x),i=parseFloat(this.config.y),parseFloat(this.config.height)),s=parseFloat(this.config.width),n=o,a=s;return 1==e.wRadio?(i<(s=.5-e.hRadio/2)&&(n-=s-i),1-s<i+o&&(n-=s-1+i+o),i=s<i&&1-s<i+o?1-n/(1-2*s):(i-s)/(1-2*s)):(1-(o=.5-e.wRadio/2)<t+s&&(a-=o-1+s+t),t<o&&(a-=o-t),t=o<t&&1-o<t+s?1-a/(1-2*o):(t-o)/(1-2*o)),{x:t,y:i}},afterLoadEvent:function(t,i,e,o){var s=this.getBgSize(i,e),n=this.getShowSize(i,e),a=(this.width=Math.ceil(i*this.config.width),this.height=Math.ceil(e*this.config.height),this.drawWidth=Math.ceil(i*this.config.width),this.drawHeight=Math.ceil(e*this.config.height),i*this.config.x),h=e*this.config.y,r=i/e,g=this.pageW/this.pageH,l=this.elemWidth/this.elemHeight,d=(this.ctx.beginPath(),this.getScale(),this.elemWidth/this.width);this.pageScale&&(d*=this.pageScale),PageInfo.pageIsStrech(o)||(a=i*n.x,h=e*n.y,1==s.wRadio?this.drawHeight=this.width/l:this.drawWidth=this.height*l),.01<=g-r?this.width=this.height*l:g-r<=-.01&&(this.height=this.width/l),this.canvas.css({width:this.width+"px",height:this.height+"px"}),this.canvas[0].width=this.width,this.canvas[0].height=this.height,this.canvas.css(this.getAnimatCss(this.point.left,this.point.top,d)),this.ctx.drawImage(t,a,h,this.drawWidth,this.drawHeight,0,0,this.width,this.height),this.ctx.closePath(),this.show()},getPos:function(){var t=0,i=0,e=this.getScale();return{x:t=windowWidth>this.width*e?(windowWidth-this.width*e)/2:t,y:i=windowHeight>this.height*e?(windowHeight-this.height*e)/2:i}},getScale:function(){var t=(this.width+2)/(this.height+2),i=windowWidth/windowHeight,e=1;return i<t&&this.width+2>windowWidth&&(e=windowWidth/(this.width+2)),e=t<i&&this.height+2>windowHeight?windowHeight/(this.height+2):e},getAnimatCss:function(t,i,e){return{transform:"translate("+t+"px,"+i+"px) scale("+e+")","-webkit-transform":"translate("+t+"px,"+i+"px) scale("+e+")","-o-transform":"translate("+t+"px,"+i+"px) scale("+e+")","-moz-transform":"translate("+t+"px,"+i+"px) scale("+e+")","-ms-transform":"translate("+t+"px,"+i+"px) scale("+e+")"}},show:function(){var t,i;this.timer||(this.visible=!1,this.popZoom.css({display:"block"}),t=this.getPos(),i=this.getAnimatCss(t.x,t.y,this.getScale()),setTimeout(function(){this.timer=!0,animateOnce(this.canvas,i,.2,function(){this.timer=!1}.bind(this))}.bind(this),100))},hide:function(){var t;this.timer||(this.visible=this.timer=!0,t=this.getAnimatCss(this.point.left,this.point.top,this.pageScale*this.elemWidth/this.width),animateOnce(this.canvas,t,.2,function(){this.timer=!1,this.popZoom.css({display:"none"})}.bind(this)))}}),Class("WindowZoom",{Package:"PageItem",create:function(t,i,e,o,s){this._super(t,i,e,o,s),this.parent=t,this.pageWidth=e,this.pageHeight=o,this.id=s,this.initConfig(),this.initHtml(),this.initCss(),this.initEvent()},initHtml:function(){this.zoomDiv=$("<div class='zoomDiv flip-action'></div>"),this.parent.append(this.zoomDiv)},initConfig:function(){this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight},parseConfig:function(t){return{width:t.location.width,height:t.location.height,rotation:t.location.rotation,x:t.location.x,y:t.location.y,alpha:t.alpha||1,overAlpha:t.overAlpha||1,borderColor:t.borderColor,overColor:t.overColor,borderWidth:t.barderWidth}},initEvent:function(){this.zoomDiv.onTap(function(){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"WindowZoom",this.config.x,this.config.y,this.config.width,this.config.height]),global.popZoomBox.visible?(global.popZoomBox.drawBg(this.id,this.config,{elemWidth:this.width,elemHeight:this.height,pageWidth:this.pageWidth,pageHeight:this.pageHeight},this.zoomDiv.offset()),global.popZoomBox.setPageScale(getTransformScale(this.parent[0])*BookInfo.scale())):global.popZoomBox.hide()}.bind(this)),this.zoomDiv.bind(_event._enter,function(){this.zoomDiv.css({"background-color":Color(this.config.overColor).rgba(this.config.overAlpha)})}.bind(this)),this.zoomDiv.bind(_event._leave,function(){this.zoomDiv.css({"background-color":"transparent"})}.bind(this))},setPageBgImage:function(t,i,e){this.bgImageWidth=t,this.bgImageHeight=i,this.pageIsStrech=e},initCss:function(){this.zoomDiv.css({"z-index":"100","background-color":"transparent",opacity:this.config.alpha,position:"absolute",width:this.width+"px",height:this.height+"px",left:this.x+"px",top:this.y+"px",cursor:"url("+uiBaseURL+"catalog_zoomin.png),auto"})},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.initConfig(),this.setPosition(this.x,this.y),this.zoomDiv.css({width:this.width+"px",height:this.height+"px"})},setPosition:function(t,i){this.zoomDiv.css({left:t+"px",top:i+"px"})}}).extend("Item"),Class("PhoneVideoBox",{create:function(t){this.visible=!1,this.background=$("<div class='phoneVideoBox' style='width:100%;height:100%;z-index:101;position:absolute;top:0;'></div>"),this.videoBac=$("<div style='width:100%;height:100%;background-color:rgba(0,0,0,0.9);'></div>"),this.closeButton=$("<img style='width:20px;height:20px;position:absolute;cursor:pointer;padding:5px;right:5px;top:5px;z-index: 1111;' src='"+phoneBaseURL+"close.png'/>"),this.background.append(this.closeButton),this.background.append(this.videoBac),t.append(this.background),this.background.css({display:"none"}),this.initEvent()},initEvent:function(){this.videoBac.onTap(function(t){this.hide()}.bind(this)),this.closeButton.onTap(function(t){this.hide()}.bind(this)),this.stopPropagationEvent(this.closeButton),this.stopPropagationEvent(this.background),this.stopPropagationEvent(this.videoBac)},stopPropagationEvent:function(t){t.bind(_event._down,function(t){t.stopPropagation()}.bind(this)),t.bind(_event._up,function(t){t.stopPropagation()}.bind(this))},setCurrentVideo:function(t){t&&this.background.append(t)},onResize:function(t,i){this.videoFrame&&this.visible&&this.videoFrame.pauseBackgroundSound()},hide:function(){this.visible=!1,this.timer||(this.videoFrame.pause(),this.timer=setTimeout(function(){this.background.css({display:"none"}),this.background.find("video").remove(),clearTimeout(this.timer),this.timer=null}.bind(this),200))},popup:function(t,i){!this.timer&&i&&(this.timer=!0,this.videoFrame=t,this.visible=!0,this.setCurrentVideo(i),setTimeout(function(){this.timer=null,this.background.css({display:"block"})}.bind(this),200))}}),Class("PhoneVideo",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.left=this.config.x*this.pageWidth,this.top=this.config.y*this.pageHeight,this.playCount=0,this.videoWidth=windowWidth,this.videoHeight=9*this.videoWidth/16,this.videoHeight=Math.min(this.videoHeight,windowHeight),this.videoLeft=(windowWidth-this.videoWidth)/2,this.videoTop=(windowHeight-this.videoHeight)/2,this.config.imgURL=this.fixRelativePath(this.config.imgURL),bookConfig.useTheAliCloudChart&&this.config.imgURL&&(this.config.imgURL=this.getOssUrl(this.config.imgURL,this.width,this.height,"fixed")),this.config.videoURL=this.fixRelativePath(this.config.videoURL),this.videoImage=$("<div class='flip-action' style='position: absolute;cursor:pointer;opacity:"+this.config.alpha+"; left:"+this.left+"px; top:"+this.top+"px; width:"+this.width+"px;height:"+this.height+"px;'></div>"),this.videoFrame=new Media($('<video src="'+this.config.videoURL+'" x5-video-player-type="h5" x5-video-player-fullscreen="true" x-webkit-airplay="true" webkit-playsinline="true" playsinline="true" controls controlslist="nodownload"> </video>'),"video"),this.videoFrame.setCss({position:"absolute",background:"#000",width:this.videoWidth+"px",height:this.videoHeight+"px",left:this.videoLeft+"px",top:this.videoTop+"px","object-fit":"contain","z-index":1e3}),this.config.imgURL?(this.imageDiv=$('<img src="'+this.config.imgURL+'" style="position: absolute;width:100%;height:100%;border:1px solid #bbb;"/>'),this.videoImage.append(this.imageDiv)):this.videoImage.css({"background-color":"#333",border:"2px solid #bbb"}),i=Math.min(Math.min(48,.36*this.width),Math.min(48,.36*this.height)),this.playImg=$("<img src='"+phoneBaseURL+"play.png' style='position:absolute;margin:auto;left:0px;top:0px;bottom:0px;right:0px;width:"+i+"px;height:"+i+"px;'/>"),this.videoImage.append(this.playImg),this.setRotation(this.videoImage,this.config.rotation),t.append(this.videoImage),this.initEvent(),this.config.videoURL||this.playImg.css({display:"none"})},parseConfig:function(t){var i={width:t.location.width,height:t.location.height,rotation:t.location.rotation,x:t.location.x,y:t.location.y,alpha:t.alpha,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,previewSrc:t.previewURL,moviePlayTriggerEvt:t.moviePlayTriggerEvt,movieStopTriggerEvt:t.movieStopTriggerEvt,replayWhenPlayEventTrigger:t.replayWhenPlayEventTrigger,animation:t.animation};return t.H5PlaybackNumber&&(i.H5PlaybackNumber=parseInt(t.H5PlaybackNumber)),t.H5Replay&&(i.H5Replay=parseBool(t.H5Replay)),t.componentData?(i.videoURL=t.componentData.videoURL,i.imgURL=t.componentData.imgURL||t.componentData.previewURL,i.pageViewed=parseBool(t.componentData.pageViewed)):(i.videoURL=t.url||t.videoURL||"",i.imgURL=t.previewURL||t.previewUrl||"",i.pageViewed="EVT_PageViewed"==t.moviePlayTriggerEvt),i},initEvent:function(){this.videoFrame.$media.bind("touchstart touchend",function(t){t.stopPropagation()}.bind(this)),this.videoImage.onTap(function(t){this.showOrHide()}.bind(this)),this.config.H5PlaybackNumber<0&&this.videoFrame.$media.attr("loop","loop"),0<this.config.H5PlaybackNumber&&this.videoFrame.$media.bind("ended",function(){this.playCount++,0<this.config.H5PlaybackNumber&&this.playCount<=this.config.H5PlaybackNumber&&this.play()}.bind(this));var t=(new Date).getTime();this.videoFrame.$media.bind("play",function(){t=(new Date).getTime(),BookEvent.trigger("playMedia",["play",BookInfo.getCurrentPageIndex(),this.videoFrame.$media[0].src,"Video",0]),this.playCount>this.config.H5PlaybackNumber&&(this.playCount=0)}.bind(this)),this.videoFrame.$media.bind("pause",function(){BookEvent.trigger("playMedia",["pause",BookInfo.getCurrentPageIndex(),this.videoFrame.$media[0].src,"Video",(new Date).getTime()-t])}.bind(this))},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.left=this.config.x*this.pageWidth,this.top=this.config.y*this.pageHeight,this.videoWidth=windowWidth,this.videoHeight=9*this.videoWidth/16,this.videoHeight=Math.min(this.videoHeight,windowHeight),this.videoLeft=(windowWidth-this.videoWidth)/2,this.videoTop=(windowHeight-this.videoHeight)/2,this.videoFrame.setCss({width:this.videoWidth+"px",height:this.videoHeight+"px",top:this.videoTop+"px",left:this.videoLeft+"px"}),this.videoImage.css({width:this.pageWidth*this.config.width+"px",height:this.pageHeight*this.config.height+"px"}),this.setPosition(this.left,this.top)},setPosition:function(t,i){this.videoImage.css({top:i+"px",left:t+"px"})},showAnimate:function(){var t;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),this.videoImage.css({animation:"flip 1s ease 0s 1 normal"}),this.videoImage.one(t,function(){this.videoImage.css({animation:""})}.bind(this)))},getPlayEvt:function(){return this.config.moviePlayTriggerEvt},getStopEvt:function(){return this.config.movieStopTriggerEvt},showOrHide:function(){0==global.phoneVideoBox.visible?this.popup():this.hideVideo()},setCurrentTime:function(t){this.videoFrame.setCurrentTime(t)},hideVideo:function(){this.videoFrame.$media.unbind(_event._click),global.phoneVideoBox.hide()},popup:function(){this.config.videoURL&&(global.phoneVideoBox.popup(this.videoFrame,this.videoFrame.$media),this.videoFrame.$media.bind(_event._click,function(t){t.stopPropagation()}.bind(this)),this.playVideo())},playVideo:function(){this.videoFrame.play()},pauseVideo:function(){this.videoFrame.pause()},stopVideo:function(){this.pauseVideo()}}).extend("Item"),Class("HotSpots",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.animateConfig(),this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.left=this.config.x*this.pageWidth,this.top=this.config.y*this.pageHeight,this.opacity=this.config.alpha,this.config.hotSpotsURL=this.fixRelativePath(this.config.hotSpotsURL),this.container=$("<div></div>"),this.parent.append(this.container),this.setCss(),this.initEvent(),this.initLinkHint(this.container),this.createHotspot(),this.onResize(e,o)},setCss:function(){this.container.css({position:"absolute",opacity:this.opacity,"z-index":101,cursor:"hand"}),this.setRotation(this.container,this.config.rotation)},createHotspot:function(){this.isSuportCanvas()?this.hotspot=new this.CanvasHotspotsContent(this.container,this.config.hotSpotsURL):this.hotspot=new($.browser.device==$.browser.DEVICE_PC?this.FlashHotspotsContent:this.HTMLHotspotsContent)(this.container,this.config.hotSpotsURL)},isSuportCanvas:function(){var t,i=this.getClass();return null==i.suportCanvasFlag&&(t=$("<canvas></canvas>"),i.suportCanvasFlag=!(!t[0]||!t[0].getContext)),i.suportCanvasFlag},parseConfig:function(t){return{width:t.location.width,height:t.location.height,rotation:t.location.rotation,x:t.location.x,y:t.location.y,hint:t.hint,alpha:t.alpha,hotSpotsURL:t.hotSpotsURL,hintColor:t.hint.hintShapeColor2,hintShapeAlpha:t.hint.hintShapeAlpha,hintShapeType:t.hint.hintShapeType,text:t.hint.text,action:t.action,animation:t.animation}},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.left=this.config.x*this.pageWidth,this.top=this.config.y*this.pageHeight,this.container.css({width:this.width+"px",height:this.height+"px"}),this.setPosition(),this.hotspot.onResize(),this.resizeHint()},setPosition:function(){this.container.css({left:this.left+"px",top:this.top+"px"})},initEvent:function(){this.container.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"HotSpots",this.config.x,this.config.y,this.config.width,this.config.height]),bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"hotspot",event_label:"Page"+BookInfo.getCurrentPages()[0]})}.bind(this)),this.addActionEvent(this.container)},play:function(){this.hotspot&&this.hotspot.start()},pause:function(){this.hotspot&&this.hotspot.stop()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.container.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.container.one(t,function(){this.container.css({animation:""})}.bind(this)))},destroy:function(){this.hotspot.destroy()}}).extend(PageItem.Item),Class("HotspotsContent",{Package:"PageItem",create:function(t,i){this.container=t,this.src=i,this.init()},init:virtual_function,onResize:virtual_function,start:virtual_function,stop:virtual_function,destroy:virtual_function}),Class("HTMLHotspotsContent",{Package:"PageItem",init:function(){this.frameIndex=1,this.frameCount=60,this.center=$("<div></div>"),this.ring=$("<div></div>"),this.container.append(this.center),this.container.append(this.ring),this.initStyle(this.center),this.initStyle(this.ring),this.onResize()},initStyle:function(t){t.css({position:"absolute",cursor:"hand","pointer-events":"none",left:"0",top:"0",bottom:"0",right:"0",margin:"auto"})},onResize:function(){this.width=this.container.width(),this.height=this.container.height(),this.spotWidth=Math.min(this.width,this.height),this.center.css({"background-color":"red",width:this.spotWidth/3+"px",height:this.spotWidth/3+"px","border-radius":this.spotWidth/6+"px"}),this.borderWidth=this.spotWidth/20,this.ring.css({border:this.borderWidth+"px solid red",opacity:1}),this.draw()},draw:function(){var t=this.spotWidth/3;t+=this.frameIndex/this.frameCount*(this.spotWidth-t-this.borderWidth),this.ring.css({width:t+"px",height:t+"px","border-radius":(t+this.borderWidth)/2+"px",opacity:(this.frameCount-this.frameIndex)/this.frameCount})},start:function(){this.stop(),this.timer=this.animate()},stop:function(){this.timer&&this.timer.stop()},animate:function(){return function(t,i){this.frameIndex=t,this.frameCount=i,this.draw(),this.frameIndex==this.frameCount&&(this.timer=this.animate())}.animation(this,1e3)},destroy:function(){this.stop(),this.center.remove(),this.ring.remove()}}).extend("HotspotsContent"),Class("FlashHotspotsContent",{Package:"PageItem",init:function(){},onResize:function(){this.width=this.container.width(),this.height=this.container.height(),this.container.flash().remove(),this.container.flash({swf:this.src,width:this.width+"px",height:this.height+"px",wmode:"transparent"})},draw:function(){},start:function(){},stop:function(){},animate:function(){},destroy:function(){this.container.flash().remove()}}).extend("HotspotsContent"),Class("CanvasHotspotsContent",{Package:"PageItem",init:function(){this.frameIndex=1,this.frameCount=60,this.canvas=$("<canvas></canvas>"),this.container.append(this.canvas),this.initStyle(this.canvas),this.createDrawer(),this.onResize()},initStyle:function(t){t.css({position:"absolute",cursor:"hand","pointer-events":"none",left:"0",top:"0",bottom:"0",right:"0",margin:"auto"})},isSWF:function(t){t=t.toLowerCase();var i=this.src.lastIndexOf("/"),e=(-1==i&&(i=this.src.lastIndexOf("\\")),this.src.lastIndexOf("."));return!!(i=this.src.substring(i+1,e))&&(i=i.toLowerCase())==t},createDrawer:function(){var t=this.canvas[0].getContext("2d");this.drawer=null,this.isSWF("Black Arrow Circle Hand")&&(this.drawer=new this.RotateHandHotSpotsDrawer(t,"black")),this.isSWF("Black Arrow Circle")&&(this.drawer=new this.RotateRingHotSpotsDrawer(t,"black")),this.isSWF("Black Circle Blinker")&&(this.drawer=new this.BlinkerHotSpotsDrawer(t,"black","#00F1FF")),this.isSWF("Black Circle")&&(this.drawer=new this.ShrinkHotSpotsDrawer(t,"black")),this.isSWF("Black Glow")&&(this.drawer=new this.RoundHotSpotsDrawer(t,"black")),this.isSWF("Black Ripple with Pointer")&&(this.drawer=new this.MouseHotSpotsDrawer(t,"black")),this.isSWF("Black Ripple")&&(this.drawer=new this.RingHotSpotsDrawer(t,"black")),this.isSWF("Black Star in Circle")&&(this.drawer=new this.StarHotSpotsDrawer(t,"black")),this.isSWF("BlackTwo Ripples")&&(this.drawer=new this.RipplesHotSpotsDrawer(t,"black")),this.isSWF("Blue Arrow Circle Hand")&&(this.drawer=new this.RotateHandHotSpotsDrawer(t,"#0033FF")),this.isSWF("Blue Arrow Circle")&&(this.drawer=new this.RotateRingHotSpotsDrawer(t,"#0033FF")),this.isSWF("Blue Circle Blinker")&&(this.drawer=new this.BlinkerHotSpotsDrawer(t,"#0033FF","#00F1FF")),this.isSWF("Blue Circle")&&(this.drawer=new this.ShrinkHotSpotsDrawer(t,"#05338E","#0561BC")),this.isSWF("Blue Glow")&&(this.drawer=new this.RoundHotSpotsDrawer(t,"#0033FF")),this.isSWF("Blue Ripple with Pointer")&&(this.drawer=new this.MouseHotSpotsDrawer(t,"#0033FF")),this.isSWF("Blue Ripple")&&(this.drawer=new this.RingHotSpotsDrawer(t,"#0033FF")),this.isSWF("Blue Star in Circle")&&(this.drawer=new this.StarHotSpotsDrawer(t,"#0044EE")),this.isSWF("Blue Star")&&(this.drawer=new this.RectsHotSpotsDrawer(t,"#3364C5")),this.isSWF("Blue Two Ripples")&&(this.drawer=new this.RipplesHotSpotsDrawer(t,"#0033FF")),this.isSWF("Blue_doughnut")&&(this.drawer=new this.DoughnutHotSpotsDrawer(t,"#3B89FF")),this.isSWF("Default Animation")&&(this.drawer=new this.RectsHotSpotsDrawer(t,"#3364C5")),this.isSWF("Green Arrow Circle Hand")&&(this.drawer=new this.RotateHandHotSpotsDrawer(t,"#009900")),this.isSWF("Green Arrow Circle")&&(this.drawer=new this.RotateRingHotSpotsDrawer(t,"#009900")),this.isSWF("Green Circle Blinker")&&(this.drawer=new this.BlinkerHotSpotsDrawer(t,"#039303","#03F503")),this.isSWF("Green Circle")&&(this.drawer=new this.ShrinkHotSpotsDrawer(t,"#009900")),this.isSWF("Green Glow")&&(this.drawer=new this.RoundHotSpotsDrawer(t,"green")),this.isSWF("Green Ripple with Pointer")&&(this.drawer=new this.MouseHotSpotsDrawer(t,"#009900")),this.isSWF("Green Ripple")&&(this.drawer=new this.RingHotSpotsDrawer(t,"#009900")),this.isSWF("Green Star in Circle")&&(this.drawer=new this.StarHotSpotsDrawer(t,"#009900")),this.isSWF("Green Star")&&(this.drawer=new this.RectsHotSpotsDrawer(t,"#669900")),this.isSWF("Green Two Ripples")&&(this.drawer=new this.RipplesHotSpotsDrawer(t,"#009900")),this.isSWF("Green Doughnut")&&(this.drawer=new this.DoughnutHotSpotsDrawer(t,"#00DAB7")),this.isSWF("Orange Circle")&&(this.drawer=new this.ShrinkHotSpotsDrawer(t,"#CA7000","#F98C00")),this.isSWF("Red Arrow Circle Hand")&&(this.drawer=new this.RotateHandHotSpotsDrawer(t,"red")),this.isSWF("Red Arrow Circle")&&(this.drawer=new this.RotateRingHotSpotsDrawer(t,"red")),this.isSWF("Red Circle Blinker")&&(this.drawer=new this.BlinkerHotSpotsDrawer(t,"red","yellow","#CA7000")),this.isSWF("Red Circle")&&(this.drawer=new this.ShrinkHotSpotsDrawer(t,"red")),this.isSWF("Red Doughnut")&&(this.drawer=new this.DoughnutHotSpotsDrawer(t,"#E58585")),this.isSWF("Red Glow")&&(this.drawer=new this.RoundHotSpotsDrawer(t,"red","#FBBC00")),this.isSWF("Red Ripple with Pointer")&&(this.drawer=new this.MouseHotSpotsDrawer(t,"red")),this.isSWF("Red Ripple")&&(this.drawer=new this.RingHotSpotsDrawer(t,"red")),this.isSWF("Red Star in Circle")&&(this.drawer=new this.StarHotSpotsDrawer(t,"red")),this.isSWF("Red Star")&&(this.drawer=new this.RectsHotSpotsDrawer(t,"red")),this.isSWF("Red Two Ripples")&&(this.drawer=new this.RipplesHotSpotsDrawer(t,"red")),this.isSWF("Yellow Squre")&&(this.drawer=new this.SquareHotSpotsDrawer(t,"red","#FBBC00")),this.isSWF("Yellow Start Blink")&&(this.drawer=new this.SquareStarHotSpotsDrawer(t,"#FBBC00","#FF9900","#DAE405")),this.isSWF("yellow_doughnut")&&(this.drawer=new this.DoughnutHotSpotsDrawer(t,"#FFD56B")),this.drawer||(this.drawer=new this.RingHotSpotsDrawer(t,"red"))},setContainerSize:function(t,i,e){i=getCoverSize(i,e,2*i,2*e),t[0]&&(t[0].width=i.width,t[0].height=i.height),this.drawer&&(this.drawer.resize(i.width,i.height),this.draw()),$(t).css({left:.075*this.container.width()+"px",top:.075*this.container.height()+"px",margin:"0","-webkit-transform-origin":"0 0","transform-origin":"0 0","-webkit-transform":"scale("+i.scale+")",transform:"scale("+i.scale+")"})},onResize:function(){this.width=.85*this.container.width(),this.height=.85*this.container.height(),isIphone()||isIpad()?this.setContainerSize(this.canvas,this.width,this.height):(this.canvas.attr("width",this.width),this.canvas.attr("height",this.height),this.drawer&&(this.drawer.resize(this.width,this.height),this.draw()))},draw:function(){this.drawer&&this.drawer.draw(this.frameIndex,this.frameCount)},start:function(){this.stop(),this.timer=this.animate()},animate:function(){return function(t,i){this.frameIndex=t,this.frameCount=i,this.draw(),this.frameIndex==this.frameCount&&(this.timer=this.animate())}.animation(this,1e3)},stop:function(){this.timer&&this.timer.stop()},destroy:function(){this.stop(),this.canvas.remove()}}).extend("HotspotsContent"),Class("HotSpotsDrawer",{Package:"PageItem",create:function(t,i){this.context=t,this.color=Color(i)},resize:function(t,i){this.width=t,this.height=i},rectInCenter:function(t,i){return{left:(this.width-t)/2,top:(this.height-(i=null==i?t:i))/2,width:t,height:i}},draw:virtual_function,clear:function(){this.context.clearRect(0,0,this.width,this.height)},drawStar:function(t,i,e,o){var s=this.context;if(t){i=i||"#FFFF00",e=e||{width:0,color:"#FFFFFF"},null==o&&(o=0);var n=Math.min(t.width,t.height)/2,a=.4*n,h=t.left;for(t=t.top,s.save(),s.translate(h+n,t+n),s.rotate(o*Math.PI/180),s.beginPath(),s.moveTo(Math.cos(.1*Math.PI)*n,-Math.sin(.1*Math.PI)*n),o=0;o<5;o++)s.lineTo(Math.cos((18+72*o)/180*Math.PI)*n,-Math.sin((18+72*o)/180*Math.PI)*n),s.lineTo(Math.cos((54+72*o)/180*Math.PI)*a,-Math.sin((54+72*o)/180*Math.PI)*a);s.closePath(),s.fillStyle=i,s.fill(),s.lineWidth=e.width,s.strokeStyle=e.color,0<e.width&&s.stroke(),s.restore()}},drawTriangle:function(t,i,e){var o=this.context;t&&(i=i||"#000000",e=e||{width:0,color:"#FFFFFF"},o.save(),o.translate(t.left,t.top),o.beginPath(),o.moveTo(t.width/2,0),o.lineTo(0,t.height),o.lineTo(t.width,t.height),o.closePath(),o.fillStyle=i,o.fill(),o.lineWidth=e.width,o.strokeStyle=e.color,0<e.width&&o.stroke(),o.restore())},drawArrow:function(t,i,e,o){var s=this.context;t&&(i=i||"#000000",e=e||{width:0,color:"#FFFFFF"},o=o?parseFloat(o):.2,s.save(),s.translate(t.left,t.top),s.beginPath(),s.moveTo(t.width/2,0),s.lineTo(0,t.height),s.lineTo(t.width/2,t.height*(1-o)),s.lineTo(t.width,t.height),s.closePath(),s.fillStyle=i,s.fill(),s.lineWidth=e.width,s.strokeStyle=e.color,0<e.width&&s.stroke(),s.restore())},drawMouse:function(t,i,e){var o,s,n=this.context;t&&(i=i||"#FFFFBB",e=e||{width:1,color:"#000000"},o=.6*t.height,s=t.width/2,n.save(),n.translate(t.left+s,t.top),n.rotate(-15*Math.PI/180),n.shadowBlur=Math.ceil(.2*t.width),n.shadowColor="rgba(0, 0, 0, 0.3)",n.shadowOffsetX=Math.ceil(.1*t.width),n.shadowOffsetY=Math.ceil(.1*t.width),n.beginPath(),n.moveTo(t.width/2-s,0),n.lineTo(-s,o),n.lineTo(.38*t.width-s,.9*o),n.lineTo(.38*t.width-s,t.height),n.lineTo(.62*t.width-s,t.height),n.lineTo(.62*t.width-s,.9*o),n.lineTo(t.width-s,o),n.closePath(),n.fillStyle=i,n.fill(),n.lineWidth=e.width,n.strokeStyle=e.color,0<e.width&&n.stroke(),n.restore())},drawRound:function(t,i,e){var o,s,n=this.context;t&&(i=i||"#000000",e=e||{width:0,color:"#FFFFFF"},o=Math.min(t.width,t.height)/2,s=t.left,t=t.top,n.save(),n.beginPath(),n.arc(s+(o=o<=0?1:o),t+o,o,0,2*Math.PI,!0),n.closePath(),n.fillStyle=i.toString(),n.fill(),n.lineWidth=e.width,n.strokeStyle=e.color,0<e.width&&n.stroke(),n.restore())},drawRing:function(t,i){var e=i.width/2;this.drawRound({left:t.left+e,top:t.top+e,width:t.width-i.width,height:t.height-i.width},"transparent",i)},drawRect:function(t,i,e,o){var s,n,a,h,r=this.context;t&&(i=i||"#000000",e=e||{width:0,color:"#FFFFFF"},o=o||0,s=t.width/2,n=t.height/2,a=t.left+s,h=t.top+n,r.save(),r.translate(a,h),r.rotate(o*Math.PI/180),r.beginPath(),r.rect(-s,-n,t.width,t.height),r.closePath(),r.fillStyle=i,r.fill(),r.lineWidth=e.width,r.strokeStyle=e.color,0<e.width&&r.stroke(),r.restore())},drawRoundRect:function(t,i,e,o,s){var n,a,h,r,g=this.context;t&&(e=e||"#000000",o=o||{width:0,color:"#FFFFFF"},s=s||0,n=t.width/2,a=t.height/2,h=t.left+n,r=t.top+a,g.save(),g.translate(h,r),g.rotate(s*Math.PI/180),t=Math.min(i,Math.min(t.width,t.height)/2),g.beginPath(),g.moveTo(-n+t,-a),g.arcTo(n,-a,n,a,t),g.arcTo(n,a,-n,a,t),g.arcTo(-n,a,-n,-a,t),g.arcTo(-n,-a,n,-a,t),g.closePath(),g.fillStyle=e,g.fill(),g.lineWidth=o.width,g.strokeStyle=o.color,0<o.width&&g.stroke(),g.restore())},drawSquareStar:function(t,i,e){var o,s,n,a,h,r,g,l=this.context;t&&(i=i||"#000000",e=e||0,o=t.left+t.width/2,s=t.top+t.height/2,n=t.width,a=t.height,h=Math.PI/180,r=t.width*Math.cos(30*h),g=t.height*Math.cos(30*h),l.save(),l.translate(o,s),l.rotate(e*Math.PI/180),l.beginPath(),l.arc(0,-t.height/2-r,n,60*h,120*h,!1),l.arc(t.width/2+g,0,a,150*h,210*h,!1),l.arc(0,t.height/2+r,n,240*h,300*h,!1),l.arc(-t.width/2-g,0,a,-30*h,30*h,!1),l.closePath(),l.fillStyle=i,l.fill(),l.restore())}}),Class("HotSpotsHandImageData",{Package:"PageItem",create:function(t,i){this.dock=t,this.src=i,this.init()},init:function(){this.dock.hand||(this.dock.hand=$("<img></img>"),this.dock.hand.attr("src",this.src)),this.data=this.dock.hand},getImage:function(){var t;return!this.data||0==(t=this.data[0]).naturalWidth?null:t},draw:function(t,i,e){var o,s,n;t&&i&&(null==e&&(e=1),o=this.getImage())&&(s=o.naturalWidth,n=o.naturalHeight,t.globalAlpha=e,t.drawImage(o,0,0,s,n,i.left,i.top,i.width,i.height),t.globalAlpha=1)}}),Class("RingHotSpotsDrawer",{Package:"PageItem",draw:function(t,i){var e,o,s,n;this.width&&this.height&&(this.clear(),s=(e=Math.min(this.width,this.height))/16,n=this.rectInCenter(o=e/3),this.drawRound(n,this.color),s={width:s,color:this.color.rgba((i-t)/i)},t=this.rectInCenter(o+(e-o)*t/i),this.drawRing(t,s))}}).extend("HotSpotsDrawer"),Class("StarHotSpotsDrawer",{Package:"PageItem",draw:function(t,i){var e;this.width&&this.height&&(this.clear(),this._super(t,i),e=this.rectInCenter(Math.min(this.width,this.height)/3),this.drawStar(e,"#FFFF00",null,Math.ceil(t/i*360)))}}).extend("RingHotSpotsDrawer"),Class("MouseHotSpotsDrawer",{Package:"PageItem",draw:function(t,i){this.width&&this.height&&(this.clear(),this._super(t,i),t=Math.min(this.width,this.height),this.drawMouse({left:(this.width-(i=t/4))/2,top:this.height/2,width:i,height:2*t/5}))}}).extend("RingHotSpotsDrawer"),Class("RoundHotSpotsDrawer",{Package:"PageItem",create:function(t,i,e){this.context=t,this.color=Color(i),this.centerColor=e?Color(e):this.color.add(70)},draw:function(t,i){var e,o;this.width&&this.height&&(this.clear(),e=(o=Math.min(this.width,this.height))/3,o=this.rectInCenter(e+(o-e)*t/i),t=this.color.rgba((i-t)/i),this.drawRound(o,t),o=this.rectInCenter(e),this.drawRound(o,this.centerColor.toString()))}}).extend("HotSpotsDrawer"),Class("RotateHotSpotsDrawer",{Package:"PageItem",draw:function(t,i){var e,o,s,n;this.width&&this.height&&(this.clear(),n={width:(s=Math.min(this.width,this.height))/8,color:this.color.toString()},e=this.rectInCenter(7*s/8),this.drawRing(e,n),s={left:0,top:o=(this.height-(e=n=s/4))/2,width:n,height:e},n={left:0,top:o-Math.ceil(.1*e),width:n,height:Math.floor(1.1*e)},t=Math.ceil(360*t/i),this.context.save(),this.context.translate(this.width/2,this.height/2),this.context.rotate(t*Math.PI/180),s.left-=this.width/2,s.top-=this.height/2,n.left-=this.width/2,n.top-=this.height/2,this.drawTriangle(n,"#FFFFFF"),this.drawTriangle(s,this.color.toString()),this.drawTriangle(),this.context.restore())}}).extend("HotSpotsDrawer"),Class("RotateRingHotSpotsDrawer",{Package:"PageItem",draw:function(t,i){this.width&&this.height&&(this.clear(),this._super(t,i),t=this.rectInCenter(Math.min(this.width,this.height)/3),this.drawRound(t,this.color.toString()))}}).extend("RotateHotSpotsDrawer"),Class("RotateHandHotSpotsDrawer",{Package:"PageItem",create:function(t,i){this._super(t,i),this.initHand()},initHand:function(){this.imageData=new this.HotSpotsHandImageData(this.getClass(),uiBaseURL+"hotspot_hand.png")},draw:function(t,i){this.width&&this.height&&(this.clear(),this._super(t,i),t=Math.min(this.width,this.height),t=this.rectInCenter(t/3,t/2),this.imageData.draw(this.context,t))}}).extend("RotateHotSpotsDrawer"),Class("BlinkerHotSpotsDrawer",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i),this.lightColor=Color(e||this.color.add(70)),this.ringColor=o?Color(o):this.color,this.colorDiff=this.color.difference(this.lightColor),this.frameColorDiff={}},draw:function(t,i){var e;this.width&&this.height&&(this.clear(),e=Math.min(this.width,this.height),t<(i=Math.ceil(i/2))?(t/=i,this.frameColorDiff.r=Math.ceil(this.colorDiff.r*t),this.frameColorDiff.g=Math.ceil(this.colorDiff.g*t),this.frameColorDiff.b=Math.ceil(this.colorDiff.b*t)):(t=(t-i)/i,this.frameColorDiff.r=this.colorDiff.r-Math.ceil(this.colorDiff.r*t),this.frameColorDiff.g=this.colorDiff.g-Math.ceil(this.colorDiff.g*t),this.frameColorDiff.b=this.colorDiff.b-Math.ceil(this.colorDiff.b*t)),t=this.color.add(this.frameColorDiff),i=this.rectInCenter(e/2),this.drawRound(i,t),t=this.rectInCenter(e),this.drawRing(t,{width:e/8,color:this.ringColor.toString()}))}}).extend("HotSpotsDrawer"),Class("ShrinkHotSpotsDrawer",{Package:"PageItem",create:function(t,i,e){this._super(t,i),this.innerColor=Color(e||this.color.add(70))},draw:function(t,i){var e,o,s,n,a;this.width&&this.height&&(this.clear(),o=7*(e=Math.min(this.width,this.height))/8,s=e/4,t<i/2?(s+=(e-s)*(n=t)/(a=i/2),o=this.rectInCenter(+o*n/a),s=this.rectInCenter(s),this.drawRound(o,this.innerColor.toString()),this.drawRing(s,{width:e/8,color:this.color.toString()})):(n=t%(a=i/4),t<3*i/4?(o=this.rectInCenter(+o*(n=1-n/a)),s=this.rectInCenter(e),this.drawRound(o,this.innerColor.rgba(n)),this.drawRing(s,{width:e/8,color:this.color.toString()})):(s=this.rectInCenter(s+(e-s)*(n=1-n/a)),this.drawRing(s,{width:e/8,color:this.color.rgba(n)}))))}}).extend("HotSpotsDrawer"),Class("RipplesHotSpotsDrawer",{Package:"PageItem",create:function(t,i){this._super(t,i)},draw:function(t,i){var e,o,s,n,a,h;this.width&&this.height&&(this.clear(),e=Math.min(this.width,this.height),n=(s=t%(o=i/2))/o,t<i/2?(a=e/5,t=e,i=Math.ceil(e/50),i+=((e=Math.ceil(e/16))-i)*s/o,o=this.rectInCenter(a+(t-a)*s/o),t=this.rectInCenter(t),this.drawRing(o,{width:i,color:this.color.toString()}),this.drawRing(t,{width:e,color:this.color.rgba(n)})):(h=((t=e)-(a=e/5))*s/o,i=Math.ceil(e/50),s=((e=Math.ceil(e/16))-i)*s/o,o=this.rectInCenter(a+h),t=this.rectInCenter(t-h),this.drawRing(o,{width:i+s,color:this.color.rgba(1-n)}),this.drawRing(t,{width:e-s,color:this.color.toString()})))}}).extend("HotSpotsDrawer"),Class("RectsHotSpotsDrawer",{Package:"PageItem",draw:function(t,i){if(this.width&&this.height){this.clear();var e=Math.min(this.width,this.height);for(t=Math.ceil(360*t/i),i=0;i<3;i++){var o=120*i+t,s=this.rectInCenter(e/6,5*e/6);this.drawRect(s,this.color.rgba(.4),null,o)}for(i=0;i<3;i++)o=120*i-t,s=this.rectInCenter(e/7,2*e/3),this.drawRect(s,this.color.toString(),null,o)}}}).extend("HotSpotsDrawer"),Class("SquareHotSpotsDrawer",{Package:"PageItem",create:function(t,i,e){this._super(t,i),this.centerColor=Color(e||this.color.add(70))},draw:function(t,i){var e,o,s,n;this.width&&this.height&&(this.clear(),s=(e=Math.min(this.width,this.height))/25,n=this.rectInCenter(o=e/2),this.drawRoundRect(n,s,this.centerColor.toString(),{width:s,color:this.color.toString()}),n=1-t/i,t=this.rectInCenter(o+(e-s-o)*t/i),this.drawRoundRect(t,s,"transparent",{width:s,color:this.color.rgba(n)}))}}).extend("HotSpotsDrawer"),Class("SquareStarHotSpotsDrawer",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i),this.borderColor=Color(e||this.color.reduce(70)),this.backgroundColor=o?Color(o):this.color},draw:function(t,i){var e,o,s,n,a,h,r;this.width&&this.height&&(this.clear(),e=t%(h=i/2),r=(o=Math.min(this.width,this.height))/12,a=(o-(s=o/4))*e/h,h=((n=Math.sqrt(this.width*this.width/4+this.height*this.height/4))-s)*e/h,r=t<i/2?(t=this.rectInCenter(s+a),i=this.rectInCenter(n-h),this.rectInCenter(n-h-2*r)):(t=this.rectInCenter(o-a),i=this.rectInCenter(s+h),this.rectInCenter(s+h-2*r)),this.drawSquareStar(t,this.backgroundColor.toString()),this.drawSquareStar(i,this.borderColor.toString(),45),this.drawSquareStar(r,this.color.toString(),45))}}).extend("HotSpotsDrawer"),Class("DoughnutHotSpotsDrawer",{Package:"PageItem",create:function(t,i){this._super(t,i),this.initHand()},initHand:function(){this.imageData=new this.HotSpotsHandImageData(this.getClass(),uiBaseURL+"hotspot_hand2.png")},draw:function(t,i){var e,o,s,n,a;this.width&&this.height&&(this.clear(),n=Math.min(this.width,this.height),e=this.rectInCenter(n/3),o=t%(o=i/2)/o,this.imageData.draw(this.context,e,o=i/2<=t?1-o:o),t=n/6,i=n/12,e=n/48,o=this.rectInCenter(n),s=this.rectInCenter(11*n/12),n=this.rectInCenter(41*n/48),a=Color("white"),this.drawRing(o,{width:t,color:this.color.toString()}),this.drawRing(s,{width:i,color:a.rgba(.1)}),this.drawRing(n,{width:e,color:a.rgba(.2)}))}}).extend("HotSpotsDrawer"),Class("ShoppingCart",{Package:"PageItem",create:function(t,i,e,o){this.config=this.parseConfig(i),this.animateConfig(),this.pageWidth=e,this.pageHeight=o,this.bgColor=Color(this.config.bgColor).toString(),this.width=Number(this.pageWidth*this.config.width),this.height=Number(this.pageHeight*this.config.height),this.config.imgUrl=this.config.imgUrl,this.config.url=this.config.url,bookConfig.isFlipPdf&&(this.config.imgUrl.startsWith("./")?this.config.imgUrl="."+this.config.imgUrl:this.config.imgUrl.isUrl()||(this.config.imgUrl="../"+this.config.imgUrl)),this.background=$("<div class='cart_background'></div>"),this.img=$("<div></div/>"),t.append(this.background),this.background.append(this.img),this.linkOrCart(i,t),this.setLinkCss(),this.setPosition(),this.initEvent()},parseConfig:function(t){return{annotype:t.annotype,x:t.location.x,y:t.location.y,rotation:t.location.rotation,width:t.location.width,height:t.location.height,bgColor:t.bgColor,bgAlpha:t.bgAlpha,alpha:t.alpha,cartType:t.cartType,imgUrl:t.imgUrl,titleStr:t.titleStr,url:t.url,Detailed:t.Detailed,animation:t.animation}},destroy:function(){this.background.empty(),this.background.remove(),this.shop&&this.shop.destroy()},linkOrCart:function(t,i){var e="";!(e=this.config.url?this.config.url:e)||e.startsWith("http://")||e.startsWith("https://")||(e="http://"+e),"link"==this.config.cartType?(isTouchDevice()?(this.background=$("<div></div>"),e&&this.background.bind(_event._end,function(){window.location.href=e}.bind(this))):(this.background=$("<a ><div></div></a>"),e&&(this.background.attr("href",e),this.background.attr("target","_blank"))),i.append(this.background),this.background.append(this.img)):isPhone()||isPad()?this.shop=new PageItem.MobileProductDetailsPanel(t,pageEditor.setting,i):this.shop=new PageItem.PCProductDetailsPanel(t,pageEditor.setting,i)},setLinkCss:function(){this.background.css({position:"absolute","background-position":"center",width:this.width+"px",height:this.height+"px","background-color":Color(this.bgColor).rgba(this.config.bgAlpha),opacity:this.config.alpha,"text-decoration":"none",cursor:"default",transform:"rotate("+this.config.rotation+"deg)","-webkit-transform":"rotate("+this.config.rotation+"deg)","-ms-transform":"rotate("+this.config.rotation+"deg)","-o-transform":"rotate("+this.config.rotation+"deg)","-moz-transform":"rotate("+this.config.rotation+"deg)","transform-origin":"50% 50%","-webkit-transform-origin":"50% 50%","-ms-transform-origin":"50% 50%","-o-transform-origin":"50% 50%","-moz-transform-origin":"50% 50%"}),bookConfig.useTheAliCloudChart&&(this.config.imgUrl=this.getOssUrl(this.config.imgUrl,2*this.width/3,2*this.height/3,"lfit")),this.img.css({background:"url("+this.config.imgUrl+") center center no-repeat","background-size":"contain",position:"absolute",cursor:"pointer",width:2*this.width/3+"px",height:2*this.height/3+"px",margin:"auto",left:"0",right:"0",top:"0",bottom:"0"})},initEvent:function(){var e;isTouchDevice()||(e=new divHint,this.background.bind(_event._move,function(t){var i;isTouchDevice()?null==(i=t.originalEvent.touches[0])&&(i=t.touches[0]):i=t,$(i.target),t=i.pageX+10,i=i.pageY+10,e.setStyle("hintBackground"),e.instance.css({"font-size":"12px",overflow:"hidden"}),"link"==this.config.cartType?""!=this.config.titleStr?(this.showtitle=!0,e.setText(this.config.titleStr.overflow(16))):this.config.url&&(this.showtitle=!0,e.setText(this.config.url.overflow(16))):""!=this.config.titleStr?(this.showtitle=!0,e.setText(this.config.titleStr.overflow(16))):this.config.Detailed.title&&(this.showtitle=!0,e.setText(this.config.Detailed.title.overflow(16))),this.showtitle&&(e.moveto(t,i),e.show())}.bind(this)),this.background.bind(_event._leave,function(){e.hide(),this.showtitle=!1}.bind(this))),this.background.bind(_event._down,function(t){t.stopPropagation(),bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"Shopping",event_label:"Page"+BookInfo.getCurrentPages()[0]+" showProductDetail"})}),this.background.onTap(function(){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"ShoppingCart",this.config.x,this.config.y,this.config.width,this.config.height]),this.shop&&this.shop.show()}.bind(this))},show:function(){this.background.css("display","block")},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*t,this.height=this.config.height*i,this.background.css({width:this.width+"px",height:this.height+"px"}),this.setLinkCss(),this.setPosition(),this.shop&&this.shop.onResize(t,i),(isIphone()||isIpad())&&(this.setContainerSize(this.img,2*this.width/3,2*this.height/3,2048/3,2048/3),this.img.css({transform:"scale(1)","-webkit-transform":"scale(1)"}),this.setContainerSize(this.background,this.width,this.height))},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.background.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.background.one(t,function(){this.background.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.background.css({left:this.x+"px",top:this.y+"px"})}}).extend(PageItem.Item);var ShoppingCartUtil={setProductsToStorage:function(t){try{var i;window.localStorage&&(i=Instance.JSON(t),window.localStorage.setItem("shopping_cart_products",i))}catch(t){}},getProductsFromStorage:function(){try{var t;return window.localStorage?(t=window.localStorage.getItem("shopping_cart_products"),Instance.parse(t,[])):[]}catch(t){return[]}},removeProduct:function(t){for(var i=this.getProductsFromStorage(),e=0;e<i.length;e++)if(i[e].title==t.title){i.remove(e);break}this.setProductsToStorage(i)},addProduct:function(t){for(var i=this.getProductsFromStorage(),e=!0,o=0;o<i.length;o++){var s=i[o];if(s.title==t.title){s.number=t.number+s.number,e=!1;break}}return e&&i.push(t),this.setProductsToStorage(i),i},saveProducts:function(t,i){t=t||[],i=[];for(var e=0;e<t.length;e++)i.push(t[e].product);this.setProductsToStorage(i)}},PageEditor=(Class("ProductDetailsPanel",{Package:"PageItem",create:function(t,i,e){this.config=this.parseConfig(t),this.setting=i,this.parent=e,this.initUI(),this.initEvent()},parseConfig:function(t){return t},destroy:virtual_function,getMailtoInformation:function(t,i,e){var o=e.shoppingCartOptinon.body,s=(t=parseInt(t),forceFloat(i.Detailed.proce));return t=1==parseBool(pageEditor.setting.shoppingCartOptinon.showPrice)?String.format("%0D%0A%0D%0A%0D%0A%s(N1, %d * %s%s = %s%s);%0D%0A%s%s%0D%0A-type in your contacts here-%0D%0A%0D%0A%0D%0A%0D%0A",i.Detailed.title,t,s,i.Detailed.sing,forceFloat(s*t),i.Detailed.sing,forceFloat(s*t),i.Detailed.sing):String.format("%0D%0A%0D%0A%0D%0A%s(N1, %d);%0D%0A%0D%0A-type in your contacts here-%0D%0A%0D%0A%0D%0A%0D%0A",i.Detailed.title,t),-1<o.indexOf("${shopping}")&&(o=o.replaceAll("${shopping}",t,!0)),String.format("mailto:%s?subject=%s&body=%s",e.shoppingCartOptinon.address,e.shoppingCartOptinon.theme,o)},getPaypalInformation:function(t,i,e){var o="";return"$"!=i.Detailed.sing&&"U.S.$"!=i.Detailed.sing||(o="USD"),"￥"==i.Detailed.sing&&(o="CNY"),"€"==i.Detailed.sing&&(o="EUR"),"￡"==i.Detailed.sing&&(o="GBP"),"J.￥"==i.Detailed.sing&&(o="JPY"),"$A."==i.Detailed.sing&&(o="AUD"),"$NZ."==i.Detailed.sing&&(o="NZD"),"SFR."==i.Detailed.sing&&(o="CHF"),"HK$"==i.Detailed.sing&&(o="HKD"),"S.$"==i.Detailed.sing&&(o="SGD"),"S.Kr."==i.Detailed.sing&&(o="SEK"),"D.Kr."==i.Detailed.sing&&(o="DKK"),"zł"==i.Detailed.sing&&(o="PLZ"),"N.Kr."==i.Detailed.sing&&(o="NOK"),"FT."==i.Detailed.sing&&(o="HUF"),"Cz.Kr."==i.Detailed.sing&&(o="CSK"),"Mex.$"==i.Detailed.sing&&(o="MXP"),"₪"==i.Detailed.sing&&(o="ILS"),"Gr.$"==i.Detailed.sing&&(o="BRC"),"Mal.$"==i.Detailed.sing&&(o="MYR"),"NT"==i.Detailed.sing&&(o="NTD"),"฿"==i.Detailed.sing&&(o="THP"),"Ykr"==i.Detailed.sing&&(o="TRL"),"http://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business="+e.shoppingCartOptinon.paypal+"&item_name="+i.Detailed.title+"&amount="+i.Detailed.proce+"&currency_code="+o+"&quantity="+t},doCheckout:function(){var t;0!=this.canCheckout&&(t=this.input.val(),t="Email"==this.setting.shoppingCartOptinon.type?this.getMailtoInformation(t,this.config,this.setting):this.getPaypalInformation(t,this.config,this.setting),window.open(t))}}),Class("ShoppingCartPanel",{Package:"PageItem",getMailtoInformation:function(t,i){if(!this.shoppingItems)return"";t="%0D%0A",i=pageEditor.setting.shoppingCartOptinon.body;for(var e=0,o=parseBool(pageEditor.setting.shoppingCartOptinon.showPrice),s=0;s<this.shoppingItems.length;s++){var n,a=this.shoppingItems[s];null!=a.isSelected&&!a.isSelected()||(n=forceFloat(a.product.price),t=1==o?t+String.format("%0D%0A%s(N"+(s+1)+", %d * %s%s = %s%s);%0D%0A",a.product.title,parseInt(a.product.number),n,a.product.sing,forceFloat(n*parseInt(a.product.number)),a.product.sing):t+String.format("%0D%0A%s(N"+(s+1)+", %d);%0D%0A",a.product.title,parseInt(a.product.number)),e+=a=parseFloat(a.product.price*a.cartInput.val()))}return 1==o&&(t+=String.format("%0D%0A(Total price : %f%s);%0D%0A%0D%0A",e,this.config.Detailed.sing)),t+="-type in your contacts here-%0D%0A%0D%0A%0D%0A%0D%0A",-1<i.indexOf("${shopping}")&&(i=i.replaceAll("${shopping}",t,!0)),String.format("mailto:%s?subject=%s&body=%s",pageEditor.setting.shoppingCartOptinon.address,pageEditor.setting.shoppingCartOptinon.theme,i)},getPaypalInformation:function(t,i){if(!this.shoppingItems)return"";for(var e="",o="",s=0,n=0;n<this.shoppingItems.length;n++){var a=this.shoppingItems[n];null!=a.isSelected&&!a.isSelected()||("$"!=t.Detailed.sing&&"U.S.$"!=t.Detailed.sing||(e="USD"),"￥"==t.Detailed.sing&&(e="CNY"),"€"==t.Detailed.sing&&(e="EUR"),"￡"==t.Detailed.sing&&(e="GBP"),"J.￥"==t.Detailed.sing&&(e="JPY"),"$A."==t.Detailed.sing&&(e="AUD"),"$NZ."==t.Detailed.sing&&(e="NZD"),"SFR."==t.Detailed.sing&&(e="CHF"),"HK$"==t.Detailed.sing&&(e="HKD"),"S.$"==t.Detailed.sing&&(e="SGD"),"S.Kr."==t.Detailed.sing&&(e="SEK"),"D.Kr."==t.Detailed.sing&&(e="DKK"),"zł"==t.Detailed.sing&&(e="PLZ"),"N.Kr."==t.Detailed.sing&&(e="NOK"),"FT."==t.Detailed.sing&&(e="HUF"),"Cz.Kr."==t.Detailed.sing&&(e="CSK"),"Mex.$"==t.Detailed.sing&&(e="MXP"),"₪"==t.Detailed.sing&&(e="ILS"),"Gr.$"==t.Detailed.sing&&(e="BRC"),"Mal.$"==t.Detailed.sing&&(e="MYR"),"NT"==t.Detailed.sing&&(e="NTD"),"฿"==t.Detailed.sing&&(e="THP"),"Ykr"==t.Detailed.sing&&(e="TRL"),s++,o+=String.format("&item_name_"+s+"=%s&amount_"+s+"=%f&quantity_"+s+"=%d",a.product.title,parseFloat(a.product.price),parseInt(a.product.number)))}return"http://www.paypal.com/cgi-bin/webscr?cmd=_cart&upload=1"+(o+=String.format("&business=%s&currency_code=%s",i.shoppingCartOptinon.paypal,e))},doCheckout:function(){var t;0!=this.canCheckout&&(t="Email"==this.setting.shoppingCartOptinon.type?this.getMailtoInformation(this.config,this.setting):this.getPaypalInformation(this.config,this.setting),window.open(t))},refreshTotalValue:function(){this.shoppingItems||(this.shoppingItems=[]),this.canCheckout=!0;var t=0;if(0<this.shoppingItems.length){for(var i=0;i<this.shoppingItems.length;i++){var e=this.shoppingItems[i],o=e.product;(null==e.isSelected||e.isSelected())&&(t+=e=parseFloat(o.price*o.number),o.number>o.quantity)&&(this.canCheckout=!1)}this.total.text(getLanguage("ShappingCart_Total","Total")+" : "+o.sing+t.toFixed(2))}else this.total.text(getLanguage("ShappingCart_Total","Total")+" : 0.00");this.item.text(getLanguage("ShappingCart_Item","Item")+" : "+this.shoppingItems.length)},refreshInputValue:function(){for(var t=ShoppingCartUtil.getProductsFromStorage(),i=0,e=0;e<t.length;e++)i+=t[e].number;return i},removeItem:function(t){ShoppingCartUtil.removeProduct(t.product),t.singleShop.remove();for(var i=0;i<this.shoppingItems.length;i++)if(this.shoppingItems[i]==t){this.shoppingItems.remove(i);break}}}),Class("ShoppingCartItem",{}),Class("ShoppingAdvancedProperty",{Package:"PageItem",create:function(t){for(this.config=t,(this.advanced=this.config.Detailed.advanced)&&!this.advanced[0]&&(this.advanced=[this.advanced.list]),this.advanceLength=this.advanced.length,this.shopAdvanced1=$("<div style='width:300px; position:relative; height:25px;margin-top:5px'></div>"),this.shopAdvanced2=$("<div style='width:300px; position:relative; height:30px;margin-top:5px'></div>"),this.shopAdvanced3=$("<div style='width:300px; position:relative; height:30px;margin-top:5px'></div>"),t=0;t<this.advanceLength;t++)"list"==this.advanced[t].type&&(this.advanceListValue=this.advanced[t].defaultValue);this.initAdvanced(),this.setAdvanceEvent()},initAdvanced:function(){var t=0,i=0,e=0;this.shopSelect=[];for(var o=0;o<this.advanceLength;o++)if(this.shopSelect[o]=[],"boolean"==this.advanced[o].type&&(t+=1,this.shopTypeName=$("<div style='position:absolute;overflow:auto;margin-left:20px;width:auto; top:"+20*(t-1)+"px; height:20px;font-family:Arial; font-size:12px;line-height:20px'>"+this.advanced[o].name+"</div>"),this.checkBox=$("<input type=checkbox  style='position:absolute;margin:0;top:"+(4+20*(t-1))+"px;'/>"),"true"==this.advanced[o].defaultValue&&this.checkBox.attr("checked","checked"),this.shopAdvanced1.append(this.checkBox).append(this.shopTypeName),this.shopAdvanced1.css({height:20*t+"px"})),"text"==this.advanced[o].type&&(i+=1,this.shopTypeName=$("<div style='width:55px;overflow:auto; top:"+(5+30*(i-1))+"px; height:20px;line-height:20px;font-family:Arial;font-size:12px;position:absolute'>"+this.advanced[o].name+":</div>"),this.shopValue=$("<input style='width:200px;position:absolute; top:"+(4+30*(i-1))+"px; left:50px; height:18px;font-family:Arial; font-size:12px;outline:medium' value='"+this.advanced[o].value+"'/>"),this.shopAdvanced2.append(this.shopTypeName).append(this.shopValue),this.shopAdvanced2.css({height:30*i+"px"})),"list"==this.advanced[o].type){var s=this.advanced[o].value.split(";"),n=0;e+=1,this.shopTypeName=$("<div style='position:absolute;overflow:auto;width:55px; top:5px; height:20px;line-height:20px;font-family:Arial; font-size:12px'>"+this.advanced[o].name+" :</div>"),this.shopAdvanced3.append(this.shopTypeName);for(var a=0;a<s.length;a++)0<a&&0==a%5&&(this.shopAdvanced3.append("<br/><br/>"),top+=30,e+=1,n=0),this.shopTypeName.css({top:3+30*(e-1)+"px"}),n+=40,this.shopSelect[o][a]=$("<div class=borderStyle name="+this.advanced[o].name+" style='overflow:auto;height:20px;min-width:25px;cursor:pointer;font-family:Arial; font-size:12px;border:1px solid black;left:"+n+"px; top:"+(3+30*(e-1))+"px; position:absolute;text-align:center;line-height:20px;padding-left:4px;padding-right:4px'>"+s[a]+"</div>"),this.advanced[o].defaultValue==s[a]&&this.shopSelect[o][a].css("border","2px solid rgb(255,0,0)"),this.shopAdvanced3.append(this.shopSelect[o][a]);this.shopAdvanced3.css({height:30*e+"px"})}},setAdvanceEvent:function(){for(var t=0;t<this.shopSelect.length;t++)for(var i=this.shopSelect[t],e=i.length,o=this,s=0;s<e;s++)i[s].onTap(function(){for(var t=0;t<o.shopSelect.length;t++)for(j=0;j<o.shopSelect[t].length;j++)o.shopSelect[t][j].attr("name")==$(this).attr("name")&&o.shopSelect[t][j].css("border","1px solid rgb(0,0,0)"),o.shopSelect[t][j][0]==this&&(o.advanced[t].defaultValue=o.shopSelect[t][j][0].innerText,o.shopSelect[t][j].css("border","2px solid rgb(255,0,0)"))})},isCheckBoxSelected:function(){return this.checkBox[0].checked},setShoppingCartAdvanced:function(){var t="";if(0!=this.advanceLength)for(var i=0;i<this.advanceLength;i++)"text"==this.advanced[i].type&&(this.advanced[i].defaultValue=this.shopValue.val()),"list"==this.advanced[i].type&&(this.advanced[i].defaultValue=this.advanced[i].defaultValue),"boolean"==this.advanced[i].type&&this.isCheckBoxSelected()&&(this.advanced[i].defaultValue=this.isCheckBoxSelected().toString()),t+=" "+this.advanced[i].name+":"+this.advanced[i].defaultValue+" ";return t}}),Class("MobileProductDetailsPanel",{Package:"PageItem",create:function(t,i,e){this.advancedObj=new PageItem.ShoppingAdvancedProperty(t),this._super(t,i,e),this.shoppingCart||(this.shoppingCart=new PageItem.MobileShoppingCartPanel(t,i),window.shoppingCart=this.shoppingCart),toolBar.getButton("ShoppingCart").setNumber(this.shoppingCart.refreshInputValue()),this.canCheckout=!0,this.visible=!1},parseConfig:function(t){return{annotype:t.annotype,x:t.location.x,y:t.location.y,width:t.location.width,height:t.location.height,bgColor:t.bgColor,bgAlpha:t.bgAlpha,cartType:t.cartType,imgUrl:t.imgUrl,titleStr:t.titleStr,url:t.url,languageLayout:t.languageLayout,Detailed:t.Detailed}},destroy:function(){this.phoneContainer.empty(),this.phoneContainer.remove()},initUI:function(){if("right"==this.config.languageLayout&&(this.alignCss={"text-align":"right",direction:"rtl"}),this.phoneContainer=$("<div class=phoneContainer></div>"),this.toolBar=$("<div></div>"),this.closeButton=$("<div></div>"),this.textTitle=$("<div>Product Details</div>"),this.phoneImg=$("<img/>"),this.title=$("<div>"+this.config.Detailed.title+"</div>"),this.title.text(this.title.text().overflow(30)),this.phoneImgBox=$("<div></div>"),this.contentText=$("<div></div>"),this.shopDescribe=$("<div>"+this.config.Detailed.about+"</div>"),this.price=$("<div>"+getLanguage("TStuffCart_DetailedPrice","Price")+" : "+this.config.Detailed.sing+this.config.Detailed.proce+"</div>"),this.mNumber=$("<div><span style='position:absolute;'>"+getLanguage("TStuffCart_DetailedQuantity","Quantity")+" : </span></div>"),this.input=$("<input type='text' value='1' style='float:left;width:40px;text-align:center;height:20px;outline:medium;border:1px solid rgb(255,255,255)'/>"),this.input.allowNumberOnly(),this.mAdd=$("<img src='"+uiBaseURL+"cartAdd.png' style='float:left;cursor:pointer;width:25px ;height:25px;background-color:#DDDDDA' />"),this.mLow=$("<img src='"+uiBaseURL+"cartLow.png' style='float:left;cursor:pointer;width:25px ;height:25px;position:absolute;background-color:#DDDDDA'/>"),this.transitTime=this.alignCss?$("<div>"+this.config.Detailed.time+this.config.Detailed.time+getLanguage("TStuffCart_DetailedDay","day(s)")+" : "+getLanguage("TStuffCart_DetailedTime","Delivery time")+"</div>"):$("<div>"+getLanguage("TStuffCart_DetailedTime","Delivery time")+" : "+this.config.Detailed.time+getLanguage("TStuffCart_DetailedDay","day(s)")+"</div>"),this.allQuantity=$("<div> "+this.config.Detailed.quantity+getLanguage("TStuffCart_DetailedQuantity","In Stock")+" </div>"),this.mAddToCart=$("<span>"+getLanguage("ShappingCart_AddCart","Add to cart")+"</span>"),this.mCheckOut=$("<span>"+getLanguage("ShappingCart_CheckOut","Checkout")+"</span>"),this.mailto=$("<a style='text-decoration: none'></a>"),this.inputChangRed=$("<span style='position:absolute;top:35px;margin-left:30px;color:red;font-size:10px;width:115px;height:15px;right:30px'>"+getLanguage("ShappingCart_NotStock","Not enough in stock")+"</span>"),this.content=$("<div></div>"),this.addlow=$("<div></div>"),tmpContainer.append(this.phoneContainer),this.phoneContainer.append(this.toolBar),this.phoneContainer.append(this.content),this.phoneContainer.append(this.contentText),this.toolBar.append(this.closeButton),this.toolBar.append(this.textTitle),this.phoneImgBox.append(this.phoneImg),this.contentText.append(this.title),this.contentText.append(this.shopDescribe),this.contentText.append(this.price),""!=this.advancedObj.advanced)for(var t=0;t<this.advancedObj.advanceLength;t++)"boolean"==this.advancedObj.advanced[t].type&&(this.contentText.append(this.advancedObj.shopAdvanced1),this.advancedObj.shopAdvanced1.css({"margin-left":"15px","margin-top":"10px"})),"text"==this.advancedObj.advanced[t].type&&(this.contentText.append(this.advancedObj.shopAdvanced2),this.advancedObj.shopAdvanced2.css({"margin-left":"15px","margin-top":"10px"})),"list"==this.advancedObj.advanced[t].type&&(this.contentText.append(this.advancedObj.shopAdvanced3),this.advancedObj.shopAdvanced3.css({"margin-left":"15px","margin-top":"10px"}));this.contentText.append(this.mNumber).append(this.allQuantity).append(this.transitTime),this.content.append(this.phoneImgBox).append(this.contentText),this.mailto.append(this.mCheckOut),this.phoneContainer.append(this.mAddToCart),this.phoneContainer.append(this.mailto),this.mNumber.append(this.addlow),this.addlow.append(this.mAdd).append(this.input).append(this.mLow),(this.imgs=this.config.Detailed.imgs)&&!this.imgs[0]&&(this.imgs=[this.imgs.img]),this.imgsCount=this.imgs.length,this.imgs||(this.imgs=[this.config.imgUrl]),!1===this.setting.shoppingCartOptinon.showPrice&&this.price.css({display:"none"}),!1===this.setting.shoppingCartOptinon.showTime&&this.transitTime.css({display:"none"}),this.initCss(),this.initImgs(),this.initButton()},initButton:function(){this.imageItems.length<=1||(this.btnBox=$("<div style='position:absolute;left:0;top:50%;width:100%;height:38px;'></div>"),this.leftBtn=$("<div style='position:absolute;left:0;top:-50%;width:32px;height:38px;opacity:0.7;'><img style='width:32px;height:38px;' src='"+uiBaseURL+"photo_prev.png' /></div>"),this.rightBtn=$("<div style='position:absolute;right:0;top:-50%;width:32px;height:38px;opacity:0.7;'><img style='width:32px;height:38px;' src='"+uiBaseURL+"photo_next.png' /></div>"),this.btnBox.append(this.leftBtn).append(this.rightBtn),this.phoneImgBox.append(this.btnBox),this.leftBtn.onTap(function(t){this.currentIndex=Math.abs(this.currentIndex-1)%this.imageItems.length,this.setImgs(this.imageItems[this.currentIndex])}.bind(this)),this.rightBtn.onTap(function(t){this.currentIndex=(this.currentIndex+1)%this.imageItems.length,this.setImgs(this.imageItems[this.currentIndex])}.bind(this)))},initImgs:function(){this.imageItems=[];for(var t=0;t<this.imgs.length;t++)this.imageItems[t]=this.imgs[t],bookConfig.isFlipPdf&&(this.imageItems[t].startsWith("./")?this.imageItems[t]="."+this.imageItems[t]:this.imageItems[t].isUrl()||(this.imageItems[t]="../"+this.imageItems[t]));1<this.imgsCount&&(this.setSwipe(),this.imageURL=this.imageItems[0]),this.setImgs(this.imageItems[0])},setImgs:function(t){this.phoneImg.attr({src:t})},setSwipe:function(){this.currentIndex=0;var t=function(t,i){var e;i=30*windowWidth/1600,Math.abs(t)<=i||(e=this.imageItems.length,t<-i?this.currentIndex=(this.currentIndex+1)%e:i<t&&(0==this.currentIndex&&(this.currentIndex+=e),this.currentIndex=(this.currentIndex-1)%e),this.imageURL=this.imageItems[this.currentIndex],this.setImgs(this.imageURL),$.browser.mise?event.cancelBubble=!0:event.stopPropagation())}.bind(this);this.phoneImgBox.speed(t)},changeLanguage:function(){this.price.html(getLanguage("TStuffCart_DetailedPrice","Price")+" : "+this.config.Detailed.sing+this.config.Detailed.proce),this.mNumber.html(getLanguage("TStuffCart_DetailedQuantity","Quantity")),this.alignCss?this.transitTime.html(this.config.Detailed.time+this.config.Detailed.time+getLanguage("TStuffCart_DetailedDay","day(s)")+" : "+getLanguage("TStuffCart_DetailedTime","Delivery time")):this.transitTime.html(getLanguage("TStuffCart_DetailedTime","Delivery time")+" : "+this.config.Detailed.time+getLanguage("TStuffCart_DetailedDay","day(s)")),this.allQuantity.html(this.config.Detailed.quantity+getLanguage("TStuffCart_DetailedQuantity","In Stock")),this.mAddToCart.html(getLanguage("ShappingCart_AddCart","Add to cart")),this.mCheckOut.html(getLanguage("ShappingCart_CheckOut","Checkout"))},initCss:function(){this.phoneContainer.css({width:windowWidth+"px",display:"none",height:"100%",position:"absolute",transform:"translate("+windowWidth+"px,0)","-webkit-transform":"translate("+windowWidth+"px,0)","-moz-transform":"translate("+windowWidth+"px,0)","-o-transform":"translate("+windowWidth+"px,0)","-ms-transform":"translate("+windowWidth+"px,0)","background-color":"#f7f7f7","z-index":"3000"}),this.setMobileShopCss()},setMobileShopCss:function(){this.addlow.css({position:"absolute",width:"100px",height:"25px",left:"65px"}),this.content.css({position:"relative",width:windowWidth+15+"px",height:windowHeight-90+"px","overflow-x":"hidden"}),this.mCheckOut.css({position:"absolute","background-color":"#ff4400",width:windowWidth/2+"px",height:"40px","text-align":"center","line-height":"2.5","font-family":"Arial",right:"0",bottom:"0",cursor:"pointer",color:"white"}),this.mAddToCart.css({position:"absolute","background-color":"#ffa800",width:windowWidth/2+"px",height:"40px","text-align":"center","line-height":"2.5","font-family":"Arial","margin-left":"0",bottom:"0",cursor:"pointer",color:"white"}),this.allQuantity.css({height:"14px","margin-top":"10px","font-size":"10px",color:Color(44849).toString(),"font-family":"Tahoma"}),this.transitTime.css({height:"14px","margin-top":"10px",color:"black","font-size":"10px","font-family":"Tahoma"}),this.contentText.css({position:"relative",padding:"0 15px",width:windowWidth-30+"px"}),this.mNumber.css({position:"relative",height:"25px","line-height":"25px","margin-top":"10px",color:"black","font-size":"10px","font-family":"Tahoma"}),this.price.css({position:"relative",height:"20px","margin-top":"10px","font-size":"18px",color:Color(12845056).toString(),"font-family":"Tahoma"}),this.title.css({height:"32px","line-height":"26px","font-size":"26px",color:"black","font-family":"Tahoma","margin-top":"7px"}),this.shopDescribe.css({"line-height":"1.6","font-size":"13px",color:"black","margin-top":"10px","font-family":"Tahoma"}),this.textTitle.css({position:"absolute",width:windowWidth/2+5,margin:"auto","font-size":"18px","font-family":"Tahoma",color:"rgb(140,140,140)","vertical-align":"middle","line-height":"2.2",left:"0",top:"0",bottom:"0",right:"0","text-align":"center"}),this.toolBar.css({position:"relative",width:windowWidth+"px","background-color":"white",border:"rgb(239,232,232) 1px solid",height:"40px"}),this.closeButton.css({position:"absolute",margin:"auto","background-image":"url("+uiBaseURL+"background_prev.png)","background-repeat":"no-repeat","background-position":"4px 4px",cursor:"pointer",width:"28px",height:"28px",left:"10px",bottom:"0",top:"0"}),this.phoneImg.css({position:"absolute","max-width":windowWidth-30+"px","max-height":.3*windowHeight+"px",margin:"auto",left:"0",bottom:"0",top:"0",right:"0"}),this.phoneImgBox.css({position:"relative",width:windowWidth+"px",height:.35*windowHeight+"px","z-index":"3000"}),this.alignCss&&(this.contentText.css(this.alignCss),this.addlow.css({left:"auto",right:"75px"}),this.input.css({float:"right"}),this.mAdd.css({float:"right"}),this.mLow.css({float:"right"}))},initEvent:function(){var t=function(t,i){i=30*windowWidth/1600,Math.abs(t)<=i||i<t&&this.hide()}.bind(this);this.phoneContainer.speed(t),this.mailto.onTap(function(){bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"CheckOut",event_label:"doCheckout"}),this.doCheckout}.bind(this)),this.input.bind("blur",function(){parseInt(this.input.val())>this.config.Detailed.quantity?(this.mNumber.append(this.inputChangRed),this.input.css({"border-color":"red"}),this.canCheckout=!1):(this.inputChangRed.remove(),this.input.css({"border-color":"rgb(255,255,255)"}),this.canCheckout=!0)}.bind(this)),this.closeButton.onTap(function(){this.hide()}.bind(this)),this.mAdd.onTap(function(){var t=parseInt(this.input.val())+1;this.input.val(t),t>this.config.Detailed.quantity?(this.mNumber.append(this.inputChangRed),this.input.css({"border-color":"red"}),this.canCheckout=!1):this.canCheckout=!0}.bind(this)),this.mLow.onTap(function(){var t=parseInt(this.input.val());1!=t&&(this.input.val(--t),t<=this.config.Detailed.quantity&&(this.inputChangRed.remove(),this.input.css({"border-color":"rgb(255,255,255)"}),this.canCheckout=!0),this.input.val(t))}.bind(this)),this.mAddToCart.onTap(function(){tmpContainer.append(this.shoppingCart.mCart),this.shoppingCart.showCart();var t={};t.image=this.imgsCount<=1?this.imageItems[0]:this.imageURL,t.advancedName=this.advancedObj.setShoppingCartAdvanced().toString(),t.title=this.config.Detailed.title,t.sing=this.config.Detailed.sing,t.price=this.config.Detailed.proce,t.number=parseInt(this.input.val()),t.quantity=this.config.Detailed.quantity,this.shoppingCart.addProduct(t),toolBar.getButton("ShoppingCart").setNumber(this.shoppingCart.refreshInputValue())}.bind(this))},show:function(){this.visible=!0,this.changeLanguage(),this.textTitle.css({display:"block"}),this.contentText.css({display:"block"}),this.mAddToCart.css({display:"block"}),this.mCheckOut.css({display:"block"}),this.phoneContainer.css({display:"block"}),animateOnce.delay(this,10,[this.phoneContainer,{transform:"translate(0,0)","-webkit-transform":"translate(0,0)","-moz-transform":"translate(0,0)","-o-transform":"translate(0,0)","-ms-transform":"translate(0,0)"},.5,null,"","ease"])},hide:function(){animateOnce(this.phoneContainer,{transform:"translate("+windowWidth+"px,0)","-webkit-transform":"translate("+windowWidth+"px,0)","-moz-transform":"translate("+windowWidth+"px,0)","-o-transform":"translate("+windowWidth+"px,0)","-ms-transform":"translate("+windowWidth+"px,0)"},.3,function(){this.phoneContainer.css({display:"none"})}.bind(this),"","ease"),this.visible=!1},informationHide:function(){this.mAddToCart.css({display:"none"}),this.mCheckOut.css({display:"none"}),this.textTitle.css({display:"none"}),this.contentText.css({display:"none"})},onResize:function(t,i){this.phoneContainer.css({width:windowWidth+"px",height:"100%"}),this.visible||this.phoneContainer.css({transform:"translate("+windowWidth+"px,0)","-webkit-transform":"translate("+windowWidth+"px,0)","-moz-transform":"translate("+windowWidth+"px,0)","-o-transform":"translate("+windowWidth+"px,0)","-ms-transform":"translate("+windowWidth+"px,0)"}),this.setMobileShopCss(),this.shoppingCart&&this.shoppingCart.onResize()}}).extend(PageItem.ProductDetailsPanel),Class("MobileShoppingCartPanel",{Package:"PageItem",create:function(t,i){this.config=t,this.setting=i,this.mCart=$("<div></div>"),this.cToolBar=$("<div></div>"),this.cClose=$("<div></div>"),this.cTitle=$("<div>"+getLanguage("TStuffCart_DetailedCost","Shopping Cart")+"</div>"),this.deletes=$("<span>Delete</span>"),this.total=$("<span style='font-size:10px'>("+getLanguage("ShappingCart_Total","Total")+":$0.00)</span>"),this.mCartCheck=$("<div>"+getLanguage("ShappingCart_CheckOut","Checkout")+"</div>"),this.cartMailto=$("<a style='text-decoration: none'></a>"),this.item=$("<span style='position: absolute;bottom: 40px;left: 20px;font-size:12px;font-family:Tahoma;font-weight:bold'></span>"),this.mCart.append(this.cartMailto),this.cartMailto.append(this.mCartCheck),this.mCartCheck.append(this.total),this.shop=$("<div></div>"),this.mCart.append(this.cToolBar).append(this.deletes).append(this.shop),this.cToolBar.append(this.cClose).append(this.cTitle),this.initCss(),this.initEvent(),this.canCheckout=!1},changeLanguage:function(){this.cTitle.html(getLanguage("TStuffCart_TypeCart","Shopping Cart")),this.deletes.html(getLanguage("lblDelete","Delete")),this.total.html(getLanguage("ShappingCart_Total","Total")+":$0.00)"),this.mCartCheck.html(getLanguage("ShappingCart_CheckOut","Checkout"))},addProduct:function(t){t=ShoppingCartUtil.addProduct(t),this.shop.empty(),this.shoppingItems=[];for(var i=0;i<t.length;i++){var e=new PageItem.MobileShoppingCartItem(this,t[i]);this.shop.append(e.singleShop),this.shoppingItems.push(e)}this.refreshTotalValue()},initEvent:function(){this.cartMailto.onTap(function(){bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"ShoppingCart",event_label:"CheckOutAll"}),this.doCheckout()}.bind(this)),this.cClose.onTap(function(){this.hideCart()}.bind(this));var t=function(t,i){i=30*windowWidth/1600,Math.abs(t)<=i||i<t&&this.hideCart()}.bind(this);this.mCart.speed(t),this.deletes.onTap(function(){for(var t=0;t<this.shoppingItems.length;){var i=this.shoppingItems[t];i.isSelected()?(this.removeItem(i),this.refreshTotalValue(),toolBar.getButton("ShoppingCart").setNumber(this.refreshInputValue())):t++}}.bind(this))},initCss:function(){this.mCart.css({display:"none",width:windowWidth+"px",height:windowHeight+"px",position:"absolute",transform:"translate(100%,0)","-webkit-transform":"translate(100%,0)","-moz-transform":"translate(100%,0)","-o-transform":"translate(100%,0)","-ms-transform":"translate(100%,0)","background-color":"#f4f4f4","z-index":"3000"}),this.setCartCss()},setCartCss:function(){this.shop.css({width:windowWidth-20+"px",height:.78*windowHeight+"px",position:"absolute",margin:"auto",top:"0px",left:"0px",bottom:"0px",right:"0px","overflow-x":"hidden"}),this.mCartCheck.css({position:"absolute","background-color":"#ff4400",width:2/3*windowWidth+"px",height:"40px","text-align":"center","line-height":"2.5","font-family":"Arial",right:"0",bottom:"0",cursor:"pointer",color:"white"}),this.deletes.css({position:"absolute","background-color":"#666666",width:windowWidth/3+"px",height:"40px","text-align":"center","line-height":"2.5","font-family":"Arial","margin-left":"0",bottom:"0",cursor:"pointer",color:"white"}),this.cTitle.css({position:"absolute",width:windowWidth/2,margin:"auto","font-size":"18px","font-family":"Tahoma",color:"rgb(140,140,140)","vertical-align":"middle","line-height":"2.5",left:"0",top:"0",bottom:"0",right:"0","text-align":"center"}),this.cToolBar.css({position:"relative",width:windowWidth+"px","background-color":"white",border:"rgb(239,232,232) 1px solid",height:"40px"}),this.cClose.css({position:"absolute",margin:"auto","background-image":"url("+uiBaseURL+"background_prev.png)","background-repeat":"no-repeat","background-position":"4px 4px",cursor:"pointer",width:"28px",height:"28px",left:"10px",bottom:"0",top:"0"})},getCartProducts:function(){var t=ShoppingCartUtil.getProductsFromStorage();this.shop.empty(),this.shoppingItems=[];for(var i=0;i<t.length;i++){var e=new PageItem.MobileShoppingCartItem(this,t[i]);this.shop.append(e.singleShop),this.shoppingItems.push(e)}this.refreshTotalValue()},onResize:function(t,i){this.mCart.css({width:windowWidth+"px",height:windowHeight+"px"}),this.setCartCss()},showCart:function(){this.getCartProducts(),this.changeLanguage(),tmpContainer.append(this.mCart),this.mCart.css({display:"block"}),animateOnce.delay(this,10,[this.mCart,{transform:"translate(0,0)","-webkit-transform":"translate(0,0)","-moz-transform":"translate(0,0)","-o-transform":"translate(0,0)","-ms-transform":"translate(0,0)"},.5,null,"","ease"])},hideCart:function(){animateOnce(this.mCart,{transform:"translate(100%,0)","-webkit-transform":"translate(100%,0)","-moz-transform":"translate(100%,0)","-o-transform":"translate(100%,0)","-ms-transform":"translate(100%,0)"},.3,function(){this.mCart.css({display:"none"})}.bind(this),"","ease")}}).extend(PageItem.ShoppingCartPanel),Class("MobileShoppingCartItem",{Package:"PageItem",create:function(t,i){this.initHtml(t,i),null==this.product.advancedName||""==this.product.advancedName?(this.carttitle.text(this.carttitle.text().overflow(18)),this.carttitle.text(this.product.title)):this.carttitle.text(this.product.title+"("+this.product.advancedName+")"),this.cartPrice.text(this.product.sing+forceFloat(this.product.price)),this.shoppingImage.attr("src",this.product.image),this.singleShop.append(this.checkBox).append(this.shoppingImage).append(this.carttitle).append(this.cartPrice).append(this.addlow).append(this.cartadd).append(this.cartInput).append(this.cartlow).append($("<hr style='position:absolute;margin:auto;margin-top:85px;width:100%'/>")),parseInt(this.cartInput.val())>parseInt(i.quantity)&&(this.addlow.append(this.cartNot),this.cartInput.css({"border-color":"red"}),this.canCheckout=!1),this.setOneShop(),this.initEvent()},initHtml:function(t,i){this.mobileShop=t,this.product=i,this.addlow=$("<div></div>"),this.singleShop=$("<div></div>"),this.checkBox=$("<input type='checkbox' name='checkbox1' style='position:relative;top:46px;' />"),this.checkBox[0].product=i,this.shoppingImage=$("<img/>"),this.cartNot=$("<span style='position:absolute;color:red;font-size:10px;width:120px;right:0;height:10px'>Not enough in stock</span>"),$.browser.safari&&$.system.name==$.system.IOS?(this.cartInput=$("<input type='text' value='"+this.product.number+"' style='width:36px;margin-top:70px;text-align:center;height:21px;outline:medium;right:26px;position:absolute;border:1px solid rgb(255,255,255)'/>"),this.cartInput.allowNumberOnly(),this.cartadd=$("<img src='"+uiBaseURL+"cartAdd.png' style='cursor:pointer;margin-top:70px;width:25px ;height:25px;right:70px;position:absolute;background-color:#DDDDDA' />"),this.cartlow=$("<img src='"+uiBaseURL+"cartLow.png' style='cursor:pointer;margin-top:70px;width:25px ;height:25px;right:1px;position:absolute;background-color:#DDDDDA'/>")):(this.cartInput=$("<input type='text' value='"+this.product.number+"' style='width:36px;margin-top:70px;text-align:center;height:21px;outline:medium;right:31px;position:absolute;border:1px solid rgb(255,255,255)'/>"),this.cartInput.allowNumberOnly(),this.cartadd=$("<img src='"+uiBaseURL+"cartAdd.png' style='cursor:pointer;margin-top:70px;width:25px ;height:25px;right:70px;position:absolute;background-color:#DDDDDA' />"),this.cartlow=$("<img src='"+uiBaseURL+"cartLow.png' style='cursor:pointer;margin-top:70px;width:25px ;height:25px;right:5px;position:absolute;background-color:#DDDDDA'/>")),this.carttitle=$("<span style='width:220px;height:45px;position:absolute;overflow:auto;margin-top: 20px;left:115px;font-family:Tahoma;font-size:12px'></span>"),this.cartPrice=$("<span></span>")},initEvent:function(){this.checkBox.bind("change",function(){!function(){this.mobileShop.refreshTotalValue(),toolBar.getButton("ShoppingCart").setNumber(this.mobileShop.refreshInputValue())}.delay(this,20)}.bind(this)),this.cartInput.bind("blur",function(){var t=parseInt(this.cartInput.val());t>this.product.quantity?(this.addlow.append(this.cartNot),this.cartInput.css({"border-color":"red"}),this.canCheckout=!1):(this.cartNot.remove(),this.cartInput.css({"border-color":"rgb(255,255,255)"}),this.canCheckout=!0),this.product.number=t,this.mobileShop.refreshTotalValue(),ShoppingCartUtil.saveProducts(this.mobileShop.shoppingItems,this.mobileShop.setting),toolBar.getButton("ShoppingCart").setNumber(this.mobileShop.refreshInputValue())}.bind(this)),this.cartadd.onTap(function(){var t=parseInt(this.cartInput.val());this.cartInput.val(t+=1),this.product.number=t,this.mobileShop.refreshTotalValue(),t>this.product.quantity?(this.addlow.append(this.cartNot),this.cartInput.css({"border-color":"red"}),this.canCheckout=!1):this.canCheckout=!0,ShoppingCartUtil.saveProducts(this.mobileShop.shoppingItems,this.mobileShop.setting),toolBar.getButton("ShoppingCart").setNumber(this.mobileShop.refreshInputValue())}.bind(this)),this.cartlow.onTap(function(){var t=parseInt(this.cartInput.val());(t=t-1<1?1:t-1)<0||(this.cartInput.val(t),this.product.number=t,this.mobileShop.refreshTotalValue(),this.mobileShop.refreshInputValue(),t<=this.product.quantity?(this.cartNot.remove(),this.cartInput.css({"border-color":"rgb(255,255,255)"}),this.canCheckout=!0):this.canCheckout=!1,ShoppingCartUtil.saveProducts(this.mobileShop.shoppingItems,this.mobileShop.setting),toolBar.getButton("ShoppingCart").setNumber(this.mobileShop.refreshInputValue()))}.bind(this))},isSelected:function(){return this.checkBox[0].checked},setOneShop:function(){this.cartPrice.css({position:"absolute",width:"170px",height:"20px",lineHeight:"20px","font-size":"15px",color:"rgb(250,11,11)","margin-top":"75px","font-family":"Tahoma",left:"115px"}),this.addlow.css({width:"115px",height:"20px",position:"absolute",right:"0px","margin-top":"28px"}),this.shoppingImage.css({position:"absolute",width:"70px",height:"70px","margin-top":"20px","margin-left":"10px"}),this.singleShop.css({width:windowWidth+"px",height:"120px"})}}).extend(ShoppingCartItem),global.shoppingCountHTML=$("<span class='shoppingCount'>0</span>"),Class("PCProductDetailsPanel",{Package:"PageItem",create:function(t,i,e){this.advancedObj=new PageItem.ShoppingAdvancedProperty(t),this._super(t,i,e),this.shoppingCart||(this.shoppingCart=new PageItem.PCShoppingCartPanel(t,i),window.shoppingCart=this.shoppingCart),this.shoppingCart.onClose=this.shoppingCartClose.bind(this),shoppingCountHTML.html(this.shoppingCart.refreshInputValue()),this.canCheckout=!0,this.visible=!1},parseConfig:function(t){return{annotype:t.annotype,x:t.location.x,y:t.location.y,width:t.location.width,height:t.location.height,bgColor:t.bgColor,bgAlpha:t.bgAlpha,cartType:t.cartType,imgUrl:t.imgUrl,titleStr:t.titleStr,url:t.url,languageLayout:t.languageLayout,Detailed:t.Detailed}},destroy:function(){this.container.empty(),this.container.remove()},initUI:function(){this.initHtml(),this.setShopCss(),tmpContainer.append(this.bgImage),tmpContainer.append(this.container),this.container.append(this.content),this.container.append(this.closeButton),this.content.append(this.imgBox),this.imgBox.append(this.shopImg),this.contentText.append(this.shopTitle),this.contentText.append(this.shopPrice),this.initAdvanced(),this.quantityBox.append(this.number),this.inputBox.append(this.add),this.inputBox.append(this.input),this.inputBox.append(this.low),this.quantityBox.append(this.inputBox),this.contentText.append(this.quantityBox),this.contentText.append(this.allQuantity),this.contentText.append(this.time),this.contentText.append(this.about),this.contentText.append(this.addToCart),this.content.append(this.contentText),this.shopTitle.html(this.config.Detailed.title),this.shopTitle.text(this.shopTitle.text().overflow(14)),this.shopTitle.attr("title",this.config.Detailed.title),this.mailto=$("<a></a>"),this.mailto.append(this.checkout),this.contentText.append(this.mailto),this.contentText.append(this.close),!1===this.setting.shoppingCartOptinon.showPrice&&this.shopPrice.css({display:"none"}),!1===this.setting.shoppingCartOptinon.showTime&&this.time.css({display:"none"}),this.initImgs(),$(window).resize(this.onResize.bind(this)),this.hide()},initHtml:function(){"right"==this.config.languageLayout&&(this.alignCss={"text-align":"right",direction:"rtl"}),(this.imgs=this.config.Detailed.imgs)&&!this.imgs[0]&&(this.imgs=[this.imgs.img]),this.imgs||(this.imgs=[this.config.imgUrl]),this.imgBox=$("<div></div>"),this.shopImg=$("<img/>"),this.background=$("<div></div>"),this.container=$("<div id='ShoppingCart' ></div>"),this.closeButton=$("<div></div>"),this.content=$("<div></div>"),this.contentText=$("<div></div>"),this.innerContent=$("<div></div>"),this.shopTitle=$("<div></div>"),this.allQuantity=$("<div> "+this.config.Detailed.quantity+" In Stock</div>"),this.bgImage=$("<div style='display:none'></div>"),this.alignCss?(this.shopPrice=$("<div>"+this.config.Detailed.sing+this.config.Detailed.proce+" : Price</div>"),this.time=$("<div>"+this.config.Detailed.time+" day(s) : Delivery time</div>"),bookConfig.isFlipPdf&&(this.shopPrice.html(this.config.Detailed.sing+this.config.Detailed.proce+" : 价格"),this.time.html(this.config.Detailed.time+" 天数(s) : 交货时间"))):(this.shopPrice=$("<div>Price :  "+this.config.Detailed.sing+this.config.Detailed.proce+"</div>"),this.time=$("<div>Delivery time : "+this.config.Detailed.time+" day(s)</div>"),bookConfig.isFlipPdf&&(this.shopPrice.html("价格 :  "+this.config.Detailed.sing+this.config.Detailed.proce),this.time.html("交货时间 : "+this.config.Detailed.time+" 天数(s)"))),this.about=$("<div>"+this.config.Detailed.about+"</div>"),this.number=$("<div style='position:relative;'>Quantity : </div>"),this.addToCart=$("<span>Add to cart</span>"),this.checkout=$("<div>"+this.config.Detailed.checkOutBtnName+"</div>"),this.close=$("<span>"+this.config.Detailed.closeBtnName+"</span>"),this.quantityBox=$("<div style='position:relative;'></div>"),this.inputBox=$("<div class='inputBox' style='position:absolute;top:0;left:60px;'></div>"),this.input=$("<input type='text' value='1' style='float:left;width : 70px;height:14px;line-height:14px;outline:medium;background:transparent;border:1px solid rgb(150,150,150);text-align:center'/>"),this.input.allowNumberOnly(),this.add=$("<img src='"+uiBaseURL+"cartAdd.png' style='float:left;cursor:pointer;width:18px ;height:18px;background:#ddd;' />"),this.low=$("<img src='"+uiBaseURL+"cartLow.png' style='float:left;cursor:pointer;width:18px ;height:18px;background:#ddd;'/>"),this.not=$("<span style='position:absolute;color:red;font-size:10px;width:115px;line-height:18px;height:18px;right:0'>Not enough in stock</span>")},changeLanguage:function(){this.allQuantity.html(this.config.Detailed.quantity+" "+getLanguage("ShappingCart_InStock","In Stock")),this.number.html(getLanguage("TStuffCart_DetailedQuantity","Quantity")+" :"),this.not.html(getLanguage("ShappingCart_NotStock","Not enough in stock")),this.addToCart.html(getLanguage("ShappingCart_AddCart","Add to cart")),this.alignCss?(this.shopPrice.html(this.config.Detailed.sing+this.config.Detailed.proce+" : "+getLanguage("TStuffCart_DetailedPrice","Price")),this.time.html(this.config.Detailed.time+getLanguage("TStuffCart_DetailedDay","day(s)")+" : "+getLanguage("TStuffCart_DetailedTime","Delivery time"))):(this.shopPrice.html(getLanguage("TStuffCart_DetailedPrice","Price")+" : "+this.config.Detailed.sing+this.config.Detailed.proce),this.time.html(getLanguage("TStuffCart_DetailedTime","Delivery time")+" : "+this.config.Detailed.time+getLanguage("TStuffCart_DetailedDay","day(s)")))},initAdvanced:function(){if(""!=this.advancedObj.advanced)for(var t=0,i=0;i<this.advancedObj.advanceLength;i++)t+=30,"boolean"==this.advancedObj.advanced[i].type&&this.contentText.append(this.advancedObj.shopAdvanced1),"text"==this.advancedObj.advanced[i].type&&this.contentText.append(this.advancedObj.shopAdvanced2),"list"==this.advancedObj.advanced[i].type&&(t+=20*parseInt(this.advancedObj.advanced[i].value.split(";").length/5),this.contentText.append(this.advancedObj.shopAdvanced3)),this.about.css({width:"300px",height:150-t+"px","margin-top":"10px","font-size":"10px","font-family":"Arial","overflow-x":"hidden"})},initImgs:function(){if(this.imgs&&this.imgs.length){this.imageItems=[];for(var t=0;t<this.imgs.length;t++)this.imageItems.push(this.imgs[t]),bookConfig.isFlipPdf&&this.imageItems[t]&&(this.imageItems[t].startsWith("./")?this.imageItems[t]="."+this.imageItems[t]:this.imageItems[t].isUrl()||(this.imageItems[t]="../"+this.imageItems[t]));1<this.imgs.length&&(this.imageURL=this.imageItems[0],this.initButton()),this.setImgs(this.imageItems[0])}},setImgs:function(t){this.shopImg.attr("src",t)},initButton:function(){this.leftButton=$('<img src="'+uiBaseURL+'photo_prev.png" style="position:absolute;z-index:1000;cursor:pointer;opacity:0.8;"></img>'),this.rightButton=$('<img src="'+uiBaseURL+'photo_next.png" style="position:absolute;z-index:1000;cursor:pointer;opacity:0.8;"></img>'),this.setButtonPosition(),this.currentIndex=0;var t=this.imageItems.length;this.leftButton.bind(_event._click,function(){this.busy=!0,0==this.currentIndex&&(this.currentIndex+=t),this.currentIndex=(this.currentIndex-1)%t,this.imageURL=this.imageItems[this.currentIndex],this.setImgs(this.imageURL)}.bind(this)),this.rightButton.bind(_event._click,function(){this.busy=!0,this.currentIndex=(this.currentIndex+1)%t,this.imageURL=this.imageItems[this.currentIndex],this.setImgs(this.imageURL)}.bind(this)),this.imgBox.append(this.leftButton).append(this.rightButton)},setButtonPosition:function(){this.leftButton.css({left:"17px",top:"143.5px"}),this.rightButton.css({right:"17px",top:"143.5px"})},setShopCss:function(){this.bgImage.css({position:"absolute",width:windowWidth+"px",height:windowHeight+"px",opacity:"0.5",top:0,"background-color":"black","z-index":"100"});var t="translate(0, "+-((windowHeight-430)/2+430)+"px)";this.container.css({position:"absolute",width:"730px",height:"430px",margin:"auto",left:"0",top:"0",bottom:"0",right:"0",transform:t,"-webkit-transform":t,"-moz-transform":t,"-o-transform":t,"-ms-transform":t,"z-index":"2000"}),this.content.css({position:"absolute",width:"700",height:"400",margin:"auto",left:"0",top:"0",bottom:"0",right:"0","background-color":"white","z-index":"2000"}),this.closeButton.css({position:"absolute",width:"20px",height:"20px",right:"0","background-image":"url("+uiBaseURL+"closecat.png)","background-repeat":"no-repeat",cursor:"pointer"}),this.imgBox.css({"background-color":"#f4f4f4",position:"absolute",width:"330px",height:"330px",margin:"auto",left:"20px",top:"0",bottom:"20px"}),this.shopImg.css({"max-width":"300px","max-height":"300px",position:"absolute",margin:"auto",left:"0",top:"0",bottom:"0",right:"0"}),this.contentText.css({position:"absolute",width:"304px",height:"355px",margin:"auto","margin-top":"30px",right:"20px","overflow-x":"hidden","-webkit-user-select":"initial","-moz-user-select":"initial","-ms-user-select":"initial","user-select":"initial"}),this.shopTitle.css({height:"30px","font-size":"30px",color:"black","font-family":"Arial"}),this.about.css({height:"148px","margin-top":"10px","font-size":"10px","font-family":"Arial","overflow-x":"hidden"}),this.quantityBox.css({height:"20px","line-height":"17px","margin-top":"10px",color:"black","font-size":"10px","font-family":"Arial"}),this.number.css({}),this.time.css({height:"14px","margin-top":"10px",color:"black","font-size":"10px","font-family":"Arial"}),this.allQuantity.css({height:"14px","margin-top":"8px","font-size":"10px",color:Color(44849).toString(),"font-family":"Arial"}),this.shopPrice.css({height:"18px","margin-top":"10px","font-size":"16px",color:Color(12845056).toString(),"font-family":"Arial"}),this.addToCart.css({background:"rgb(80, 80, 80)","text-align":"center","line-height":"2.0","font-size":"10px","font-family":"Arial",float:"left",padding:"0 5px","margin-top":"25px","margin-left":"0",cursor:"pointer",color:"white"}),this.checkout.css({background:"rgb(80, 80, 80)","text-align":"center","line-height":"2.0","font-size":"10px","font-family":"Arial",float:"left",padding:"0 5px",margin:"25px 10px 0",cursor:"pointer",color:"white","text-decoration":"none"}),this.close.css({background:"rgb(80, 80, 80)","text-align":"center","line-height":"2.0","font-size":"10px","font-family":"Arial",float:"left",padding:"0 5px","margin-top":"25px",cursor:"pointer",color:"white"}),this.alignCss&&(this.contentText.css(this.alignCss),this.inputBox.css({left:"auto",right:"60px"}),this.input.css({float:"right"}),this.add.css({float:"right"}),this.low.css({float:"right"}),this.checkout.css({left:"158px",right:"auto"}),this.close.css({left:"100px",right:"auto"}))},initEvent:function(){this.input.bind("blur",function(){parseInt(this.input.val())>this.config.Detailed.quantity?(this.number.append(this.not),this.input.css({"border-color":"red"}),this.canCheckout=!1):(this.not.remove(),this.input.css({"border-color":"rgb(150,150,150)"}),this.canCheckout=!0)}.bind(this)),this.add.bind(_event._click,function(){var t=this.input.val(),t=parseInt(t)+1;this.input.val(t),t>this.config.Detailed.quantity?(this.number.append(this.not),this.input.css({"border-color":"red"}),this.canCheckout=!1):this.canCheckout=!0,ShoppingCartUtil.saveProducts(this.shoppingItems,this.setting)}.bind(this)),this.low.bind(_event._click,function(){var t=parseInt(this.input.val());0!=t&&((t=t-1<1?1:t-1)<=this.config.Detailed.quantity&&(this.not.remove(),this.input.css({"border-color":"rgb(150,150,150)"}),this.canCheckout=!0),this.input.val(t))}.bind(this)),this.mailto.bind(_event._click,function(){bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"mailtoCheckOut",event_label:"doCheckOut"}),this.doCheckout()}.bind(this)),this.bgImage.bind(_event._click,function(){this.hide(),this.shoppingCart.cart.css({display:"none"})}.bind(this)),this.closeButton.bind(_event._click,this.hide.bind(this)),this.close.bind(_event._click,this.hide.bind(this)),this.addToCart.bind(_event._click,function(){bookContainer.append(this.cart),this.bgImage.css({display:"none"}),this.hide(),this.shoppingCart.showCart();var t={};t.image=this.imageItems&&this.imageItems.length<=1?this.imageItems[0]:this.imageURL,t.advancedName=this.advancedObj.setShoppingCartAdvanced().toString(),t.title=this.config.Detailed.title,t.sing=this.config.Detailed.sing,t.price=parseInt(this.config.Detailed.proce),t.number=parseInt(this.input.val()),t.quantity=parseInt(this.config.Detailed.quantity),this.shoppingCart.addProduct(t),shoppingCountHTML.html(this.shoppingCart.refreshInputValue())}.bind(this))},shoppingCartClose:function(){this.bgImage.css({display:"none"})},onResize:function(){var t=this.container.css("width"),i=this.container.css("height");this.height=parseInt(i.replace("px","")),this.width=parseInt(t.replace("px","")),this.container.css({"margin-left":(windowWidth-this.width)/2+"px","margin-top":(windowHeight-this.height)/2+"px"}),this.bgImage.css({width:windowWidth+"px",height:windowHeight+"px"})},skipHeid:function(){var t=this.container.css("height");this.height=parseInt(t.replace("px","")),t={transform:t="translate(0, "+-((windowHeight-this.height)/2+this.height)+"px)","-webkit-transform":t,"-moz-transform":t,"-o-transform":t,"-ms-transform":t},this.bgImage.css({display:"none"}),animateOnce(this.container,t,.5,null,"","ease-in-out")},hide:function(){var t;this.running||(this.running=!0,t=this.container.css("height"),this.height=parseInt(t.replace("px","")),t={transform:t="translate(0, "+-((windowHeight-this.height)/2+this.height)+"px)","-webkit-transform":t,"-moz-transform":t,"-o-transform":t,"-ms-transform":t},function(){this.container.css({display:"none"}),this.content.css("display","none"),this.bgImage.css({display:"none"}),this.running=!1}.delay(this,500),animateOnce(this.container,t,.5,null,"","ease-in-out"))},show:function(){this.running||(this.running=!0,this.bgImage.css({display:"block"}),this.changeLanguage(),this.content.css("display","block"),this.container.css({display:"block"}),animateOnce.delay(this,10,[this.container,{transform:"translate(0px,0px)","-webkit-transform":"translate(0px,0px)","-moz-transform":"translate(0px,0px)","-o-transform":"translate(0px,0px)","-ms-transform":"translate(0px,0px)"},.5,function(){this.running=!1}.bind(this),"","ease-in-out"]))}}).extend(PageItem.ProductDetailsPanel),Class("PCShoppingCartPanel",{Package:"PageItem",create:function(t,i){this.config=t,this.setting=i,this.cart=$("<div></div>"),this.cartTitles=$("<span>Shopping Cart</span>"),this.cartprices=$("<span style='position:absolute;font-size:12px;font-weight:bold;margin-top:50px;right:80px;font-family:Tahoma;color:black'>Price</span>"),this.cartqu=$("<span style='position:absolute;font-size:12px;font-weight:bold;margin-top:50px;right:180px;font-family:Tahoma;color:black'>Quantity</span>"),this.shopping=$("<div id='shopPrice'></div>"),this.item=$("<span class=itemss style='position: absolute;bottom: 40px;left: 10px;font-size:12px;font-family:Tahoma;font-weight:bold'></span>"),this.total=$("<span></span>"),this.cartCheckout=$("<span>Checkout</span>"),this.cartClose=$("<span>Close</span>"),this.cartAllDelete=$("<span>DeleteAll</span>"),this.deleteBox=$('<div> <span class=\'deleteDetial\'>Delete All Goods? </span><br/><span class="yes">Yes</span><span class="no">No</span></div>'),this.cartMailto=$("<a></a>"),this.cart.append(this.cartTitles),this.cart.append(this.cartqu),this.cart.append(this.cartprices),this.cart.append(this.shopping),this.cart.append(this.item),this.cart.append(this.total),this.bgImage=$("<div></div>"),this.cartMailto.append(this.cartCheckout),this.cart.append(this.cartAllDelete),this.cart.append(this.cartMailto),this.cart.append(this.cartClose),this.cart.append(this.deleteBox),tmpContainer.append(this.bgImage),tmpContainer.append(this.cart),this.promptBox=$("<div></div>"),this.setCartCss(),this.hideCart(),this.initEvent(),this.canCheckout=!1},initFlipPdfCase:function(){this.cartTitles=$("<span>购物车</span>"),this.cartprices.html("价格"),this.cartqu.html("数量"),this.cartCheckout=$("<span>付款</span>"),this.cartClose=$("<span>关闭</span>"),this.cartAllDelete=$("<span>删除所有</span>"),this.deleteBox=$('<div>确定删除所有商品吗? <br/><span class="yes">是</span><span class="no">否</span></div>')},initEvent:function(){this.bgImage.bind(_event._end,function(){this.cart.css({display:"none"}),this.bgImage.css({display:"none"})}.bind(this)),this.deleteBox.find(".yes").bind(_event._click,function(){this.deleteAll(),this.deleteBox.hide(300)}.bind(this)),this.deleteBox.find(".no").bind(_event._click,function(){this.deleteBox.hide(300)}.bind(this)),this.cartAllDelete.bind(_event._click,function(){this.deleteBox.show(300)}.bind(this)),this.cartMailto.bind(_event._click,function(){bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"ShoppingCart",event_label:"CheckOutAll"}),this.doCheckout()}.bind(this)),this.cartClose.bind(_event._click,function(){this.hideCart(),this.onClose&&this.onClose(),ShoppingCartUtil.saveProducts(this.shoppingItems,this.setting)}.bind(this)),$(window).resize(function(){this.bgImage.css({width:windowWidth+"px",height:windowHeight+"px"})}.bind(this))},deleteAll:function(){for(ShoppingCartUtil.setProductsToStorage([]);0<this.shoppingItems.length;)this.removeItem(this.shoppingItems[0]),this.refreshTotalValue()},changeLanguage:function(){this.cartTitles.html(getLanguage("TStuffCart_TypeCart","Shopping Cart")),this.cartprices.html(getLanguage("TStuffCart_DetailedPrice","Price")),this.cartqu.html(getLanguage("TStuffCart_DetailedQuantity","Quantity")),this.cartCheckout.html(getLanguage("ShappingCart_CheckOut","Checkout")),this.cartClose.html(getLanguage("ShappingCart_Close","Close")),this.cartAllDelete.html(getLanguage("lblRemoveAll","Remove All")),this.deleteBox.find(".deleteDetial").html(getLanguage("lblRemoveAll","Remove All")+" "+getLanguage("ShappingCart_Item","Items")+"?"),this.deleteBox.find(".yes").html(getLanguage("lblDelete","Delete")),this.deleteBox.find(".no").html(getLanguage("lblCancel","Cancel")),this.shoppingItems},addProduct:function(t){t=ShoppingCartUtil.addProduct(t),this.shopping.empty(),this.shoppingItems=[];for(var i=0;i<t.length;i++){var e=new PageItem.PCShoppingCartItem(this,t[i]);this.shopping.append(e.singleShop),this.shoppingItems.push(e)}this.refreshTotalValue(),this.refreshInputValue()},showCart:function(){this.cart.css("display","block"),this.bgImage.css("display","block"),this.changeLanguage()},hideCart:function(){this.cart.css("display","none"),this.bgImage.css("display","none")},setCartCss:function(){this.deleteBox.css({"font-family":"Tahoma",display:"none",position:"absolute",width:"300px","padding-top":"20px","text-align":"center",height:"140px",margin:"auto",left:"50%",top:"50%","box-shadow":"0 0 5px #666",background:"#eee",transform:"translate(-50%,-50%)","-webkit-transform":"translate(-50%,-50%)","-moz-transform":"translate(-50%,-50%)","-o-transform":"translate(-50%,-50%)","-ms-transform":"translate(-50%,-50%)","z-index":"3000"}),this.deleteBox.find(".yes").css({position:"absolute",color:"#fff",background:"#33cc33",left:"80px",bottom:"35px",width:"60px",height:"25px","line-height":"25px",cursor:"pointer"}),this.deleteBox.find(".no").css({position:"absolute",color:"#fff",background:"rgb(80, 80, 80)",right:"80px",bottom:"35px",width:"60px",height:"25px","line-height":"25px",cursor:"pointer"}),this.bgImage.css({position:"absolute",width:windowWidth+"px",height:windowHeight+"px",opacity:"0.5",top:0,"background-color":"black","z-index":"100"}),this.shopping.css({width:"515px",height:"190px",position:"absolute",margin:"auto",top:"10px",left:"0px",bottom:"0px",right:"0px","overflow-x":"hidden"}),this.total.css({position:"absolute",bottom:"40px",right:"20px","font-size":"12px","font-family":"Tahoma","font-weight":"bold",color:"red"}),this.cartClose.css({position:"absolute",background:"rgb(80, 80, 80)",width:"40px","text-align":"center","line-height":"2.0","font-size":"10px","font-family":"Arial",bottom:"10px",right:"20px",cursor:"pointer",color:"white"}),this.cartAllDelete.css({position:"absolute",background:"rgb(80, 80, 80)",color:"white",width:"70px","text-align":"center","line-height":"2.0","font-size":"10px","font-family":"Arial",bottom:"10px",left:"10px",cursor:"pointer"}),this.cartCheckout.css({position:"absolute",background:"rgb(80, 80, 80)",width:"60px","text-align":"center","line-height":"2.0","font-size":"10px","font-family":"Arial",bottom:"10px",right:"70px",cursor:"pointer",color:"white","text-decoration":"none"}),this.cartTitles.css({position:"absolute",padding:"0 10px",width:"490px","border-bottom":"1px solid white",height:"40px","line-height":"40px","font-size":"14px","font-family":"Tahoma",color:"white","background-color":"rgb(152,152,152)"}),this.cart.css({position:"absolute",border:"1px solid white","line-height":"2.5",margin:"auto",left:"0",top:"0",bottom:"0",right:"0",width:"500px",height:"350px","background-color":"rgb(218,218,218)","overflow-x":"hidden","z-index":"3000"}),"right"==this.config.languageLayout&&this.cartTitles.css({direction:"rtl","text-align":"right"})}}).extend(PageItem.ShoppingCartPanel),Class("PCShoppingCartItem",{Package:"PageItem",create:function(t,i){this.initHtml(t,i),!1===pageEditor.setting.shoppingCartOptinon.showPrice&&this.cartPrice.css({display:"none"}),null==this.product.advancedName||""==this.product.advancedName?(this.carttitle.text(this.carttitle.text().overflow(16)),this.carttitle.text(this.product.title),this.carttitle.attr("title",this.product.title)):(25<this.product.advancedName.length&&this.carttitle.attr("title",this.product.title+"("+this.product.advancedName+")"),this.carttitle.html(this.product.title+"("+this.product.advancedName+")")),this.cartPrice.text(this.product.sing+forceFloat(this.product.price)),this.singleShop.append($("<hr style='position:absolute; margin-left:10px;margin-top:85px;width:475px'/>")),parseInt(this.cartInput.val())>parseInt(i.quantity)&&(this.addlow.append(this.cartNot),this.cartInput.css({"border-color":"red"}),this.shop.canCheckout=!1),this.initEvent(),this.setCartCSS()},initHtml:function(t,i){this.shop=t,this.product=i,this.cartPrice=$("<span></span>"),this.addlow=$("<div></div>"),this.singleShop=$("<div style='width:480px;height:80px'></div>"),this.cartInput=$("<input id='cartinput' type='text' value='"+this.product.number+"'/>"),this.cartInput.allowNumberOnly(),this.shoppingImage=$("<img/>"),this.carttitle=$("<span style='width:150px;line-height:35px;height:35px;position:absolute;margin-top: 28px;left:80px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-family:Tahoma;font-size:12px'></span>"),this.dustbin=$("<img src='"+uiBaseURL+"cartDelete.png' style='cursor:pointer;position:absolute;right: 25px;margin-top:35px'/>"),this.cartadd=$("<img src='"+uiBaseURL+"cartAdd.png' style='cursor:pointer;width:18px ;height:18px;position:absolute;border:1px solid #bbb;left:25px;background:#eee;' />"),this.cartlow=$("<img src='"+uiBaseURL+"cartLow.png' style='cursor:pointer;width:18px ;height:18px;margin-left:97px;position:absolute;border:1px solid #bbb;background:#eee;'/>"),this.cartNot=$("<span style='position:absolute;color:red;font-size:10px;width:126px;height:20px;margin-top:15px;text-align:center;left:8px'>"+getLanguage("ShappingCart_NotStock","Not enough in stock")+"</span>"),this.singleShop.append(this.shoppingImage),this.singleShop.append(this.carttitle),this.singleShop.append(this.addlow),this.singleShop.append(this.cartPrice),this.singleShop.append(this.dustbin),this.addlow.append(this.cartadd),this.addlow.append(this.cartlow),this.addlow.append(this.cartInput),this.setImg(this.product.image)},setImg:function(t){this.shoppingImage.attr("src",t)},initEvent:function(){this.cartInput.bind("keyup",function(){var t=parseInt(this.cartInput.val());(t=""==t?this.cartInput.val():t)>this.product.quantity?(this.addlow.append(this.cartNot),this.cartInput.css({"border-color":"red"}),this.canCheckout=!1):(this.cartNot.remove(),this.cartInput.css({"border-color":"rgb(150,150,150)"}),this.canCheckout=!0),this.product.number=t,this.shop.refreshTotalValue(),ShoppingCartUtil.saveProducts(this.shop.shoppingItems,this.shop.setting),shoppingCountHTML.html(this.shop.refreshInputValue())}.bind(this)),this.dustbin.bind(_event._click,function(){this.shop.removeItem(this),this.shop.refreshTotalValue(),shoppingCountHTML.html(this.shop.refreshInputValue())}.bind(this)),this.cartadd.bind(_event._click,function(){var t=this.cartInput.val(),t=parseInt(t)+1;this.cartInput.val(t),(this.product.number=t)>this.product.quantity&&(this.addlow.append(this.cartNot),this.cartInput.css({"border-color":"red"})),this.shop.refreshTotalValue(),ShoppingCartUtil.saveProducts(this.shop.shoppingItems,this.shop.setting),shoppingCountHTML.html(this.shop.refreshInputValue())}.bind(this)),this.cartlow.bind(_event._click,function(){var t=this.cartInput.val();0!=parseInt(t)&&(t=parseInt(t)-1<1?1:parseInt(t)-1,this.cartInput.val(t),(this.product.number=t)<=this.product.quantity&&(this.cartNot.remove(),this.cartInput.css({"border-color":"rgb(150,150,150)"})),this.shop.refreshTotalValue(),ShoppingCartUtil.saveProducts(this.shop.shoppingItems,this.shop.setting),shoppingCountHTML.html(this.shop.refreshInputValue()))}.bind(this))},setCartCSS:function(){this.cartPrice.css({position:"absolute",width:"70px",height:"20px","font-size":"12px",color:"black","margin-top":"30px","font-family":"Tahoma",right:"65px"}),this.cartInput.css({"text-align":"center",width:"40px",height:"16px",outline:"medium","margin-left":"50px",position:"absolute",background:"#fff",border:"1px solid rgb(150,150,150)"}),this.addlow.css({width:"120px",height:"40px",right:"170px",position:"absolute","margin-top":"35px"}),this.shoppingImage.css({position:"absolute",width:"52px",height:"35px","margin-top":"28px",left:"10px","-moz-box-shadow":"0 0 5px #fff","-o-box-shadow":"0 0 5px #fff","-webkit-box-shadow":"0 0 5px #fff","box-shadow":"0 0 5px #fff"})}}).extend(PageItem.ShoppingCartItem),Class("Pentagon",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.animateConfig(),this.color=Color(this.config.color).toString(),this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.colorA=Color(this.config.colorA).toString(),this.colorB=Color(this.config.colorB).toString(),this.pentagon=$("<canvas width='"+this.width+"' height='"+this.height+"'></canvas>"),this.pentagon.css({position:"absolute",opacity:this.config.alpha,left:this.x+"px",top:this.y+"px"}),this.setRotation(this.pentagon,this.config.rotation),this.parent.append(this.pentagon),this.draw(),this.initEvent(),this.imageReflection(this.pentagon)},parseConfig:function(t){return{x:t.location.x,y:t.location.y,width:t.location.width,height:t.location.height,rotation:t.location.rotation,alpha:t.alpha,fillStyle:t.fillStyle,color:t.color,colorA:t.gradientColorA,colorB:t.gradientColorB,angle:t.angle,spalpha:t.spalpha,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,borderWidth:t.borderWidth,borderColor:t.borderColor,borderAlpha:t.borderAlpha,sh:parseBool(t.shadow.hasDropShadow),sa:t.shadow.shadowAngle,sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,action:t.action,animation:t.animation}},draw:function(){var t,i=this.pentagon[0],e=i.getContext("2d");e.clearRect(0,0,i.width,i.height),this.width-=this.config.borderWidth,this.height-=this.config.borderWidth,e.beginPath(),e.lineCap="round",e.lineJoin="round",e.strokeStyle=Color(this.config.borderColor).toString(),e.lineWidth=this.config.borderWidth,e.globalAlpha=this.config.spalpha,e.moveTo(this.config.borderWidth,3*this.height/8),e.lineTo(this.width/6,this.height),e.lineTo(5*this.width/6,this.height),e.lineTo(this.width,3*this.height/8),e.lineTo(this.width/2,this.config.borderWidth),this.config.sh&&this.setShapeShadow(e),"gradient"==this.config.fillStyle&&(i=this.config.angle*Math.PI/180,t=(Number(this.config.angle)+180)*Math.PI/180,(i=e.createLinearGradient(this.width/2+this.width/2*Math.cos(t),this.height/2+this.height/2*Math.sin(t),this.width/2+this.width/2*Math.cos(i),this.height/2+this.height/2*Math.sin(i))).addColorStop(0,this.colorA),i.addColorStop(1,this.colorB),e.fillStyle=i,e.fill()),"Pure"==this.config.fillStyle&&(e.fillStyle=this.color,e.fill()),e.closePath(),0!=this.config.borderWidth&&e.stroke()},initEvent:function(){this.linkURL="",null!=this.config.action&&(null!=this.config.action.length&&(this.config.action=this.config.action[0]),this.linkURL=this.config.action.url,null!=this.linkURL)&&"www"==this.linkURL.substr(0,3).toLowerCase()&&(this.linkURL="http://"+this.linkURL),this.pentagon.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Pentagon",this.config.x,this.config.y,this.config.width,this.config.height]),bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"Pentagon",event_label:"Page"+BookInfo.getCurrentPages()[0]})}.bind(this)),this.addActionEvent(this.pentagon)},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.pentagon[0].width=this.width,this.pentagon[0].height=this.height,this.draw(),this.setPosition()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.pentagon.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.pentagon.one(t,function(){this.pentagon.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.pentagon.css({left:this.x+"px",top:this.y+"px"})}}).extend(PageItem.Item),Class("Dovetailed",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.animateConfig(),this.color=Color(this.config.color).toString(),this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.pageHeights=this.config.pageHeight,this.width=Number(this.config.width*this.pageWidth),this.height=Number(this.config.height*this.pageHeight),this.colorA=Color(this.config.colorA).toString(),this.colorB=Color(this.config.colorB).toString(),this.dovetailed=$("<canvas width='"+this.width+"' height='"+this.height+"'></canvas>"),this.dovetailed.css({position:"absolute",opacity:this.config.alpha,left:this.x+"px",top:this.y+"px"}),this.setRotation(this.dovetailed,this.config.rotation),this.parent.append(this.dovetailed),this.draw(this.pageWidth),this.initEvent(),parseBool(this.config.reflection)&&this.imageReflection(this.dovetailed)},parseConfig:function(t){return{x:t.location.x,y:t.location.y,rotation:t.location.rotation,width:t.location.width,height:t.location.height,pageWidth:t.location.pageWidth,pageHeight:t.location.pageHeight,alpha:t.alpha,fillStyle:t.fillStyle,color:t.color,colorA:t.gradientColorA,colorB:t.gradientColorB,angle:t.angle,spalpha:t.spalpha,arrowWidth:t.arrowWidth,borderWidth:t.borderWidth,borderColor:t.borderColor,borderAlpha:t.borderAlpha,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,sh:parseBool(t.shadow.hasDropShadow),sa:t.shadow.shadowAngle,sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,action:t.action,animation:t.animation}},draw:function(t){var i=this.dovetailed[0],e=i.getContext("2d");this.config.borderWidth=Number(this.config.borderWidth),e.clearRect(0,0,i.width,i.height),this.width-=this.config.borderWidth,this.height-=this.config.borderWidth,this.config.pageWidth||(this.config.pageWidth=bookConfig.largePageWidth),this.arrowWidth=this.config.arrowWidth/this.config.pageWidth*t,this.arrowWidth>2*this.width/3&&(this.arrowWidth=this.width-2*this.width/3),0==this.arrowWidth&&(this.arrowWidth=10),this.dovetailWidth=this.width-this.arrowWidth,e.beginPath(),e.lineCap="round",e.lineJoin="round",e.strokeStyle=Color(this.config.borderColor).toString(),e.lineWidth=this.config.borderWidth,e.globalAlpha=this.config.spalpha,e.moveTo(this.config.borderWidth,this.config.borderWidth),e.lineTo(this.arrowWidth,(this.height+this.config.borderWidth)/2),e.lineTo(this.config.borderWidth,this.height),e.lineTo(this.dovetailWidth,this.height),e.lineTo(this.width,(this.height+this.config.borderWidth)/2),e.lineTo(this.dovetailWidth,this.config.borderWidth),this.config.sh&&this.setShapeShadow(e),"gradient"==this.config.fillStyle&&(t=this.config.angle*Math.PI/180,i=(Number(this.config.angle)+180)*Math.PI/180,(t=e.createLinearGradient(this.width/2+this.width/2*Math.cos(i),this.height/2+this.height/2*Math.sin(i),this.width/2+this.width/2*Math.cos(t),this.height/2+this.height/2*Math.sin(t))).addColorStop(0,this.colorA),t.addColorStop(1,this.colorB),e.fillStyle=t,e.fill()),"Pure"==this.config.fillStyle&&(e.fillStyle=this.color,e.fill()),e.closePath(),0!=this.config.borderWidth&&e.stroke()},initEvent:function(){this.flag=0,this.linkURL="",null!=this.config.action&&(null!=this.config.action.length&&(this.config.action=this.config.action[0]),this.linkURL=this.config.action.url,null!=this.linkURL)&&"www"==this.linkURL.substr(0,3).toLowerCase()&&(this.linkURL="http://"+this.linkURL),this.dovetailed.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Dovetailed",this.config.x,this.config.y,this.config.width,this.config.height]),bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"Dovetailed",event_label:"Page"+BookInfo.getCurrentPages()[0]})}.bind(this)),this.addActionEvent(this.dovetailed)},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.dovetailed[0].width=this.width,this.dovetailed[0].height=this.height,this.draw(this.pageWidth),this.setPosition()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.dovetailed.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.dovetailed.one(t,function(){this.dovetailed.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.dovetailed.css({left:this.x+"px",top:this.y+"px"})}}).extend(PageItem.Item),Class("Parallelogram",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.animateConfig(),this.color=Color(this.config.color).toString(),this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.colorA=Color(this.config.colorA).toString(),this.colorB=Color(this.config.colorB).toString(),this.parallelogram=$("<canvas width='"+this.width+"' height='"+this.height+"' id='prismatic'></canvas>"),this.parallelogram.css({position:"absolute",opacity:this.config.alpha,left:this.x+"px",top:this.y+"px"}),this.setRotation(this.parallelogram,this.config.rotation),this.parent.append(this.parallelogram),this.draw(),this.initEvent(),this.imageReflection(this.parallelogram)},parseConfig:function(t){return{x:t.location.x,y:t.location.y,width:t.location.width,height:t.location.height,rotation:t.location.rotation,alpha:t.alpha,fillStyle:t.fillStyle,color:t.color,colorA:t.gradientColorA,colorB:t.gradientColorB,angle:t.angle,spalpha:t.spalpha,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,borderWidth:t.borderWidth,borderColor:t.borderColor,borderAlpha:t.borderAlpha,sh:parseBool(t.shadow.hasDropShadow),sa:t.shadow.shadowAngle,sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,action:t.action,animation:t.animation}},draw:function(){var t,i=this.parallelogram[0],e=i.getContext("2d");e.clearRect(0,0,i.width,i.height),this.width-=this.config.borderWidth,this.height-=this.config.borderWidth,e.beginPath(),e.lineCap="round",e.lineJoin="round",e.strokeStyle=Color(this.config.borderColor).toString(),e.lineWidth=this.config.borderWidth,e.globalAlpha=this.config.spalpha,e.moveTo(this.width/4,this.config.borderWidth),e.lineTo(this.config.borderWidth,this.height),e.lineTo(3*this.width/4+2,this.height),e.lineTo(this.width,this.config.borderWidth),parseBool(this.config.sh)&&this.setShapeShadow(e),"gradient"==this.config.fillStyle&&(i=this.config.angle*Math.PI/180,t=(Number(this.config.angle)+180)*Math.PI/180,(i=e.createLinearGradient(this.width/2+this.width/2*Math.cos(t),this.height/2+this.height/2*Math.sin(t),this.width/2+this.width/2*Math.cos(i),this.height/2+this.height/2*Math.sin(i))).addColorStop(0,this.colorA),i.addColorStop(1,this.colorB),e.fillStyle=i,e.fill()),"Pure"==this.config.fillStyle&&(e.fillStyle=this.color,e.fill()),e.closePath(),0!=this.config.borderWidth&&e.stroke()},initEvent:function(){this.linkURL="",null!=this.config.action&&(null!=this.config.action.length&&(this.config.action=this.config.action[0]),this.linkURL=this.config.action.url,null!=this.linkURL)&&"www"==this.linkURL.substr(0,3).toLowerCase()&&(this.linkURL="http://"+this.linkURL),this.parallelogram.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Parallelogram",this.config.x,this.config.y,this.config.width,this.config.height]),bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"Parallelogram",event_label:"Page"+BookInfo.getCurrentPages()[0]})}.bind(this)),this.addActionEvent(this.parallelogram)},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.parallelogram[0].width=this.width,this.parallelogram[0].height=this.height,this.draw(),this.setPosition()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.parallelogram.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.parallelogram.one(t,function(){this.parallelogram.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.parallelogram.css({left:this.x+"px",top:this.y+"px"})}}).extend(PageItem.Item),Class("Hexagon",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.animateConfig(),this.color=Color(this.config.color).toString(),this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.colorA=Color(this.config.colorA).toString(),this.colorB=Color(this.config.colorB).toString(),this.hexagon=$("<canvas width='"+this.width+"' height='"+this.height+"'></canvas>"),this.hexagon.css({position:"absolute",opacity:this.config.alpha,left:this.x+"px",top:this.y+"px"}),this.setRotation(this.hexagon,this.config.rotation),this.parent.append(this.hexagon),this.draw(),this.initEvent(),parseBool(this.config.reflection)&&this.imageReflection(this.hexagon)},parseConfig:function(t){return{x:t.location.x,y:t.location.y,rotation:t.location.rotation,width:t.location.width,height:t.location.height,alpha:t.alpha,fillStyle:t.fillStyle,color:t.color,colorA:t.gradientColorA,colorB:t.gradientColorB,angle:t.angle,spalpha:t.spalpha,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,borderWidth:t.borderWidth,borderColor:t.borderColor,borderAlpha:t.borderAlpha,sh:parseBool(t.shadow.hasDropShadow),sa:t.shadow.shadowAngle,sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,action:t.action,animation:t.animation}},draw:function(){var t,i=this.hexagon[0],e=i.getContext("2d");e.clearRect(0,0,i.width,i.height),this.width-=this.config.borderWidth,this.height-=this.config.borderWidth,e.beginPath(),e.lineCap="round",e.lineJoin="round",e.strokeStyle=Color(this.config.borderColor).toString(),e.lineWidth=this.config.borderWidth,e.globalAlpha=this.config.spalpha,e.moveTo(this.width/4,this.config.borderWidth),e.lineTo(this.config.borderWidth,this.height/2),e.lineTo(this.width/4,this.height),e.lineTo(3*this.width/4,this.height),e.lineTo(this.width,this.height/2),e.lineTo(3*this.width/4,this.config.borderWidth),this.config.sh&&this.setShapeShadow(e),"gradient"==this.config.fillStyle&&(i=this.config.angle*Math.PI/180,t=(Number(this.config.angle)+180)*Math.PI/180,(i=e.createLinearGradient(this.width/2+this.width/2*Math.cos(t),this.height/2+this.height/2*Math.sin(t),this.width/2+this.width/2*Math.cos(i),this.height/2+this.height/2*Math.sin(i))).addColorStop(0,this.colorA),i.addColorStop(1,this.colorB),e.fillStyle=i,e.fill()),"Pure"==this.config.fillStyle&&(e.fillStyle=this.color,e.fill()),e.closePath(),0!=this.config.borderWidth&&e.stroke()},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.hexagon[0].width=this.width,this.hexagon[0].height=this.height,this.draw(),this.setPosition()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.hexagon.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.hexagon.one(t,function(){this.hexagon.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.hexagon.css({left:this.x+"px",top:this.y+"px"})},initEvent:function(){this.linkURL="",null!=this.config.action&&(null!=this.config.action.length&&(this.config.action=this.config.action[0]),this.linkURL=this.config.action.url,null!=this.linkURL)&&"www"==this.linkURL.substr(1,3).toLowerCase()&&(this.linkURL="http://"+this.linkURL),this.hexagon.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Hexagon",this.config.x,this.config.y,this.config.width,this.config.height]),bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"Hexagon",event_label:"Page"+BookInfo.getCurrentPages()[0]})}.bind(this)),this.addActionEvent(this.hexagon)}}).extend(PageItem.Item),Class("FlowChart",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.animateConfig(),this.color=Color(this.config.color).toString(),this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.colorA=Color(this.config.colorA).toString(),this.colorB=Color(this.config.colorB).toString(),this.flowChart=$("<canvas width='"+this.width+"' height='"+this.height+"'></canvas>"),this.flowChart.css({opacity:this.config.alpha,position:"absolute",left:this.x+"px",top:this.y+"px"}),this.setRotation(this.flowChart,this.config.rotation),this.parent.append(this.flowChart),this.draw(),this.initEvent(),parseBool(this.config.reflection)&&this.imageReflection(this.flowChart)},parseConfig:function(t){return{x:t.location.x,y:t.location.y,rotation:t.location.rotation,width:t.location.width,height:t.location.height,alpha:t.alpha,fillStyle:t.fillStyle,color:t.color,colorA:t.gradientColorA,colorB:t.gradientColorB,angle:t.angle,spalpha:t.spalpha,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,borderWidth:t.borderWidth,borderColor:t.borderColor,borderAlpha:t.borderAlpha,sh:parseBool(t.shadow.hasDropShadow),sa:t.shadow.shadowAngle,sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,action:t.action,animation:t.animation}},draw:function(){var t,i=this.flowChart[0],e=i.getContext("2d");e.clearRect(0,0,i.width,i.height),this.width-=this.config.borderWidth,this.height-=this.config.borderWidth,e.beginPath(),e.lineCap="round",e.lineJoin="round",e.strokeStyle=Color(this.config.borderColor).toString(),e.lineWidth=this.config.borderWidth,e.globalAlpha=this.config.spalpha,e.moveTo(this.config.borderWidth,this.config.borderWidth),e.lineTo(this.config.borderWidth,this.height),e.lineTo(this.width,this.height),e.lineTo(this.width,this.config.borderWidth),parseBool(this.config.sh)&&this.setShapeShadow(e),"gradient"==this.config.fillStyle&&(i=this.config.angle*Math.PI/180,t=(Number(this.config.angle)+180)*Math.PI/180,(i=e.createLinearGradient(this.width/2+this.width/2*Math.cos(t),this.height/2+this.height/2*Math.sin(t),this.width/2+this.width/2*Math.cos(i),this.height/2+this.height/2*Math.sin(i))).addColorStop(0,this.colorA),i.addColorStop(1,this.colorB),e.fillStyle=i,e.fill()),"Pure"==this.config.fillStyle&&(e.fillStyle=this.color,e.fill()),e.closePath(),e.stroke(),e.beginPath(),e.moveTo(this.width/8+this.config.borderWidth,this.config.borderWidth),e.lineTo(this.width/8+this.config.borderWidth,this.height),e.closePath(),e.stroke(),e.beginPath(),e.moveTo(7*this.width/8,this.config.borderWidth),e.lineTo(7*this.width/8,this.height),e.closePath(),0!=this.config.borderWidth&&e.stroke()},initEvent:function(){this.linkURL="",null!=this.config.action&&(null!=this.config.action.length&&(this.config.action=this.config.action[0]),this.linkURL=this.config.action.url,null!=this.linkURL)&&"www"==this.linkURL.substr(0,3).toLowerCase()&&(this.linkURL="http://"+this.linkURL),this.addActionEvent(this.flowChart)},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.flowChart[0].width=this.width,this.flowChart[0].height=this.height,this.draw(),this.setPosition()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.flowChart.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.flowChart.one(t,function(){this.flowChart.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.flowChart.css({left:this.x+"px",top:this.y+"px"})}}).extend(PageItem.Item),Class("Cylinder",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.animateConfig(),this.color=Color(this.config.color).toString(),this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.colorA=Color(this.config.colorA).toString(),this.colorB=Color(this.config.colorB).toString(),this.cylinder=$("<canvas width='"+this.width+"' height='"+this.height+"'></canvas>"),this.cylinder.css({position:"absolute",opacity:this.config.alpha,left:this.x+"px",top:this.y+"px"}),this.setRotation(this.cylinder,this.config.rotation),this.parent.append(this.cylinder),this.draw(),this.initEvent(),parseBool(this.config.reflection)&&this.imageReflection(this.cylinder)},parseConfig:function(t){return{x:t.location.x,y:t.location.y,rotation:t.location.rotation,width:t.location.width,height:t.location.height,alpha:t.alpha,fillStyle:t.fillStyle,color:t.color,colorA:t.gradientColorA,colorB:t.gradientColorB,angle:t.angle,spalpha:t.spalpha,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,cylinderRadius:t.cylinderRadius,borderWidth:t.borderWidth,borderColor:t.borderColor,borderAlpha:t.borderAlpha,sh:parseBool(t.shadow.hasDropShadow),sa:t.shadow.shadowAngle,sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,action:t.action,animation:t.animation}},fillColor:function(t){var i,e;"gradient"==this.config.fillStyle&&(e=this.config.angle*Math.PI/180,i=(Number(this.config.angle)+180)*Math.PI/180,(e=t.createLinearGradient(this.width/2+this.width/2*Math.cos(i),this.height/2+this.height/2*Math.sin(i),this.width/2+this.width/2*Math.cos(e),this.height/2+this.height/2*Math.sin(e))).addColorStop(0,this.colorA),e.addColorStop(1,this.colorB),t.fillStyle=e,this.config.sh&&this.setShapeShadow(t),t.fill()),"Pure"==this.config.fillStyle&&(t.fillStyle=this.color,this.config.sh&&this.setShapeShadow(t),t.fill())},draw:function(){var t=this.cylinder[0],i=t.getContext("2d"),e=(i.clearRect(0,0,t.width,t.height),this.cylinderRadius=this.config.cylinderRadius,i.lineCap="round",i.lineJoin="round",i.strokeStyle=Color(this.config.borderColor).toString(),i.lineWidth=this.config.borderWidth,i.globalAlpha=this.config.spalpha,0==this.cylinderRadius&&(this.cylinderRadius=10),this.cylinderRadius>this.height/2&&(this.cylinderRadius=this.height/2),t=this.width/2-this.config.borderWidth,this.cylinderRadius/2-this.config.borderWidth),o=this.width/2,s=this.cylinderRadius/2,n=e<t?t:e,a=t/n;e/=n,i.save(),i.beginPath(),i.scale(a,e),i.moveTo((o+t)/a,s/e),i.arc(o/a,s/e,n,0,2*Math.PI),i.restore(),this.fillColor(i),"none"!=this.config.fillStyle&&i.fillRect(this.config.borderWidth,this.cylinderRadius/2,this.width-2*this.config.borderWidth,this.height-this.cylinderRadius),i.closePath(),i.stroke(),i.moveTo(this.config.borderWidth,this.cylinderRadius/2),i.lineTo(this.config.borderWidth,this.height-this.cylinderRadius/2),i.moveTo(this.width-this.config.borderWidth,this.cylinderRadius/2),i.lineTo(this.width-this.config.borderWidth,this.height-this.cylinderRadius/2),i.save(),i.scale(a,e),i.moveTo((o+t)/a,(this.height-s)/e),i.arc(o/a,(this.height-s)/e,n,0,Math.PI),i.restore(),this.fillColor(i),i.stroke(),i.closePath()},initEvent:function(){this.flag=0,this.linkURL="",null!=this.config.action&&(null!=this.config.action.length&&(this.config.action=this.config.action[0]),this.linkURL=this.config.action.url,null!=this.linkURL)&&"www"==this.linkURL.substr(0,3).toLowerCase()&&(this.linkURL="http://"+this.linkURL),this.cylinder.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Cylinder",this.config.x,this.config.y,this.config.width,this.config.height]),bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"Cylinder",event_label:"Page"+BookInfo.getCurrentPages()[0]})}.bind(this)),this.addActionEvent(this.cylinder)},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.cylinder[0].width=this.width,this.cylinder[0].height=this.height,this.draw(),this.setPosition()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.cylinder.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.cylinder.one(t,function(){this.cylinder.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.cylinder.css({left:this.x+"px",top:this.y+"px"})}}).extend(PageItem.Item),Class("Trapezoid",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.animateConfig(),this.color=Color(this.config.color).toString(),this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.width=Number(this.config.width*this.pageWidth),this.height=Number(this.config.height*this.pageHeight),this.colorA=Color(this.config.colorA).toString(),this.colorB=Color(this.config.colorB).toString(),this.trapezoid=$("<canvas width='"+this.width+"' height='"+this.height+"'></canvas>"),this.trapezoid.css({position:"absolute",opacity:this.config.alpha,left:this.x+"px",top:this.y+"px"}),this.setRotation(this.trapezoid,this.config.rotation),this.parent.append(this.trapezoid),this.draw(this.pageWidth),this.initEvent(),parseBool(this.config.reflection)&&this.imageReflection(this.trapezoid)},parseConfig:function(t){return{x:t.location.x,y:t.location.y,rotation:t.location.rotation,width:t.location.width,height:t.location.height,pageWidth:t.location.pageWidth,pageHeight:t.location.pageHeight,alpha:t.alpha,fillStyle:t.fillStyle,color:t.color,colorA:t.gradientColorA,colorB:t.gradientColorB,angle:t.angle,spalpha:t.spalpha,bottomLength:t.bottomLength,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,borderWidth:t.borderWidth,borderColor:t.borderColor,borderAlpha:t.borderAlpha,sh:parseBool(t.shadow.hasDropShadow),sa:t.shadow.shadowAngle,sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,action:t.action,animation:t.animation}},draw:function(t){var i=this.trapezoid[0],e=i.getContext("2d");e.clearRect(0,0,i.width,i.height),this.width-=this.config.borderWidth,this.height-=this.config.borderWidth,this.config.pageWidth||(this.config.pageWidth=bookConfig.largePageWidth),this.bottomLength=Number(this.config.bottomLength)/this.config.pageWidth*t,this.bottomLength=0==this.bottomLength||this.config.bottomLength>2*this.width/3?this.width-2*this.width/3:this.bottomLength,e.beginPath(),e.lineCap="round",e.lineJoin="round",e.strokeStyle=Color(this.config.borderColor).toString(),e.lineWidth=this.config.borderWidth,e.globalAlpha=this.config.spalpha,e.moveTo((this.width-this.bottomLength)/2,this.config.borderWidth),e.lineTo(this.config.borderWidth,this.height),e.lineTo(this.width,this.height),e.lineTo((this.width-this.bottomLength)/2+this.bottomLength,this.config.borderWidth),this.config.sh&&this.setShapeShadow(e),"gradient"==this.config.fillStyle&&(t=this.config.angle*Math.PI/180,i=(Number(this.config.angle)+180)*Math.PI/180,(t=e.createLinearGradient(this.width/2+this.width/2*Math.cos(i),this.height/2+this.height/2*Math.sin(i),this.width/2+this.width/2*Math.cos(t),this.height/2+this.height/2*Math.sin(t))).addColorStop(0,this.colorA),t.addColorStop(1,this.colorB),e.fillStyle=t,e.fill()),"Pure"==this.config.fillStyle&&(e.fillStyle=this.color,e.fill()),e.closePath(),0!=this.config.borderWidth&&e.stroke()},initEvent:function(){this.flag=0,this.linkURL="",null!=this.config.action&&(null!=this.config.action.length&&(this.config.action=this.config.action[0]),this.linkURL=this.config.action.url,null!=this.linkURL)&&"www"==this.linkURL.substr(0,3).toLowerCase()&&(this.linkURL="http://"+this.linkURL),this.trapezoid.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Trapezoid",this.config.x,this.config.y,this.config.width,this.config.height]),bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"Trapezoid",event_label:"Page"+BookInfo.getCurrentPages()[0]})}.bind(this)),this.addActionEvent(this.trapezoid)},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.trapezoid[0].width=this.width,this.trapezoid[0].height=this.height,this.draw(this.pageWidth),this.setPosition()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.trapezoid.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.trapezoid.one(t,function(){this.trapezoid.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.trapezoid.css({left:this.x+"px",top:this.y+"px"})}}).extend(PageItem.Item),Class("RightArrow",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.animateConfig(),this.color=Color(this.config.color).toString(),this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.colorA=Color(this.config.colorA).toString(),this.colorB=Color(this.config.colorB).toString(),this.rightArrow=$("<canvas width='"+this.width+"' height='"+this.height+"'></canvas>"),this.rightArrow.css({position:"absolute",opacity:this.config.alpha,left:this.x+"px",top:this.y+"px"}),this.setRotation(this.rightArrow,this.config.rotation),this.parent.append(this.rightArrow),this.draw(this.pageWidth,this.pageHeight),this.initEvent(),parseBool(this.config.reflection)&&this.imageReflection(this.rightArrow)},parseConfig:function(t){return{x:t.location.x,y:t.location.y,width:t.location.width,height:t.location.height,rotation:t.location.rotation,pageWidth:t.location.pageWidth,pageHeight:t.location.pageHeight,alpha:t.alpha,fillStyle:t.fillStyle,color:t.color,colorA:t.gradientColorA,colorB:t.gradientColorB,angle:t.angle,spalpha:t.spalpha,arrowWidth:t.arrowWidth,arrowTailHeight:t.arrowTailHeight,arrowType:t.arrowType,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,borderWidth:t.borderWidth,borderColor:t.borderColor,borderAlpha:t.borderAlpha,sh:parseBool(t.shadow.hasDropShadow),sa:t.shadow.shadowAngle,sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,action:t.action,animation:t.animation}},draw:function(t,i){var e=this.rightArrow[0],o=e.getContext("2d");o.clearRect(0,0,e.width,e.height),this.width-=this.config.borderWidth,this.height-=this.config.borderWidth,this.config.pageWidth||(this.config.pageWidth=bookConfig.largePageWidth),this.config.pageHeight||(this.config.pageHeight=bookConfig.largePageHeight),this.arrowWidth=Number(this.config.arrowWidth)/this.config.pageWidth*t,this.arrowTailHeight=Number(this.config.arrowTailHeight)/this.config.pageHeight*i,0==this.arrowWidth&&(this.arrowWidth=10),0<this.arrowWidth&&this.arrowWidth<3*this.width/4&&(this.arrowWidth=this.arrowWidth),1==parseBool(this.config.arrowType)?2*this.arrowWidth>this.width-+this.width/4&&(this.arrowWidth=(this.width-+this.width/4)/2):this.arrowWidth>3*this.width/4&&(this.arrowWidth=3*this.width/4),this.arrowTailHeight=this.arrowTailHeight>this.height/2?this.height/4:0==this.arrowTailHeight?this.height/2-5:(this.height-this.arrowTailHeight)/2,o.beginPath(),o.lineCap="round",o.lineJoin="round",o.strokeStyle=Color(this.config.borderColor).toString(),o.lineWidth=this.config.borderWidth,o.globalAlpha=this.config.spalpha,0==parseBool(this.config.arrowType)?(o.moveTo(this.config.borderWidth,this.arrowTailHeight),o.lineTo(this.width-this.arrowWidth,this.arrowTailHeight),o.lineTo(this.width-this.arrowWidth,this.config.borderWidth),o.lineTo(this.width,this.height/2),o.lineTo(this.width-this.arrowWidth,this.height),o.lineTo(this.width-this.arrowWidth,this.height-this.arrowTailHeight),o.lineTo(this.config.borderWidth,this.height-this.arrowTailHeight)):(o.moveTo(this.config.borderWidth,this.height/2),o.lineTo(this.arrowWidth,this.config.borderWidth),o.lineTo(this.arrowWidth,this.arrowTailHeight),o.lineTo(this.width-this.arrowWidth,this.arrowTailHeight),o.lineTo(this.width-this.arrowWidth,this.config.borderWidth),o.lineTo(this.width,this.height/2),o.lineTo(this.width-this.arrowWidth,this.height),o.lineTo(this.width-this.arrowWidth,this.height-this.arrowTailHeight),o.lineTo(this.arrowWidth,this.height-this.arrowTailHeight),o.lineTo(this.arrowWidth,this.height)),this.config.sh&&this.setShapeShadow(o),"gradient"==this.config.fillStyle&&(t=this.config.angle*Math.PI/180,i=(Number(this.config.angle)+180)*Math.PI/180,(t=o.createLinearGradient(this.width/2+this.width/2*Math.cos(i),this.height/2+this.height/2*Math.sin(i),this.width/2+this.width/2*Math.cos(t),this.height/2+this.height/2*Math.sin(t))).addColorStop(0,this.colorA),t.addColorStop(1,this.colorB),o.fillStyle=t,o.fill()),"Pure"==this.config.fillStyle&&(o.fillStyle=this.color,o.fill()),o.closePath(),0!=this.config.borderWidth&&o.stroke()},initEvent:function(){this.linkURL="",null!=this.config.action&&(null!=this.config.action.length&&(this.config.action=this.config.action[0]),this.linkURL=this.config.action.url,null!=this.linkURL)&&"www"==this.linkURL.substr(0,3).toLowerCase()&&(this.linkURL="http://"+this.linkURL),this.rightArrow.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"RightArrow",this.config.x,this.config.y,this.config.width,this.config.height]),bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"RightArrow",event_label:"Page"+BookInfo.getCurrentPages()[0]})}.bind(this)),this.addActionEvent(this.rightArrow)},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.rightArrow[0].width=this.width,this.rightArrow[0].height=this.height,this.draw(this.pageWidth,this.pageHeight),this.setPosition()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.rightArrow.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.rightArrow.one(t,function(){this.rightArrow.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.rightArrow.css({left:this.x+"px",top:this.y+"px"})}}).extend(PageItem.Item),Class("VirtualEnd",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.animateConfig(),this.color=Color(this.config.color).toString(),this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.width=Number(this.config.width*this.pageWidth),this.height=Number(this.config.height*this.pageHeight),this.colorA=Color(this.config.colorA).toString(),this.colorB=Color(this.config.colorB).toString(),this.borderColor=Color(this.config.borderColor).toString(),this.virtualEnd=$("<canvas width='"+this.width+"' height='"+this.height+"' id='myCanvas'></canvas>"),this.virtualEnd.css({position:"absolute",opacity:this.config.alpha,left:this.x+"px",top:this.y+"px"}),this.setRotation(this.virtualEnd,this.config.rotation),this.parent.append(this.virtualEnd),this.draw(this.pageWidth,this.pageHeight),this.initEvent(),parseBool(this.config.reflection)&&this.imageReflection(this.virtualEnd)},parseConfig:function(t){return{x:t.location.x,y:t.location.y,rotation:t.location.rotation,pageWidth:t.location.pageWidth,pageHeight:t.location.pageHeight,width:t.location.width,height:t.location.height,alpha:t.alpha,fillStyle:t.fillStyle,color:t.color,colorA:t.gradientColorA,colorB:t.gradientColorB,angle:t.angle,spalpha:t.spalpha,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,arrowWidth:t.arrowWidth,arrowTailHeight:t.arrowTailHeight,borderWidth:t.borderWidth,borderColor:t.borderColor,borderAlpha:t.borderAlpha,sh:parseBool(t.shadow.hasDropShadow),sa:t.shadow.shadowAngle,sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,action:t.action,animation:t.animation}},fillColor:function(t){var i,e;"gradient"==this.config.fillStyle&&(e=this.config.angle*Math.PI/180,i=(Number(this.config.angle)+180)*Math.PI/180,(e=t.createLinearGradient(this.width/2+this.width/2*Math.cos(i),this.height/2+this.height/2*Math.sin(i),this.width/2+this.width/2*Math.cos(e),this.height/2+this.height/2*Math.sin(e))).addColorStop(0,this.colorA),e.addColorStop(1,this.colorB),t.fillStyle=e,t.fill()),"Pure"==this.config.fillStyle&&(t.fillStyle=this.color,t.fill()),0!=this.config.borderWidth&&t.stroke()},draw:function(t,i){var e=this.virtualEnd[0],o=e.getContext("2d");o.clearRect(0,0,e.width,e.height),this.width-=this.config.borderWidth,this.height-=this.config.borderWidth,this.config.pageWidth||(this.config.pageWidth=bookConfig.largePageWidth),this.config.pageHeight||(this.config.pageHeight=bookConfig.largePageHeight),this.arrowWidth=Number(this.config.arrowWidth)/this.config.pageWidth*t,this.arrowTailHeight=Number(this.config.arrowTailHeight)/this.config.pageHeight*i,this.arrowTailHeight>this.height&&(this.arrowTailHeight=this.height),this.arrowWidth>this.width/2&&(this.arrowWidth=this.width/2),0==this.arrowTailHeight&&(this.arrowTailHeight=10),0==this.arrowWidth&&(this.arrowWidth=10),this.rightArrowWidth=this.width-this.arrowWidth,this.rightArrowHeight=(this.height-this.arrowTailHeight)/2,o.strokeStyle=Color(this.config.borderColor).toString(),o.lineWidth=this.config.borderWidth,o.globalAlpha=this.config.spalpha,o.lineCap="round",o.lineJoin="round",o.beginPath(),o.rect(this.config.borderWidth,(this.height-this.arrowTailHeight)/2,this.width/24,this.arrowTailHeight),o.strokeStyle=Color(this.config.borderColor).toString(),o.lineWidth=this.config.borderWidth,this.fillColor(o),o.closePath(),o.beginPath(),o.rect(this.width/12,(this.height-this.arrowTailHeight)/2,this.width/12,this.arrowTailHeight),o.strokeStyle=Color(this.config.borderColor).toString(),o.lineWidth=this.config.borderWidth,this.fillColor(o),o.closePath(),o.beginPath(),o.moveTo(this.width/5,this.rightArrowHeight),o.lineTo(this.rightArrowWidth,this.rightArrowHeight),o.lineTo(this.rightArrowWidth,this.config.borderWidth),o.lineTo(this.width,this.height/2),o.lineTo(this.rightArrowWidth,this.height),o.lineTo(this.rightArrowWidth,this.height-this.rightArrowHeight),o.lineTo(this.width/5,this.height-this.rightArrowHeight),o.closePath(),1==parseBool(this.config.sh)&&this.setShapeShadow(o),this.fillColor(o)},initEvent:function(){this.linkURL="",null!=this.config.action&&(null!=this.config.action.length&&(this.config.action=this.config.action[0]),this.linkURL=this.config.action.url,null!=this.linkURL)&&"www"==this.linkURL.substr(1,3).toLowerCase()&&(this.linkURL="http://"+this.linkURL),this.virtualEnd.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"VirtualEnd",this.config.x,this.config.y,this.config.width,this.config.height]),bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"VirtualEnd",event_label:"Page"+BookInfo.getCurrentPages()[0]})}.bind(this)),this.addActionEvent(this.virtualEnd)},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.virtualEnd[0].width=this.width,this.virtualEnd[0].height=this.height,this.draw(this.pageWidth,this.pageHeight),this.setPosition()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.virtualEnd.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.virtualEnd.one(t,function(){this.virtualEnd.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.virtualEnd.css({left:this.x+"px",top:this.y+"px"})}}).extend(PageItem.Item),Class("Cross",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.animateConfig(),this.color=Color(this.config.color).toString(),this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.colorA=Color(this.config.colorA).toString(),this.colorB=Color(this.config.colorB).toString(),this.cross=$("<canvas width='"+this.width+"' height='"+this.height+"'></canvas>"),this.cross.css({position:"absolute",opacity:this.config.alpha,left:this.x+"px",top:this.y+"px"}),this.setRotation(this.cross,this.config.rotation),this.parent.append(this.cross),this.draw(),this.initEvent(),parseBool(this.config.reflection)&&this.imageReflection(this.cross)},parseConfig:function(t){return{x:t.location.x,y:t.location.y,rotation:t.location.rotation,width:t.location.width,height:t.location.height,pageWidth:t.location.pageWidth,pageHeight:t.location.pageHeight,alpha:t.alpha,fillStyle:t.fillStyle,color:t.color,colorA:t.gradientColorA,colorB:t.gradientColorB,angle:t.angle,spalpha:t.spalpha,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,crossWidht:t.crossWidht,crossType:t.crossType,borderWidth:t.borderWidth,borderColor:t.borderColor,borderAlpha:t.borderAlpha,sh:parseBool(t.shadow.hasDropShadow),sa:t.shadow.shadowAngle,sx:t.shadow.shadowBlurX,sy:t.shadow.shadowBlurY,se:t.shadow.shadowDistance,sr:t.shadow.shadowColor,action:t.action,animation:t.animation}},draw:function(){var t,i=this.cross[0],e=i.getContext("2d");e.clearRect(0,0,i.width,i.height),this.config.borderWidth=Number(this.config.borderWidth),this.width-=this.config.borderWidth,this.height-=this.config.borderWidth,this.config.pageWidth||(this.config.pageWidth=bookConfig.largePageWidth),this.crossWidth=Number(this.config.crossWidht)/this.config.pageWidth*this.pageWidth,this.width>this.height?this.crossWidth>2*this.height/3&&(this.crossWidth=this.height-+this.height/3):this.crossWidth>2*this.width/3&&(this.crossWidth=this.width-+this.width/3),0==this.crossWidth&&(this.crossWidth=10),this.positionWidth=(this.width-this.crossWidth)/2,this.positionHeight=(this.height-this.crossWidth)/2,e.lineCap="round",e.lineJoin="round",e.strokeStyle=Color(this.config.borderColor).toString(),e.lineWidth=this.config.borderWidth,e.globalAlpha=this.config.spalpha,e.beginPath(),!0===parseBool(this.config.crossType)?(e.moveTo(this.config.borderWidth,this.height/2),e.lineTo(this.positionWidth/2,this.positionHeight-this.crossWidth/3),e.lineTo(this.positionWidth/2,this.positionHeight),e.lineTo(this.positionWidth,this.positionHeight),e.lineTo(this.positionWidth,this.positionHeight/2),e.lineTo(this.positionWidth-this.crossWidth/3,this.positionHeight/2),e.lineTo(this.width/2,this.config.borderWidth),e.lineTo(this.width-this.positionWidth+this.crossWidth/3,this.positionHeight/2),e.lineTo(this.width-this.positionWidth,this.positionHeight/2),e.lineTo(this.width-this.positionWidth,this.positionHeight),e.lineTo(this.width-this.positionWidth/2,this.positionHeight),e.lineTo(this.width-this.positionWidth/2,this.positionHeight-this.crossWidth/3),e.lineTo(this.width,this.height/2),e.lineTo(this.width-this.positionWidth/2,this.height-this.positionHeight+this.crossWidth/3),e.lineTo(this.width-this.positionWidth/2,this.height-this.positionHeight),e.lineTo(this.width-this.positionWidth,this.height-this.positionHeight),e.lineTo(this.width-this.positionWidth,this.height-this.positionHeight/2),e.lineTo(this.width-this.positionWidth+this.crossWidth/3,this.height-this.positionHeight/2),e.lineTo(this.width/2,this.height),e.lineTo(this.positionWidth-this.crossWidth/3,this.height-this.positionHeight/2),e.lineTo(this.positionWidth,this.height-this.positionHeight/2),e.lineTo(this.positionWidth,this.height-this.positionHeight),e.lineTo(this.positionWidth/2,this.height-this.positionHeight),e.lineTo(this.positionWidth/2,this.height-this.positionHeight+this.crossWidth/3)):(e.moveTo(this.config.borderWidth,this.positionHeight),e.lineTo(this.positionWidth,this.positionHeight),e.lineTo(this.positionWidth,this.config.borderWidth),e.lineTo(this.positionWidth+this.crossWidth,this.config.borderWidth),e.lineTo(this.positionWidth+this.crossWidth,this.positionHeight),e.lineTo(this.width-this.config.borderWidth,this.positionHeight),e.lineTo(this.width-this.config.borderWidth,this.positionHeight+this.crossWidth),e.lineTo(this.positionWidth+this.crossWidth,this.positionHeight+this.crossWidth),e.lineTo(this.positionWidth+this.crossWidth,this.height),e.lineTo(this.positionWidth,this.height),e.lineTo(this.positionWidth,this.positionHeight+this.crossWidth),e.lineTo(this.config.borderWidth,this.positionHeight+this.crossWidth)),parseBool(this.config.sh)&&this.setShapeShadow(e),"gradient"==this.config.fillStyle&&(i=this.config.angle*Math.PI/180,t=(Number(this.config.angle)+180)*Math.PI/180,(i=e.createLinearGradient(this.width/2+this.width/2*Math.cos(t),this.height/2+this.height/2*Math.sin(t),this.width/2+this.width/2*Math.cos(i),this.height/2+this.height/2*Math.sin(i))).addColorStop(0,this.colorA),i.addColorStop(1,this.colorB),e.fillStyle=i,e.fill()),"Pure"==this.config.fillStyle&&(e.fillStyle=this.color,e.fill()),e.closePath(),0!=this.config.borderWidth&&e.stroke()},initEvent:function(){this.flag=0,this.linkURL="",null!=this.config.action&&(null!=this.config.action.length&&(this.config.action=this.config.action[0]),this.linkURL=this.config.action.url,null!=this.linkURL)&&"www"==this.linkURL.substr(0,3).toLowerCase()&&(this.linkURL="http://"+this.linkURL),this.cross.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"Cross",this.config.x,this.config.y,this.config.width,this.config.height]),bookConfig.googleAnalyticsID&&gtag("event","click",{event_category:"Cross",event_label:"Page"+BookInfo.getCurrentPages()[0]})}.bind(this)),this.addActionEvent(this.cross)},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.pageWidth*this.config.width,this.height=this.pageHeight*this.config.height,this.cross[0].width=this.width,this.cross[0].height=this.height,this.draw(),this.setPosition()},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.cross.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.cross.one(t,function(){this.cross.css({animation:""})}.bind(this)))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.cross.css({left:this.x+"px",top:this.y+"px"})}}).extend(PageItem.Item),Class("PopUpVideoItem",{Package:"PageItem",create:function(t,i,e,o){this._super(t,i,e,o),this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.left=this.config.x*this.pageWidth,this.top=this.config.y*this.pageHeight,this.playCount=0,this.videoWidth=Math.min(574,windowWidth-4),this.videoHeight=Math.min(460,windowHeight-4),this.videoLeft=(windowWidth-this.videoWidth-4)/2,this.videoTop=(windowHeight-this.videoHeight-4)/2,this.background=$("<div style='width:100%;height:100%;z-index:1001;position:absolute;top:0;'></div>"),this.videoBac=$("<div style='width:100%;height:100%;background-color:rgba(0,0,0,0.5);'></div>"),this.config.imgURL=this.fixRelativePath(this.config.imgURL),bookConfig.useTheAliCloudChart&&this.config.imgURL&&(this.config.imgURL=this.getOssUrl(this.config.imgURL,this.width,this.height,"fixed")),this.config.videoURL=this.fixRelativePath(this.config.videoURL),this.videoImage=$("<div class='flip-action' style='border:1px solid #bbb;position: absolute;cursor:pointer;opacity:"+this.config.alpha+"; left:"+this.left+"px; top:"+this.top+"px; width:"+this.width+"px;height:"+this.height+"px;'></div>"),this.closeButton=$("<img style='width:20px;height:20px;z-index:1001;position:absolute;cursor:pointer;right:5px;top:"+(this.videoTop-18<0?0:this.videoTop-18)+"px;' src='"+uiBaseURL+"close.png'/>"),this.videoFrame=new Media($("<video src='"+this.config.videoURL+"' webkit-playsinline='true' playsinline='true' controls='controls' controlslist='nodownload'></video>"),"video"),this.videoFrame.setCss({position:"absolute",background:"#000",border:"2px solid #bbb",width:this.videoWidth+"px",height:this.videoHeight+"px",left:this.videoLeft+"px",top:this.videoTop+"px","object-fit":"contain","z-index":1e3}),this.config.imgURL?(this.imageDiv=$("<img src='"+this.config.imgURL+"' style='position: absolute;width:100%;height:100%'/>"),this.videoImage.append(this.imageDiv)):this.videoImage.css("background-color","rgba(255,255,255,1)"),this.playImg=$("<img src='"+uiBaseURL+"play.png' style='position:absolute;margin:auto;left:0px;top:0px;bottom:0px;right:0px;width:56px;height:56px'/>"),this.videoImage.append(this.playImg),this.setRotation(this.videoImage,this.config.rotation),this.background.append(this.videoFrame.$media),tmpContainer.append(this.background),this.background.append(this.videoBac),this.background.append(this.closeButton),t.append(this.videoImage),this.config.shadow&&this.addShadow(this.videoImage),this.hide(),this.initEvent()},parseConfig:function(t){var i={width:t.location.width,height:t.location.height,rotation:t.location.rotation,x:t.location.x,y:t.location.y,alpha:t.alpha,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,previewSrc:t.previewURL,moviePlayTriggerEvt:t.moviePlayTriggerEvt,movieStopTriggerEvt:t.movieStopTriggerEvt,replayWhenPlayEventTrigger:t.replayWhenPlayEventTrigger,shadow:t.shadow,animation:t.animation};return t.H5PlaybackNumber&&(i.H5PlaybackNumber=parseInt(t.H5PlaybackNumber)),t.H5Replay&&(i.H5Replay=parseBool(t.H5Replay)),t.componentData?(i.videoURL=t.componentData.videoURL,i.imgURL=t.componentData.imgURL||t.componentData.previewURL,i.pageViewed=parseBool(t.componentData.pageViewed)):(i.videoURL=t.url||t.videoURL||"",i.imgURL=t.previewURL||t.previewUrl||"",i.pageViewed="EVT_PageViewed"==t.moviePlayTriggerEvt),parseBool(t.shadow.hasDropShadow)&&(i.hasShadow=!0),i},initEvent:function(){this.videoFrame.$media.bind(_event._click,function(t){t.stopPropagation()}.bind(this)),this.background.bind("click touchstart",function(t){t.stopPropagation()}.bind(this)),this.background.bind(_event._down,function(t){t.stopPropagation()}.bind(this)),this.background.bind(_event._click,function(t){t.stopPropagation(),this.hide(),this.setCurrentTime(0),this.videoFrame.pause()}.bind(this)),this.videoImage.bind(_event._click,function(t){t.stopPropagation(),this.showOrHide()}.bind(this)),this.closeButton.bind("mouseenter",function(){this.closeButton.css({opacity:"0.7"})}.bind(this)),this.closeButton.bind("mouseleave",function(){this.closeButton.css({opacity:"1"})}.bind(this)),this.config.H5PlaybackNumber<0&&this.videoFrame.$media.attr("loop","loop"),0<this.config.H5PlaybackNumber&&this.videoFrame.$media.bind("ended",function(){this.playCount++,0<this.config.H5PlaybackNumber&&this.playCount<=this.config.H5PlaybackNumber&&this.videoFrame.play()}.bind(this));var t=(new Date).getTime();this.videoFrame.$media.bind("play",function(){t=(new Date).getTime(),BookEvent.trigger("playMedia",["play",BookInfo.getCurrentPageIndex(),this.videoFrame.$media[0].src,"Video",0]),this.playCount>this.config.H5PlaybackNumber&&(this.playCount=0)}.bind(this)),this.videoFrame.$media.bind("pause",function(){BookEvent.trigger("playMedia",["pause",BookInfo.getCurrentPageIndex(),this.videoFrame.$media[0].src,"Video",(new Date).getTime()-t])}.bind(this))},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.left=this.config.x*this.pageWidth,this.top=this.config.y*this.pageHeight,this.videoWidth=Math.min(480,windowWidth)-4,this.videoHeight=9*this.videoWidth/16,this.videoHeight=Math.min(this.videoHeight,windowHeight),this.videoLeft=(windowWidth-this.videoWidth)/2-2,this.videoTop=(windowHeight-this.videoHeight)/2-2,this.videoFrame.setCss({width:this.videoWidth+"px",height:this.videoHeight+"px",top:this.videoTop+"px",left:this.videoLeft+"px"}),this.videoImage.css({width:this.pageWidth*this.config.width+"px",height:this.pageHeight*this.config.height+"px"}),this.setPosition(this.left,this.top),this.setClosePos()},setPosition:function(t,i){this.videoImage.css({top:i+"px",left:t+"px"})},setClosePos:function(){var t=this.videoWidth+this.videoLeft+2,i=this.videoTop;(windowWidth-this.videoWidth)/2<this.closeButton.width()&&(i>this.closeButton.height()?(t=this.videoLeft+this.videoWidth+4-this.closeButton.width(),i=this.videoTop-this.closeButton.height()):i<this.closeButton.height()&&(t=this.videoLeft+this.videoWidth+4-this.closeButton.width(),i=this.videoTop)),this.closeButton.css({left:t+"px",top:i+"px"})},showAnimate:function(){var t;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),this.videoImage.css({animation:"flip 1s ease 0s 1 normal"}),this.videoImage.one(t,function(){this.videoImage.css({animation:""})}.bind(this)))},getPlayEvt:function(){return this.config.moviePlayTriggerEvt},getStopEvt:function(){return this.config.movieStopTriggerEvt},showOrHide:function(){!1===this.visible?this.popup():this.hide()},setCurrentTime:function(t){this.videoFrame.setCurrentTime(t)},hide:function(){this.visible=!1,this.background.css({display:"none"})},popup:function(){this.visible=!0,this.videoFrame.play(),this.background.css({display:"block"})},play:function(){this.videoFrame.play()},pause:function(){this.videoFrame.pause()},stop:function(){this.pause(),this.videoFrame.setCurrentTime(0)}}).extend("Item"),Class("LoopControlVideo",{Package:"PageItem",create:function(t,i,e,o){if(this.config=this.parseConfig(i),this.animateConfig(),this.playCount=0,this.parent=t,this.pageWidth=e,this.pageHeight=o,this.width=this.config.width*this.pageWidth,this.height=this.config.height*this.pageHeight,this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.cvsWidth=.54*this.width,this.cvsHeight=this.height,this.content=$("<div class='flip-action' style='overflow:hidden;'></div>"),this.control=$("<div class='video-circle-controls'></div>"),this.playBtn=$("<div class='video-circle-play'></div>"),this.volume=$("<div class='video-circle-volume-button'></div>"),this.fullscreen=$("<div class='video-circle-player-fullscreen' style='display:none'></div>"),this.loopControl=$("<canvas class='loopControl' width='80' height='80' style='cursor:pointer;position:absolute;margin:auto;top:0;left:0;bottom:0;right:0;'>64%</canvas>"),this.canvasDiv=$("<div></div>"),"string"==typeof this.config.previewSrc&&""!=this.config.previewSrc&&null!=this.config.previewSrc&&null!=this.config.previewSrc&&(this.config.previewSrc=this.fixRelativePath(this.config.previewSrc),bookConfig.useTheAliCloudChart)&&(this.config.previewSrc=this.getOssUrl(this.config.previewSrc,this.width,this.height,"fixed")),t=typeof this.config.src,i=this.config.src.substr(this.config.src.length-4,4).toLowerCase(),"string"==t){if(null==this.config.src||".mp4"!=i&&".flv"!=i&&".f4v"!=i)return}else if(this.config.src=={})return;this.config.src=this.fixRelativePath(this.config.src),this.video=new Media($('<video src="'+this.config.src+'" webkit-playsinline="true" playsinline="true" ></video>'),"video"),this.config.previewSrc&&this.video.$media.attr("poster",this.config.previewSrc),this.parent.append(this.content),this.content.append(this.video.$media),this.content.append(this.control),this.control.append(this.canvasDiv),this.canvasDiv.append(this.loopControl),this.control.append(this.playBtn),this.control.append(this.volume),this.control.append(this.time),this.control.append(this.fullscreen),this.canvasDiv.append(this.time),this.setCss(),this.config.shadow&&this.addShadow(this.content),parseBool(this.config.reflection)&&this.imageReflection(this.content,this.width,this.height),this.initEvent(),this.resizeCss()},parseConfig:function(t){var i={width:t.location.width,height:t.location.height,rotation:t.location.rotation,x:t.location.x,y:t.location.y,alpha:t.alpha,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,previewSrc:t.previewURL,moviePlayTriggerEvt:t.moviePlayTriggerEvt||t.PlayTriggerEvt,movieStopTriggerEvt:t.StopTriggerEvt,replayWhenPlayEventTrigger:t.replayWhenPlayEventTrigger,shadow:t.shadow,animation:t.animation};return t.H5PlaybackNumber&&(i.H5PlaybackNumber=parseInt(t.H5PlaybackNumber)),t.H5Replay&&(i.H5Replay=parseBool(t.H5Replay)),null!=t.videoURL&&(i.src=t.videoURL),null!=t.url&&(i.src=t.url),t.componentData&&(i.src=t.componentData.videoURL,i.previewSrc=t.componentData.imgURL),parseBool(t.shadow.hasDropShadow)&&(i.hasShadow=!0),i},onPlayClick:function(){return 0==this.video.$media[0].paused?this.pauseVideo():this.playVideo(),$.browser.device!=$.browser.DEVICE_PC&&function(){this.control.css("opacity","0")}.delay(this,5e3),!1},onResize:function(t,i){this.width=this.config.width*t,this.height=this.config.height*i,this.pageWidth=t,this.pageHeight=i,this.cvsWidth=this.cvsHeight=80<this.height?80:this.height,this.resizeCss()},resizeCss:function(){.54*this.width<=this.height&&(this.cvsWidth=this.cvsHeight=80<.54*this.width?80:.54*this.width),this.loopControl[0].width=this.cvsWidth,this.loopControl[0].height=this.cvsHeight,this.content.css({width:this.width+"px",height:this.height+"px"}),this.control.css({width:this.width+"px",height:this.height+"px"}),this.content.css({"background-size":this.width+"px "+this.height+"px"}),this.setPosition()},setPosition:function(){this.x=this.pageWidth*this.config.x,this.y=this.pageHeight*this.config.y,this.content.css({left:this.x+"px",top:this.y+"px"})},Loop:function(t){var i=this.loopControl[0].getContext("2d");i.clearRect(0,0,this.cvsWidth,this.cvsHeight),this.drawRound(i,this.cvsWidth/2,360,"#555555"),this.drawRound(i,this.cvsWidth/2,t,"#FFFFFF"),this.drawRound(i,this.cvsWidth/2*.85,360,"#000000")},drawRound:function(t,i,e,o){var s=Math.PI/180;t.beginPath(),t.moveTo(this.cvsWidth/2,this.cvsWidth/2),t.arc(this.cvsWidth/2,this.cvsWidth/2,i,0,e*s,!1),t.closePath(),t.fillStyle=o,t.fill()},muteVolume:function(){return 1==this.video.$media[0].muted?(this.video.$media[0].muted=!1,this.volume.removeClass("video-circle-volume-mute")):(this.video.$media[0].muted=!0,this.volume.addClass("video-circle-volume-mute")),!1},fullScreen:function(){return fullScreenApi.supportsFullScreen?fullScreenApi.isFullScreen()?fullScreenApi.cancelFullScreen():$.browser.safari?this.initSafariFullscreen(this.video.$media[0]):fullScreenApi.requestFullScreen(this.video.$media[0]):this.video.$media[0].webkitSupportsFullscreen?this.video.$media[0].webkitEnterFullscreen():alert(getLanguage("proFullScreenWarn","Current browser does not support full-screen,Please use Chrome for best results")),!1},initSafariFullscreen:function(e){this.appendDomToDocument('<video controlslist="nodownload" preload="auto" webkit-playsinline="true" playsinline="true" class="safari-fullscreen-video" controls></video>',"safari-fullscreen-video"),!window.playBackgroundSound&&window.currentMedia&&(window.currentMedia.pauseMedia(),window.currentMedia=null);var o=document.getElementsByClassName("safari-fullscreen-video");o[0].webkitRequestFullscreen(),o[0].src=e.src,o[0].load(),o[0].volume=e.volume,o[0].addEventListener("canplay",function t(i){o[0].play(),o[0].addEventListener("play",function t(i){o[0].currentTime=e.currentTime,o[0].removeEventListener(i.type,t)}),o[0].removeEventListener(i.type,t)}),this.safariFullscreenEvent(o[0],e)},appendDomToDocument:function(t,i){0===document.getElementsByClassName(i).length&&(t=document.createRange().createContextualFragment(t),document.body.appendChild(t))},safariFullscreenEvent:function(e,o){var s=!1;e.addEventListener("enterpictureinpicture",function t(i){s=!0,o.currentTime=e.currentTime,o.volume=e.volume,e.paused?o.play():o.pause(),e.removeEventListener(i.type,t)}),e.addEventListener("leavepictureinpicture",function t(i){s=!1,o.currentTime=e.currentTime,o.volume=e.volume,e.paused?o.pause():o.play(),e.removeEventListener(i.type,t),e.remove()}),document.addEventListener("webkitfullscreenchange",function t(i){!e||document.webkitIsFullScreen||s||(o.currentTime=e.currentTime,o.volume=e.volume,e.paused?o.pause():o.play(),e.remove(),document.removeEventListener(i.type,t))})},initEvent:function(){this.fullscreen.onTap(this.fullScreen.bind(this)),this.control.bind(fullScreenApi.fullScreenEventName,function(){fullScreenApi.isFullScreen()?this.fullscreen.addClass("video-circle-exit-fullscreen"):this.fullscreen.removeClass("video-circle-exit-fullscreen")}.bind(this)),this.video.$media.onTap(this.onPlayClick.bind(this)),this.playBtn.onTap(this.onPlayClick.bind(this)),this.volume.onTap(this.muteVolume.bind(this));var t=(new Date).getTime();this.video.$media.bind("play",function(){t=(new Date).getTime(),BookEvent.trigger("playMedia",["play",BookInfo.getCurrentPageIndex(),this.config.src,"Video",0]),this.fullscreen.css({display:"block"}),this.playBtn.removeClass("video-play-button").addClass("video-paused-button")}.bind(this)),this.video.$media.bind("pause",function(){BookEvent.trigger("playMedia",["pause",BookInfo.getCurrentPageIndex(),this.config.src,"Video",(new Date).getTime()-t]),this.fullscreen.css({display:"none"}),this.playBtn.removeClass("video-paused-button").addClass("video-play-button")}.bind(this)),this.video.$media.bind("end",function(){this.fullscreen.css({display:"none"}),this.playBtn.removeClass("video-paused-button").addClass("video-play-button")}.bind(this)),this.video.$media.bind("timeupdate",function(){this.totalTime=this.video.$media[0].duration,this.currentTime=this.video.$media[0].currentTime,this.Loop(this.currentTime/this.totalTime*360)}.bind(this)),this.control.on("mouseenter",function(){this.control.css("opacity","1")}.bind(this)),this.control.on("mouseleave",function(){this.control.css("opacity","0")}.bind(this)),$.browser.device!=$.browser.DEVICE_PC&&(this.control.bind(_event._down,function(){this.control.css("opacity","1")}.bind(this)),this.control.bind(_event._up,function(){!function(){this.control.css("opacity","0")}.delay(this,3e3)}.bind(this))),this.video.$media.bind("click mousedown mouseup mousewheel DOMMouseScroll",function(t){t.stopPropagation()}.bind(this)),this.initLoopEvent()},initLoopEvent:function(){this.config.H5PlaybackNumber<0&&this.video.$media.attr("loop","loop"),0<this.config.H5PlaybackNumber&&this.video.$media.bind("ended",function(){this.playCount++,0<this.config.H5PlaybackNumber&&this.playCount<=this.config.H5PlaybackNumber&&this.playVideo()}.bind(this)),this.video.$media.bind("play",function(){this.playCount>this.config.H5PlaybackNumber&&(this.playCount=0)}.bind(this))},setCss:function(){this.canvasDiv.css({position:"absolute",width:"54%",height:"100%",margin:"auto",top:"0",bottom:"0",left:"0",right:"0",transform:"rotate(270deg)","-webkit-transform":"rotate(270deg)","-ms-transform":"rotate(270deg)","-o-transform":"rotate(270deg)","-moz-transform":"rotate(270deg)"}),this.control.css({position:"absolute",width:this.width+"px",opacity:"1",height:this.height+"px"}),this.content.css({position:"absolute",left:this.x+"px",top:this.y+"px",width:this.width+"px",height:this.height+"px",opacity:this.config.alpha,"background-color":"black"}),this.setRotation(this.content,this.config.rotation),this.video.setCss({position:"absolute","z-index":1,left:"0px",top:"0px",width:"100%",height:"100%"})},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.content.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.content.one(t,function(){this.content.css({animation:""})}.bind(this)))},backTime:function(){this.playCount=0,this.video&&this.video.setCurrentTime(0)},isReplay:function(){return this.config.H5Replay},getPlayEvt:function(){return this.config.moviePlayTriggerEvt},getStopEvt:function(){return this.config.movieStopTriggerEvt},playVideo:function(){this.video&&(this.video.play(),this.playBtn.removeClass("video-play-button").addClass("video-paused-button"))},pauseVideo:function(){this.video&&(this.video.pause(),this.playBtn.removeClass("video-paused-button").addClass("video-play-button"))},stopVideo:function(){player&&(this.pauseVideo(),this.video.setCurrentTime(0))}}).extend("Item"),Class("RollerText",{Package:"PageItem",create:function(t,i,e,o,s){this._super(t,i,e,o),this.animateConfig(),this.bgColor=Color(this.config.bgcolor).toString(),this.originWidth=this.config.pageW,this.originHeight=this.config.pageH,this.id="text"+s,this.initText(),this.initEvents(),parseBool(this.config.reflection)&&this.imageReflection(this.rollerText)},initText:function(){this.textli="",this.container=$("<div id="+this.id+" content='width=device-width' class='textContainer' style='position:absolute;'></div>"),this.rollerText=$("<div content='width=device-width'></div>"),this.enterText=$("<div class='flip-action' content='width=device-width'></div>"),this.textDown=$("<img/>"),this.textUp=$("<img/>"),this.alignCss="","right"==this.config.languageLayout&&(this.alignCss={"text-align":"right",direction:"rtl"}),this.config.textStr||(this.config.textStr=this.config.formats.defaultFormat.htmlText);var t=new TextFormatAnalyzer(this.config.textStr);this.fontSize=t.getMinFontSize(),this.text=t.getHTML(this.alignCss),this.adjustFontSize=$.browser.chrome?Math.max(1,12/this.fontSize):1,this.width=this.config.width*this.originWidth*this.adjustFontSize,this.height=this.config.height*this.originHeight*this.adjustFontSize,this.scrollWidth=40<=.05*this.width?40:.05*this.width,!0===parseBool(this.config.fillBg)?this.rollerText.css({"background-color":Color(this.config.bgcolor).rgba(this.config.bgalpha)}):this.rollerText.css({background:""}),this.addShadow(this.rollerText),!0===parseBool(this.config.selectable)&&this.rollerText.css({"-webkit-user-select":"text","-moz-user-select":"text","-ms-user-select":"text","user-select":"text"}),this.rollerText.css({"-webkit-text-size-adjust":"100%",display:"inline-block","word-wrap":"break-word",overflow:"hidden",position:"absolute",width:this.width+"px",height:this.height+"px"}),this.enterText.css({"-webkit-text-size-adjust":"100%",display:"inline-block",position:"absolute",width:this.width-this.scrollWidth+"px",left:"0",top:"0"}),this.rollerText.css({opacity:this.config.alpha}),this.enterText.append(this.text),this.rollerText.append(this.enterText),this.container.append(this.rollerText),this.parent.append(this.container),this.enterText.height()>this.height&&this.initScroll()},initScroll:function(){this.scroll=$("<div class='flip-action'></div>"),this.scrollBar=$("<div class='flip-action'></div>"),this.topPoint=$("<p class='flip-action'></p>"),this.bottomPoint=$("<p class='flip-action'></p>"),this.topIcon=$("<span></span>"),this.bottomIcon=$("<span></span>"),this.topPoint.append(this.topIcon),this.bottomPoint.append(this.bottomIcon),this.scroll.append(this.scrollBar).append(this.topPoint).append(this.bottomPoint),this.rollerText.append(this.scroll),this.initScrollCss(),this.initScrollEvent()},initScrollEvent:function(){for(var t=[this.enterText,this.scroll],i=0;i<t.length;i++)t[i].bind("mousewheel DOMMouseScroll",function(t){t.stopPropagation(),this.distance||(this.distance=this.enterText.height()-this.height+this.scrollWidth/2),this.barHeight||(this.barHeight=(this.height-2*this.scrollWidth)*(this.height-2*this.scrollWidth)/this.enterText.height()),this.barDistance||(this.barDistance=this.height-this.barHeight-this.scrollWidth),0<(t=t.originalEvent.wheelDelta&&(0<t.originalEvent.wheelDelta?1:-1)||t.originalEvent.detail&&(0<t.originalEvent.detail?-1:1))?this.scrollTop():t<0&&this.scrollBottom()}.bind(this));for(this.parent.bind("mouseup",function(t){this.focus=!1,this.starty=void 0}.bind(this)),this.enterText.bind("mouseup",function(t){this.focus=!1,this.starty=void 0}.bind(this)),this.rollerText.bind("mouseup",function(t){this.focus=!1,this.starty=void 0}.bind(this)),this.scroll.bind("mouseup mousewheel",function(t){this.focus=!1}.bind(this)),isTouchDevice()&&(this.enterText.bind(_event._down,function(t){this.touchText=this.focus=!0}.bind(this)),this.enterText.bind(_event._up,function(t){this.touchText=this.focus=!1,this.starty=void 0}.bind(this))),this.scrollBar.bind(_event._down,function(t){t.stopPropagation(),t.preventDefault(),this.starty=t.pageY,this.focus=!0}.bind(this)),this.parent.bind(_event._up,function(t){this.focus=!1,this.starty=void 0}.bind(this)),this.scrollBar.bind(_event._up,function(t){t.stopPropagation(),t.preventDefault(),this.focus=!1,this.starty=void 0}.bind(this)),t=[this.scroll,this.rollerText,this.parent],isTouchDevice()&&(t=[this.scroll,this.enterText]),i=0;i<t.length;i++)t[i].bind(_event._move,function(t){var i;t.stopPropagation(),this.focus&&(pageY=(isPhone()||isPad()?t.originalEvent.targetTouches[0]:t).pageY,t=-(i=this.touchText?-pageY+this.starty:pageY-this.starty)/this.barDistance,i=this.scrollBar.top()+i/this.fScale,t=this.enterText.top()+this.distance*t*1.1/this.fScale,(i=i<=this.scrollWidth?this.scrollWidth:i)>=this.barDistance&&(i=this.barDistance),(t=0<=t?0:t)<=-this.distance&&(t=-this.distance),this.scrollBar.css({top:i+"px"}),this.enterText.css({top:t+"px"}),this.starty=pageY)}.bind(this));this.bottomPoint.bind(_event._up,function(t){t.stopPropagation(),this.focus=this.bottomDown=!1,this.bottomDownTimer&&(clearInterval(this.bottomDownTimer),this.bottomDownTimer=null)}.bind(this)),this.bottomPoint.bind(_event._down,function(t){t.stopPropagation(),this.bottomDown=this.focus=!0,this.scrollBottom(),this.bottomDown&&(this.bottomDownTimer=setInterval(this.scrollBottom.bind(this),100))}.bind(this)),this.topPoint.bind(_event._down,function(t){t.stopPropagation(),this.focus=this.topDown=!0,this.scrollTop(),this.topDown&&(this.topDownTimer=setInterval(this.scrollTop.bind(this),100))}.bind(this)),this.topPoint.bind(_event._up,function(t){t.stopPropagation(),this.focus=this.topDown=!1,this.topDownTimer&&(clearInterval(this.topDownTimer),this.topDownTimer=null)}.bind(this))},scrollBottom:function(){this.textTop=this.enterText.top(),this.barTop=this.scrollBar.top(),this.textTop-=.1*this.distance,this.barTop+=.1*this.barDistance,this.textTop<=-this.distance&&(this.textTop=-this.distance),this.barTop>=this.barDistance&&(this.barTop=this.barDistance),this.enterText.css({top:this.textTop+"px"}),this.scrollBar.css({top:this.barTop+"px"})},scrollTop:function(){this.textTop=this.enterText.top(),this.barTop=this.scrollBar.top(),this.textTop+=.1*this.distance,this.barTop-=.1*this.barDistance,0<=this.textTop&&(this.textTop=0),this.barTop<=this.scrollWidth&&(this.barTop=this.scrollWidth),this.enterText.css({top:this.textTop+"px"}),this.scrollBar.css({top:this.barTop+"px"})},initScrollCss:function(){this.scroll.css({position:"absolute",width:this.scrollWidth+"px",right:0,top:"0",height:this.height+"px",background:"#F1F1F1"}),this.scrollBar.css({width:.7*this.scrollWidth+"px",background:"#AAAAAB",height:this.barHeight,cursor:"pointer",left:.15*this.scrollWidth+"px",top:this.scrollWidth+"px",position:"absolute"}),this.topPoint.css({cursor:"pointer",width:this.scrollWidth+"px",height:this.scrollWidth+"px",background:"#F1F1F1",position:"absolute",top:0}),this.bottomPoint.css({cursor:"pointer",width:this.scrollWidth+"px",height:this.scrollWidth+"px",background:"#F1F1F1",position:"absolute",bottom:0}),this.topIcon.css({position:"absolute",left:.18*this.scrollWidth+"px",top:.3*this.scrollWidth+"px","border-left":.3*this.scrollWidth+"px solid transparent","border-right":.3*this.scrollWidth+"px solid transparent","border-bottom":.3*this.scrollWidth+"px solid #A3A3A3"}),this.bottomIcon.css({position:"absolute",left:.18*this.scrollWidth+"px",bottom:.3*this.scrollWidth+"px","border-left":.3*this.scrollWidth+"px solid transparent","border-right":.3*this.scrollWidth+"px solid transparent","border-top":.3*this.scrollWidth+"px solid #A3A3A3"}),this.setBarType()},parseConfig:function(t){return{x:t.location.x,y:t.location.y,width:t.location.width,height:t.location.height,reflection:t.location.reflection,reflectionType:t.location.reflectionType,reflectionAlpha:t.location.reflectionAlpha,alpha:t.alpha,rotation:t.location.rotation,textStr:t.textStr||t.formats.defaultFormat.htmlText,selectable:t.selectable,highlightsBool:t.highlightsBool,highlightsURL:t.highlightsURL,highlightsLabel:t.highlightsLabel,pageH:t.formats.defaultFormat.pageH,pageW:t.formats.defaultFormat.pageW,barType:t.barType,bgalpha:t.background.alpha,fillBg:t.background.fillBg,bgcolor:t.background.color,action:t.action,hasShadow:parseBool(t.shadow.hasDropShadow),shadow:t.shadow,languageLayout:t.languageLayout,animation:t.animation}},initEvents:function(){function t(t){t.stopPropagation&&t.stopPropagation()}this.textDown.click(function(){var t=this.text.scrollTop();this.text.animate({scrollTop:t+50},100)}.bind(this)),this.textUp.click(function(){var t=this.text.scrollTop();this.text.animate({scrollTop:t-50},100)}.bind(this));var i=$.browser.mozilla?"DOMMouseScroll":"mousewheel";this.enterText.bind(i,t),this.rollerText.bind(i,t),this.rollerText.bind(_event._down,t),this.rollerText.bind(_event._up,t),this.addActionEvent(this.container),this.container.onTap(function(t){BookEvent.trigger("clickPageItem",[BookInfo.getCurrentPageIndex(),"RollerText",this.config.x,this.config.y,this.config.width,this.config.height])}.bind(this))},setBarType:function(){this.scroll.css({background:"transparent"}),this.scrollBar.css({display:"none"}),this.topPoint.css({background:"#ddd",position:"absolute",bottom:"5px",right:this.scrollWidth+2+"px",top:"auto"}),this.bottomPoint.css({background:"#ddd",position:"absolute",bottom:"5px"})},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i,this.fScale=this.pageHeight/this.originHeight/this.adjustFontSize,this.setPosition(),this.resizeText(this.pageHeight),this.enterText.height()>this.height&&(this.scroll||this.initScroll(),this.distance=this.enterText.height()-this.height+this.scrollWidth/2,this.barHeight=(this.height-2*this.scrollWidth)*(this.height-2*this.scrollWidth)/this.enterText.height(),this.barDistance=this.height-this.barHeight-this.scrollWidth,this.initScrollCss(),this.barTop=-this.enterText.top()/this.distance*this.barDistance,this.barTop<=this.scrollWidth&&(this.barTop=this.scrollWidth),this.barTop>=this.barDistance&&(this.barTop=this.barDistance),this.scrollBar.css({top:this.barTop+"px"}))},setPosition:function(){this.x=this.config.x*this.pageWidth,this.y=this.config.y*this.pageHeight,this.container.css({left:this.x+"px",top:this.y+"px"})},showAnimate:function(){var t,i;this.config.animation&&this.config.animation.name&&(t=getAnimationEnd(),i=this.config.animation,this.container.css({animation:i.name+" "+i.duration+"s "+i.timeFun+" "+i.delay+"s "+i.count+" "+i.direction}),this.container.one(t,function(){this.container.css({animation:""})}.bind(this)))},resizeText:function(t){this.fScale=t=t/this.originHeight/this.adjustFontSize,this.rollerText.css({"-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","transform-origin":"0% 0%","-webkit-transform":"scale("+t+")","-moz-transform":"scale("+t+")","-ms-transform":"scale("+t+")","-o-transform":"scale("+t+")",transform:"scale("+t+")"}),this.container.css({width:this.width*t,height:this.height*t})}}).extend(PageItem.Item),{AnnoType:{ANNO_LINK:"com.mobiano.flipbook.pageeditor.TAnnoLink",ANNO_YOUTUBE:"com.mobiano.flipbook.pageeditor.TAnnoYouTube",ANNO_YOUTUBE1:"com.mobiano.flipbook.pageeditor::TAnnoYoutubePlayer",ANNO_YOUTUBE2:"com.mobiano.flipbook.pageeditor.player::TAnnoYoutubePlayer02",ANNO_YOUTUBE3:"com.mobiano.flipbook.pageeditor.player::TAnnoYoutubePlayer03",ANNO_YOUTUBE4:"com.mobiano.flipbook.pageeditor.player::TAnnoYoutubePlayer04",ANNO_YOUTUBE5:"com.mobiano.flipbook.pageeditor.player::TAnnoYoutubePlayer05",ANNO_YOUTUBE6:"com.mobiano.flipbook.pageeditor.player::TAnnoYoutubePlayer06",ANNO_YOUTUBE7:"com.mobiano.flipbook.pageeditor.player::TAnnoYoutubePlayer07",ANNO_YOUTUBE8:"com.mobiano.flipbook.pageeditor.player::TAnnoYoutubePlayer08",ANNO_VIDEO1:"com.mobiano.flipbook.pageeditor::TAnnoVideoPlayer",ANNO_VIDEO2:"com.mobiano.flipbook.pageeditor.player::TAnnoSimpleVideoPlayer",ANNO_AUDIO1:"com.mobiano.flipbook.sound.TAnnoAdvancedSound",ANNO_AUDIO2:"com.mobiano.flipbook.sound.TAnnoWavemusicPlayer",ANNO_AUDIO3:"com.mobiano.flipbook.pageeditor::TAnnoPlugIn",ANNO_AUDIO4:"com.mobiano.flipbook.sound.TAnnoBackgroundSound",ANNO_AUDIO5:"",ANNO_AUDIO6:"",ANNO_AUDIO7:"",ANNO_AUDIO8:"",ANNO_AUDIO9:"",ANNO_VIMEO:"com.mobiano.flipbook.pageeditor.vimeoPlayer::TAnnoVimeoPlayer",ANNO_VIMEO2:"com.mobiano.flipbook.pageeditor.vimeoPlayer.TAnnoVimeoPopUpPlayer",ANNOHTML_VIDEO:"com.mobiano.flipbook.pageeditor::TAnnoHTMLMovie",ANNO_VIDEO:"com.mobiano.flipbook.pageeditor.TAnnoMovie",ANNO_AUDIO:"com.mobiano.flipbook.pageeditor.TAnnoSound",ANNO_IMAGE:"com.mobiano.flipbook.pageeditor.TAnnoImage",ANNO_BUTTON:"com.mobiano.flipbook.pageeditor.TAnnoButton",ANNO_DYNAMICBUTTON:"com.mobiano.flipbook.pageeditor::TAnnoDynamicButton",ANNO_NEW_AUDIO:"com.mobiano.flipbook.sound.TAnnoSound",ANNO_LINE:"com.mobiano.flipbook.pageeditor.shapes::TAnnoLine",ANNO_ARROW:"com.mobiano.flipbook.pageeditor.shapes::TAnnoArrow",ANNO_ROUND:"com.mobiano.flipbook.pageeditor.shapes::TAnnoEllipse",ANNO_RECTANGLE:"com.mobiano.flipbook.pageeditor.shapes::TAnnoRectangle",ANNO_TRIANGLE:"com.mobiano.flipbook.pageeditor.shapes::TAnnoTriangle",ANNO_PRISMATIC:"com.mobiano.flipbook.pageeditor.shapes::TAnnoPrismatic",ANNO_PARALLELOGRAM:"com.mobiano.flipbook.pageeditor.shapes::TAnnoParallelogram",ANNO_PENTAGON:"com.mobiano.flipbook.pageeditor.shapes::TAnnoPentagon",ANNO_HEXAGON:"com.mobiano.flipbook.pageeditor.shapes::TAnnoHexagon",ANNO_DOVETAILED:"com.mobiano.flipbook.pageeditor.shapes::TAnnoDovetailed",ANNO_FLOWCHART:"com.mobiano.flipbook.pageeditor.shapes::TAnnoFlowChart",ANNO_CYLINDER:"com.mobiano.flipbook.pageeditor.shapes::TAnnoCylinder",ANNO_TRAPEZOID:"com.mobiano.flipbook.pageeditor.shapes::TAnnoTrapezoid",ANNO_RIGHTARROW:"com.mobiano.flipbook.pageeditor.shapes::TAnnoRightArrow",ANNO_VIRTUALEND:"com.mobiano.flipbook.pageeditor.shapes::TAnnoVirtualEnd",ANNO_CROSS:"com.mobiano.flipbook.pageeditor.shapes::TAnnoCross",ANNO_AREA:"com.mobiano.flipbook.pageeditor::TAnnoHighLightArea",ANNO_FLASHSHOW:"com.mobiano.flipbook.pageeditor.TAnnoSWF1",ANNO_PRINT:"com.mobiano.flipbook.pageeditor::TAnnoPrint",ANNO_ZOOM:"com.mobiano.flipbook.pageeditor::TAnnoZoom",ANNO_TEXT:"com.mobiano.flipbook.pageeditor::TAnnoText",ANNO_ATEXT:"com.mobiano.flipbook.pageeditor::TAnnoDynamicText",ANNO_ROLLERTEXT:"com.mobiano.flipbook.pageeditor::TAnnoRollerText",ANNO_STARTEXT:"com.mobiano.flipbook.pageeditor::TAnnoStarwarsText",ANNO_TEXTANIM:"com.mobiano.flipbook.pageeditor.textAnim::TAnnoTextAnim",ANNO_EFFECTTEXT:"com.mobiano.flipbook.pageeditor.TAnnoEffectText",ANNO_CALLOUT:"com.mobiano.flipbook.pageeditor.shapes::TAnnoCallout",ANNO_ADVANCEDSOUND:"com.mobiano.flipbook.pageeditor::TAnnoAdvancedSound1",ANNO_ALPHATRANSITIONBANNER:"com.mobiano.flipbook.pageeditor.TAnnoAlphaTransitionBanner",ANNO_EMBEDDEDSLIDESHOW:"com.mobiano.flipbook.pageeditor.TAnnoEmbeddedSlideshow",ANNO_ATIMAGE:"com.mobiano.flipbook.pageeditor.TAnnoClipart",ANNO_BANNER:"com.mobiano.flipbook.pageeditor::TAnnoBanner",ANNO_CAROUSEL:"com.mobiano.flipbook.pageeditor.TAnnoCarouselViewer",ANNO_DYNSHOW:"com.mobiano.flipbook.pageeditor::TAnnoDynamicShowPhoto",ANNO_FLIPJUMP:"com.mobiano.flipbook.pageeditor.TAnnoDynamicTurnPhoto",ANNO_PLUGIN:"com.mobiano.flipbook.pageeditor::TAnnoPlugIn",ANNO_SWF:"com.mobiano.flipbook.pageeditor.TAnnoSWF",ANNO_CART:"com.mobiano.flipbook.pageeditor.TAnnoCart",ANNO_HOTSPOTS:"com.mobiano.flipbook.pageeditor.TAnnoHotSpots"},PlayEvt:{EVT_PLAY:"EVT_PageViewed",EVT_STOP:"EVT_PageOffView"},TriggerEventType:{MouseDown:"mouseDown",MouseOver:"mouseOver",MouseOut:"mouseOut",MouseUp:"mouseUp",MouseMove:"mouseMove",MouseLeave:"mouseLeave"},MouseOverType:{Zoom:"1",AddBorder:"2"},ActionType:{GOTO_PAGE:"com.mobiano.flipbook.pageeditor.TAnnoActionGotoPage",OPEN_URL:"com.mobiano.flipbook.pageeditor.TAnnoActionOpenURL",OPEN_WINDOW:"com.mobiano.flipbook.pageeditor.TAnnoActionOpenWindow",SLIDE_SHOW:"com.mobiano.flipbook.pageeditor.TAnnoActionPhotoSlide",ACTION_JS:"com.mobiano.flipbook.pageeditor.TAnnoActionJavascript",PLAY_AUDIO:"com.mobiano.flipbook.pageeditor.TAnnoActionPlayAudio",WINDOW_HTML:"com.mobiano.flipbook.pageeditor.TAnnoActionWindowHtml",PLAY_VIDEO:"com.mobiano.flipbook.pageeditor.TAnnoActionPlayVideo",SHOW_INFORMATION:"com.mobiano.flipbook.pageeditor.TAnnoActionShowInformation",QUIZ:"com.mobiano.flipbook.pageeditor.TAnnoActionQuiz",PLAYVIDEO:"com.mobiano.flipbook.Action.TAnnoActionPlayVideo",SWF_SLIDE:"com.mobiano.flipbook.pageeditor.TAnnoActionSwfSlide",SHOW_ARTICLE:"com.mobiano.flipbook.pageeditor.TAnnoActionShowArticle"},WindowType:{OPEN_YOUTUBE:"TYPE_YOUTUBE",OPEN_VIMEO:"TYPE_VIMEO",OPEN_DAILYMOTION:"TYPE_DAILYMOTION",OPEN_TYPE_WISTIA:"TYPE_WISTIA",OPEN_TYPE_YOUKU:"TYPE_YOUKU",OPEN_TYPE_QQ:"TYPE_QQ",OPEN_VIDEO:"0",OPEN_FLASH:"1",OPEN_SHOW_TEXT:"4"},PlayerType:{SKIN_1:"Skin 1",SKIN_2:"Skin 2",SKIN_3:"Skin 3"},AudioPlayer:{GLASS:"GlassAudioPlayer",SIMPLE:"SimpleAudioPlayer",STANDARD1:"StandardAudioPlayer",STANDARD2:"StandardAudioPlayer02",STANDARD3:"StandardAudioPlayer03",STANDARD4:"StandardAudioPlayer04",STANDARD5:"StandardAudioPlayer05",STANDARD6:"StandardAudioPlayer06"},Effect:{FADEIN:"com.mobiano.flipbook.pageeditor.effect::TFadeInEffect",CUTTING:"com.mobiano.flipbook.pageeditor.effect::TCuttingEffect",FLY_IN:"com.mobiano.flipbook.pageeditor.effect::TFlyEffect",INDENTATION:"com.mobiano.flipbook.pageeditor.effect::TIndentationEffect"},HighLight:{GREENBOXSTOP:"Animated Green Box Stop",GREENBOX:"Animated Green Box",ORIGINCIRCLE:"Animated Orange Circle",REDBOX:"Animated Red Box",REDCIRCLE:"Animated Red Circle",BLUESQUARE:"blue_squarelight",GREENCIRCLEROTATE:"Green Circle Rotating",GREENLINELTOR:"Green Line Left to Right",GREENLINERTOL:"Green Line Right to Left",GREENSQUARE:"green_squarelight",LINESQUARE:"lines_square",ORANGEHIGHLIGHT:"Orange highlighter",ORANGECIRCLELIGHT:"orange_circlelight",PUSHSQUARE:"push_square",REDHIGHLIGHT:"Red highlighter",REDBOXBLINK:"Red Box Blink",REDLINEBLINK:"Red Line Blink",REDLINELTOR:"Red Line Left to Right",REDLINERTOL:"Red Line right to left",SPINSQUARE:"spin_square"}}),DockMenu=(Class("PageItemFactory",{createItem:function(t,i,e,o,s,n){var a,h,r;return i&&(a=i.annotype,h=null,this.browserSupport(a))?(n=s+"-"+n,a==PageEditor.AnnoType.ANNO_LINK&&(h=new PageItem.Link(t,i,e,o)),a!=PageEditor.AnnoType.ANNO_YOUTUBE&&a!=PageEditor.AnnoType.ANNO_YOUTUBE1&&a!=PageEditor.AnnoType.ANNO_YOUTUBE2&&a!=PageEditor.AnnoType.ANNO_YOUTUBE3&&a!=PageEditor.AnnoType.ANNO_YOUTUBE4&&a!=PageEditor.AnnoType.ANNO_YOUTUBE6&&a!=PageEditor.AnnoType.ANNO_YOUTUBE7&&a!=PageEditor.AnnoType.ANNO_YOUTUBE8||(h=isPhone()||isPad()?new PageItem.PopUpVimeo(t,i,e,o,"youtube"):new PageItem.Youtube(t,i,e,o)),a==PageEditor.AnnoType.ANNO_YOUTUBE5&&(h=new PageItem.PopUpVimeo(t,i,e,o,"youtube")),a==PageEditor.AnnoType.ANNO_VIMEO&&(h=isPhone()||isPad()?new PageItem.PopUpVimeo(t,i,e,o,"vimeo"):new PageItem.Vimeo(t,i,e,o)),a==PageEditor.AnnoType.ANNO_VIMEO2&&(h=new PageItem.PopUpVimeo(t,i,e,o,"vimeo")),a!=PageEditor.AnnoType.ANNO_AUDIO&&a!=PageEditor.AnnoType.ANNO_NEW_AUDIO||i.playerType!=PageEditor.PlayerType.SKIN_3||(h=new PageItem.Audio(t,i,e,o,"default")),a!=PageEditor.AnnoType.ANNO_AUDIO&&a!=PageEditor.AnnoType.ANNO_NEW_AUDIO||i.playerType!=PageEditor.PlayerType.SKIN_1||(h=new PageItem.Audio(t,i,e,o,"skin1")),a!=PageEditor.AnnoType.ANNO_AUDIO&&a!=PageEditor.AnnoType.ANNO_NEW_AUDIO||i.playerType!=PageEditor.PlayerType.SKIN_2||(h=new PageItem.Audio(t,i,e,o,"skin2")),a==PageEditor.AnnoType.ANNO_AUDIO1&&(h=new PageItem.Audio(t,i,e,o,"advanced")),a==PageEditor.AnnoType.ANNO_AUDIO2&&(h=new PageItem.Audio(t,i,e,o,"wave")),a==PageEditor.AnnoType.ANNO_AUDIO4&&(h=new PageItem.Audio(t,i,e,o,"background")),a==PageEditor.AnnoType.ANNO_PLUGIN&&i.className in audioThemeNames&&(h=void 0,(r=i.className)==PageEditor.AudioPlayer.GLASS&&(h="glass"),r==PageEditor.AudioPlayer.SIMPLE&&(h="simple"),r==PageEditor.AudioPlayer.STANDARD1&&(h="enjoy"),r==PageEditor.AudioPlayer.STANDARD2&&(h="decent"),r==PageEditor.AudioPlayer.STANDARD3&&(h="tree"),r==PageEditor.AudioPlayer.STANDARD4&&(h="christmas"),r==PageEditor.AudioPlayer.STANDARD5&&(h="turnonoff"),r==PageEditor.AudioPlayer.STANDARD6&&(h="fade"),h=new PageItem.Audio(t,i,e,o,h)),a==PageEditor.AnnoType.ANNO_IMAGE&&(i.imgOriginalProportions||(i.imgOriginalProportions="false"),h=new PageItem.Image(t,i,e,o)),a==PageEditor.AnnoType.ANNO_BUTTON&&(h=new PageItem.Button(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_DYNAMICBUTTON&&(h=new PageItem.DynamicButton(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_FLASHSHOW&&(h=new PageItem.FlashShow(t,i,e,o)),a==PageEditor.AnnoType.ANNO_HOTSPOTS&&(h=new PageItem.HotSpots(t,i,e,o)),a==PageEditor.AnnoType.ANNO_LINE&&(h=new PageItem.Line(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_ARROW&&(h=new PageItem.Arrow(t,i,e,o)),a==PageEditor.AnnoType.ANNO_TRIANGLE&&(h=new PageItem.Triangle(t,i,e,o)),a==PageEditor.AnnoType.ANNO_PRISMATIC&&(h=new PageItem.Prismatic(t,i,e,o)),a==PageEditor.AnnoType.ANNO_CROSS&&(h=new PageItem.Cross(t,i,e,o)),a==PageEditor.AnnoType.ANNO_VIRTUALEND&&(h=new PageItem.VirtualEnd(t,i,e,o)),a==PageEditor.AnnoType.ANNO_RIGHTARROW&&(h=new PageItem.RightArrow(t,i,e,o)),a==PageEditor.AnnoType.ANNO_TRAPEZOID&&(h=new PageItem.Trapezoid(t,i,e,o)),a==PageEditor.AnnoType.ANNO_DOVETAILED&&(h=new PageItem.Dovetailed(t,i,e,o)),a==PageEditor.AnnoType.ANNO_FLOWCHART&&(h=new PageItem.FlowChart(t,i,e,o)),a==PageEditor.AnnoType.ANNO_CYLINDER&&(h=new PageItem.Cylinder(t,i,e,o)),a==PageEditor.AnnoType.ANNO_PENTAGON&&(h=new PageItem.Pentagon(t,i,e,o)),a==PageEditor.AnnoType.ANNO_HEXAGON&&(h=new PageItem.Hexagon(t,i,e,o)),a==PageEditor.AnnoType.ANNO_PARALLELOGRAM&&(h=new PageItem.Parallelogram(t,i,e,o)),a==PageEditor.AnnoType.ANNO_ROUND&&(h=new PageItem.Round(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_RECTANGLE&&(h=new PageItem.Rectangle(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_TEXT&&(h=new PageItem.Text(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_ROLLERTEXT&&(h=new PageItem.RollerText(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_AREA&&(h=new PageItem.Area(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_CALLOUT&&(h=new PageItem.Callout(t,i,e,o)),a==PageEditor.AnnoType.ANNO_ATEXT&&(h=new PageItem.AText(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_STARTEXT&&(h=new PageItem.StarText(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_TEXTANIM&&(h=new PageItem.TextAmin(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_ATIMAGE&&(h=new PageItem.PngImage(t,i,e,o)),a==PageEditor.AnnoType.ANNO_EFFECTTEXT&&(h=new PageItem.EffectText(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_ADVANCEDSOUND&&(h=new PageItem.Sound(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_CAROUSEL&&(h=new PageItem.Carousel(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_DYNSHOW&&(h=new PageItem.DynamicShow(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_BANNER&&(h=new PageItem.Banner(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_FLIPJUMP&&(h=new PageItem.FlipJump(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_PLUGIN&&i.className==PLUGIN_MAGNETICS&&(h=new PageItem.FocusJump(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_PLUGIN&&i.className==PLUGIN_ROTATE3D&&(h=new PageItem.Rotate3D(t,i,e,o,n)),a==PageEditor.AnnoType.ANNO_VIDEO1&&(h=isPhone()||isPad()?new PageItem.PhoneVideo(t,i,e,o):new PageItem.Video(t,i,e,o,"smallblack")),a==PageEditor.AnnoType.ANNO_VIDEO2&&(h=new(isPhone()||isPad()?PageItem.PhoneVideo:PageItem.LoopControlVideo)(t,i,e,o)),a==PageEditor.AnnoType.ANNO_PLUGIN&&i.className==PLUGIN_VIDEO1&&(h=isPhone()||isPad()?new PageItem.PhoneVideo(t,i,e,o):new PageItem.Video(t,i,e,o,"classic")),a==PageEditor.AnnoType.ANNO_PLUGIN&&i.className==PLUGIN_VIDEO2&&(h=new(isPhone()||isPad()?PageItem.PhoneVideo:PageItem.PopUpVideoItem)(t,i,e,o)),a==PageEditor.AnnoType.ANNO_VIDEO&&(h=isPhone()||isPad()?new PageItem.PhoneVideo(t,i,e,o):new PageItem.Video(t,i,e,o,"round")),a==PageEditor.AnnoType.ANNOHTML_VIDEO&&(h=new(isPhone()||isPad()?PageItem.PhoneHtmlVideo:PageItem.HtmlVideo)(t,i,e,o)),a==PageEditor.AnnoType.ANNO_ALPHATRANSITIONBANNER&&(h=new PageItem.AlphaTransitionBanner(t,i,e,o)),a==PageEditor.AnnoType.ANNO_EMBEDDEDSLIDESHOW&&(h=new PageItem.EmbeddedSlideshow(t,i,e,o)),a==PageEditor.AnnoType.ANNO_PRINT&&(h=new PageItem.Print(t,i,e,o,s)),a==PageEditor.AnnoType.ANNO_ZOOM&&(global.popZoomBox||(global.popZoomBox=new PageItem.WindowZoomBox(tmpContainer)),h=new PageItem.WindowZoom(t,i,e,o,s)),a==PageEditor.AnnoType.ANNO_CART?new PageItem.ShoppingCart(t,i,e,o):h):null},browserSupport:function(t){return!isBelowIE9()||t==PageEditor.AnnoType.ANNO_LINK||t==PageEditor.AnnoType.ANNO_IMAGE||t==PageEditor.AnnoType.ANNO_TEXT||t==PageEditor.AnnoType.ANNO_ALPHATRANSITIONBANNER}}),Class("PageEditorParser",{create:function(t,i,e){this.container=t,this.containerWidth=i,this.containerHeight=e},createItemsForPage:function(t){var i=new ObjectPool;if(this.hasProfessional()&&!this.isHiddenEditor(t)){global.phoneVideoBox||!isPad()&&!isPhone()||(global.phoneVideoBox=new PhoneVideoBox(tmpContainer));var e=this.getPageAnnos();if(!(t<=0||e.length<t||0==e[t-1].length))for(var o=new PageItemFactory,e=e[t-1],s=0;s<e.length;s++){var n=e[s];(n=n&&o.createItem(this.container,n,this.containerWidth,this.containerHeight,t,s+1))&&i.add(n)}}return i},isHiddenEditor:function(t){return!(!bookConfig.isPreview||bookConfig.previewPages&&-1!==(Array.isArray(bookConfig.previewPages)&&bookConfig.previewPages.indexOf(t)))},hasInverseEditor:function(){return!window.readerConfig&&window.inverseEditor&&window.inverseEditor.length},hasProfessional:function(){if(global.pageEditor){var t=this.getPageAnnos();if(t&&0!=t.length)for(var i=0;i<t.length;i++){var e=t[i];if(e&&0<e.length)return!0}}return!1},getPageAnnos:function(){var t=global.pageEditor;if(t instanceof Array||(t=t.pageAnnos),this.hasInverseEditor()){var i=t;t.length<inverseEditor.length&&(i=inverseEditor);for(var e=0;e<i.length;e++){t[e]||(t[e]=[]),inverseEditor[e]||(inverseEditor[e]=[]);var o=inverseEditor[e];o&&o.length&&(o=o.map(function(t){return getInverseItem(t,this.containerWidth,this.containerHeight)}.bind(this))),t[e]=t[e].concat(o),inverseEditor[e]=[]}}return t}}),Class({create:function(t,i,e){this.menu=$("<div id='dockMenu' class='dockMenu'></div>"),this.menuContent=$("<div id='dockMenuContent' class='dockMenuContent'></div>"),this.itemArray=[],this.width=0,this.height=130,t.append(this.menu),this.menu.append(this.menuContent),this.initStyle(),this.addItem(i,e),this.initEvent(),this.hide()},initStyle:function(){this.menu.css({width:"100%",height:this.height+"px"}),this.menuContent.css({height:"100%",width:"100%",left:0,bottom:0})},addItem:function(t,i){for(var e=BookInfo.getThumbnailPages(),o=i-t+1,s=0;s<o;s++){var n,a,h=rightToLeft?i-s:t+s;null!=e[h]&&(n=e[h][1],a=[e[h][0]],null!=n&&a.push(n),(n=new DockMenuItem(this.menuContent,a)).pageIndex=e[h][0],this.itemArray.push(n))}this.resize()},addObj:function(t,i){"before"==i?t.prependTo(this.menuContent):t.appendTo(this.menuContent)},resize:function(){windowWidth<$(this.menuContent).width()?$(this.menuContent).css({"margin-left":(windowWidth-$(this.menuContent).width())/2-25+"px"}):$(this.menuContent).css({"margin-left":"0px"})},setPosition:function(t,i,e){this.menu.css((e=null==e?["left","top"]:e)[0],t),this.menu.css(e[1],i)},initEvent:function(){function i(){n||(n=!0,window.setTimeout(t,15))}function t(){for(var t=0;t<h.itemArray.length;t++)h.itemArray[t]&&h.itemArray[t].sizeDockIcons(e,o);n=!1,a&&(a=!1,i())}var e,o,s=this.menu,n=!1,a=!1,h=this;$(s).bind(_event._move,function(t){s.is(":visible")&&(e=t.pageX,o=t.pageY,a=!0,i())}),$(s).bind(_event._leave,function(t){s.is(":visible")&&(o=e=1e3,a=!0,i())})},show:function(){this.menu.show(),this.resize();for(var t=0;t<this.itemArray.length;t++)this.itemArray[t].fillContent()},hide:function(){this.menu.hide()},clearHighLight:function(){this.currentItem&&this.currentItem.clearHighLight()},setHighLight:function(t){for(var i=0;i<this.itemArray.length;i++)0<=this.itemArray[i].imgArr.indexOf(t)&&(this.itemArray[i].setHighLight(),this.currentItem=this.itemArray[i]);for(i=0;i<this.itemArray.length;i++)this.itemArray[i].fillContent()}})),DockMenuItem=Class({create:function(t,i){this.item=$("<div id='item' class='dockMenuItem'></div>"),this.imgArr=i,this.doubleImage=!(i.length<2),this.itemHeight=60,this.itemWidth=0,this.toScale=1.5,this.padding=10,t.append(this.item),this.initItem()},initItem:function(){this.itemContent=$("<div class='dockMenuItemContent dockMenuItemShadow'></div>"),this.itemCaption=$("<span class='dockMenuItemCaption'/>"),this.itemCaptionAfter=$("<div class='dockMenuItemCaptionAfter'/>"),this.item.append(this.itemContent),this.item.append(this.itemCaption),this.itemCaption.after(this.itemCaptionAfter),$(this.itemCaptionAfter).css({"background-image":"url("+uiBaseURL+"span.png)"}),this.addContent(),this.resize(this.itemHeight),this.addEvent()},resize:function(t){var i=t*bookConfig.largePageWidth*2/bookConfig.largePageHeight;!1===this.doubleImage&&(i/=2),this.item.css({width:i+"px",height:"130px"}),this.item.css({"padding-left":this.padding+"px"}),this.itemContent.css({width:i+"px",height:t+"px"}),this.resizeContent(i,t)},addContent:function(){!1===this.doubleImage?(this.itemIcon=$("<img/>"),this.itemContent.append(this.itemIcon)):!0===this.doubleImage&&(this.itemLeftIcon=$("<img/>"),this.itemRightIcon=$("<img/>"),this.itemContent.append(this.itemLeftIcon),this.itemContent.append(this.itemRightIcon))},fillContent:function(){!1===this.doubleImage?(this.fillImage(this.itemIcon,this.imgArr[0]),this.itemCaption.text(this.imgArr[0])):!0===this.doubleImage&&(this.fillImage(this.itemLeftIcon,this.imgArr[0]),this.fillImage(this.itemRightIcon,this.imgArr[1]),this.itemCaption.text(this.imgArr[0]+"-"+this.imgArr[1]))},fillImage:function(i,t){var e=function(t){i.attr("src",t)}.bind(this);fillImageAfterLoaded(t,"thumb",e)},resizeContent:function(t,i){!1===this.doubleImage?this.itemIcon.css({width:t+"px",height:i+"px"}):!0===this.doubleImage&&(this.itemLeftIcon.css({width:t/2+"px",height:i+"px"}),this.itemRightIcon.css({width:t/2+"px",height:i+"px"}),this.itemLeftIcon.css({position:"absolute",left:"0px"}),this.itemRightIcon.css({position:"absolute",left:t/2+"px"}))},sizeDockIcons:function(t,i){var e=this.itemHeight,o=this.itemHeight*this.toScale-e,s=$(this.item).offset().left+$(this.item).outerWidth()/2,n=$(this.item).offset().top+$(this.item).outerHeight()/2;t=this.distance(s,n,t,i),this.resize((1-Math.min(1,Math.max(0,t/180)))*o+e)},distance:function(t,i,e,o){return t=e-t,i=o-i,Math.sqrt(t*t+i*i)},addEvent:function(){this.item.bind(_event._end,function(){gotoPageFun(this.pageIndex,!1,"thumbnail")}.bind(this)),this.item.bind(_event._over,function(){this.itemCaption.css("display","inline-block"),this.itemCaptionAfter.css("display","block")}.bind(this)),this.item.bind(_event._leave,function(){this.itemCaption.hide(),this.itemCaptionAfter.hide()}.bind(this))},clearHighLight:function(){this.itemContent.css("border",""),this.itemContent.css("border-radius","0px")},setHighLight:function(){this.itemContent.css("border","3px solid #6bc30d"),this.itemContent.css("border-radius","3px")}}),GrayShadow=Class({create:function(t){this.grayShadow=$("<div class='grayShadow'></div>");var i=$("<div class='kong edgeShadow' ></div>");this.grayShadow.append(i),t.append(this.grayShadow)},show:function(){this.grayShadow.show()},hide:function(){this.grayShadow.hide()},onResize:function(){}}),PageFlipShadow=Class({create:function(t,i){this.parent=t,this.pageIndex=i,this.init()},init:function(){bookConfig.FlipDirection?(this.flipBackShadow=$("<div class='flip-vertical-shadowB'></div>"),this.flipFrontShadow=$("<div class='flip-vertical-topshadow'></div>")):(this.flipBackShadow=$("<div class='flip-shadowB'></div>"),this.flipFrontShadow=$("<div class='flip-topshadow'></div>")),this.parent.append(this.flipBackShadow),this.parent.append(this.flipFrontShadow)},flip:function(t,i,e){var o,s=t.shadowRate,n=(e=t.rotate,.9<s?1+2*(1-s)/.1:3*s/.9);(isPhone()||isPad())&&(n=1),s=.9<s?.2*(1-s)/.1:s<.1?.2*s/.1:.2,t=bookConfig.FlipDirection?(o=transformCSS({scaleY:n,rotate:-e,tran:{x:0,y:(t.frontShadowDistance-100*(90<e?0:n))/Math.cos(e*Math.PI/180)}}),transformCSS({scaleY:n,rotate:e,tran:{x:-t.maskTranY,y:t.maskTranX}})):(o=transformCSS({scaleX:n,rotate:-e,tran:{x:(t.frontShadowDistance-100*(90<e?0:n))/Math.cos(e*Math.PI/180),y:0}}),transformCSS({scaleX:n,rotate:e,tran:{x:t.maskTranX,y:t.maskTranY}})),this.flipFrontShadow.css(o),this.flipBackShadow.css(t),this.beforeFlip(e,i),isPhone()||isPad()||(this.flipFrontShadow.css({opacity:s}),this.flipBackShadow.css({opacity:s}))},beforeFlip:function(t,i){i?(this.flipBackShadow&&this.flipBackShadow.css({visibility:"hidden"}),this.flipFrontShadow&&this.flipFrontShadow.css({visibility:"visible"})):(this.flipBackShadow&&this.flipBackShadow.css({visibility:"visible"}),this.flipFrontShadow&&this.flipFrontShadow.css({visibility:"hidden"})),t=bookConfig.FlipDirection?(90<t?(this.flipFrontShadow.css({bottom:"0px"}),this.flipBackShadow.css({top:"100%"})):(this.flipFrontShadow.css({bottom:"auto"}),this.flipBackShadow.css({top:"0px"})),i=0<=t&&t<180?100/3:100*(this.width+this.maskWidth)/(3*this.maskWidth),90<t?100:0):(90<t?(this.flipFrontShadow.css({right:"0px"}),this.flipBackShadow.css({left:"100%"})):(this.flipFrontShadow.css({right:"auto"}),this.flipBackShadow.css({left:"0px"})),i=90<t?100:0,0<=t&&t<180?100*(this.height+this.maskWidth)/(3*this.maskWidth):100/3),this.flipFrontShadow.css({"transform-origin":i+"% "+t+"%","-webkit-transform-origin":i+"% "+t+"%","-moz-transform-origin":i+"% "+t+"%","-ms-transform-origin":i+"% "+t+"%"})},clear:function(){this.flipBackShadow&&this.flipBackShadow.css({visibility:"hidden"}),this.flipFrontShadow&&this.flipFrontShadow.css({visibility:"hidden"})},resize:function(t,i){this.width=t,this.height=i,this.maskWidth=parseInt(Math.sqrt(Math.pow(t,2)+Math.pow(i,2))),bookConfig.FlipDirection?(this.flipFrontShadow.css({width:3*this.maskWidth,left:-this.maskWidth}),this.flipBackShadow.css({width:this.maskWidth,left:(this.width-this.maskWidth)/2})):(this.flipFrontShadow.css({height:3*this.maskWidth,top:-this.maskWidth}),this.flipBackShadow.css({height:this.maskWidth,top:(this.height-this.maskWidth)/2}))}}),HardPageFlipShadow=Class({init:function(){this._super();var t=Color(bookConfig.thicknessColor);this.flipThickWidth=getMaxThicknessWidth()/5,this.flipThick=bookConfig.FlipDirection?$("<div class='flip-vertical-thick'></div>"):$("<div class='flip-thick'></div>"),this.flipThick.css({background:t.reduce(50)}),this.parent.append(this.flipThick)},flip:function(t,i){var e=(e=t.shadowRate||0)<.5?2*e:2*(1-e),o={"background-image":"none","box-shadow":"rgba(0,0,0,0.3) 0 0 2000px 5000px inset",width:"100%",height:"100%",top:0,left:0};this.flipFrontShadow.css(o),this.flipFrontShadow.css({opacity:e}),this.flipBackShadow.css(o),this.flipBackShadow.css({opacity:e}),t=bookConfig.FlipDirection?transformCSS({perspective:5e3,rotateX:-t.rotate,scaleY:this.flipThickWidth/6*e}):transformCSS({perspective:5e3,rotateY:-t.rotate,scaleX:this.flipThickWidth/6*e}),this.flipThick.css(t),i?(this.flipBackShadow&&this.flipBackShadow.css({visibility:"hidden"}),this.flipFrontShadow&&this.flipFrontShadow.css({visibility:"visible"})):(this.flipBackShadow&&this.flipBackShadow.css({visibility:"visible"}),this.flipFrontShadow&&this.flipFrontShadow.css({visibility:"hidden"})),this.flipThick&&this.flipThick.css({visibility:"visible"})}}).extend(PageFlipShadow),PageHighlightsFlipShadow=Class({create:function(t,i){this.parent=t,this.pageIndex=i,this.init()},init:function(){bookConfig.FlipDirection?(this.flipBackShadow=$("<div class='flip-vertical-shadowB'></div>"),this.flipFrontShadow=$("<div class='flip-vertical-topshadow2'></div>"),this.flipFrontHighlightShadow=$("<div class='flip-vertical-top-hightlight-shadow'></div>"),this.flipFrontEdgeShadow=$("<div class='flip-vertical-top-edge-shadow'></div>"),this.flipFrontTopHighlightShadow=$("<div class='flip-vertical-front-top-hightlight-shadow'></div>")):(this.flipBackShadow=$("<div class='flip-shadowB2'></div>"),this.flipFrontShadow=$("<div class='flip-topshadow2'></div>"),this.flipFrontHighlightShadow=$("<div class='flip-top-hightlight-shadow'></div>"),this.flipFrontEdgeShadow=$("<div class='flip-top-edge-shadow'></div>"),this.flipFrontTopHighlightShadow=$("<div class='flip-front-top-hightlight-shadow'></div>")),this.parent.append(this.flipBackShadow),this.parent.append(this.flipFrontShadow),this.parent.append(this.flipFrontEdgeShadow),this.parent.append(this.flipFrontHighlightShadow),this.parent.append(this.flipFrontTopHighlightShadow)},flip:function(t,i,e){var o=t.shadowRate,s=(e=t.rotate,.9<o?1+2*(1-o)/.1:3*o/.9),o=.9<o?(1-o)/.1:o<.1?+o/.1:1,n=1,a=(t.frontShadowDistance-(90<e?0:260*Math.min(1,t.frontShadowDistance/260)))/Math.cos(e*Math.PI/180),h=(t.frontShadowDistance-3-(90<e?0:18))/Math.cos(e*Math.PI/180),r=(t.frontShadowDistance-(90<e?0:3))/Math.cos(e*Math.PI/180),g=(t.frontShadowDistance-23*Math.min(1,t.frontShadowDistance/260)-(90<e?0:78*Math.min(1,t.frontShadowDistance/260)))/Math.cos(e*Math.PI/180);t.frontShadowDistance<=21&&(n=t.frontShadowDistance/21,r=(t.frontShadowDistance-(90<e?0:3*n))/Math.cos(e*Math.PI/180),h=(t.frontShadowDistance-3*n-(90<e?0:18*n))/Math.cos(e*Math.PI/180)),s=bookConfig.FlipDirection?(a=transformCSS({scaleY:Math.min(1,t.frontShadowDistance/260),rotate:-e,tran:{x:0,y:a}}),h=transformCSS({scaleY:n,rotate:-e,tran:{x:0,y:h}}),n=transformCSS({scaleY:n,rotate:-e,tran:{x:0,y:r}}),g=transformCSS({scaleY:Math.min(1,t.frontShadowDistance/260),rotate:-e,tran:{x:0,y:g}}),transformCSS({scaleY:s,rotate:e,tran:{x:-t.maskTranY,y:t.maskTranX}})):(a=transformCSS({scaleX:Math.min(1,t.frontShadowDistance/260),rotate:-e,tran:{x:a,y:0}}),h=transformCSS({scaleX:n,rotate:-e,tran:{x:h,y:0}}),n=transformCSS({scaleX:n,rotate:-e,tran:{x:r,y:0}}),g=transformCSS({scaleX:Math.min(1,t.frontShadowDistance/260),rotate:-e,tran:{x:g,y:0}}),transformCSS({scaleX:s,rotate:e,tran:{x:t.maskTranX,y:t.maskTranY}})),this.flipBackShadow.css(s),this.flipFrontShadow.css(a),this.flipFrontHighlightShadow.css(h),this.flipFrontEdgeShadow.css(n),this.flipFrontTopHighlightShadow.css(g),this.beforeFlip(e,i),i=.34*t.frontShadowDistance/260,260<t.frontShadowDistance&&(i=.34*o),this.flipFrontEdgeShadow.css({opacity:.5*o}),this.flipFrontHighlightShadow.css({opacity:.34*o}),this.flipFrontShadow.css({opacity:i}),this.flipBackShadow.css({opacity:.3*o}),this.flipFrontTopHighlightShadow.css({opacity:i})},beforeFlip:function(t,i){var e={};i?(this.flipBackShadow&&this.flipBackShadow.css({visibility:"hidden"}),e.visibility="visible"):(this.flipBackShadow&&this.flipBackShadow.css({visibility:"visible"}),e.visibility="hidden"),t=bookConfig.FlipDirection?(90<t?(e.bottom="0px",this.flipBackShadow.css({top:"100%"})):(e.bottom="auto",this.flipBackShadow.css({top:"0px"})),i=0<=t&&t<180?100/3:100*(this.width+this.maskWidth)/(3*this.maskWidth),90<t?100:0):(90<t?(e.right="0",this.flipBackShadow.css({left:"100%"})):(e.right="auto",this.flipBackShadow.css({left:"0px"})),i=90<t?100:0,0<=t&&t<180?100*(this.height+this.maskWidth)/(3*this.maskWidth):100/3),e["transform-origin"]=i+"% "+t+"%",e["-webkit-transform-origin"]=i+"% "+t+"%",e["-moz-transform-origin"]=i+"% "+t+"%",e["-ms-transform-origin"]=i+"% "+t+"%",this.flipFrontShadow.css(e),this.flipFrontHighlightShadow.css(e),this.flipFrontEdgeShadow.css(e),this.flipFrontTopHighlightShadow.css(e)},clear:function(){this.flipBackShadow&&this.flipBackShadow.css({visibility:"hidden"}),this.flipFrontShadow&&this.flipFrontShadow.css({visibility:"hidden"}),this.flipFrontHighlightShadow&&this.flipFrontHighlightShadow.css({visibility:"hidden"}),this.flipFrontEdgeShadow&&this.flipFrontEdgeShadow.css({visibility:"hidden"}),this.flipFrontTopHighlightShadow&&this.flipFrontTopHighlightShadow.css({visibility:"hidden"})},resize:function(t,i){this.width=t,this.height=i,this.maskWidth=parseInt(Math.sqrt(Math.pow(t,2)+Math.pow(i,2))),bookConfig.FlipDirection?(this.flipFrontShadow.css({width:3*this.maskWidth,left:-this.maskWidth}),this.flipFrontTopHighlightShadow.css({width:3*this.maskWidth,left:-this.maskWidth}),this.flipFrontEdgeShadow.css({width:3*this.maskWidth,left:-this.maskWidth}),this.flipFrontHighlightShadow.css({width:3*this.maskWidth,left:-this.maskWidth}),this.flipBackShadow.css({width:this.maskWidth,left:(this.width-this.maskWidth)/2})):(this.flipFrontTopHighlightShadow.css({height:3*this.maskWidth,top:-this.maskWidth}),this.flipFrontEdgeShadow.css({height:3*this.maskWidth,top:-this.maskWidth}),this.flipFrontHighlightShadow.css({height:3*this.maskWidth,top:-this.maskWidth}),this.flipFrontShadow.css({height:3*this.maskWidth,top:-this.maskWidth}),this.flipBackShadow.css({height:this.maskWidth,top:(this.height-this.maskWidth)/2}))}}),BorderSewing=(Class("CoverShadow",{create:function(t,i){this.parent=t,this.direction=bookConfig.FlipDirection,this.init()},init:virtual_function,destroy:virtual_function,onResize:function(){this.direction?(this.parentWidth=this.parent.height(),this.parentHeight=this.parent.width(),this.rotate.delay(this,1)):(this.parentWidth=this.parent.width(),this.parentHeight=this.parent.height())},rotate:function(){var t=transformCSS({rotate:90,tran:{x:this.parentHeight,y:0},origin:{x:0,y:0}});this.flip&&(t=transformCSS({scaleX:-1,rotate:90,tran:{x:this.parentHeight,y:this.parentWidth},origin:{x:0,y:0}})),this.coverShadow&&(this.coverShadow.css({width:this.parentWidth+"px",height:this.parentHeight+"px"}),this.coverShadow.css(t))}}),Class("HardCoverShadow",{init:function(){this.coverShadow=$('<div class="cover_shadow"></div>'),isBelowIE11()&&this.coverShadow.css("z-index",3),this.leftBorder=$("<div></div>"),this.topBorder=$('<div class="hard_top_border"></div>'),this.bottomBorder=$('<div class="hard_bottom_border hard_bottom_border_width"></div>'),this.rightBorder=$('<div class="hard_right_border"></div>'),this.parent.append(this.coverShadow),this.coverShadow.append(this.leftBorder),this.coverShadow.append(this.topBorder),this.coverShadow.append(this.bottomBorder),this.coverShadow.append(this.rightBorder)},onResize:function(){this._super(),this.rightBorder.css({height:this.parentHeight-3+"px"})},destroy:function(){this.coverShadow.empty(),this.coverShadow.remove()}}).extend(CoverShadow),Class("OuterHardCoverShadow",{create:function(t,i,e){this.style=i,this.flip=!!e,this._super(t)},init:function(){this._super(),this.leftBorder.addClass("hard_left_border"),this.leftBody=$('<div class="hard_left_body"></div>'),this.coverShadow.append(this.leftBody),this.coverShadow.addClass(this.style),this.flip&&this.coverShadow.addClass("flip_x"),this.onResize()}}).extend(HardCoverShadow),Class("InnerHardCoverShadow",{create:function(t,i,e,o,s){this.style=i,this.flip=!!e,this.borderWidth=o=null==o?0:o,this.showLeftShadow=s,this._super(t)},init:function(){this._super(),this.showLeftShadow?(this.leftBorder.addClass("hard_inner_left_border"),this.leftCoverBorder=$('<div class="hard_left_cover_border"></div>'),this.coverShadow.append(this.leftCoverBorder)):this.leftBorder.css({display:"none"}),this.flip&&this.coverShadow.addClass("flip_x"),this.onResize()},onResize:function(){this._super(),this.showLeftShadow&&(this.bottomBorder.css({left:"0px",width:"100%"}),this.leftBorder.css({top:this.borderWidth+"px",height:this.parentHeight-2*this.borderWidth+"px"})),this.flip?0!=bookConfig.LeftShadowAlpha&&0!=bookConfig.LeftShadowWidth||this.coverShadow.css("z-index",-1):0!=bookConfig.RightShadowAlpha&&0!=bookConfig.RightShadowWidth||this.coverShadow.css("z-index",-1)}}).extend(HardCoverShadow),Class("NormalCoverShadow",{create:function(t,i,e){this.style=i,this.flip=!!e,this._super(t)},init:function(){var t,i;this.coverShadow=$('<div class="cover_shadow"></div>'),this.coverShadow.addClass(this.style),isBelowIE11()&&this.coverShadow.css("z-index",3),this.leftBorder=$('<div class="normal_left_border"></div>'),this.leftBody=$('<div class="normal_left_body"></div>'),this.parent.append(this.coverShadow),this.coverShadow.append(this.leftBorder),this.coverShadow.append(this.leftBody),"saddle"==this.style&&(t=$("<div class='top_nail'></div>"),i=$("<div class='bottom_nail'></div>"),"book"==bookConfig.pageHighlightType&&(this.leftBorder.css({"background-image":"url("+uiBaseURL+"left-shadow1.png)"}),this.leftBody.css({left:0})),this.leftBody.append(t),this.leftBody.append(i)),this.flip&&this.coverShadow.addClass("flip_x"),this.onResize()},destroy:function(){this.coverShadow.empty(),this.coverShadow.remove()},onResize:function(){var t;this._super(),"saddle"==this.style&&(t=Math.min(parseInt(87/450*this.parentWidth),87),this.leftBorder.css("width",t+"px"),this.leftBody.find("div").css({width:Math.round(2/600*this.parentWidth)+"px",height:Math.round(.075*this.parentHeight)+"px"}))}}).extend(CoverShadow),Class("PageShadow",{create:function(t,i,e){this.parent=t,this.pageIndex=i,this.isLeftPage=e,this.isHardPage=parseBool(bookConfig.HardPageEnable)&&!isBelowIE11(),this.bindingType=bookConfig.BindingType,this.bindingType||(this.bindingType="side"),this.midShadow=this.coverShadow=null},addShadow:function(){this.isEmpty()||this.destroy(),this.addCoverShadow();var t=parseBool(bookConfig.addPaperCoil);null!=this.coverShadow||t||bookConfig.HardInnerPageEnable?this.hidePageShadow():this.addPageShadow(),this.onResize()},isEmpty:function(){return null==this.coverShadow&&null==this.midShadow},addCoverShadow:function(){this.coverShadow=this.createCoverShadow()},createCoverShadow:virtual_function,addPageShadow:function(){var t;this.midShadow=this.findPageShadow(),this.midShadow||(this.midShadow=$("<div name='midShadow'></div>"),$.system.name!=$.system.IOS)||(t=transformCSS({tran:{x:0,y:0},rotate:0},!0),this.midShadow.css(t)),t=this.isLeftPage?(bookConfig.FlipDirection?this.midShadow.attr("class","upShadow"):this.midShadow.attr("class","leftShadow"),bookConfig.LeftShadowAlpha):(bookConfig.FlipDirection?this.midShadow.attr("class","downShadow"):this.midShadow.attr("class","rightShadow"),bookConfig.RightShadowAlpha),"magazine"==bookConfig.pageHighlightType?this.midShadow.addClass("magazine"):this.midShadow.addClass("book"),this.midShadow.css({opacity:t}),this.parent.append(this.midShadow)},findPageShadow:function(){var t;return this.midShadow||((t=this.parent.children("div[name=midShadow]"))[0]?$(t[0]):null)},hidePageShadow:function(){(this.midShadow=this.findPageShadow())&&this.midShadow.css({display:"none"})},resizePageShadow:function(t){var i;this.midShadow=this.findPageShadow(),null!=this.midShadow&&(i=bookConfig.LeftShadowWidth,this.isLeftPage||(i=bookConfig.RightShadowWidth),i=parseInt(i/450*t),bookConfig.FlipDirection?this.midShadow.css({height:i+"px"}):this.midShadow.css({width:i+"px"}))},onResize:function(t,i){null==t?(this.parentWidth=this.parent.width(),this.parentHeight=this.parent.height()):(this.parentWidth=t,this.parentHeight=i),this.coverShadow&&this.coverShadow.onResize(),this.resizePageShadow(this.parentWidth)},destroy:function(){null!=this.coverShadow&&(this.coverShadow.destroy(),this.coverShadow=null),null!=this.midShadow&&(this.midShadow.remove(),this.midShadow=null)}}),Class("NormalPageShadow",{create:function(t,i,e){this._super(t,i,e),this.evenPageCount=totalPageCount},createCoverShadow:function(){var t=1==this.pageIndex&&!bookConfig.isTheBookOpen,i=2==this.pageIndex&&!bookConfig.isTheBookOpen||1==this.pageIndex&&bookConfig.isTheBookOpen,e=this.pageIndex==this.evenPageCount,o=this.pageIndex==this.evenPageCount-1,s=4<this.evenPageCount&&!bookConfig.isTheBookOpen||3<this.evenPageCount&&bookConfig.isTheBookOpen,n=this.isLeftPage;if(this.isHardPage){if(t||e)return new OuterHardCoverShadow(this.parent,this.bindingType,n);if(i||o)return new InnerHardCoverShadow(this.parent,this.bindingType,n,bookConfig.hardCoverBorderWidth,s)}else if(t||e)return new NormalCoverShadow(this.parent,this.bindingType,n);return null}}).extend("PageShadow"),Class("SinglePageShadow",{create:function(t,i,e){this._super(t,i,e),this.isRightToLeft=parseBool(bookConfig.RightToLeft)},createCoverShadow:function(){var t=1==this.pageIndex,i=this.pageIndex==bookConfig.totalPageCount;if(this.isHardPage){if(t)return new OuterHardCoverShadow(this.parent,this.bindingType,this.isRightToLeft);if(i)return new InnerHardCoverShadow(this.parent,this.bindingType,this.isRightToLeft,bookConfig.hardCoverBorderWidth,!0)}else if(t)return new NormalCoverShadow(this.parent,this.bindingType,this.isRightToLeft);return null}}).extend("PageShadow"),Class("CatalogPageShadow",{create:function(t,i,e){this._super(t,i,e),this.evenPageCount=totalPageCount,this.bindingType="catalog"},createCoverShadow:function(){var t=1==this.pageIndex&&!bookConfig.isTheBookOpen,i=2==this.pageIndex&&!bookConfig.isTheBookOpen||1==this.pageIndex&&bookConfig.isTheBookOpen,e=this.pageIndex==this.evenPageCount,o=this.pageIndex==this.evenPageCount-1,s=4<this.evenPageCount&&!bookConfig.isTheBookOpen||3<this.evenPageCount&&bookConfig.isTheBookOpen,n=this.isLeftPage;if(this.isHardPage){if(t||e)return new OuterHardCoverShadow(this.parent,this.bindingType,n);if(i||o)return new InnerHardCoverShadow(this.parent,this.bindingType,n,0,s)}else if(t||e)return new NormalCoverShadow(this.parent,this.bindingType,n);return null}}).extend("PageShadow"),Class("SlidePageShadow",{createCoverShadow:function(){},addShadow:function(){}}).extend("PageShadow"),Class("PageTexture",{create:function(t,i,e){this.parent=t,this.pageIndex=i,this.isLeftPage=e,this.isHardPage=parseBool(bookConfig.HardPageEnable)&&!isBelowIE11(),this.borderWidth=bookConfig.hardCoverBorderWidth-4,this.initResource()},initResource:function(){this.name=bookConfig.coverTexture,this.resource=PageTextureResource[this.name]},render:function(){this.isEmpty()||this.destroy(),this.isCover&&this.renderCover()},isEmpty:function(){return null==this.texture},renderPage:function(){this.texture=null},renderCover:function(){this.isHardPage&&this.resource&&(this.renderTexture(),this.renderSewing(),this.onResize())},renderTexture:function(){this.texture=$("<div id='page_texture'></div>"),this.texture.css({position:"absolute","pointer-events":"none","z-index":1,width:"100%",height:"100%"}),this.parent.append(this.texture);var t=uiBaseURL+this.resource.texture;(this.isOutCover?this.texture:this.parent).css({"background-image":"url("+t+")","background-repeat":"repeat"})},renderSewing:function(){var t;this.borderWidth<=0||!this.resource.sewing||(t=this.resource.sewing,this.isInnerCover&&(t=BorderSewing.flat),bookConfig.FlipDirection?(this.left_texture=$("<div id='left_texture'></div>"),this.left_texture.css({position:"absolute",top:this.borderWidth+"px",left:this.borderWidth+"px",width:t.right.width+"px","background-image":"url("+uiBaseURL+t.left.url+")","background-repeat":"repeat-y"}),this.texture.append(this.left_texture)):(this.top_texture=$("<div id='top_texture'></div>"),this.top_texture.css({position:"absolute",top:this.borderWidth+"px",left:this.borderWidth+"px",height:t.top.height+"px","background-image":"url("+uiBaseURL+t.top.url+")","background-repeat":"repeat-x"}),this.texture.append(this.top_texture)),this.right_texture=$("<div id='right_texture'></div>"),this.right_texture.css({position:"absolute",top:this.borderWidth+"px",right:this.borderWidth+"px",width:t.right.width+"px","background-image":"url("+uiBaseURL+t.right.url+")","background-repeat":"repeat-y"}),this.texture.append(this.right_texture),this.bottom_texture=$("<div id='bottom_texture'></div>"),this.bottom_texture.css({position:"absolute",bottom:this.borderWidth+"px",right:this.borderWidth+"px",height:t.bottom.height+"px","background-image":"url("+uiBaseURL+t.bottom.url+")","background-repeat":"repeat-x"}),this.texture.append(this.bottom_texture),this.isLeftPage&&(bookConfig.FlipDirection?(this.bottom_texture.addClass("flip_y"),this.bottom_texture.css({top:this.borderWidth+"px",bottom:"auto"}),this.left_texture&&this.left_texture.css({bottom:this.borderWidth+"px",top:"auto"}),this.right_texture.css({bottom:this.borderWidth+"px",top:"auto"})):(this.right_texture.addClass("flip_x"),this.right_texture.css({left:this.borderWidth+"px",right:"auto"}),this.top_texture&&this.top_texture.css({right:this.borderWidth+"px",left:"auto"}),this.bottom_texture.css({right:this.borderWidth+"px",left:"auto"}))),this.resource.sewing.renderBorder&&this.renderBorder())},renderBorder:function(){0!=this.borderWidth&&(bookConfig.FlipDirection?(this.left_texture_border=$("<div id='left_texture_border'></div>"),this.left_texture_border.css({position:"absolute",left:"0px",width:this.borderWidth+"px",height:"100%","background-image":$.browser.prefix+"linear-gradient(left, rgba(220,220,220,0) 0%, rgba(220,220,220,0.2) 50%, rgba(220,220,220,0) 100%)"}),this.texture.append(this.left_texture_border)):(this.top_texture_border=$("<div id='top_texture_border'></div>"),this.top_texture_border.css({position:"absolute",top:"0px",width:"100%",height:this.borderWidth+"px","background-image":$.browser.prefix+"linear-gradient(top, rgba(220,220,220,0) 0%, rgba(220,220,220,0.2) 50%, rgba(220,220,220,0) 100%)"}),this.texture.append(this.top_texture_border)),this.right_texture_border=$("<div id='right_texture_border'></div>"),this.right_texture_border.css({position:"absolute",right:"0px",width:this.borderWidth+"px",height:"100%","background-image":$.browser.prefix+"linear-gradient(right, rgba(220,220,220,0) 0%, rgba(220,220,220,0.2) 50%, rgba(220,220,220,0) 100%)"}),this.texture.append(this.right_texture_border),this.bottom_texture_border=$("<div id='bottom_texture_border'></div>"),this.bottom_texture_border.css({position:"absolute",bottom:"0px",width:"100%",height:this.borderWidth+"px","background-image":$.browser.prefix+"linear-gradient(bottom, rgba(220,220,220,0) 0%, rgba(220,220,220,0.2) 50%, rgba(220,220,220,0) 100%)"}),this.texture.append(this.bottom_texture_border),this.isLeftPage)&&(bookConfig.FlipDirection?this.bottom_texture_border.css({top:"0px",bottom:"auto"}):this.right_texture_border.css({left:"0px",right:"auto"}))},onResize:function(){this.parentWidth=this.parent.width(),this.parentHeight=this.parent.height(),this.top_texture&&this.top_texture.css({width:this.parentWidth-2*this.borderWidth+"px"}),this.left_texture&&this.left_texture.css({height:this.parentHeight-2*this.borderWidth+"px"}),this.right_texture&&this.right_texture.css({height:this.parentHeight-2*this.borderWidth+"px"}),this.bottom_texture&&this.bottom_texture.css({width:this.parentWidth-2*this.borderWidth+"px"})},destroy:function(){this.texture&&(this.texture.remove(),this.texture=null),this.top_texture&&(this.top_texture.remove(),this.top_texture=null),this.left_texture&&(this.left_texture.remove(),this.left_texture=null),this.right_texture&&(this.right_texture.remove(),this.right_texture=null),this.bottom_texture&&(this.bottom_texture.remove(),this.bottom_texture=null),this.left_texture_border&&(this.left_texture_border.remove(),this.left_texture_border=null),this.top_texture_border&&(this.top_texture_border.remove(),this.top_texture_border=null),this.right_texture_border&&(this.right_texture_border.remove(),this.right_texture_border=null),this.bottom_texture_border&&(this.bottom_texture_border.remove(),this.bottom_texture_border=null)}}),Class("NormalPageTexture",{create:function(t,i,e){this._super(t,i,e),this.isOutCover=1==i&&!bookConfig.isTheBookOpen||i==totalPageCount,this.isInnerCover=2==i&&!bookConfig.isTheBookOpen||1==i&&bookConfig.isTheBookOpen||i==totalPageCount-1,this.isCover=this.isOutCover||this.isInnerCover}}).extend("PageTexture"),Class("SinglePageTexture",{create:function(t,i,e){this._super(t,i,e),this.isOutCover=1==i,this.isInnerCover=i==bookConfig.totalPageCount,this.isCover=this.isOutCover||this.isInnerCover}}).extend("PageTexture"),Class("CatalogPageTexture",{create:function(t,i,e){this._super(t,i,e),this.isOutCover=1==i&&!bookConfig.isTheBookOpen||i==totalPageCount,this.isInnerCover=2==i&&!bookConfig.isTheBookOpen||1==i&&bookConfig.isTheBookOpen||i==totalPageCount-1,this.isCover=this.isOutCover||this.isInnerCover}}).extend("PageTexture"),Class("SlidePageTexture",{create:function(t,i,e){this._super(t,i,e),this.isCover=!1}}).extend("PageTexture"),{deep:{top:{url:"deep_top_sewing.png",width:28,height:42},left:{url:"deep_left_sewing.png",width:71,height:28},right:{url:"deep_right_sewing.png",width:71,height:28},bottom:{url:"deep_bottom_sewing.png",width:28,height:42},renderBorder:!0},normal:{top:{url:"normal_top_sewing.png",width:28,height:10},left:{url:"normal_left_sewing.png",width:10,height:28},right:{url:"normal_right_sewing.png",width:10,height:28},bottom:{url:"normal_bottom_sewing.png",width:28,height:20},renderBorder:!0},flat:{top:{url:"flat_top_sewing.png",width:28,height:10},left:{url:"flat_left_sewing.png",width:10,height:28},right:{url:"flat_right_sewing.png",width:10,height:28},bottom:{url:"flat_bottom_sewing.png",width:28,height:10},renderBorder:!1}}),PageTextureResource={leather1:{texture:"leather1.png",sewing:BorderSewing.deep},leather2:{texture:"leather2.png",sewing:BorderSewing.normal},cloth1:{texture:"cloth1.png",sewing:BorderSewing.flat},cloth2:{texture:"cloth2.png",sewing:BorderSewing.flat},cloth3:{texture:"cloth3.png",sewing:BorderSewing.flat},cloth4:{texture:"cloth4.png",sewing:BorderSewing.normal},cardboard1:{texture:"cardboard1.png",sewing:null},cardboard2:{texture:"cardboard2.png",sewing:null},cardboard3:{texture:"cardboard3.png",sewing:null},silk1:{texture:"silk1.png",sewing:BorderSewing.flat},silk2:{texture:"silk2.png",sewing:BorderSewing.flat},silk3:{texture:"silk3.png",sewing:BorderSewing.flat},silk4:{texture:"silk4.png",sewing:BorderSewing.flat},wood1:{texture:"wood1.png",sewing:null},wood2:{texture:"wood2.png",sewing:null}};function getPageShadow(t,i,e,o){return o==BookType.normal_book?new NormalPageShadow(t,i,e):o==BookType.single_book?new SinglePageShadow(t,i,e):o==BookType.catalog_book?new CatalogPageShadow(t,i,e):o==BookType.slide_book||o==BookType.singleSlide_book?new SlidePageShadow(t,i,e):void 0}function getPageTexture(t,i,e,o){return o==BookType.normal_book?new NormalPageTexture(t,i,e):o==BookType.single_book?new SinglePageTexture(t,i,e):o==BookType.catalog_book?new CatalogPageTexture(t,i,e):o==BookType.slide_book||o==BookType.singleSlide_book?new SlidePageTexture(t,i,e):void 0}function getPageDirection(t,i){switch(i){case BookType.single_book:case BookType.singleSlide_book:if(bookConfig.RightToLeft)return!0;break;default:return BookInfo.isLeftPage(t,!0)}return!1}Class("PageRendering",{create:function(t,i,e){this.parent=t,this.pageIndex=i,this.isLeftPage=getPageDirection(i,e),this.pageShadow=getPageShadow(t,i,this.isLeftPage,e),this.pageTexture=getPageTexture(t,i,this.isLeftPage,e)},render:function(){this.addCoil(),this.addPageShadow(),this.addPageTexture()},addCoil:function(){var t;"loose2"==bookConfig.BindingType?this.addCoil2():parseBool(bookConfig.addPaperCoil)&&(t=$("<div class='coil'></div>"),this.midCoil=$("<div style='z-index:6;'></div>"),bookConfig.FlipDirection?this.isLeftPage?(t.attr("class","upPaperCoil"),this.midCoil.attr("class","upPaperCoil_bg")):(t.attr("class","downPaperCoil"),this.midCoil.attr("class","downPaperCoil_bg")):this.isLeftPage?(t.attr("class","leftPaperCoil"),this.midCoil.attr("class","leftPaperCoil_bg")):(t.attr("class","rightPaperCoil"),this.midCoil.attr("class","rightPaperCoil_bg")),this.midCoil.append(t),!bookConfig.HardPageEnable||1!=this.pageIndex&&this.pageIndex!=totalPageCount||this.midCoil.css("background-image","none"),this.parent.append(this.midCoil))},addCoil2:function(){var t;parseBool(bookConfig.addPaperCoil)&&(t=$("<div class='coil'></div>"),this.midCoil=$("<div style='z-index:6;'></div>"),bookConfig.FlipDirection?this.isLeftPage?(t.attr("class","upPaperCoil2"),this.midCoil.attr("class","upPaperCoil2_bg")):(t.attr("class","downPaperCoil2"),this.midCoil.attr("class","downPaperCoil2_bg")):this.isLeftPage?(t.attr("class","leftPaperCoil2"),this.midCoil.attr("class","leftPaperCoil2_bg")):(t.attr("class","rightPaperCoil2"),this.midCoil.attr("class","rightPaperCoil2_bg")),this.midCoil.append(t),this.midCoil.append(t.clone()),!bookConfig.HardPageEnable||1!=this.pageIndex&&this.pageIndex!=totalPageCount||this.midCoil.css("background-image","none"),this.parent.append(this.midCoil))},addPageShadow:function(){this.pageShadow.addShadow()},addPageTexture:function(){this.pageTexture.render()},hideMiddleShadow:function(){this.pageShadow.hidePageShadow()},onResize:function(t,i){this.pageShadow&&this.pageShadow.onResize(t,i),this.pageTexture&&this.pageTexture.onResize(t,i),this.midCoil&&(bookConfig.FlipDirection?this.resizeCoilVertical(t,i):(!bookConfig.HardPageEnable||2!=this.pageIndex&&this.pageIndex!=totalPageCount-1||this.midCoil.css({height:i+"px",top:0,bottom:0,margin:"auto"}),"loose2"==bookConfig.BindingType?(t=Math.min(60*parseInt(i/3/60),180),this.midCoil.find("div").css({height:t+"px"}),$(this.midCoil.find("div")[0]).css({top:"67%","margin-top":"-30px",bottom:"auto"}),$(this.midCoil.find("div")[1]).css({bottom:"67%","margin-bottom":"-30px",top:"auto"})):(t=50*parseInt(i/50),this.midCoil.find("div").css({height:t+"px"}))))},resizeCoilVertical:function(t,i){!bookConfig.HardPageEnable||2!=this.pageIndex&&this.pageIndex!=totalPageCount-1||this.midCoil.css({width:t+"px",left:0,right:0,margin:"auto"}),"loose2"==bookConfig.BindingType?(t=Math.min(60*parseInt(t/3/60),180),this.midCoil.find("div").css({width:t+"px"}),$(this.midCoil.find("div")[0]).css({left:"67%","margin-left":"-30px",right:"auto"}),$(this.midCoil.find("div")[1]).css({right:"67%","margin-right":"-30px",left:"auto"})):(t=50*parseInt(t/50),this.midCoil.find("div").css({width:t+"px"}))},destroy:function(){this.pageShadow&&(this.pageShadow.destroy(),this.pageShadow=null),this.pageTexture&&(this.pageTexture.destroy(),this.pageTexture=null),this.midCoil&&(this.midCoil.remove(),this.midCoil=null)}});var PdfLoad=Class({index:0,pageWidth:0,pageHeight:0,create:function(i,e,o,s,n,t,a){var h,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(1==t.nextAddress)return r.index=i,r.type=e,r.pageWidth=s,r.pageHeight=n,r.renderWidth=s,r.renderHeight=n,r.callback=o,r.parent=a,h=r,t.yield(getPageDir(i,e,originTotalPageCount),2);h.imageURL=t.yieldResult,r.$content=$("<div style='position:absolute;left:0;top:0;width:100%;height:100%;'></div>"),r.pdfLoadingTask=new PdfLoadingTask(r.index,r.type,s,n,r.loaded.bind(r)),window.pdfLoadStack||(window.pdfLoadStack=new PdfLoadArray(3)),window.pdfLoadStack&&pdfLoadStack.push(r.pdfLoadingTask),t.jumpToEnd()})},loaded:function(t){this.pdfLoaded=!0,this.changeImageSrc(t)},enterSide:function(){this.enter=!0,console.log("page enterSide:"+this.index+","+this.type)},leaveSide:function(){this.enter=!1,this.pdfLoadingTask&&this.pdfLoadingTask.leaveSide(),console.log("page leaveSide:"+this.index+","+this.type)},zoomIn:function(){isPhone()||isPad()},zoomOut:function(){isPhone()||isPad()},resizeSvg:function(t,i){this.renderWidth=t,this.renderHeight=i,this.resizeImage(t,i),window.pdfLoadStack&&(isPC()||isSlideBook()||0<=BookInfo.getCurrentPages().indexOf(this.index))&&(this.pdfLoadingTask.changeRenderWH(t,i),pdfLoadStack.push(this.pdfLoadingTask))},onResize:function(t,i){t==this.pageWidth&&i==this.pageHeight||(this.pageWidth=t,this.pageHeight=i,this.renderWidth=t,this.renderHeight=i,this.resizeImage(t,i),window.pdfLoadStack&&(isPC()||isSlideBook()||0<=BookInfo.getCurrentPages().indexOf(this.index))&&this.pdfLoadingTask&&(this.pdfLoadingTask.changeRenderWH(t,i),pdfLoadStack.push(this.pdfLoadingTask)))},resizeImage:function(t,i){var e,o;this.width&&this.height&&(e={width:"100%",height:"100%",position:"absolute",top:0,left:0},.01<=(t-(o=fitPageWidthHeight(t,i,this.width,this.height)).x)/i&&!PageInfo.pageIsStrech(this.index)&&(e.width=o.x+"px",e.left=Math.round((t-o.x)/2)+"px"),.01<=(i-o.y)/t&&!PageInfo.pageIsStrech(this.index)&&(e.height=o.y+"px",e.top=Math.round((i-o.y)/2)+"px"),o=transformCSS({scaleX:this.pageWidth/t,scaleY:this.pageHeight/i,origin:{x:0,y:0}},!1),this.$content.css(o),this.$content.css({width:t+"px",height:i+"px"}),this.$canvas.css(e))},changeImageSrc:function(t){var i,e;this.pdfLoaded&&(i=this.renderWidth,e=this.renderHeight,this.width=parseFloat(t.style.width),this.height=parseFloat(t.style.height),this.$canvas=$(t),t={position:"absolute",top:0,left:0},fitPageWidthHeight(i,e,this.width,this.height),t.left=Math.round((i-this.width)/2)+"px",t.top=Math.round((e-this.height)/2)+"px",this.$canvas.css(t),this.$content.empty().append(this.$canvas),this.callback)&&this.callback(this.imageURL,this.imageURL,this.$content,this.index)},destroy:function(){console.log("page destroy:"+this.index+" "+this.type),this.pdfLoadingTask&&(window.pdfLoadStack&&pdfLoadStack.pop(this.pdfLoadingTask),this.pdfLoadingTask.destroy(),this.pdfLoadingTask=null)}}),PdfLoadArray=Class({create:function(t){this.stacks=[],this.limitCount=t,this.id=0,this.running=!1},push:function(t){if(t&&t.start){for(var i=0;i<this.stacks.length;i++)if(this.stacks[i]==t){if(console.log(t.isRepeat()),t.isRepeat())return;this.stacks[i].pause(),this.stacks.remove(i),i--,this.running=!1}try{this.stacks.push(t),this.start()}catch(t){}}},pop:function(t){if(this.running&&this.stacks[this.id]==t)this.stacks.remove(this.id),this.running=!1,this.runFirstTask();else for(var i=0;i<this.stacks.length;i++)if(this.stacks[i]==t){this.stacks.remove(i);break}},start:function(){this.runFirstTask()},runFirstTask:function(){if(!this.running){for(var t=0;t<this.stacks.length;t++)if(this.stacks[t]&&this.stacks[t].start&&!this.stacks[t].rendered)return this.id=t,this.running=!0,void this.stacks[t].start().then(function(){this.stacks.remove(this.id),this.running=!1,this.runFirstTask()}.bind(this));this.running=!1}},next:function(){this.id++,this.id==this.stacks.length?this.running=!1:this.stacks&&this.stacks[this.id]&&this.stacks[this.id].start&&!this.stacks[this.id].rendered?this.stacks[this.id].start().then(function(){this.stacks[this.id]&&this.next()}.bind(this)):this.next()},destroy:function(){this.stacks&&0<this.stacks.length&&(this.stacks.forEach(function(t){t.pause(),t.destroy()}),this.stacks=[],this.id=0,this.running=!1)}}),PdfLoadingTask=Class({create:function(t,i,e,o,s){this.page=this.loadingTask=null,this.loaded=this.rendered=!1,this.index=t,this.type=i,this.pageWidth=e,this.pageHeight=o,this.callback=s,this.renderHeight=this.renderWidth=0},start:function(){var n=this.index,a=this.type;return new Promise(function(i,e){var o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(1==t.nextAddress)return!n||n<0||n>bookConfig.totalPageCount?(e(),t.return()):(console.log(s.index),s.page?(console.log("rendered start:"),s.loaded=!0,s.renderCanvas(s.pageWidth,s.pageHeight).then(function(t){this.callback&&this.callback(t),this.rendered=!0,i(t),console.log("rendered:")}.bind(s)),t.return()):(s.loadingTask&&(s.loadingTask.destroy(),s.loadingTask=null),t.yield(getPageDir(n,a,originTotalPageCount),2)));getBlob(o="object"==typeof(o=t.yieldResult)?o[0]:o).then(function(t){this.loadingTask=pdfjsLib.getDocument({url:t.url,password:t.password}),this.loadingTask.promise.then(function(t){t.getPage(1).then(function(t){this.loaded=!0,this.page=t,this.renderCanvas(this.pageWidth,this.pageHeight).then(function(t){this.rendered=!0,this.callback&&this.callback(t),i(t)}.bind(this))}.bind(this))}.bind(this))}.bind(s)),t.jumpToEnd()})}.bind(this))},renderCanvas:function(g,l){return this.rendered=!1,new Promise(function(t,i){this.renderWidth=g,this.renderHeight=l,console.log("renderCanvas:"+g+","+l),this.renderTask&&(this.renderTask.cancel(),this.renderTask=null);var e=$("<canvas><canvas/>")[0],o=e.getContext("2d"),s=window.devicePixelRatio||1,n=this.page,a=n.getViewport({scale:1}),a=fitPageWidthHeight(g,l,a.width,a.height).x/a.width,h=(a=n.getViewport({scale:a})).width,r=a.height;isPC()||(r<h?3e3<h*s&&(s=3e3/h):3e3<r*s&&(s=3e3/r)),e.width=h*s,e.height=r*s,1==s?(e.style.width=e.width+"px",e.style.height=e.height+"px"):(e.style.width=h+"px",e.style.height=r+"px"),o={canvasContext:o,transform:1!==s?[s,0,0,s,0,0]:null,viewport:a};try{this.renderTask=n.render(o),this.renderTask.promise.then(function(){this.rendered=!0,t(e)}.bind(this))}catch(t){i(t)}}.bind(this))},remove:function(){},destroy:function(){this.loadingTask&&(this.loadingTask.destroy(),this.loadingTask=null),this.renderTask&&(this.renderTask.cancel(),this.renderTask=null),this.loaded=this.rendered=!1},isRepeat:function(){return console.log("isRepeat:"),!!this.loaded&&this.pageWidth==this.renderWidth&&this.pageHeight==this.renderHeight},pause:function(){console.log("pause:"+this.loaded),this.loaded&&(console.log("pause:"+this.renderTask),this.renderTask)&&(this.renderTask.cancel(),this.renderTask=null,this.rendered=!1)},enterSide:function(){},leaveSide:function(){},changeRenderWH:function(t,i){this.pageWidth==t&&this.pageHeight==i||(console.log("changeRenderWH:"+t+","+i),this.pageWidth=t,this.pageHeight=i,this.rendered=!1)}});function getBlob(e){return new Promise(function(h,t){(t=new XMLHttpRequest).open("get",e,!0),t.responseType="blob",t.onload=function(){var o,s,n,t,e,a;4==this.readyState&&200==this.status&&(o=(new Date).getTime(),window.response=this.response,(a=new FileReader).onload=function(){window.arrayBuffer=new Uint8Array(this.result)},a.readAsArrayBuffer(response),s=response.slice(1083,response.size-1003,"application/pdf"),n="",t=response.slice(1080,1083),e=response.slice(response.size-1003,response.size-1e3),(a=new FileReader).onload=function(){n=this.result+n;var t=new FileReader;t.onload=function(){n+=this.result;var t=s.slice(0,4e3),e=new FileReader;e.onload=function(){var t=new Uint8Array(this.result);for(i=0;i<this.result.byteLength;++i)t[i]=255-t[i];t=new Blob([new Blob([t.buffer]),s.slice(4e3,s.size)],{type:"application/pdf"}),t=window.URL.createObjectURL(t),console.log((new Date).getTime()-o),h({url:t,password:n})},e.readAsArrayBuffer(t)},t.readAsText(e)},a.readAsText(t))},t.send()}.bind(this))}function blobToUint8Array(t){for(var i=URL.createObjectURL(t),e=((t=new XMLHttpRequest).open("GET",i,!1),t.send(),URL.revokeObjectURL(i),new Uint8Array(t.response.length)),i=0;i<t.response.length;++i)e[i]=255-t.response.charCodeAt(i);return e}window.pdfPages={normal:[],thumb:[],large:[]};var accessControlImagesPool={},accessControlPostImagesPool=[],PageLoadTask=Class({statics:{task:null,taskList:{normal:[],large:[],thumb:[],previewPage:[]},pageLength:20,addTask:function(t,i){t=parseInt(t/this.pageLength),this.taskList[i]&&this.taskList[i][t]&&this.taskList[i][t].completed&&this.taskList[i][t].completedAll||this.createTask(t,i)},createTask:function(t,i){this.taskList[i][t]={completed:!1,completedAll:!1};var e=this.getPostUrls(t,i);this.postYunzhanUrls(t,i,e)},getPostUrls:function(t,i){var e=(t+1)*this.pageLength,o=[];for(t=t*this.pageLength+1;t<=e;t++)var s=pageDirWidthPath(t,i),s=this.removeParamFromUrl(s),o=o.concat(s);return o},postYunzhanUrls:function(s,n,t){var a=this,h="string"==typeof t?[t]:t;if(h&&0!=h.length){var r=[];for(t=0;t<h.length;t++){var i=toAbsURL(h[t]);r.push(i)}t=BookRestrict.getRestrictToken(),$.ajax({type:"get",url:restrictUrl,dataType:"json",data:{urls:JSON.stringify(r),token:t},success:function(t){if("OK"==t.code){for(var i=!0,e=0;e<h.length;e++){var o=r[e];accessControlImagesPool[h[e]]=t.data[o],t.data[o]||(i=!1)}a.completedTask(s,n),i&&a.completedAllTask(s,n)}else window.encryptionPannel&&!window.encryptionPannel.visible&&window.encryptionPannel.show(),a.completedTask(s,n)},error:function(){window.encryptionPannel&&!window.encryptionPannel.visible&&window.encryptionPannel.show(),a.completedTask(s,n)}})}else this.completedTask(s,n)},isCompleted:function(t,i){return t=parseInt(t/this.pageLength),!!(this.taskList[i]&&this.taskList[i][t]&&this.taskList[i][t].completed)},completedTask:function(t,i){try{this.taskList[i][t].completed=!0}catch(t){}},completedAllTask:function(t,i){try{this.taskList[i][t].completedAll=!0}catch(t){}},getUrls:function(t){if("object"!=typeof t)return 0<=t.indexOf("none")?"none":(n=t.removeStartFrom("?"),s=(s=t.remove(n)).remove("?"),accessControlImagesPool[n]||accessControlImagesPool[n]?this.mergeParamFromUrl(accessControlImagesPool[n],s):t);for(var i=[],e=[],o=0;o<t.length;o++){var s=t[o],n=s.removeStartFrom("?");s=(s=s.remove(n)).remove("?"),e.push(s)}for(o=0;o<t.length;o++)n=(s=t[o]).removeStartFrom("?"),0<=s.indexOf("none")?i.push("none"):i.push(accessControlImagesPool[n]?this.mergeParamFromUrl(accessControlImagesPool[n],e[o]):s);return i},mergeParamFromUrl:function(t,i){return t},removeParamFromUrl:function(t){if("object"!=typeof t)return 0<=t.indexOf("none")||(i=[],s=t.removeStartFrom("?"),i.push(s.toString()),accessControlImagesPool[s])?[]:i;for(var i=[],e=0;e<t.length;e++){var o=t[e],s=o.removeStartFrom("?");o.indexOf("none")<0&&!accessControlImagesPool[s]&&i.push(s)}return i}}}),setPageURL=function(t,i,e){adjustPageURL(t,i,e),1==i&&BookInfo.getBook().fillPage(t,!0)},adjustPageURL=function(t,i,e){switch(t=parseInt(t)-1,global.fliphtml5_pages||(global.fliphtml5_pages=[]),global.fliphtml5_pages[t]||(global.fliphtml5_pages[t]={}),i){case 0:global.fliphtml5_pages[t].l=e;break;case 1:global.fliphtml5_pages[t].n=e;break;case 2:global.fliphtml5_pages[t].t=e;break;case 3:global.fliphtml5_pages[t].p=e}},useTheAliCloudChart=(window.isSupportWebp=!1,!function(){function t(t){window.isSupportWebp=!(!t||"load"!==t.type)&&1==i.width}var i=new Image;i.onerror=t,i.onload=t,i.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA="}(),function(i,e){if(bookConfig.useTheAliCloudChart)if(isPad()||isPhone())useTheAliCloudChartOnMobile();else{var t=window.screen.availHeight-bookConfig.topMargin-bookConfig.bottomMargin;e||(e=t-50,i=Math.round(e*bookConfig.largePageWidth/bookConfig.largePageHeight));for(var t=bookConfig.totalPageCount,o=1;o<=t;o++){function s(t){if(!(0<=t.indexOf(".zip")))switch(t=0<=(t=t.removeStartFrom("?")+"").indexOf("?")?t+"&x-oss-process=image/resize,h_"+parseInt(e)+",w_"+parseInt(i):t+"?x-oss-process=image/resize,h_"+parseInt(e)+",w_"+parseInt(i),window.isSupportWebp&&(t+="/format,webp"),bookConfig.textClarityEnhancement){case 1:t+="/sharpen,100";break;case 2:t+="/sharpen,150";break;case 3:t+="/sharpen,200"}return t}var n=realPageDir(o,"normal",t),a=realPageDir(o,"thumb",t),h=realPageDir(o,"previewPage",t);if("string"!=typeof n)for(var r=0;r<n.length;r++)n[r]=s(n[r]);else n=s(n);a=a.removeStartFrom("?")+"",window.isSupportWebp&&0<=a.indexOf(".zip")&&(a=0<=a.indexOf("?")?a+"&x-oss-process=image/format,webp":a+"?x-oss-process=image/format,webp"),h=h.removeStartFrom("?")+"",window.isSupportWebp&&0<=h.indexOf(".zip")&&(h=0<=h.indexOf("?")?h+"&x-oss-process=image/format,webp":h+"?x-oss-process=image/format,webp"),adjustPageURL(o,1,n),adjustPageURL(o,2,a),adjustPageURL(o,3,h)}}}),useTheAliCloudChartOnMobile=function(){for(var t=bookConfig.totalPageCount,i=1;i<=t;i++){function e(t){if(!(0<=t.indexOf(".zip")))switch(t=0<=(t=t.removeStartFrom("?")+"").indexOf("?")?t+"&x-oss-process=image":t+"?x-oss-process=image",window.isSupportWebp&&(t+="/format,webp"),bookConfig.textClarityEnhancement){case 1:t+="/sharpen,100";break;case 2:t+="/sharpen,150";break;case 3:t+="/sharpen,200"}return t}var o=realPageDir(i,"normal",t),s=realPageDir(i,"thumb",t),n=realPageDir(i,"previewPage",t);if("string"!=typeof o)for(var a=0;a<o.length;a++)o[a]=e(o[a]);else o=e(o);s=s.removeStartFrom("?")+"",window.isSupportWebp&&0<=s.indexOf(".zip")&&(s=0<=s.indexOf("?")?s+"&x-oss-process=image/format,webp":s+"?x-oss-process=image/format,webp"),n=n.removeStartFrom("?")+"",window.isSupportWebp&&0<=n.indexOf(".zip")&&(n=0<=n.indexOf("?")?n+"&x-oss-process=image/format,webp":n+"?x-oss-process=image/format,webp"),adjustPageURL(i,1,o),adjustPageURL(i,2,s),adjustPageURL(i,3,n)}};function getPageDir(i,e,o,s,n){var a,h;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){return 1==t.nextAddress?"restrict"==BookRestrict.isRestrictPage(i)?(a=1==i?getMeta("og:image"):bookConfig.pageRestrictUrl,t.return(a)):(h=pageDirWidthPath(i,e,o,s,n),t.yield(getYunzhanUrl(h,i,e),2)):(h=t.yieldResult,t.return(h))})}var pageDirWidthPath=function(t,i,e,o,s){var n=realPageDir(t,i,e,o,s);if(n=n||"previewPage"!=i?n:realPageDir(t,"thumb",e,o,s))if("string"==typeof n)n=fixURLValue(n);else{for(t=[],e=getPagePathName(i),o=0;o<n.length;o++)t.push((window.fliphtml5_pages&&fliphtml5_pages[e]&&null!=fliphtml5_pages[e][o]?fliphtml5_pages:bookConfig)[e][o]+n[o]);n=1==n.length&&"normal"==i?fixURLValue(t[0]):fixURLValue(t.clone())}return n},realPageDir=function(t,i,e,o,s){if(t<=0||null!=e&&e<t)return"";var n;if(bookConfig.getPageURL)return n="previewPage"==i?3:"thumb"==i?2:"normal"==i?1:0,bookConfig.getPageURL(t,n,e,o,s);e=getFileFormat(t,i);var a=global.fliphtml5_pages;if(null!=a&&0<a.length&&null!=(a=a[t-1]))switch(i){case"normal":n=null==a.n?a.l:a.n;break;case"large":n=a.l;break;case"thumb":n=a.t;break;case"previewPage":n=a.p}return null==n?defaultRealPageDir(i,t,e,o,s):n},defaultRealPageDir=function(t,i,e,o,s){var n="";switch(t){case"normal":n=getNormalPageDirByWidthHeight(t,i,e,o,s);break;case"large":n=bookConfig.largePath+i+e;break;case"thumb":n=bookConfig.thumbPath+i+e}return n},getPagePathName=function(t){switch(t){case"normal":case"large":return"normalPath";case"thumb":return"thumbPath";case"previewPage":return"normalPath"}},getNormalPageDirByWidthHeight=function(t,i,e,o,s){return(t=getPageSize(i,t))?(o=o||0,s=s||0,(isPhone()||isPad())&&(s=o=1e4),o=findCloseNum(t,Math.max(o,s)),bookConfig.normalPath+i+"_"+o+e):bookConfig.normalPath+i+e},globalImages=[],canvasData=[],fillImageAfterLoaded=function(s,o,n,t,i){var e,a,h,r,g,l,d,c,p,u,f,m,C=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(1==t.nextAddress)return s&&o?"normal"==o&&bookConfig.usePdfJs?(e=$("<canvas class='test'></canvas>"),a=function(){var i;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(1==t.nextAddress)return t.yield(getPageDir(s,o,originTotalPageCount),2);i=t.yieldResult,n&&n(i,i,e,s),t.jumpToEnd()})},function(){var i,e=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(1==t.nextAddress)return t.yield(getPageDir(s,o,originTotalPageCount),2);i=t.yieldResult,$.ajax({url:i,type:"GET",dataType:"json",success:function(t){if(canvasData[s]="string"==typeof t?JSON.parse(t):t,globalImages[s]=[],0==canvasData[s].resources.length)a();else for(var i=0,e=0;e<canvasData[s].resources.length;e++){var o;1!=canvasData[s].resources[e].type?++i>=canvasData[s].resources.length&&a():((o=new Image).src=getResource(s,e),(globalImages[s][e]=o).onload=function(){++i>=canvasData[s].resources.length&&a()})}}.bind(e),error:function(){}}),t.jumpToEnd()})}(),t.return()):t.yield(getPageDir(s,o,originTotalPageCount),2):t.return();if((h=t.yieldResult).match(/^none/))return r=$("<div style='width:100%;height:100%;background:"+bookConfig.pageBackgroundColor+";'></div>"),n&&n(h,r,s),t.return();if(!fillImageOrNot(h,s))return!window.userList&&1<passwardType()&&loadJavascript(fixURLValue(bookConfig.userListPath),function(){fillImageAfterLoaded(s,o,n)},function(){}),t.return();if(-1<h.indexOf(".js"))return global[decodeDatabasePrefix(o)+s]&&"string"==typeof global[decodeDatabasePrefix(o)+s]?(g=dataBase64Str(s,o),(r=$("<img src='"+g+"'/>"))[0].onload=function(){n&&n(g,h,this,s)}):loadJavascript(h,function(t){var i=dataBase64Str(s,o,t);$("<img src='"+i+"'/>")[0].onload=function(){n&&n(i,h,this,s)}},function(){}),t.return();if("object"==typeof h){for(l=0,(d=$("<div style='position:relative;'></div>")).css({width:bookConfig.largePageWidth+"px",height:bookConfig.largePageHeight+"px"}),c=function(t){bookConfig.largePageWidth/bookConfig.largePageHeight>t[0].naturalWidth/t[0].naturalHeight?t.css({width:"auto",height:"100%"}):t.css({width:"100%",height:"auto"})},p=0;p<h.length;p++)u=(u=h[p]).removeStartFrom("?"),(f=$("<img style='position:absolute;left:0;top:0;bottom:0;right:0;margin:auto;'></img>")).attr("src",u),d.append(f),f[0].onload=function(t){c($(this)),++l==h.length&&n&&n(h,h,d,s)},f[0].onerror=function(t){++l==h.length&&n&&n(h,h,d,s)};return t.return()}if(-1<h.indexOf(".zip"))return window.printLoadStack&&(m=new PdfLoadingTask(s,o,BookInfo.getBook().pageWidth,BookInfo.getBook().pageHeight,function(t){var i=t.toDataURL("image/png"),e=$("<img src='"+i+"'/>");e[0].onload=function(){n&&n(i,i,e,s)}}.bind(C)),window.printLoadStack.push(m)),t.return();-1<h.indexOf(".svg")?(bookConfig.useTheAliCloudChart&&BookInfo.getBook().status_zoom&&(h=h.removeStartFrom("?")),(r=$("<img src='"+h+"'/>"))[0].onload=function(){var t=$("<object data='"+h+"' type='image/svg+xml'></object>")[0];n&&n(h,h,t,s)}):(bookConfig.useTheAliCloudChart&&BookInfo.getBook().status_zoom&&(h=h.removeStartFrom("?")),(r=$("<img src='"+h+"'/>"))[0].onload=function(){n&&n(h,h,this,s)}),t.jumpToEnd()})},fillImageOrNot=function(t,i){return!(!t||passwardType()&&bookConfig.excludeFrontPages&&i>parseInt(bookConfig.excludeFrontPages)&&!verifyPassward())},fitPageWidthHeight=function(t,i,e,o){e=e||bookConfig.largePageWidth,o=o||bookConfig.largePageHeight;var s=Point(0,0);return e/o<t/i?(s.x=Math.round(e*i/o),s.y=i):(s.x=t,s.y=Math.round(o*t/e)),s};function findCloseNum(t,i){for(var e=0,o=Number.MAX_VALUE,s=0;s<t.length;s++){var n=Math.abs(t[s]-i);n<=o&&!(n===o&&t[s]<t[e])&&(e=s,o=n)}return t[e]}var getPageSize=function(t,i,e){var o;return t<=0||null!=e&&e<t?null:null!=(e=global.fliphtml5_pages)&&0<e.length?(o=null==(o=null!=(t=e[t-1])&&"normal"===i?t.normalSize:o)&&"normal"===i?bookConfig.normalSize:o)?o.increasing():null:"normal"===i&&(o=bookConfig.normalSize)?o.increasing():null};function getYunzhanUrl(o,s,n){return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){return bookConfig.isEncryptionBook&&"none"!=BookRestrict.isRestrictPage(s)?(PageLoadTask.addTask(s,n),t.return(new Promise(function(i,t){var e=window.setInterval(function(){var t;PageLoadTask.isCompleted(s,n)&&(window.clearInterval(e),t=PageLoadTask.getUrls(o,s),i(t))},50)}))):t.return(o)})}var PageInfo=Class({create:function(t){this.getPageInfoArray(t)},getPageInfoArray:function(t){return this.pageInfoArray||this.initPageInfo(t),this.pageInfoArray},initPageInfo:function(t){this.pageInfoArray=[{}];for(var i=1;i<=totalPageCount;i++){var e=this.getPageInfo(i,t),o=this.getNextPageInfo(i,t);o&&(e.pageWidth=Math.max(e.pageWidth,o.pageWidth),e.pageHeight=Math.max(e.pageHeight,o.pageHeight),e.opacity=Math.max(e.opacity,o.opacity),1!=e.pageWidth||1!=e.pageWidth||1!=e.pageWidth)&&(e.isMiniPage=!0),this.pageInfoArray.push(e)}},getNextPageInfo:function(t,i){if(!i)return t=bookConfig.isTheBookOpen?0==t%2?t+1:t-1:0==t%2?t-1:t+1,this.getPageInfo(t,i)},getPageInfo:function(t,i){var e,o;if(!(t<=0||totalPageCount<t))return o=e=i=1,window.fliphtml5_pages&&window.fliphtml5_pages[t-1]&&(i=(o=window.fliphtml5_pages[t-1]).w?Math.min(o.w,1):1,e=o.h?Math.min(o.h,1):1,o=o.o?Math.min(o.o,1):1),1!=t&&t!=totalPageCount||(e=i=1),{pageWidth:i,pageHeight:e,opacity:o}},statics:{getPageColor:function(t){return window.pages_information&&window.pages_information[t-1]&&window.pages_information[t-1].pageColor?window.pages_information[t-1].pageColor:bookConfig.pageBackgroundColor},pageIsStrech:function(t){return window.pages_information&&window.pages_information[t-1]&&window.pages_information[t-1].pageIsStrech?parseBool(window.pages_information[t-1].pageIsStrech):bookConfig.bookPageStretch}}}),getFileFormat=function(t,i){var e="";return!passwardType()||!bookConfig.excludeFrontPages||t<=parseInt(bookConfig.excludeFrontPages)?e="."!=(e="string"==typeof(e="normal"==i?(e=global.fliphtml5_pages&&0<fliphtml5_pages.length&&(t=fliphtml5_pages[t-1])&&t.suffix?t.suffix:e)||bookConfig.normalSuffix||".jpg":e)&&e?e:".jpg")[0]?"."+e:e:".js"},decodeBase64=function(t,i){var e=encodeDatabasePrefix(i);if(global[e+t]&&"string"==typeof global[e+t]&&(i=getRealkey()))return t=rc4(i,t=base64.decode(global[e+t])),base64.encode(t)},dataBase64Str=function(t,i,e){var o,s;if(verifyPassward())return o=decodeDatabasePrefix(i),s=encodeDatabasePrefix(i),global[o+t]?(global[s+t]=null,e&&$(e).remove(),global[o+t]):(i="data:image/jpg;base64,"+decodeBase64(t,i),global[o+t]=i,global[s+t]=null,e&&$(e).remove(),i)},decodeDatabasePrefix=function(t){switch(t){case"normal":case"large":return"dataBase";case"thum":case"thumb":return"dataBaseThum"}},encodeDatabasePrefix=function(t){switch(t){case"normal":case"large":return"page";case"thum":case"thumb":return"thumb"}},userList,getRealkey=function(){if(1==passwardType())return getSingleRealKey();if(userList){var t=getPassward(),i=getUsername();if(t&&i&&userList&&"string"==typeof userList[username])return getListRealKey(i,t,userList[username])}},getSingleRealKey=function(){if(bookConfig.singlePasswordKey&&"string"==typeof bookConfig.singlePasswordKey){var t=getPassward();if(t)return rc4(t,parsHexToNormalString(bookConfig.singlePasswordKey))}},getListRealKey=function(t,i,e){if(t=parsHexToNormalString(t=(t+String.fromCharCode(9)+i).MD5(32)),t=base64.encode(t),e=(e=e.remove(t)).replace(/==?$/,""),e=base64.decode(e))return rc4(i=(t+i).cycleToLength(128),e)},verifyPassward=function(){var t,i;return!passwardType()||(t=getPassward(),i=getUsername(),1==passwardType()?t?t.MD5(32).toLowerCase()===bookConfig.singlePasswordMD5.toLowerCase():void 0:bookConfig.userListPath&&(userList||loadJavascript(fixURLValue(bookConfig.userListPath),verifyPassward,function(){}),userList)&&t&&i&&"string"==typeof userList[i]?(t=parsHexToNormalString(t=(i+String.fromCharCode(9)+t).MD5(32)),t=base64.encode(t),userList[i].substring(0,24)===t):void 0)},passwardType=function(){return bookConfig.securityType&&1!=parseInt(bookConfig.securityType)?bookConfig.securityType&&2==parseInt(bookConfig.securityType)?1:bookConfig.securityType&&3==parseInt(bookConfig.securityType)?2:void 0:0},getPassward=function(){return document.getElementById("passward_input")?$("#passward_input").val():global.passward},getUsername=function(){return document.getElementById("username_input")?$("#username_input").val():global.username},JsLoad=Class({index:0,type:0,pageWidth:0,pageHeight:0,width:0,height:0,$image:null,imageURL:"",isMirrorSide:"",create:function(e,o,s,i,n,a){var h,r,g,l=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){return 1==t.nextAddress?(l.index=e,l.type=o,l.pageWidth=i,l.pageHeight=n,l.isMirrorSide=a,t.yield(getPageDir(e,o,originTotalPageCount),2)):(h=t.yieldResult,l.imageURL=h,l.fillImageOrNot(h,e)?global[decodeDatabasePrefix(o)+e]&&"string"==typeof global[decodeDatabasePrefix(o)+e]?(r=dataBase64Str(e,o),l.$image=$("<img src='"+r+"'/>"),l.$image[0].onload=function(){s&&s(r,h,this.$image[0],e),this.width=this.$image[0].naturalWidth,this.height=this.$image[0].naturalHeight,this.onResize(this.pageWidth,this.pageHeight)}.bind(l),t.return()):(g=l,loadJavascript(h,function(t){var i=dataBase64Str(e,o,t);g.$image=$("<img src='"+i+"'/>"),g.$image[0].onload=function(){s&&s(i,h,this.$image[0],e),this.width=this.$image[0].naturalWidth,this.height=this.$image[0].naturalHeight,this.onResize(this.pageWidth,this.pageHeight)}.bind(g)},function(){}),void t.jumpToEnd()):(!window.userList&&1<passwardType()&&loadJavascript(fixURLValue(bookConfig.userListPath),function(){this.create(e,o,s)}.bind(l),function(){}),t.return()))})},fillImageOrNot:function(t,i){return!(!t||"string"!=typeof t||passwardType()&&bookConfig.excludeFrontPages&&i>parseInt(bookConfig.excludeFrontPages)&&!verifyPassward())},zoomIn:function(){(isPhone()||isPad())&&bookConfig.highDefinitionConversion&&this.highDefinition()},zoomOut:function(){},onResize:function(t,i){if(this.pageWidth=t,this.pageHeight=i,this.$image){if((isPhone()||isPad())&&!this.isMirrorSide){if($.system.name!=$.system.ANDROID&&!bookConfig.highDefinitionConversion)return void this.resizeOnMobile();if(bookConfig.highDefinitionConversion&&BookInfo.getBook().status_zoom)return void this.highDefinition()}t/=i,i=this.width/this.height,this.$image.css({width:"100%",height:"100%",position:"absolute",top:0,bottom:0,left:0,right:0,margin:"auto"}),.01<=t-i&&!PageInfo.pageIsStrech(this.index)&&this.$image.css({width:"auto"}),t-i<=-.01&&!PageInfo.pageIsStrech(this.index)&&this.$image.css({height:"auto"}),t=transformCSS({scale:1,origin:{x:0,y:0}}),this.$image.css(t)}},resizeOnMobile:function(){var t=1024,i=1024;BookInfo.isDoublePage()&&this.type==BookType.normal_book&&(i=t=768),t=fitPageWidthHeight(t,i,this.width,this.height),this.scale(Math.ceil(t.x),Math.ceil(t.y))},highDefinition:function(){var t=Math.min(6*Math.min(windowWidth,windowHeight),this.width),i=Math.min(6*Math.min(windowWidth,windowHeight),this.height);$.system.name==$.system.ANDROID&&(t=Math.min(1024,t),i=Math.min(1024,i)),isPad()&&(t=Math.min(3*Math.min(windowWidth,windowHeight),this.width),i=Math.min(3*Math.min(windowWidth,windowHeight),this.height)),t=fitPageWidthHeight(t,i,this.width,this.height),this.scale(Math.ceil(t.x),Math.ceil(t.y))},scale:function(t,i){var e=this.pageWidth/this.pageHeight>this.width/this.height?this.pageHeight/i:this.pageWidth/t;this.$image.css({width:t+"px",height:i+"px",position:"absolute",left:(this.pageWidth-t*e)/2+"px",bottom:"auto",top:(this.pageHeight-i*e)/2+"px",right:"auto"}),t=transformCSS({scale:e,origin:{x:0,y:0}}),this.$image.css(t)}}),CanvasLoad=Class({create:function(o,s,e,t,i){function n(){var i;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(1==t.nextAddress)return t.yield(getPageDir(o,s,originTotalPageCount),2);i=t.yieldResult,e&&e(i,i,a,o),t.jumpToEnd()})}var a=$("<canvas></canvas>"),h=(this.pageWidth=t,this.pageHeight=i,this.loadAllImage);!function(){var i,e=this;$jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(1==t.nextAddress)return t.yield(getPageDir(o,s,originTotalPageCount),2);i=t.yieldResult,$.ajax({url:i,type:"get",async:!1,success:function(t){canvasData[o]=configForPages.pages[o-1].data,globalImages[o]=[],h(o,n)}.bind(e),error:function(){}}),t.jumpToEnd()})}()},loadAllImage:function(t,i){for(var e,o=0,s=0;s<canvasData[t].resources.length;s++)1!=canvasData[t].resources[s].type?++o>=canvasData[t].resources.length&&i():((e=new Image).src=getResource(t,s),(globalImages[t][s]=e).onload=function(){++o>=canvasData[t].resources.length&&i()})},zoomIn:function(){},zoomOut:function(){},onResize:function(){},renderCnvas:function(t,i,e,o,s,n,a){var h,r,g,l,d,c;bookConfig.usePdfJs&&e&&(this.renderInterval&&(window.clearInterval(this.renderInterval),this.renderInterval=void 0),this.render&&(this.render.taskPool.stop(),this.render=void 0),.01<=(d=(g=s)/(l=n))-(c=(r=(h=canvasData[o]).page).width/r.height)&&!PageInfo.pageIsStrech(this.pageIndex)&&(g=r.width*n/r.height),d-c<=-.01&&!PageInfo.pageIsStrech(this.pageIndex)&&(l=s*r.height/r.width),window.devicePixelRatio&&!isPC()||(window.devicePixelRatio=1),s=g*devicePixelRatio/r.width,e.attr("width",g*devicePixelRatio),e.attr("height",l*devicePixelRatio),e.css("height",l+"px"),e.css("width",g+"px"),e.css({position:"absolute",top:0,bottom:0,left:0,right:0,margin:"auto"}),(n=e[0].getContext("2d")).save(),n.imageSmoothingEnabled=!0,r.background&&(n.fillStyle=int2color(r.background),n.fillRect(0,0,g,l)),this.render=new RenderPage(e[0],h,o,s),this.renderInterval=window.setInterval(function(){BookInfo.getBook().flipping||BookInfo.getBook().flipBook.parameters.zoomming?this.render.taskPool.pause():this.render.taskPool.start(),console.log("render"),this.render.taskPool.end()&&(a&&a(t,i,e),window.clearInterval(this.renderInterval))}.bind(this),200))}}),SvgLoad=Class({index:0,pageWidth:0,pageHeight:0,create:function(i,e,o,s,n){var a,h=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(1==t.nextAddress)return h.index=i,h.type=e,h.pageWidth=s,h.pageHeight=n,t.yield(getPageDir(i,e,originTotalPageCount),2);a=t.yieldResult,h.sideImage=$("<img src='"+a+"'/>"),h.sideImage[0].onload=function(){this.$svgDiv=$("<div style='position:absolute;width:100%;height:100%;left:0;top:0;'></div>"),this.$svgDiv.append(this.sideImage),this.$svg=$("<canvas></canvas>"),this.$svgDiv.append(this.$svg),this.width=this.sideImage[0].naturalWidth,this.height=this.sideImage[0].naturalHeight,this.onResize(this.pageWidth,this.pageHeight),this.$svg.attr("width",this.width+"px"),this.$svg.attr("height",this.height+"px");var t=this.$svg[0].getContext("2d");t.beginPath(),t.drawImage(this.sideImage[0],0,0),t.closePath(),BookInfo.getBook().status_zoom?this.zoomIn():this.zoomOut(),this.reDraw(),o&&o(a,a,this.$svgDiv,i)}.bind(h),t.jumpToEnd()})},beginToFlip:function(){},afterFlip:function(){},reDraw:function(){var t,i;isPC()||(t=this.$svg[0].getContext("2d"),i=function(){t.beginPath(),t.clearRect(0,0,this.width,this.height),t.drawImage(this.sideImage[0],0,0,this.width,this.height),t.closePath(),console.log("reDraw:"+this.index)}.bind(this),this.interval=window.setTimeout(function(){i(),this.interval=window.setTimeout(function(){i(),this.interval=window.setTimeout(function(){i()}.bind(this),2e3)}.bind(this),1e3)}.bind(this),500))},zoomIn:function(){this.sideImage&&this.sideImage.show(),this.$svg&&this.$svg.hide()},zoomOut:function(){this.sideImage&&this.sideImage.hide(),this.$svg&&this.$svg.show()},onResize:function(t,i){this.pageWidth=t,t/=this.pageHeight=i,i=this.width/this.height,this.sideImage&&this.sideImage.css({width:"100%",height:"100%",position:"absolute",top:0,left:0}),this.$svg&&this.$svg.css({width:"100%",height:"100%",position:"absolute",top:0,left:0});var e=fitPageWidthHeight(this.pageWidth,this.pageHeight,this.width,this.height);.01<=t-i&&!PageInfo.pageIsStrech(this.index)&&(this.$svg&&this.$svg.css({width:"auto",left:Math.round((this.pageWidth-e.x)/2)+"px"}),this.sideImage)&&this.sideImage.css({width:"auto",left:Math.round((this.pageWidth-e.x)/2)+"px"}),t-i<=-.01&&!PageInfo.pageIsStrech(this.index)&&(this.$svg&&this.$svg.css({height:"auto",top:Math.round((this.pageHeight-e.y)/2)+"px"}),this.sideImage)&&this.sideImage.css({height:"auto",top:Math.round((this.pageHeight-e.y)/2)+"px"})},destroy:function(){this.interval&&window.clearInterval(this.interval)}}),ImageLoad=Class({index:0,type:0,pageWidth:0,pageHeight:0,width:0,height:0,$image:null,imageURL:"",isMirrorSide:"",canvasDom:null,create:function(i,e,o,s,n,a,h){var r,g,l=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(1==t.nextAddress)return l.index=i,l.type=e,l.pageWidth=s,l.pageHeight=n,l.isMirrorSide=a,l.parent=h,l.callback=o,t.yield(getPageDir(i,e,originTotalPageCount),2);r=t.yieldResult,l.imageURL=r,bookConfig.useTheAliCloudChart&&BookInfo.getBook().status_zoom&&(r=r.removeStartFrom("?")),l.id=randomString(10),l.$image=$("<img id='"+l.id+"' src='"+r+"'/>"),bookConfig.isStopMouseMenu||l.$image.css({"-webkit-touch-callout":"default"}),bookConfig.textSharpening&&(g="-webkit-optimize-contrast",$.browser.firefox&&(g="-moz-crisp-edges"),$.browser.opera&&(g="-o-crisp-edges"),l.$image.css({"image-rendering":g,"-ms-interpolation-mode":"nearest-neighbor"})),l.$image[0].onload=function(){if(this.width=this.$image[0].naturalWidth,this.height=this.$image[0].naturalHeight,!(this.width>1.25*this.pageWidth&&this.height>1.25*this.pageHeight)||!0!==bookConfig.canvasRender&&"true"!==bookConfig.canvasRender||isPhone()||isPad())this.width=this.$image[0].naturalWidth,this.height=this.$image[0].naturalHeight,this.callback&&this.callback(r,r,this.$image[0],i),this.onResize(this.pageWidth,this.pageHeight);else try{this.canvasDom=document.createElement("canvas"),this.canvasDom.setAttribute("id","pageCanvas"),this.canvasDom.setAttribute("width",this.width),this.canvasDom.setAttribute("height",this.height);var t=this.canvasDom.getContext("2d");t.width=this.width,t.width=this.height,t.drawImage(this.$image[0],0,0),canvasReload(this.canvasDom,this.pageWidth,this.pageHeight,!0),this.callback&&this.callback(r,r,this.canvasDom,i)}catch(t){this.width=this.$image[0].naturalWidth,this.height=this.$image[0].naturalHeight,this.callback&&this.callback(r,r,this.$image[0],i),this.onResize(this.pageWidth,this.pageHeight)}}.bind(l),t.jumpToEnd()})},zoomIn:function(t){bookConfig.useTheAliCloudChart&&isPC()?this.switchLargeImage(t):(isPhone()||isPad())&&this.highDefinition()},zoomOut:function(t,i){bookConfig.useTheAliCloudChart&&isPC()?this.switchNormalImage(t,i):(isPhone()||isPad())&&this.resize()},onResize:function(t,i){try{var e;if(!(!0!==bookConfig.canvasRender&&"true"!==bookConfig.canvasRender||isPhone()||isPad())&&this.canvasDom)return this.pageWidth=t,this.pageHeight=i,this.canvasDom.setAttribute("width",this.width),this.canvasDom.setAttribute("height",this.height),(e=this.canvasDom.getContext("2d")).width=this.width,e.width=this.height,e.drawImage(this.$image[0],0,0),void canvasReload(this.canvasDom,this.pageWidth,this.pageHeight,!0)}catch(t){console.log("this function cross-domain !")}(isPhone()||isPad())&&!this.isMirrorSide&&BookInfo.getBook().status_zoom?this.highDefinition():(this.pageWidth=t,t/=this.pageHeight=i,i=this.width/this.height,$("#"+this.id).css({width:"100%",height:"100%",position:"absolute",top:0,left:0}),e=fitPageWidthHeight(this.pageWidth,this.pageHeight,this.width,this.height),PageInfo.pageIsStrech(this.index)||(.01<=t-i&&$("#"+this.id).css({width:"auto",left:Math.round((this.pageWidth-e.x)/2)+"px"}),t-i<=-.01&&$("#"+this.id).css({height:"auto",top:Math.round((this.pageHeight-e.y)/2)+"px"}),Math.abs(t-i)<.01&&isPC()&&bookConfig.useTheAliCloudChart&&(i<t?(t=this.pageHeight*this.width/this.height,$("#"+this.id).css({width:"auto",left:Math.round((this.pageWidth-t)/2)+"px"})):(t=this.pageWidth*this.height/this.width,$("#"+this.id).css({height:"auto",top:Math.round((this.pageHeight-t)/2)+"px"})))),t=!1,(isPhone()||isPad())&&(t=!0),t=transformCSS({scale:1,origin:{x:0,y:0}},t),$("#"+this.id).css(t))},resize:function(){var t=this.pageWidth/this.pageHeight,i=this.width/this.height,e=($("#"+this.id).css({width:"100%",height:"100%",position:"absolute",top:0,left:0}),fitPageWidthHeight(this.pageWidth,this.pageHeight,this.width,this.height));PageInfo.pageIsStrech(this.index)||(.01<=t-i&&$("#"+this.id).css({width:"auto",left:Math.round((this.pageWidth-e.x)/2)+"px"}),t-i<=-.01&&$("#"+this.id).css({height:"auto",top:Math.round((this.pageHeight-e.y)/2)+"px"})),t=!1,(isPhone()||isPad())&&(t=!0),t=transformCSS({scale:1,origin:{x:0,y:0}},t),$("#"+this.id).css(t)},highDefinition:function(){this.scale(this.width,this.height)},scale:function(t,i){var e=this.pageWidth/this.pageHeight,o=this.width/this.height,s=this.pageHeight/i,n=this.pageWidth/t;.01<=e-o&&!PageInfo.pageIsStrech(this.index)&&(n=s=this.pageHeight/i),e-o<=-.01&&!PageInfo.pageIsStrech(this.index)&&(s=n=this.pageWidth/t),$("#"+this.id).css({width:t+"px",height:i+"px",position:"absolute",left:Math.round((this.pageWidth-t*n)/2)+"px",bottom:"auto",top:Math.round((this.pageHeight-i*s)/2)+"px",right:"auto"}),t=!1,(isPhone()||isPad())&&(t=!0),n=transformCSS({scale:{x:n,y:s},origin:{x:0,y:0}},t),$("#"+this.id).css(n)},switchLargeImage:function(t){if(bookConfig.useTheAliCloudChart){var i=this.imageURL.removeStartFrom("?");if(window.isSupportWebp)switch(i+="?x-oss-process=image/format,webp",bookConfig.textClarityEnhancement){case 1:i+="/sharpen,100";break;case 2:i+="/sharpen,150";break;case 3:i+="/sharpen,200"}t&&(this.callback=t),$("#"+this.id).attr("src",i)}},switchNormalImage:function(i,e){var o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(1==t.nextAddress)return bookConfig.useTheAliCloudChart?i?t.yield(getPageDir(s.index,"normal",originTotalPageCount),3):t.jumpTo(2):t.return();if(2!=t.nextAddress){if((o=t.yieldResult)==s.imageURL)return t.return();s.imageURL=o}e&&(s.callback=e),$("#"+s.id).attr("src",s.imageURL),t.jumpToEnd()})}});function randomString(t){t=t||32;var e="";for(i=0;i<t;i++)e+="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678".charAt(Math.floor(48*Math.random()));return e}function canvasReload(t,i,e,o){for(var s=t.width,n=t.height,a=s/(i=Math.round(i)),h=n/(e=Math.round(e)),r=Math.ceil(a/2),g=Math.ceil(h/2),l=t.getContext("2d"),d=l.getImageData(0,0,s,n),c=l.createImageData(i,e),d=d.data,p=c.data,u=0;u<e;u++)for(var f=0;f<i;f++){for(var m=4*(f+u*i),C=0,A=0,b=0,I=0,w=0,x=0,v=(u+.5)*h,k=Math.ceil((u+1)*h),y=Math.floor(u*h);y<k;y++){var B=Math.abs(v-(y+.5))/g,P=(f+.5)*a;B*=B;for(var S,T,W=Math.ceil((f+1)*a),L=Math.floor(f*a);L<W;L++)S=Math.abs(P-(L+.5))/r,1<=(S=Math.sqrt(B+S*S))||(x+=(S=2*S*S*S-3*S*S+1)*d[3+(T=4*(L+y*s))],A+=S,b+=(S=d[3+T]<255?S*d[3+T]/250:S)*d[T],I+=S*d[1+T],w+=S*d[2+T],C+=S)}p[m]=b/C,p[1+m]=I/C,p[2+m]=w/C,p[3+m]=x/A}!0===o?(t.width=i,t.height=e):l.clearRect(0,0,s,n),l.putImageData(c,0,0)}var ImageArrayLoadImage=Class({index:0,type:0,pageWidth:0,pageHeight:0,width:0,height:0,$image:null,imageURL:"",isMirrorSide:"",create:function(e,o,s,n,a,h,r,g){var l,d=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){d.index=e,d.type=s,d.i=i,d.callback=n,d.errorCallback=a,d.pageWidth=h,d.pageHeight=r,d.isMirrorSide=g,l=o,bookConfig.useTheAliCloudChart&&BookInfo.getBook().status_zoom&&(l=l.removeStartFrom("?")),d.imageURL=l,d.$image=$("<img src='"+d.imageURL+"' style='z-index:0;'/>"),bookConfig.isStopMouseMenu||d.$image.css({"-webkit-touch-callout":"default"}),d.loaded=!1,d.$image[0].onload=function(){this.loaded=!0,this.callback&&this.callback(this.$image),this.width=this.$image[0].naturalWidth,this.height=this.$image[0].naturalHeight,this.onResize(this.pageWidth,this.pageHeight)}.bind(d),d.$image[0].onerror=function(){this.loaded=!0,this.errorCallback&&this.errorCallback(this.$image)}.bind(d),bookConfig.textSharpening&&(l="-webkit-optimize-contrast",$.browser.firefox&&(l="-moz-crisp-edges"),$.browser.opera&&(l="-o-crisp-edges"),d.$image.css({"image-rendering":l,"-ms-interpolation-mode":"nearest-neighbor"})),t.jumpToEnd()})},zoomIn:function(t){bookConfig.useTheAliCloudChart&&isPC()?this.switchLargeImage(t):(isPhone()||isPad())&&this.highDefinition()},zoomOut:function(t,i){bookConfig.useTheAliCloudChart&&isPC()?this.switchNormalImage(t,i):(isPhone()||isPad())&&this.resize()},onResize:function(t,i){var e;this.pageWidth=t,this.pageHeight=i,(isPhone()||isPad())&&!this.isMirrorSide&&BookInfo.getBook().status_zoom?this.highDefinition():(t/=i,i=this.width/this.height,this.$image.css({width:"100%",height:"100%",position:"absolute",top:0,left:0}),e=fitPageWidthHeight(this.pageWidth,this.pageHeight,this.width,this.height),.01<=t-i&&!PageInfo.pageIsStrech(this.index)&&this.$image.css({width:"auto",left:Math.round((this.pageWidth-e.x)/2)+"px"}),t-i<=-.01&&!PageInfo.pageIsStrech(this.index)&&this.$image.css({height:"auto",top:Math.round((this.pageHeight-e.y)/2)+"px"}),Math.abs(t-i)<.01&&isPC()&&(i<t?this.$image.css({width:"auto",left:Math.round((this.pageWidth-this.pageHeight*this.width/this.height)/2)+"px"}):this.$image.css({height:"auto",top:Math.round((this.pageHeight-this.pageWidth*this.height/this.width)/2)+"px"})),t=!1,(isPhone()||isPad())&&(t=!0),t=transformCSS({scale:1,origin:{x:0,y:0}},t),this.$image.css(t))},resize:function(){var t=this.pageWidth/this.pageHeight,i=this.width/this.height,e=(this.$image.css({width:"100%",height:"100%",position:"absolute",top:0,left:0}),fitPageWidthHeight(this.pageWidth,this.pageHeight,this.width,this.height));.01<=t-i&&!PageInfo.pageIsStrech(this.index)&&this.$image.css({width:"auto",left:Math.round((this.pageWidth-e.x)/2)+"px"}),t-i<=-.01&&!PageInfo.pageIsStrech(this.index)&&this.$image.css({height:"auto",top:Math.round((this.pageHeight-e.y)/2)+"px"}),t=!1,(isPhone()||isPad())&&(t=!0),t=transformCSS({scale:1,origin:{x:0,y:0}},t),this.$image.css(t)},highDefinition:function(){this.scale(this.width,this.height)},scale:function(t,i){var e=this.pageWidth/this.pageHeight,o=this.width/this.height,s=this.pageHeight/i,n=this.pageWidth/t;.01<=e-o&&(n=s=this.pageHeight/i),e-o<=-.01&&(s=n=this.pageWidth/t),this.$image.css({width:t+"px",height:i+"px",position:"absolute",left:Math.round((this.pageWidth-t*n)/2)+"px",bottom:"auto",top:Math.round((this.pageHeight-i*s)/2)+"px",right:"auto"}),t=!1,(isPhone()||isPad())&&(t=!0),n=transformCSS({scale:{x:n,y:s},origin:{x:0,y:0}},t),this.$image.css(n)},switchLargeImage:function(t){if(bookConfig.useTheAliCloudChart){if(t=this.imageURL.removeStartFrom("?"),window.isSupportWebp)switch(t+="?x-oss-process=image/format,webp",bookConfig.textClarityEnhancement){case 1:t+="/sharpen,100";break;case 2:t+="/sharpen,150";break;case 3:t+="/sharpen,200"}this.loaded&&(this.callback=void 0),$(this.$image[0]).attr("src",t)}},switchNormalImage:function(i,t){var e,o=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(1==t.nextAddress)return bookConfig.useTheAliCloudChart?i?t.yield(getPageDir(o.index,"normal",originTotalPageCount)[o.i],3):t.jumpTo(2):t.return();if(2!=t.nextAddress){if((e=t.yieldResult)==o.imageURL)return t.return();o.imageURL=e}o.loaded&&(o.callback=void 0),$(o.$image[0]).attr("src",o.imageURL),t.jumpToEnd()})},destroy:function(){this.$image=this.$image[0].onload=null}}),ImageArrayLoadSvg=Class({index:0,type:0,pageWidth:0,pageHeight:0,width:0,height:0,$image:null,imageURL:"",isMirrorSide:"",create:function(e,o,s,n,a,h,r,g){var l,d=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){d.index=e,d.type=s,d.i=i,d.callback=n,d.errorCallback=a,d.pageWidth=h,d.pageHeight=r,d.isMirrorSide=g,l=o,bookConfig.useTheAliCloudChart&&!bookConfig.isEncryptionBook&&(l=l.removeStartFrom("?")),d.imageURL=l,d.$image=$("<img src='"+d.imageURL+"' style='z-index:0;'/>"),bookConfig.isStopMouseMenu||d.$image.css({"-webkit-touch-callout":"default"}),d.$image[0].onload=function(){this.callback&&this.callback(this.$image),this.width=this.$image[0].naturalWidth,this.height=this.$image[0].naturalHeight,this.onResize(this.pageWidth,this.pageHeight)}.bind(d),d.$image[0].onerror=function(){this.errorCallback&&this.errorCallback(this.$image)}.bind(d),t.jumpToEnd()})},zoomIn:function(t){},zoomOut:function(t,i){},onResize:function(t,i){this.pageWidth=t,t/=this.pageHeight=i,i=this.width/this.height,this.$image.css({width:"100%",height:"100%",position:"absolute",top:0,left:0});var e=fitPageWidthHeight(this.pageWidth,this.pageHeight,this.width,this.height);.01<=t-i&&!PageInfo.pageIsStrech(this.index)&&this.$image.css({width:"auto",left:Math.round((this.pageWidth-e.x)/2)+"px"}),t-i<=-.01&&!PageInfo.pageIsStrech(this.index)&&this.$image.css({height:"auto",top:Math.round((this.pageHeight-e.y)/2)+"px"}),t=!1,(isPhone()||isPad())&&(t=!0),t=transformCSS({scale:1,origin:{x:0,y:0}},t),$.system.name!=$.system.ANDROID&&this.$image.css(t)},scale:function(t,i){var e=this.pageWidth/this.pageHeight>t/i?this.pageHeight/i:this.pageWidth/t;this.$image.css({width:t+"px",height:i+"px",position:"absolute",left:(this.pageWidth-t*e)/2+"px",bottom:"auto",top:(this.pageHeight-i*e)/2+"px",right:"auto"}),t=!1,(isPhone()||isPad())&&(t=!0),e=transformCSS({scale:e,origin:{x:0,y:0}},t),this.$image.css(e)},destroy:function(){this.$image=this.$image[0].onload=null},resizeSvg:function(t,i){(isPhone()||isPad())&&(t=fitPageWidthHeight(t,i,this.width,this.height),this.scale(t.x,t.y))}}),ImageArrayLoad=Class({index:0,type:0,pageWidth:0,pageHeight:0,width:0,height:0,$image:null,imageURL:"",isMirrorSide:"",create:function(i,e,o,s,n,a){var h,r,g,l,d,c,p=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(1==t.nextAddress)return p.index=i,p.type=e,p.pageWidth=s,p.pageHeight=n,p.isMirrorSide=a,p.callback=o,t.yield(getPageDir(i,e,originTotalPageCount),2);for(h=t.yieldResult,p.imagesURL=h,r=0,p.$images=[],p.loadArray=[],g=function(){r++,this.callback&&r==h.length&&this.callback(h,h,this.$images,this.index)}.bind(p),l=function(t){r++,this.$images.removeElement(t),this.callback&&r==h.length&&this.callback(h,h,this.$images,this.index)}.bind(p),d=0;d<h.length;d++)c=new(-1<h[d].indexOf(".svg")?ImageArrayLoadSvg:ImageArrayLoadImage)(i,h[d],e,g,l,s,n,a),p.$images.push(c.$image),p.loadArray.push(c);t.jumpToEnd()})},zoomIn:function(t){for(var i=0;i<this.loadArray.length;i++)this.loadArray[i].zoomIn&&this.loadArray[i].zoomIn(t)},zoomOut:function(t,i){for(var e=0;e<this.loadArray.length;e++)this.loadArray[e].zoomOut&&this.loadArray[e].zoomOut(t,i)},onResize:function(t,i){this.pageWidth=t,this.pageHeight=i;for(var e=0;e<this.loadArray.length;e++)this.loadArray[e].onResize&&this.loadArray[e].onResize(t,i)},destroy:function(){for(var t=0;t<this.loadArray.length;t++)this.loadArray[t].destroy&&this.loadArray[t].destroy()},resizeSvg:function(t,i){for(var e=0;e<this.loadArray.length;e++)this.loadArray[e].resizeSvg&&this.loadArray[e].resizeSvg(t,i)}}),ImageStageLoad=Class({index:0,type:0,pageWidth:0,pageHeight:0,width:0,height:0,$image:null,imageURL:"",isMirrorSide:!1,create:function(t,i,e,o,s){this.index=t,this.type=i,this.pageWidth=o,this.pageHeight=s,this.callback=e,this.$image=$("<img/>"),bookConfig.isStopMouseMenu||this.$image.css({"-webkit-touch-callout":"default"}),bookConfig.textSharpening&&(i="-webkit-optimize-contrast",$.browser.firefox&&(i="-moz-crisp-edges"),$.browser.opera&&(i="-o-crisp-edges"),this.$image.css({"image-rendering":i,"-ms-interpolation-mode":"nearest-neighbor"})),this.added=!1,this.$image[0].onload=function(){this.callback&&this.callback(this.imageURL,this.imageURL,this.$image[0],t),this.width=this.$image[0].naturalWidth,this.height=this.$image[0].naturalHeight,this.resizeImage(),this.added=!0}.bind(this),this.onResize(o,s)},zoomIn:function(t){},zoomOut:function(t,i){},onResize:function(i,e){var o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(1==t.nextAddress)return s.pageWidth=i,s.pageHeight=e,s.resizeImage(),t.yield(s.getImageUrl(),2);(o=t.yieldResult)!=s.imageURL?s.changeImageSrc(o):s.resize(),t.jumpToEnd()})},changeImageSrc:function(t){this.imageURL=t,this.supportCanvas()?(this.$canvasImage||(this.$canvasImage=$("<img style=''/>")),this.$canvasImage[0].crossOrigin="Anonymous",this.$canvasImage.attr("src",t),this.$canvasImage[0].onload=function(){this.renderCanvas()}.bind(this)):this.$image.attr("src",t)},resize:function(){this.supportCanvas()&&this.renderCanvas()},supportCanvas:function(){return!(0<=window.location.href.indexOf("file:///"))},renderCanvas:function(){var t=$("<canvas><canvas/>")[0],i=t.getContext("2d"),e=window.devicePixelRatio||1,o=this.$canvasImage,s=(n=fitPageWidthHeight(this.pageWidth,this.pageHeight,o[0].naturalWidth,o[0].naturalHeight)).x,n=n.y;t.width=s*e,t.height=n*e,t.style.width=s+"px",t.style.height=n+"px",i.drawImage(o[0],0,0,s*e,n*e),t=t.toDataURL("image/jpeg",1),$(this.$image[0]).attr("src",t)},resizeImage:function(){var t={width:"100%",height:"100%",position:"absolute",top:0,left:0},i=fitPageWidthHeight(this.pageWidth,this.pageHeight,this.width,this.height);.01<=(this.pageWidth-i.x)/this.pageHeight&&!PageInfo.pageIsStrech(this.index)&&(t.width="auto",t.left=Math.round((this.pageWidth-i.x)/2)+"px"),.01<=(this.pageHeight-i.y)/this.pageWidth&&!PageInfo.pageIsStrech(this.index)&&(t.height="auto",t.top=Math.round((this.pageHeight-i.y)/2)+"px"),i=transformCSS({scale:1,origin:{x:0,y:0}},!1),this.$image.css(i),this.$image.css(t)},getImageUrl:function(){var i=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){return 1==t.nextAddress?t.yield(getPageDir(i.index,i.type,originTotalPageCount,i.pageWidth,i.pageHeight),2):t.return(t.yieldResult)})}}),NoneLoad=Class({create:function(t,i,e,o,s,n){window.setTimeout(function(){e&&e("none","none",null,t)},1)}}),PageBackground=Class({create:function(i,e,o,s,n,a,h){var r,g,l=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(1==t.nextAddress)return i&&e?(l.type=e,t.yield(getPageDir(i,e,originTotalPageCount),2)):t.return();switch(r=t.yieldResult,g=getPageSize(i,e),l.imageURL=r,l.load=null,l.parent=h,l.getUrlType(r,g)){case 0:l.load=new CanvasLoad(i,e,o,s,n,a,h);break;case 1:l.load=new ImageLoad(i,e,o,s,n,a,h);break;case 2:l.load=new JsLoad(i,e,o,s,n,a,h);break;case 3:l.load=new SvgLoad(i,e,o,s,n,a,h);break;case 4:l.load=new ImageArrayLoad(i,e,o,s,n,a,h);break;case 5:l.load=new PdfLoad(i,e,o,s,n,a,h);break;case 6:l.load=new ImageStageLoad(i,e,o,s,n,a,h);break;case 7:l.load=new NoneLoad(i,e,o,s,n,a,h)}t.jumpToEnd()})},getUrlType:function(t,i){return this.isPdf(t)?5:i&&isPC()?6:"object"==typeof t?4:"normal"==this.type&&bookConfig.usePdfJs?0:t.startsWith("none")?7:-1<t.indexOf(".js")?2:-1<t.indexOf(".svg")?3:1},isPdf:function(t){return-1<t.indexOf(".pdf")||-1<t.indexOf(".zip")},onResize:function(t,i){this.load&&this.load.onResize&&this.load.onResize(t,i)},zoomIn:function(t,i){this.load&&this.load.zoomIn&&this.load.zoomIn(t,i)},zoomOut:function(t,i){this.load&&this.load.zoomOut&&this.load.zoomOut(t,i)},destroy:function(){this.load&&this.load.destroy&&this.load.destroy()},resizeSvg:function(t,i){this.load&&this.load.resizeSvg&&this.load.resizeSvg(t,i)},enterSide:function(){this.load&&this.load.enterSide&&this.load.enterSide()},leaveSide:function(){this.load&&this.load.leaveSide&&this.load.leaveSide()}}),Side=Class({bookType:0,pageIndex:0,width:0,height:0,pageWidth:0,pageHeight:0,visible:!0,$annotation:null,sideImage:null,sideContent:null,side:null,create:function(t,i,e,o){this.bookType=e,this.pageIndex=t,this.side=$("<div style='position:absolute;will-change:transform;-webkit-backface-visibility:hidden;backface-visibility:hidden;'></div>"),this.side.attr("id",i+t),t=PageInfo.getPageColor(this.pageIndex),this.sideContent=$("<div class='side-content' style='background-color : "+t+";'></div>"),this.side.append(this.sideContent),this.sideImage=$("<div class='side-image' style='position:absolute;z-index:0;width:100%;height:100%;top:0;left:0;'/>"),this.sideContent.append(this.sideImage)},setCSSByStyle:function(t){this.side.css(t)},setCSSByName:function(t){this.side.attr("class",t)},enterSide:virtual_function,leaveSide:virtual_function,remove:virtual_function,zoomInSideImage:virtual_function,zoomOutSideImage:virtual_function,switchLargeImage:virtual_function,switchNormalImage:virtual_function,loading:virtual_function,unLoading:virtual_function,mirrorSide:virtual_function,setFlipShadow:virtual_function,addFlipShadow:virtual_function,resizeFlipShadow:virtual_function,clearFlipShadow:virtual_function,fillContent:virtual_function,fillPage:virtual_function,initSelectTextEvent:virtual_function,destroySelect:virtual_function,initMagnifierEvent:virtual_function,destroyMagnifier:virtual_function,pauseAnimation:virtual_function,startAnimation:virtual_function,addHistoryTexts:virtual_function,highlightSearch:virtual_function,clearHighlight:virtual_function,resetSlider:virtual_function}),BookRestrict=Class({statics:{unLimitPages:[],open:!1,isRestrictPage:function(t){var i;return bookConfig.isEncryptionBook?this.open?"open":(i=this.unLimitPages)&&i[t]?i[t]:"restrict":"none"},getRestrictToken:function(){try{var t;return bookConfig.isEncryptionBook&&window.bookId?(t=(new Date).format("yyyy-MM-dd",!0),window.localStorage.getItem("restrictToken"+window.bookId+t)||""):""}catch(t){}},setRestrictToken:function(t){try{if(!bookConfig.isEncryptionBook||!window.bookId)return"";var i=(new Date).format("yyyy-MM-dd",!0);window.localStorage.setItem("restrictToken"+window.bookId+i,t)}catch(t){}},fillBookContent:function(){this.open=!0,this.fillBooks("flipBook"),this.fillBooks("singlePageBook"),this.fillBooks("catalogBook"),this.fillBooks("slideBook"),this.fillBooks("singleSlideBook")},fillBooks:function(t){(t=global[t])&&(t.loading(),t.fillBookContent())},setRestrictPages:function(t){try{for(var i=1;i<=htmlConfig.bookConfig.totalPageCount;i++){t:{var e=i;try{for(var o=t.split(";"),s=0;s<o.length;s++){var n=o[s];if(0<=n.indexOf("-")){var a=n.split("-");if(Number.isBetween(e,parseInt(a[0]),parseInt(a[1]))){var h=!1;break t}}else if(e==parseInt(n)){h=!1;break t}}}catch(t){}h=!0}BookRestrict.unLimitPages[i]=h?"restrict":"open"}}catch(t){}}}}),Page=Class({create:function(t,i,e,o){this._super(t,i,e,o),this.renderPage(),this.addFlipShadow()},remove:function(){this.sideImage&&this.sideImage.remove(),this.pageBackground&&this.pageBackground.destroy(),this.side.remove(),this.sideImage=this.side=void 0,this.render&&(this.render.taskPool.stop(),this.renderInterval)&&(window.clearInterval(this.renderInterval),this.renderInterval=void 0),this.hasReader&&this.destroySlider()},hasReader:function(){return!!(window.setVueDom&&window.readerConfig&&0<window.readerConfig.pages.length&&window.readerConfig.pages.length>=this.pageIndex&&(this.hasReaderItems()||window.inverseEditor&&window.inverseEditor.length&&window.inverseEditor[this.pageIndex-1]&&window.inverseEditor[this.pageIndex-1].length))},hasReaderItems:function(){return window.readerConfig.pages[this.pageIndex-1]&&(window.readerConfig.pages[this.pageIndex-1].insertPageLink&&window.readerConfig.pages[this.pageIndex-1].insertPageLink.length||window.readerConfig.pages[this.pageIndex-1].items&&window.readerConfig.pages[this.pageIndex-1].items.length||window.readerConfig.pages[this.pageIndex-1].hasSceneAnime||window.readerConfig.pages[this.pageIndex-1].background&&window.readerConfig.pages[this.pageIndex-1].background.isEnable||window.readerConfig.pages[this.pageIndex-1].camera&&window.readerConfig.pages[this.pageIndex-1].camera.isEnable||window.readerConfig.pages[this.pageIndex-1].foreground&&window.readerConfig.pages[this.pageIndex-1].foreground.isEnable||window.readerConfig.pages[this.pageIndex-1].subtitle&&window.readerConfig.pages[this.pageIndex-1].subtitle.isEnable)},loading:function(){"restrict"==BookRestrict.isRestrictPage(this.pageIndex)||this.originalImageLoaded||this.removeLoad||(this.loadingImage||(this.loadingImage=$("<div class='loadingOuter'><img class='loadingImage' src='"+bookConfig.pageLoadingUrl+"'/></div>")),this.sideContent.append(this.loadingImage))},unLoading:function(t){this.hasReader()&&!t||!this.loadingImage||(this.loadingImage.css({display:"none"}),this.loadingImage.remove(),this.loadingImage=null)},restrict:function(){var t;this.restrictImage||(this.restrictImage=$("<div class='loadingOuter'></div>"),t=1==this.pageIndex?getMeta("og:image"):bookConfig.pageRestrictUrl,this.restrictImage.css({"background-image":"url("+t+")"}),1==this.pageIndex?this.restrictImage.css({"background-size":"contain"}):this.restrictImage.css({"background-size":"auto"}),this.mirrorRestrict(),this.sideContent.append(this.restrictImage))},unRestrict:function(){this.restrictImage&&(this.restrictImage.remove(),this.restrictImage=null)},mirrorRestrict:function(){var t;this.isMirrorSide&&this.restrictImage&&(t="scaleX(-1)",bookConfig.FlipDirection&&(t="scaleY(-1)"),this.restrictImage.css({"-webkit-transform":t,"-moz-transform":t,"-o-transform":t,"-ms-transform":t,opacity:.2}))},mirrorSide:function(){this.isMirrorSide=!0;var t="scaleX(-1)";bookConfig.FlipDirection&&(t="scaleY(-1)"),this.sideImage.css({"-webkit-transform":t,"-moz-transform":t,"-o-transform":t,"-ms-transform":t,opacity:.2}),this.rendering&&(this.rendering.destroy(),this.rendering=null),this.unLoading()},fillPreviewImage:function(){var i,e=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(1==t.nextAddress)return bookConfig.loadPreviewImage?e.isMirrorSide||window.sliderJS&&window.sliderJS[e.pageIndex-1]&&sliderJS[e.pageIndex-1].elements&&sliderJS[e.pageIndex-1].elements.length?t.jumpTo(0):t.yield(getPageDir(e.pageIndex,"previewPage",originTotalPageCount),3):t.return();(i=t.yieldResult).startsWith("none")||(e.sideImage.css({"background-image":"url("+i+")","background-size":"contain","background-repeat":"no-repeat","background-position":"center"}),bookConfig.removeLoad&&($("<img src='"+i+"'/>")[0].onload=function(){this.unLoading(),this.unRestrict(),this.removeLoad=!0}.bind(e))),t.jumpToEnd()})},setFlipShadow:function(t,i,e){this.pageFlipShadow&&this.pageFlipShadow.flip(t,i,e)},addFlipShadow:function(){bookConfig.HardInnerPageEnable?this.addHardFlipShadow():this.pageFlipShadow||(this.pageFlipShadow=new("magazine"==bookConfig.pageHighlightType?PageHighlightsFlipShadow:PageFlipShadow)(this.side,this.pageIndex))},addHardFlipShadow:function(){this.pageFlipShadow||(this.pageFlipShadow=new HardPageFlipShadow(this.side))},clearFlipShadow:function(){this.pageFlipShadow&&this.pageFlipShadow.clear(),this.side.removeClass("boxShadow")},resizeFlipShadow:function(t,i){this.pageFlipShadow&&this.pageFlipShadow.resize(t,i)},centerPage:function(){this.isLeft=!1,this.side.attr("class","center-side")},setLeftOrRight:function(t){(this.isLeft=t)?this.side.attr("class","left-side"):this.side.attr("class","right-side")},setUpOrDown:function(t){(this.isUp=t)?this.side.attr("class","up-side"):this.side.attr("class","down-side")},renderPage:function(){this.rendering&&(this.rendering.destroy(),this.rendering=null),this.rendering=new PageRendering(this.side,this.pageIndex,this.bookType),this.rendering.onResize(this.width,this.height),this.rendering.render()},hideMiddleShadow:function(){this.rendering&&this.rendering.hideMiddleShadow()},fillContent:function(t){"restrict"==BookRestrict.isRestrictPage(this.pageIndex)?this.restrict():(this.restrictImage&&this.unRestrict(),this.fillPage(this.pageIndex,t))},fillPage:function(t,i,e){this.isMirrorSide&&!bookConfig.showMirrorSide||t!=this.pageIndex||this.originalImageLoaded||(e||(e="normal",this.isMirrorSide&&(e="thumb")),"normal"==e&&(bookConfig.usePdfJs?(t=function(t,i,e){this.pageBackground.load.renderCnvas(t,i,e,this.pageIndex,this.pageWidth,this.pageHeight,this.initContents.bind(this))}.bind(this),this.initPageBackground(i,"normal",t)):this.initPageBackground(i,"normal",this.initContents.bind(this))),"thumb"==e&&(this.type="thumb",this.initPageBackground(i,"thumb",this.onMirrorSideLoaded.bind(this))))},initPageBackground:function(t,i,e){this.pageBackground&&!t||(this.pageBackground=new PageBackground(this.pageIndex,i,e,this.pageWidth,this.pageHeight,this.isMirrorSide,this.sideImage),this.imageURL=this.pageBackground.imageURL)},initContents:function(t,i,e){imageLoaded[this.pageIndex]=!0,this.onOriginalImageLoaded(t,i,e)},onMirrorSideLoaded:function(t,i,e){t&&(this.originalImageLoaded=!1,this.unLoading(),this.unRestrict(),bookConfig.isStopMouseMenu&&$(e).css({"pointer-events":"none"}),this.sideImage)&&this.sideImage.empty().append(e)},onOriginalImageLoaded:function(t,i,e){if(t){if(this.originalImageLoaded=!0,this.unLoading(),this.unRestrict(),this.sideImage&&("string"==typeof i&&!i.startsWith("none")||"string"!=typeof i))if("string"==typeof i||"object"==typeof i&&0<=i[0].indexOf(".zip"))bookConfig.isStopMouseMenu&&$(e).css({"pointer-events":"none"}),this.sideImage.empty().append(e);else for(this.sideImage.empty(),t=0;t<e.length;t++)bookConfig.isStopMouseMenu&&$(e[t]).css({"pointer-events":"none"}),this.sideImage.append(e[t]),this.imageWidth=e[t][0].naturalWidth,this.imageHeight=e[t][0].naturalHeight;e=fitPageWidthHeight(this.pageWidth,this.pageHeight,this.imageWidth,this.imageHeight),this.pageAttachments||(this.pageAttachments=new PageAttachmentsParser(this.sideContent,e.x,e.y,this.pageWidth,this.pageHeight,this.pageIndex,this.bookType,this)),this.onPageLoaded&&this.onPageLoaded(this.pageIndex)}},onPageLoaded:function(){BookInfo.getBook().onBookPageLoaded(this.pageIndex)},enterSide:function(){this.pageAttachments&&this.pageAttachments.enterSide(),this.pageBackground&&this.pageBackground.enterSide(),window.vuePopDom&&window.vuePopDom.enterPage&&window.vuePopDom.enterPage()},leaveSide:function(){this.pageAttachments&&this.pageAttachments.leaveSide(),this.pageBackground&&this.pageBackground.leaveSide(),window.vuePopDom&&window.vuePopDom.leavePage&&window.vuePopDom.leavePage()},initSelectTextEvent:function(){this.pageAttachments&&this.pageAttachments.select()},destroySelect:function(){this.pageAttachments&&this.pageAttachments.destroySelect()},initMagnifierEvent:function(){this.pageAttachments&&this.pageAttachments.initMagnifierEvent()},destroyMagnifier:function(){this.pageAttachments&&this.pageAttachments.destroyMagnifier()},pauseAnimation:function(){this.pageAttachments&&this.pageAttachments.pauseAnimation()},startAnimation:function(){this.pageAttachments&&this.pageAttachments.startAnimation()},resetSlider:function(){this.pageAttachments&&this.pageAttachments.resetSlider()},destroySlider:function(){this.pageAttachments&&this.pageAttachments.destroySlider()},addHistoryTexts:function(){this.pageAttachments&&this.pageAttachments.addHistoryTexts()},highlightSearch:function(){this.pageAttachments&&this.pageAttachments.highlightSearch()},clearHighlight:function(){this.pageAttachments&&this.pageAttachments.clearHighlight()},initReaderOrSlider:function(){this.pageAttachments&&this.pageAttachments.initReaderOrSlider()},onResize:function(t,i){this.resizePage(t,i),this.resizeFlipShadow(t,i),this.rendering&&this.rendering.onResize(t,i),this.pageAttachments&&(t=fitPageWidthHeight(this.pageWidth,this.pageHeight,this.imageWidth,this.imageHeight),this.pageAttachments.onResize(t.x,t.y,this.pageWidth,this.pageHeight))},resizePage:function(t,i){this.width=t,this.height=i,this.pageWidth=parseInt(100*t/(-parseFloat(bookConfig.visibleAreaLeft)+parseFloat(bookConfig.visibleAreaRight))),this.pageHeight=parseInt(100*i/(parseFloat(bookConfig.visibleAreaBottom)-parseFloat(bookConfig.visibleAreaTop))),this.side.css({width:t,height:i}),this.sideContent.css({width:this.pageWidth,height:this.pageHeight,top:-this.pageHeight*parseFloat(bookConfig.visibleAreaTop)/100,left:-this.pageWidth*parseFloat(bookConfig.visibleAreaLeft)/100}),this.pageBackground&&this.pageBackground.onResize(this.pageWidth,this.pageHeight)},zoomInSideImage:function(){this.pageBackground.zoomIn()},zoomOutSideImage:function(){this.pageBackground.zoomOut()},switchLargeImage:function(){this.pageBackground&&this.pageBackground.zoomIn(this.onSwitchImage.bind(this))},switchNormalImage:function(t){this.pageBackground&&this.pageBackground.zoomOut(t,this.onSwitchImage.bind(this))},onSwitchImage:function(t,i,e){if(t)if("string"==typeof i)bookConfig.isStopMouseMenu&&$(e).css({"pointer-events":"none"}),this.sideImage.empty().append(e),this.imageWidth=e.naturalWidth,this.imageHeight=e.naturalHeight;else{for(this.sideImage.empty(),t=0;t<e.length;t++)bookConfig.isStopMouseMenu&&$(e[t]).css({"pointer-events":"none"}),this.sideImage.append(e[t]);this.imageWidth=e[t][0].naturalWidth,this.imageHeight=e[t][0].naturalHeight}},resizeSvg:function(t,i){try{this.pageBackground.resizeSvg(t,i)}catch(t){}}}).extend(Side),PageAttachment=Class({create:function(){},onResize:function(){},enterSide:function(){},leaveSide:function(){}}),PageMagnifier=Class({create:function(t,i,e,o,s,n){this.$container=t,this.pageIndex=e,this.width=o,this.height=s,this.$parent=i,this.bookType=n,this.sideImage=i.find(".side-image"),this.initMagnifierEvent()},initMagnifierEvent:function(){this.$container.bind("mouseenter",function(t){global.canMagnifierZoom&&global.magnifierZoomBox&&(global.magnifierZoomBox.show(),global.magnifierZoomBox.setImg(this.sideImage,this.sideImage.find("img"),t))}.bind(this)),this.$container.bind("mouseleave",function(){global.canMagnifierZoom&&global.magnifierZoomBox&&global.magnifierZoomBox.hide()}.bind(this)),this.$container.bind("mousemove",function(t){global.canMagnifierZoom&&global.magnifierZoomBox&&(global.magnifierZoomBox.show(),global.magnifierZoomBox.drawBg(t))}.bind(this))},destroyMagnifier:function(){this.$container&&this.$container.remove(),this.$container=void 0},onResize:function(){}}).extend(PageAttachment),PageHighlight=Class({create:function(t,i,e,o,s,n){this.$container=t,this.pageIndex=e,this.width=o,this.height=s,this.$parent=i,this.bookType=n,this.highlightSearch()},highlightSearch:function(){var t=getSearchRealPageIndex(this.pageIndex);if(-1!=t){for(var i=!1,e=0;e<positionForPages.length;e++)if(positionForPages[e]&&positionForPages[e].page&&positionForPages[e].page==t){i=!0;break}i?highlightSearchFun(this.$container,t):(i=String.format(bookConfig.searchPositionJS,t),(i=1<this.pageIndex?i.replace("[1]","["+t+"]"):i).match(/\.*\/?(\w+\/)*\w+(\[|\()?\d+(\]|\))?\.js/gi)&&loadJavascript(fixURLValue(i),function(){highlightSearchFun(this.$container,t)}.bind(this),function(){}))}},clearHighlight:function(){this.$container.css({"background-image":""}),this.$container.remove(),clearHighlightFun(this.$container)},onResize:function(){}}).extend(PageAttachment),PageAnnotation=Class({create:function(t,i,e,o,s,n){this.$container=t,this.pageIndex=e,this.width=o,this.height=s,this.$parent=i,this.bookType=n,this.pageAnnotation=new Annotation(this.$container,e,o,s),global.annotationCookie||this.bookType!=BookInfo.getBookType()||(global.annotationCookie=new AnnotationCookie(t,this.width,this.height)),this.enterSide()},enterSide:function(){isBelowIE9()&&$(this.$container).css({"background-image":"url('aaaa.a')"}),global.annotationCookie&&this.bookType==BookInfo.getBookType()&&global.annotationCookie.repaintCookie(this.width,this.height,this.pageIndex-1,this.$container)},leaveSide:function(){},onResize:function(t,i){t==this.width&&i==this.height||(this.width=t,this.height=i,this.pageAnnotation.onResize(t,i,1,this.$container),global.annotationCookie&&this.bookType==BookInfo.getBookType()&&global.annotationCookie.repaintCookie(t,i,this.pageIndex-1,this.$container))}}).extend(PageAttachment),PageSelect=Class({create:function(t,i,e,o,s,n){this.$container=t,this.pageIndex=e,this.width=o,this.height=s,this.$parent=i,this.bookType=n,this.initEvent()},initEvent:function(){var t=new Hammer.Manager(this.$container[0]);t.add(new Hammer.Pan({threshold:0})),t.add(new Hammer.Tap),t.on("panstart panmove panend",this.selectText.bind(this)),t.on("tap",this.onTap.bind(this))},onTap:function(){this.$container&&this.$container.empty(),this.hint&&this.hint.hide()},destroySelect:function(){this.$container&&this.$container.remove(),this.hint&&this.hint.destroy(),this.$container=this.hint=void 0},selectText:function(t){if(!BookInfo.getBook().flipping&&global.positionForPages){for(e=0;e<positionForPages.length;e++)if(positionForPages[e]&&positionForPages[e].page&&positionForPages[e].page==getSearchRealPageIndex(this.pageIndex)){var i=positionForPages[e].positions;break}if(this.$container.empty(),i){if(this.searchTextHighlight||(this.searchTextHighlight=new SearchTextHighlight(this.width,this.height,rightToLeft),this.searchTextHighlight.loadFromPage(i),this.highlightDOM=new SearchHighlightDOM(this.$container)),i=this.getArea(t),i=this.searchTextHighlight.selectText(i),this.highlightText="",i){for(var e=i.getRects(),o=0;o<e.length;){for(var s=[],n=0;n<4;n++)s[n]=e[o+n];this.highlightDOM.addHighlight(s),o+=4}this.highlightText=i.getText()}"panend"==t.type&&(isPhone()||isPad()?this.highlightText&&((phoneCopyForm=global.phoneCopyForm?phoneCopyForm:new CopyForm({parent:tmpContainer,formType:"copy",rightToLeft:rightToLeft})).fillText(this.highlightText),phoneCopyForm.show()):(i=t.srcEvent.pageX,t=t.srcEvent.pageY,this.hint||(this.hint=new divHint(getLanguage("lblCopy","Copy"),i,t),this.hint.addClass("hint_active"),this.hint.instance.bind(_event._end,function(){this.highlightText&&this.copyToClipboard(this.highlightText)}.bind(this))),this.highlightText?(this.hint.show(i,t),this.hint.moveto(i,t)):this.hint.hide()))}}},copyToClipboard:function(t){global.tmpCopyInput||(global.tmpCopyInput=$("<textarea style='position:absolute;top:-100%;right:-50px;'></textarea>"),$("body").append(global.tmpCopyInput)),global.tmpCopyInput.val(t),copyFromObj(global.tmpCopyInput)},getArea:function(t){"panstart"==t.type&&(this.selectStartPoint=this.getRealPoint(t.srcEvent));var i=this.$container.width(),e=this.$container.height(),o=BookInfo.getBook().flipBook.parameters?BookInfo.getBook().flipBook.parameters.scale:1;return{left:this.selectStartPoint[0]/(i*o),top:this.selectStartPoint[1]/(e*o),right:(this.selectStartPoint[0]+t.deltaX)/(i*o),bottom:(this.selectStartPoint[1]+t.deltaY)/(e*o)}},getRealPoint:function(t){var i,e;if((t=t.originalEvent&&t.originalEvent.changedTouches?t.originalEvent.changedTouches:t.changedTouches||[t])&&!(3<=t.length))return i=this.$container.offset().left,e=this.$container.offset().top,[t[0].pageX-i,t[0].pageY-e]},onResize:function(){}}).extend(PageAttachment),a=hddr.soo2,i=0,PageAnimation=Class({create:function(t,i,e,o,s,n,a){this.$container=t,this.pageIndex=e,this.page=a,this.width=o,this.height=s,this.$parent=i,this.bookType=n,this.isAddAMSlider=this.isAddReader=!1,this.sliderPlayerArray=[],this.initAnimation(),this.onResize(o,s)},initAnimation:function(){this.Items=new PageEditorParser(this.$container,this.width,this.height).createItemsForPage(this.pageIndex),this.Items.find("Youtube").each(function(t){t.hide()}),this.initReaderOrSlider(),this.isAddAMSlider||this.slider||this.initSlider(),this.preventMMBackEvent(),this.hasReader()&&this.isHiddenEditor()&&this.page.unLoading(!0)},isHiddenEditor:function(){return!(!bookConfig.isPreview||bookConfig.previewPages&&-1!==(Array.isArray(bookConfig.previewPages)&&bookConfig.previewPages.indexOf(this.pageIndex)))},slider:null,playSliderAfterLoad:!1,clearAnimation:function(){this.destroyMM(),this.initMMItems()},destroyMM:function(){this.Items.each(function(t){t.destroy(),t.dialog&&t.dialog.destroy()}),this.destroySlider(),this.$container.empty()},initMMItems:function(){this.Items=new ObjectPool},initReader:function(){!this.hasReader()||this.isHiddenEditor()||BookInfo.getBookType()!==this.bookType||this.slider||this.isAddReader||(this.isAddReader=!0,this.$container.addClass(this.getBookPageStr()+"_animatePanel_"+(this.pageIndex-1)),this.$readerContainer=$("<div class='reader reader_"+(this.pageIndex-1)+"' style='width:100%;height:100%;position:absolute;left:0;top:0;'></div>"),this.$container.append(this.$readerContainer),this.$container.show(),this.createVueDomTime&&(clearTimeout(this.createVueDomTime),this.createVueDomTime=null),this.createVueDomTime=setTimeout(this.createVueDom.bind(this),100))},hasReader:function(){return!!(window.setVueDom&&window.readerConfig&&0<window.readerConfig.pages.length&&window.readerConfig.pages.length>=this.pageIndex&&(this.hasReaderItems()||window.inverseEditor&&window.inverseEditor.length&&window.inverseEditor[this.pageIndex-1]&&window.inverseEditor[this.pageIndex-1].length))},hasReaderItems:function(){return window.readerConfig.pages[this.pageIndex-1]&&(window.readerConfig.pages[this.pageIndex-1].insertPageLink&&window.readerConfig.pages[this.pageIndex-1].insertPageLink.length||window.readerConfig.pages[this.pageIndex-1].items&&window.readerConfig.pages[this.pageIndex-1].items.length||window.readerConfig.pages[this.pageIndex-1].hasSceneAnime||window.readerConfig.pages[this.pageIndex-1].background&&window.readerConfig.pages[this.pageIndex-1].background.isEnable||window.readerConfig.pages[this.pageIndex-1].camera&&window.readerConfig.pages[this.pageIndex-1].camera.isEnable||window.readerConfig.pages[this.pageIndex-1].foreground&&window.readerConfig.pages[this.pageIndex-1].foreground.isEnable||window.readerConfig.pages[this.pageIndex-1].subtitle&&window.readerConfig.pages[this.pageIndex-1].subtitle.isEnable)},getBookPageStr:function(){var t="double";return t=1===this.bookType?"single":t},createVueDom:function(){console.log("createVueDom-"+this.pageIndex),window.setVueDom({dom:"."+this.getBookPageStr()+"_animatePanel_"+(this.pageIndex-1)+" .reader_"+(this.pageIndex-1),pageStr:this.getBookPageStr(),pageIndex:this.pageIndex-1,width:this.width,height:this.height}).then(function(t){this.slider=t,this.slider.resize(this.width,this.height),t.reset(),this.page.unLoading(!0),this.slider.getAutoPlayArray&&(this.sliderPlayerArray=this.slider.getAutoPlayArray())}.bind(this))},initReaderOrSlider:function(){this.hasReader()&&!this.slider&&this.initReader()},initSlider:function(){var t;window.hiSliderFactory&&(t=(global.sliderJS||[])[this.pageIndex-1])&&0<t.elements.length&&!this.isHiddenEditor()&&(this.slider=window.hiSliderFactory({container:this.$container,slide:t,initialWidth:this.width,initialHeight:this.height,focusOnFunc:this.focusOn.bind(this),resetFocusFunc:this.resetFocus.bind(this)}),this.isAddAMSlider=!0,this.slider.resize(this.width,this.height))},playSlider:function(){this.clearSliderTimeout(),!this.isAddAMSlider&&this.hasReader()&&!this.isHiddenEditor()&&this.isAddReader?this.slider?(this.playTimeout&&(clearTimeout(this.playTimeout),this.playTimeout=null),this.slider.play()):this.playTimeout=setTimeout(this.playSlider.bind(this),100):this.slider?(this.slider.play(),this.playSliderAfterLoad=!1):this.playSliderAfterLoad=!0},replaySlider:function(){this.isHiddenEditor()||(this.clearSliderTimeout(),!this.isAddAMSlider&&this.hasReader()&&this.isAddReader?this.slider?(this.playTimeout&&(clearTimeout(this.playTimeout),this.playTimeout=null),this.slider.replay()):this.playTimeout=setTimeout(this.replaySlider.bind(this),100):this.slider?(this.slider.replay(),this.playSliderAfterLoad=!1):this.playSliderAfterLoad=!0)},sliderEnterPage:function(){window.vuePopDom&&window.vuePopDom.sliderEnterPage&&window.vuePopDom.sliderEnterPage()},sliderLeavePage:function(){window.vuePopDom&&window.vuePopDom.sliderLeavePage&&window.vuePopDom.sliderLeavePage(),this.slider&&this.slider.startFlip&&this.slider.startFlip()},clearSliderTimeout:function(){this.playTimeout&&(clearTimeout(this.playTimeout),this.playTimeout=null)},resetSlider:function(){this.resetFocus(0),this.slider&&this.slider.reset(),this.playSliderAfterLoad=!1},destroySlider:function(){this.hasReader()&&this.slider&&(this.slider.destoryed&&this.slider.destoryed(),this.slider=null,this.isAddReader=!1,this.$container.find(".app").remove())},pauseSlider:function(){this.slider&&this.slider.pause()},resizeSlider:function(t,i){this.slider&&this.bookType===BookInfo.getBookType()&&this.slider.resize(t,i)},onResize:function(i,e){this.width=i,this.height=e,this.resizeSlider(i,e),this.Items.each(function(t){t.onResize(i,e),t.onResizePopup(windowWidth,windowHeight)})},preventMMBackEvent:function(){document.body.ondragstart=function(){return!1};var t="mousedown touchstart pointerdown mouseover mousemove";(isPhone()||isPad())&&(t="mousedown touchstart mouseover mousemove"),$(this.$container).on(t,".hi-action",function(t){t.stopPropagation()}),$(this.$container).on(t,".slider-action",function(t){t.stopPropagation()}),$(this.$container).on(t,".flip-action",function(t){t.stopPropagation()})},focusOn:function(t){this.option=t,this.focusIng=!0;var i=t.pageWidth,e=t.duration/1e3,o=this.width/(t.width*this.width/i),i=-t.left*o*this.width/i;t=-t.top*o*this.height/t.pageHeight,o=Math.max(1,o),i=Number.between(i,(1-o)*this.width,0),t=Number.between(t,(1-o)*this.height,0),o=transformCSS({origin:{x:0,y:0},tran:{x:i,y:t},scale:o}),animateOnce(this.$parent,o,e,function(){},"%stransform")},resetFocus:function(t){var i;this.focusIng&&(t=t||0,i=transformCSS({origin:{x:0,y:0},tran:{x:0,y:0},scale:1}),animateOnce(this.$parent,i,t/1e3,function(){this.focusIng=!1}.bind(this),"%stransform"))},enterSide:function(){this.Items.each(function(t){t.showAnimate&&t.showAnimate(),t.audio&&t.audio.enterPlay&&t.audio.play&&t.audio.play(),t.nameLike&&(t.nameLike("youtube","flashSwf","button","Video","LoopControlVideo")&&t.show&&t.show(),(t.nameLike("youtube")||t.nameLike("vimeo"))&&t.playVideo&&t.getPlayEvt()==PageEditor.PlayEvt.EVT_PLAY&&t.playVideo(),t.nameLike("audio")&&(t.isReplay()&&t.backTime(),t.getPlayEvt()==PageEditor.PlayEvt.EVT_PLAY&&t.playAudio(),t.background)&&t.isBackgroundAudio()&&t.playAudio(),(t.nameIs("Video")||t.nameIs("LoopControlVideo"))&&(t.isReplay()&&t.backTime(),t.getPlayEvt()==PageEditor.PlayEvt.EVT_PLAY)&&t.playVideo(),t.nameIs("EmbeddedSlideshow","AlphaTransitionBanner","Carousel","TextAmin","AText","StarText","HotSpots","EffectText","Banner")&&t.play&&t.play(),t.nameIs("Link")&&t.flash(),t.nameLike("Image")&&(t.resetImgSrc(),t.showEffect()),t.nameLike("Button"))&&t.runAnimation&&t.runAnimation()}),(this.isAddReader||this.slider)&&(console.log("replaySlider",this.pageIndex),this.replaySlider()),this.slider&&this.slider.endFlip&&this.slider.endFlip(),global.assistant&&global.assistant.refresh()},leaveSide:function(){this.Items.each(function(t){t.pause&&t.pause(),t.stop&&t.stop(),t.stopFlash&&t.stopFlash(),t.audio&&t.audio.stop&&t.audio.stop(),t.dialog&&t.dialog.hide(),t.nameLike&&(t.nameLike("youtube","flashSwf","button","Video","LoopControlVideo")&&t.hide&&t.hide(),t.nameLike("youtube","vimeo")&&t.pauseVideo&&t.pauseVideo(),t.nameLike("audio")&&t.pauseAudio&&t.pauseAudio(),t.nameIs("LoopControlVideo")&&t.pauseVideo&&t.pauseVideo(),t.nameIs("Video")&&t.getStopEvt()==PageEditor.PlayEvt.EVT_STOP&&t.pauseVideo(),t.nameLike("Image")&&(t.removeImgSrc(),t.hideEffect()),t.nameLike("Button")&&t.stopAnimation&&t.stopAnimation(),t.nameLike("zoom"))&&global.popZoomBox&&(global.popZoomBox.popZoom.hide(),global.popZoomBox.visible=!0)}),global.annotationPannel&&global.annotationPannel.resetAnnoConfig(),this.sliderLeavePage()},pauseAnimation:function(){this.Items.each(function(t){t.nameLike&&(t.nameIs("EmbeddedSlideshow","AlphaTransitionBanner","Carousel","TextAmin","AText","StarText","HotSpots","Banner")&&(t.pause&&t.pause(),t.stop&&t.stop(),t.stopFlash)&&t.stopFlash(),t.nameLike("Button"))&&t.stopAnimation&&t.stopAnimation()}),this.isAddReader&&(this.pauseSlider(),this.slider)&&this.slider.startFlip&&this.slider.startFlip()},startAnimation:function(){this.Items.each(function(t){t.nameLike&&(t.nameIs("EmbeddedSlideshow","AlphaTransitionBanner","Carousel","TextAmin","AText","StarText","HotSpots","Banner")&&t.play&&t.play(),t.nameLike("Button"))&&t.runAnimation&&t.runAnimation()}),this.isAddReader&&(this.playSlider(),this.slider)&&this.slider.endFlip&&this.slider.endFlip()},setLinkPosition:function(t){for(var i=0;i<t.length&&t[i]!=this.pageIndex;i++);this.Items.find("link").each(function(t){t.setPageBgImage(this.bGImageWidth,this.bGImageHeight,!0)}.bind(this)),this.Items.find("zoom").each(function(t){t.setPageBgImage(this.bGImageWidth,this.bGImageHeight,!0)}.bind(this))}}),PageAttachmentsFactory=Class({createAttachment:function(t,i,e,o,s,n,a,h){switch(t){case"animation":var r=new PageAnimation(i,n,s,e,o,a,h);r.setLinkPosition(BookInfo.getCurrentPages());break;case"annotation":r=new PageAnnotation(i,n,s,e,o,a);break;case"highlight":r=new PageHighlight(i,n,s,e,o,a);break;case"magnifier":r=new PageMagnifier(i,n,s,e,o,a);break;case"select":r=new PageSelect(i,n,s,e,o,a)}return r}}),PageAttachmentsParser=Class({Package:"PageAttachment",create:function(t,i,e,o,s,n,a,h){this.parent=t,this.width=i,this.page=h,this.height=e,this.pageWidth=o,this.pageHeight=s,this.pageIndex=n,this.bookType=a,this.createAttachmentsForPage()},createAttachmentsForPage:function(){this.Items=new ObjectPool,this.factory=new PageAttachmentsFactory,(this.hasAnimation()||bookConfig.AnnotationButtonVisible)&&(this.$animation=$("<div id='animation"+this.bookType+"-"+this.pageIndex+"' style='width:100%;height:100%;position:absolute;left:0;top:0;z-index:4;'></div>"),this.$animation.css({width:this.pageWidth+"px",height:this.pageHeight+"px",margin:"auto"}),this.pageAnimation=this.factory.createAttachment("animation",this.$animation,this.pageWidth,this.pageHeight,this.pageIndex,this.parent,this.bookType,this.page),this.Items.add(this.pageAnimation),this.parent.append(this.$animation),this.onResizeAnimation(this.width,this.height,this.pageWidth,this.pageHeight)),this.createAnnotation(),bookConfig.SearchButtonVisible&&window.frmSearch&&this.highlightSearch()},hasAnimation:function(){var t=this.pageIndex-1;return!this.isHiddenEditor()&&!!(global.pageEditor&&(!pageEditor.pageAnnos&&pageEditor[t]&&0<pageEditor[t].length||pageEditor.pageAnnos&&pageEditor.pageAnnos[t]&&0<pageEditor.pageAnnos[t].length)||global.sliderJS&&sliderJS[t]&&0<sliderJS[t].elements.length||global.readerConfig&&global.readerConfig.pages&&0<global.readerConfig.pages.length&&this.hasReaderItems()||global.inverseEditor&&global.inverseEditor.length&&global.inverseEditor[t]&&global.inverseEditor[t].length||window.assistantConfig)},hasReaderItems:function(){return window.readerConfig.pages[this.pageIndex-1]&&(window.readerConfig.pages[this.pageIndex-1].insertPageLink&&window.readerConfig.pages[this.pageIndex-1].insertPageLink.length||window.readerConfig.pages[this.pageIndex-1].items&&window.readerConfig.pages[this.pageIndex-1].items.length||window.readerConfig.pages[this.pageIndex-1].hasSceneAnime||window.readerConfig.pages[this.pageIndex-1].background&&window.readerConfig.pages[this.pageIndex-1].background.isEnable||window.readerConfig.pages[this.pageIndex-1].camera&&window.readerConfig.pages[this.pageIndex-1].camera.isEnable||window.readerConfig.pages[this.pageIndex-1].foreground&&window.readerConfig.pages[this.pageIndex-1].foreground.isEnable||window.readerConfig.pages[this.pageIndex-1].subtitle&&window.readerConfig.pages[this.pageIndex-1].subtitle.isEnable)},isHiddenEditor:function(){return!(!bookConfig.isPreview||bookConfig.previewPages&&-1!==(Array.isArray(bookConfig.previewPages)&&bookConfig.previewPages.indexOf(this.pageIndex)))},select:function(){this.pageSelect||(this.$select=$("<div id='select"+this.bookType+"-"+this.pageIndex+"' style='cursor:text;width:100%;height:100%;position:absolute;left:0;top:0;z-index:4;'></div>"),this.$select.css({width:this.width+"px",height:this.height+"px",bottom:0,right:0,margin:"auto"}),this.pageSelect=this.factory.createAttachment("select",this.$select,this.width,this.height,this.pageIndex,this.parent,this.bookType),this.Items.add(this.pageSelect),this.parent.append(this.$select))},destroySelect:function(){this.Items.find("PageSelect").each(function(t){t.destroySelect()}),this.Items.remove(this.pageSelect),this.$select=void 0,this.pageSelect=null},initMagnifierEvent:function(){this.pageMagnifier||(this.$magnifier=$("<div class='mgnifierBox' style='width:100%;height:100%;position:absolute;z-index:10;cursor:none;top:0;bottom:0;left:0;right:0;margin:auto;'></div>"),this.$magnifier.css({width:this.width+"px",height:this.height+"px",bottom:0,right:0,margin:"auto"}),this.pageMagnifier=this.factory.createAttachment("magnifier",this.$magnifier,this.width,this.height,this.pageIndex,this.parent,this.bookType),this.Items.add(this.pageMagnifier),this.parent.append(this.$magnifier))},destroyMagnifier:function(){this.Items.find("PageMagnifier").each(function(t){t.destroyMagnifier()}),this.Items.remove(this.pageMagnifier),this.$magnifier=void 0,this.pageMagnifier=null},addHistoryTexts:function(){this.Items.find("PageAnnotation").each(function(t){t.enterSide()})},highlightSearch:function(){var t;this.pageHighlight||(t=!0,window.frmSearch&&frmSearch.visible&&0<frmSearch.getList().length&&(t=!1),t=(!window.frmSearch||!isPhone()&&!isPad()||!window.frmSearch.input.val())&&t)||(this.$highlight=$("<div id='highlight"+this.bookType+"-"+this.pageIndex+"' style='pointer-events:none;width:100%;height:100%;position:absolute;left:0;top:0;z-index:4;' class='kong'></div>"),this.$highlight.css({width:this.width+"px",height:this.height+"px",bottom:0,right:0,margin:"auto"}),this.pageHighlight=this.factory.createAttachment("highlight",this.$highlight,this.width,this.height,this.pageIndex,this.parent,this.bookType),this.Items.add(this.pageHighlight),this.parent.append(this.$highlight))},clearHighlight:function(){this.Items.find("PageHighlight").each(function(t){t.clearHighlight()}),this.Items.remove(this.pageHighlight),this.$highlight=void 0,this.pageHighlight=null},createAnnotation:function(){var t;bookConfig.AnnotationButtonVisible&&!this.pageAnnotation&&(t=fitPageWidthHeight(this.pageWidth,this.pageHeight,bookConfig.largePageWidth,bookConfig.largePageHeight),this.$annotation=this.$animation,this.pageAnnotation=this.factory.createAttachment("annotation",this.$annotation,t.x,t.y,this.pageIndex,this.parent,this.bookType),this.Items.add(this.pageAnnotation))},enterSide:function(){this.Items.each(function(t){t.enterSide()})},leaveSide:function(){this.Items.each(function(t){t.leaveSide()}),this.destroySelect()},pauseAnimation:function(){this.Items.find("PageAnimation").each(function(t){t.pauseAnimation()})},startAnimation:function(){this.Items.find("PageAnimation").each(function(t){t.startAnimation()})},resetSlider:function(){this.Items.find("PageAnimation").each(function(t){t.resetSlider()})},destroySlider:function(){this.Items.find("PageAnimation").each(function(t){t.destroySlider()})},initReaderOrSlider:function(){this.Items.each(function(t){t.initReaderOrSlider&&t.initReaderOrSlider()})},removeAttachment:function(){console.log("destroy removeAttachment"),this.attachment&&this.destroyMM()},onResize:function(i,e,t,o){this.width=i,this.height=e,this.pageWidth=t,this.pageHeight=o,this.onResizeAnimation(i,e,t,o),this.$select&&this.$select.css({width:this.width+"px",height:this.height+"px"}),this.$magnifier&&this.$magnifier.css({width:this.width+"px",height:this.height+"px"}),this.$highlight&&this.$highlight.css({width:this.width+"px",height:this.height+"px"}),this.Items.each(function(t){t!=this.pageAnimation&&t!=this.pageAnnotation&&t.onResize(i,e)}.bind(this))},onResizeAnimation:function(t,i,e,o){this.$animation&&(t=fitPageWidthHeight(e,o,bookConfig.largePageWidth,bookConfig.largePageHeight),this.$animation.css({width:e+"px",height:o+"px",left:(e-t.x)/2+"px",top:(o-t.y)/2+"px"}),this.pageAnimation.onResize(t.x,t.y),this.pageAnnotation)&&(this.$annotation.css({width:t.x+"px",height:t.y+"px",left:(e-t.x)/2+"px",top:(o-t.y)/2+"px"}),this.pageAnnotation.onResize(t.x,t.y))},resizeOnMobile:function(){var t=1024,i=1024;BookInfo.isDoublePage()&&this.bookType==BookType.normal_book&&(i=t=768),t=fitPageWidthHeight(t,i,bookConfig.largePageWidth,bookConfig.largePageHeight),this.pageAnimation.onResize(Math.ceil(t.x),Math.ceil(t.y)),this.scale(Math.ceil(t.x),Math.ceil(t.y))},highDefinition:function(){var t=6*Math.min(windowWidth,windowHeight),i=6*Math.min(windowWidth,windowHeight);isPad()&&(t=3*Math.min(windowWidth,windowHeight),i=3*Math.min(windowWidth,windowHeight)),t=fitPageWidthHeight(t,i,bookConfig.largePageWidth,bookConfig.largePageHeight),this.pageAnimation.onResize(Math.ceil(t.x),Math.ceil(t.y)),this.scale(Math.ceil(t.x),Math.ceil(t.y))},scale:function(t,i){var e=fitPageWidthHeight(this.pageWidth,this.pageHeight,bookConfig.largePageWidth,bookConfig.largePageHeight).y/i;this.$animation.css({width:t+"px",height:i+"px",left:(this.pageWidth-t*e)/2+"px",top:(this.pageHeight-i*e)/2+"px"}),t=!1,(isPhone()||isPad())&&(t=!0),e=transformCSS({scale:e,origin:{x:0,y:0}},t),this.$animation.css(e)}}),BookPage=(bdor[33]=function(t,i){return t/bdor[30](i,20)},bdor[36]=36,global.bdor[35]=3,global.bdor[37]=80,Class({}).extend(Page)),imageLoaded=[],PageInterface=(bdor[33]=function(t,i){return t/bdor[30](i,20)},bdor[36]=36,global.bdor[35]=3,global.bdor[37]=80,Class({zIndex:0,pageIndex:0,visible:!1,pageWidth:0,pageHeight:0,maskWidth:0,maskHeight:0,pageMask:null,page:null,isSingleBook:!1,bookType:0,isHardPage:!1,$page:null,opacity:1,create:function(t,i,e,o,s){this.pageIndex=t,this.visible=!0,this.isSingleBook=e,this.bookType=o,this.newPage(t,i,o,s)},newPage:function(t,i,e,o){this.page=new BookPage(t,i,e,o)},setCSSByStyle:function(t){this.$page.css(t)},setCSSByName:function(t){this.$page.attr("class",t)},setLeftOrRight:virtual_function,setUpOrDown:virtual_function,setVisible:function(t){this.$page&&(bookConfig.HardInnerPageEnable?t?this.$page.show():this.$page.hide():t?this.$page.css("visibility","visible"):this.$page.css("visibility","hidden")),this.visible=t},onResize:virtual_function,getWidth:function(){return this.width},setZIndex:function(t){this.zIndex=t,this.$page.css({"z-index":t})},getZIndex:function(){return this.zIndex},beginToFlip:virtual_function,enterSide:function(){this.page&&this.page.enterSide()},leaveSide:function(){this.page&&this.page.leaveSide()},remove:function(){this.page.remove(),this.page=void 0,this.$page.remove(),this.$page=void 0},zoomInSideImage:function(){this.page&&this.page.zoomInSideImage()},zoomOutSideImage:function(){this.page&&this.page.zoomOutSideImage()},switchLargeImage:function(){this.page&&this.page.switchLargeImage()},switchNormalImage:function(t){this.page&&this.page.switchNormalImage(t)},resizeSvg:function(t,i){this.page&&this.page.resizeSvg(t,i)},loading:function(){this.page&&this.page.loading()},mirrorSide:function(){this.page&&this.page.mirrorSide()},fillPreviewImage:function(){this.page&&this.page.fillPreviewImage()},setFlipShadow:function(t,i,e){this.page&&this.page.setFlipShadow(t,i,e)},addFlipShadow:function(){},clearFlipShadow:function(){this.page&&this.page.clearFlipShadow()},addAttachment:function(){this.page&&this.page.addAttachment()},fillContent:function(){this.page&&this.page.fillContent()},fillPage:function(t,i){this.page&&this.page.fillPage(t,i)},initSelectTextEvent:function(){this.page&&this.page.initSelectTextEvent()},destroySelect:function(){this.page&&this.page.destroySelect()},initMagnifierEvent:function(){this.page&&this.page.initMagnifierEvent()},destroyMagnifier:function(){this.page&&this.page.destroyMagnifier()},pauseAnimation:function(){this.page&&this.page.pauseAnimation()},startAnimation:function(){this.page&&this.page.startAnimation()},addHistoryTexts:function(t){this.page&&this.page.addHistoryTexts(t)},highlightSearch:function(){this.page&&this.page.highlightSearch()},clearHighlight:function(){this.page&&this.page.clearHighlight()},resetSlider:function(){this.page&&this.page.resetSlider()},initReaderOrSlider:function(){this.page&&this.page.initReaderOrSlider()},destroySlider:function(){this.page&&this.page.destroySlider()}})),NormalPage=(bdor[38]=bdor[30](37,40),Class({create:function(t,i,e,o,s){this._super(t,i,e,o,s),this.$page=$("<div style='will-change: transform;-webkit-backface-visibility:hidden;backface-visibility:hidden;'></div>"),this.$page.attr("id",i+"Mask"+t),this.setMaskCss(),this.$page.append(this.page.side)},setMaskCss:function(){var t;bookConfig.FlipDirection?(t="vertical-mask",this.isSingleBook&&rightToLeft&&(t="single-book-right-vertical-mask"),this.isSingleBook&&!rightToLeft&&(t="single-book-vertical-mask")):(t="mask",this.isSingleBook&&rightToLeft&&(t="single-book-right-mask"),this.isSingleBook&&!rightToLeft&&(t="single-book-mask")),this.setCSSByName(t)},onResize:function(t,i,e){this.pageWidth=t,this.pageHeight=i,e=e||1;var o=parseInt(Math.sqrt(Math.pow(t,2)+Math.pow(i,2)));0!=(o-i)%2&&(o+=1),this.width=o,this.$page.css({width:o,height:o,opacity:e}),this.page&&this.page.onResize(t,i),bookConfig.FlipDirection?(this.$page.css({left:"50%","margin-left":-this.width/2+"px"}),this.page&&this.page.side.css({left:(this.width-t)/2})):(this.$page.css({top:"50%","margin-top":-this.width/2+"px"}),this.page&&this.page.side.css({top:(this.width-i)/2}))},setLeftOrRight:function(t){var i=this.isSingleBook?"left-single-mask-side":"left-mask-side";t||(i=this.isSingleBook?"right-single-mask-side":"right-mask-side"),this.setCSSByName(i),this.page&&this.page.setLeftOrRight(t)},setUpOrDown:function(t){var i=this.isSingleBook?"up-single-mask-side":"up-mask-side";t||(i=this.isSingleBook?"down-single-mask-side":"down-mask-side"),this.setCSSByName(i),this.page&&this.page.setUpOrDown(t)},beginToFlip:function(){this.setMaskCss()}}).extend(PageInterface)),bookMouseDown=(bdor[39]=8,!1),nBookStatu=0,Book=(global.bdor[200]=function(t){return bdor[t]},Class({bookType:void 0,parent:null,width:0,height:0,flippingTime:600,currentPageIndex:1,rightToLeft:!1,pageArray:null,pageWidth:0,pageHeight:0,visible:!1,create:function(t){this.init(t)},init:function(t){this.parent=t.parent,this.currentPageIndex=t.currentPageIndex,this.flippingTime=1e3*t.flippingTime,this.rightToLeft=t.rightToLeft,this.pageArray=[]},getBookType:function(){return this.bookType},onBookPageLoaded:function(t){if(!this.flipping&&this.visible&&BookInfo.getBook()==this){var i=this.getCurrentPages();if(i)for(var e=0;e<i.length;e++){var o=i[e];this.pageArray[o]&&t==o&&this.pageArray[o].enterSide()}}},fillBookContent:function(){if(!this.flipping){var t=this.pageArray;if(t)for(var i=0;i<t.length;i++){var e=t[i];e&&e.fillContent(i)}if(t=this.pageBackArray)for(i=0;i<t.length;i++)(e=t[i])&&e.fillContent(i,!0)}},adjustBookPosition:function(){onStageResize()},getBook:virtual_function,getCurrentPages:function(){return[]},initBook:virtual_function,gotoPage:virtual_function,show:virtual_function,hide:virtual_function,onResize:virtual_function,destroy:virtual_function})),NoteAdd=Class({create:function(t){this.noteAdd=$("<div class='anno-noteAdd'></div>"),this.noteAdd.bind("mousedown mouseup pointerdown",function(t){t.stopPropagation()}.bind(this)),this.noteAdd.bind(_event._down,function(){this.noteAdd.css({opacity:"0.7"})}.bind(this)),this.noteAdd.bind(_event._up,function(t){t.stopPropagation(),this.noteAdd.css({opacity:""}),global.annotationPannel&&global.annotationPannel.noteEvent(this.noteAdd)}.bind(this)),t.append(this.noteAdd)},show:function(){this.noteAdd.css({display:"block"})},hide:function(){this.noteAdd.css({display:"none"})},getPageWidth:function(){var t=BookInfo.getBook().currentPageIndex,i="";if(BookInfo.getBook().pageArray.length&&BookInfo.getBook().pageArray[t])return"slide"==bookConfig.FlipStyle.toLocaleLowerCase()&&BookInfo.isDoublePage(BookInfo.getBookType())?(BookInfo.getBook().pageArray[t].leftPage?i=BookInfo.getBook().pageArray[t].leftPage:BookInfo.getBook().pageArray[t].rightPage&&(i=BookInfo.getBook().pageArray[t].rightPage),rightToLeft&&BookInfo.getBook().pageArray[t].rightPage&&(i=BookInfo.getBook().pageArray[t].rightPage)):i=BookInfo.getBook().pageArray[t].page,{width:i.pageWidth,height:i.pageHeight}},isFirstOrLastPage:function(){return!(!this.isFirstPage()&&!this.isLastPage())},isCurrentDoublePage:function(){return 1<BookInfo.getPagesByIndex(BookInfo.getCurrentPageIndex()).length},isLastPage:function(){var t=BookInfo.getBook().currentPageIndex,i=bookConfig.totalPageCount;return t==(i="slide"==bookConfig.FlipStyle.toLocaleLowerCase()?BookInfo.getBook().pageLength():i)},isFirstPage:function(){return 1===BookInfo.getBook().currentPageIndex},onResize:function(t,i){var e,o=this.getPageWidth();o&&(t=o.width,i=o.height,bookConfig.AnnotationButtonVisible)&&!isPhone()&&!isPad()&&(o=windowHeight-i-toolBar.getTopHeight()-toolBar.getBottomHeight(),e=BookInfo.isDoublePage(BookInfo.getBookType())?windowWidth-2*t-toolBar.getRightWidth()-toolBar.getLeftWidth():windowWidth-t-toolBar.getRightWidth()-toolBar.getLeftWidth(),"slide"==bookConfig.FlipStyle.toLocaleLowerCase()&&BookInfo.isDoublePage(BookInfo.getBookType())&&this.isFirstOrLastPage()&&!this.isCurrentDoublePage()?(t=(BookInfo.getBook().width-t)/2,i=(BookInfo.getBook().height-i)/2,rightToLeft?24<t+e?this.noteAdd.css({display:"block",top:"0",right:"auto",left:t-24+"px"}):24<i+o?this.noteAdd.css({display:"block",top:i-24+"px",right:"auto",left:"0"}):this.noteAdd.css({display:"none"}):24<t+e?this.noteAdd.css({display:"block",top:"0",right:t-24+"px",left:"auto"}):24<i+o?this.noteAdd.css({display:"block",top:i-24+"px",right:"0",left:"auto"}):this.noteAdd.css({display:"none"})):e/2<24&&o/2<24?this.noteAdd.css({display:"none"}):24<=e/2?rightToLeft?(this.noteAdd.css({display:"block",top:"0",right:"auto",left:"-22px"}),this.isLastPage()&&(this.isCurrentDoublePage()?this.noteAdd.css({left:"auto",right:"-22px"}):this.noteAdd.css({right:"-22px",left:"auto"}))):(this.noteAdd.css({display:"block",top:"0",left:"auto",right:"-22px"}),this.isLastPage()&&(this.isCurrentDoublePage()?this.noteAdd.css({right:"-22px",left:"auto"}):this.noteAdd.css({left:"-22px",right:"auto"}))):rightToLeft?(this.noteAdd.css({display:"block",top:"-22px",right:"auto",left:"0"}),this.isLastPage()&&this.noteAdd.css({left:"auto",right:"0"})):(this.noteAdd.css({display:"block",top:"-22px",left:"auto",right:"0"}),this.isLastPage()&&this.noteAdd.css({right:"auto",left:"0"})))}}),StaticAd=Class({create:function(t){var i=t.css("left"),i=parseInt(i.replace("px","")),e=parseInt(t.css("top"));t=parseInt(t.css("width")),rightToLeft&&(i+=t/2),this.adContainer=$("<div id='adContainer'></div>"),this.adContainer.css({position:"absolute","z-index":1}),this.adContainer.css({left:i+"px",top:e}),this.adInstance=new HTML5AdSlider(this.adContainer,{paddingLeft:30,paddingTop:30,paddingRight:30,paddingBottom:30,loop:!1,interval:staticAd.interval,effectDuration:1e3,data:staticAd.data}),bookContainer.append(this.adContainer)},setStyle:function(t){t&&this.adContainer&&this.adContainer.css(t)},onResize:function(){this.adInstance&&this.adInstance.resize()},show:function(){this.adContainer&&this.adContainer.show()},hide:function(){this.adContainer&&this.adContainer.hide()}}),ZoomHint=Class({create:function(e){var o=this;this.mouseInBook=new Point(-1,-1),this.oldMouseInBook=new Point(-1,-1),this.zoomHint=null,this.trackMousePoint=function(t){var i=(t=isTouch?t.originalEvent.touches:[t])[0].pageY;o.mouseInBook.x=t[0].pageX,o.mouseInBook.y=i},bookContainer.bind(_event._move,this.trackMousePoint),this.zoomHintTimer=window.setInterval(function(){var t,i;bookType!=BookType.normal_book?o.clearZoomHintTimer():null==o.zoomHint?-1!=o.oldMouseInBook.x&&o.oldMouseInBook.x==o.mouseInBook.x&&o.oldMouseInBook.y==o.mouseInBook.y?(t=o.globalToBook(!0,o.mouseInBook.x,o.mouseInBook.y)).x<0||t.x>o.width||t.y<0||t.y>o.height||(t=o.mouseInBook.x+15,i=o.mouseInBook.y,o.zoomHint=new divHint(getLanguage("lblDoubleClickToZoomIn","Double click to zoom in."),t,i,e),o.zoomHint.show(),o.hideCount=0):(o.oldMouseInBook.x=o.mouseInBook.x,o.oldMouseInBook.y=o.mouseInBook.y):2==++o.hideCount&&(bookContainer.unbind(_event._move,o.trackMousePoint),o.zoomHint.destroy(),o.zoomHint=null,window.clearInterval(o.zoomHintTimer))},1500)},globalToBook:function(t,i,e){switch(bookType){case BookType.single_book:var o=Point(i-singlePageBook.getLeft(),e-singlePageBook.getTop());break;case BookType.normal_book:o=Point(i-((t?0:flipBook.getPageWidth())+flipBook.getLeft()),e-flipBook.getTop());break;case BookType.catalog_book:o=catalogBook.getTran(),t=i-((t?0:catalogBook.getPageWidth())+catalogBook.getCssLeft())-o.x,e=e-catalogBook.getCssTop()-o.y,o=Point(t,e)}return o},clearZoomHintTimer:function(){try{window.clearInterval(this.zoomHintTimer)}catch(t){}null!=this.zoomHint&&(bookContainer.unbind(_event._move,this.trackMousePoint),this.zoomHint.destroy(),this.zoomHint=null)}}),TipsBox=Class({create:function(t,i){this.visible=!1,this.option=t,this.background=$("<div class='tipsBox tipsBoxShadow tipsBoxRadius'></div>"),$(i).append(this.background)},setTimer:function(){this.timer=window.setInterval(function(){this.hideTipsBox(),window.clearInterval(this.timer)}.bind(this),1500)},resetTimer:function(){window.clearInterval(this.timer),this.setTimer()},setPosition:function(t,i,e){null==e&&(e=["left","top"]),$(this.background).css(e[0],t+"px"),$(this.background).css(e[1],i+"px")},onResize:function(t,i){},getWidth:function(){return $(this.background).width()},getHeight:function(){return $(this.background).height()},setCaption:function(t){this.background.html(t)},showTipsBox:function(){this.visible?this.resetTimer():(this.setTimer(),this.visible=!0,$(this.background).show(),$(this.background).animate({opacity:this.option.opacity||.5},300))},hideTipsBox:function(){this.visible&&(this.visible=!1,$(this.background).animate({opacity:0},300,function(){$(this.background).hide()}.bind(this)))}}),BookMiniFullscreen=Class({create:function(){},init:function(){bookConfig.hideMiniFullscreen||isPhone()||isPad()||isIE()||MiniStyle.isMini()||fullScreenApi.supportsFullScreen&&fullScreenApi.isFullScreen()||this.miniFullScreen||(this.miniFullScreen=$("<div class='miniFullscreen' id='miniFullscreen'></div>"),this.miniFullScreen.html(getLanguage("lblFullscreen","Click to view in fullscreen.")),this.onResize(),bookContainer.append(this.miniFullScreen),this.miniFullscreenEnter=!1,this.miniFullscreenTimeout&&window.clearTimeout(this.miniFullscreenTimeout),this.miniFullscreenTimeout=window.setTimeout(function(){this.removeMiniFullScreen()}.bind(this),3e3),this.initMiniFullScreenEvent())},initMiniFullScreenEvent:function(){this.miniFullScreen.bind(_event._end,function(){bookType==BookType.catalog_book&&global.catalogBook&&catalogBook.guidBar&&catalogBook.guidBar.fullscreenBtn?catalogBook.guidBar.fullscreenBtn.trigger(_event._end):readAsFullscreen(),this.miniFullScreen.remove(),this.miniFullScreen=void 0}.bind(this)),this.miniFullScreen.bind(_event._enter,function(){this.miniFullscreenEnter=!0}.bind(this)),this.miniFullScreen.bind(_event._leave,function(){this.miniFullscreenEnter=!1,this.miniFullscreenTimeout&&window.clearTimeout(this.miniFullscreenTimeout),this.miniFullscreenTimeout=window.setTimeout(function(){this.removeMiniFullScreen()}.bind(this),3e3)}.bind(this))},removeMiniFullScreen:function(){var t;this.miniFullScreen&&!this.miniFullscreenEnter&&(t={alpha:.7},$(t).animate({alpha:0},{duration:300,easing:"easeOutSine",step:function(){this.miniFullScreen&&this.miniFullScreen.css({opacity:t.alpha})}.bind(this),complete:function(){this.miniFullScreen&&this.miniFullScreen.remove(),this.miniFullScreen&&(this.miniFullScreen=void 0)}.bind(this)}))},onResize:function(){var t;this.miniFullScreen&&(MiniStyle.isMini()?(this.miniFullScreen.remove(),this.miniFullScreen=void 0):(t=BookInfo.top(),this.miniFullScreen.css({top:t+BookInfo.height()-80+"px"})))},show:function(){this.miniFullScreen&&this.miniFullScreen.show()},hide:function(){this.miniFullScreen&&this.miniFullScreen.hide()},remove:function(){this.miniFullScreen&&this.miniFullScreen.remove(),this.miniFullScreen=void 0},setStyle:function(t){t&&this.miniFullScreen&&this.miniFullScreen.css(t)}}),BookPageNumberForFlip=Class({create:function(){},init:function(){var t;bookConfig.updatePageNumberForFlip&&(t=-1==BookInfo.getCurrentPageIndex()?1:BookInfo.getCurrentPageIndex(),this.miniFullScreen?this.miniFullScreen.html(getShownPageNumberInfo(t)):(this.miniFullScreen=$("<div class='miniFullscreen' id='pageNumberForFlip'></div>"),this.miniFullScreen.html(getShownPageNumberInfo(t)),this.onResize(),bookContainer.append(this.miniFullScreen),this.miniFullscreenEnter=!1,this.miniFullscreenTimeout&&window.clearTimeout(this.miniFullscreenTimeout),this.miniFullscreenTimeout=window.setTimeout(function(){this.removeMiniFullScreen()}.bind(this),3e3),this.initMiniFullScreenEvent()))},initMiniFullScreenEvent:function(){},removeMiniFullScreen:function(){var t;this.miniFullScreen&&!this.miniFullscreenEnter&&(t={alpha:.5},$(t).animate({alpha:0},{duration:300,easing:"easeOutSine",step:function(){this.miniFullScreen&&this.miniFullScreen.css({opacity:t.alpha})}.bind(this),complete:function(){this.miniFullScreen&&this.miniFullScreen.remove(),this.miniFullScreen&&(this.miniFullScreen=void 0)}.bind(this)}))},onResize:function(){var t;this.miniFullScreen&&(MiniStyle.isMini()?(this.miniFullScreen.remove(),this.miniFullScreen=void 0):(t=BookInfo.top(),this.miniFullScreen.css({top:t+BookInfo.height()-40+"px"})))},show:function(){this.miniFullScreen&&this.miniFullScreen.show()},hide:function(){this.miniFullScreen&&this.miniFullScreen.hide()},remove:function(){this.miniFullScreen&&this.miniFullScreen.remove(),this.miniFullScreen=void 0},setStyle:function(t){t&&this.miniFullScreen&&this.miniFullScreen.css(t)}}),BookAttachmentsFactory=Class({create:function(t,i,e,o){this.isDoublePage=o,this.container=t,this.book=e,this.pageIndex=i},createAttachment:function(t,i){switch(t){case"thickness":var e=new(i?ThicknessManager:SingleBookThicknessManager)(this.container,this.book);e.refreshThickness();break;case"bookshadow":e=new BookShadow(this.container);break;case"grayshadow":e=new GrayShadow(this.container);break;case"zoomhint":e=new ZoomHint(this.parent);break;case"minifullscreen":e=new BookMiniFullscreen,0<=BookInfo.getCurrentPages().indexOf(1)&&e.init();break;case"bookpagenumber":e=new BookPageNumberForFlip;break;case"staticad":e=new StaticAd(this.container);break;case"zoommap":(e=new ZoomMap(this.book)).fillContent(this.pageIndex);break;case"bookmarktab":e=new BookmarkTab(this.container,!this.isDoublePage);break;case"noteadd":e=new NoteAdd(this.container)}return e}}),BookAttachmentsBuilder=Class({Package:"BookAttachment",create:function(t,i,e,o){this.parent=t,this.pageIndex=i,this.book=e,this.isDoublePage=o,this.Items=this.createAttachmentsForBook()},createAttachmentsForBook:function(){var t=new ObjectPool;return this.factory=new BookAttachmentsFactory(this.parent,this.pageIndex,this.book,this.isDoublePage),t},thickness:function(t){this.bookThickness=this.factory.createAttachment("thickness",t),this.Items.add(this.bookThickness)},bookshadow:function(){this.bookShadow=this.factory.createAttachment("bookshadow"),this.Items.add(this.bookShadow)},grayshadow:function(){$.browser.msie||$.browser.safari||!bookConfig.ShowTopLeftShadow||this.book.bookType!=BookType.normal_book||(this.grayshadow=this.factory.createAttachment("grayshadow"),this.Items.add(this.grayshadow))},miniFullscreen:function(){this.miniFullscreen=this.factory.createAttachment("minifullscreen"),this.Items.add(this.miniFullscreen)},bookpagenumber:function(){this.bookPageNumber=this.factory.createAttachment("bookpagenumber"),this.bookPageNumber.init(),this.Items.add(this.bookPageNumber)},staticad:function(){null!=global.staticAd&&1==staticAd.haveAd&&(this.staticAd=this.factory.createAttachment("staticad"),this.Items.add(this.staticAd))},zoommap:function(){isPad()||isPhone()||!bookConfig.ZoomMapVisible||(this.zoomMap=this.factory.createAttachment("zoommap"),this.Items.add(this.zoomMap))},bookmarktab:function(){!function(){isPhone()||isPad()||(this.bookMarkTab=this.factory.createAttachment("bookmarktab"),this.Items.add(this.bookMarkTab))}.delay(this,1)},noteadd:function(){!bookConfig.AnnotationButtonVisible||isPhone()||isPad()||(this.noteAdd=this.factory.createAttachment("noteadd"),this.Items.add(this.noteAdd))},zoomhint:function(){isTouchDevice()},hide:function(){this.Items.find("StaticAd").each(function(t){t.hide()}),this.Items.find("ZoomMap").each(function(t){t.hide()}),this.Items.find("BookMiniFullscreen").each(function(t){t.hide()}),this.Items.find("BookPageNumberForFlip").each(function(t){t.hide()})},show:function(){this.Items.find("BookMiniFullscreen").each(function(t){t.show()}),this.Items.find("BookPageNumberForFlip").each(function(t){t.show()}),this.Items.find("BookmarkTab").each(function(t){t.refresh()}),this.Items.find("StaticAd").each(function(t){t.show()}),this.book.flipping||1!=this.book.currentPageIndex||bookConfig.isTheBookOpen||this.Items.find("StaticAd").each(function(t){t.setStyle({"z-index":3})}.bind(this))},onResize:function(i,e){var o,s;this.width=i,this.height=e,this.book.getCssLeft&&(o=this.book.getCssLeft()),this.book.getCssTop&&(s=this.book.getCssTop()),this.Items.find("StaticAd").each(function(t){rightToLeft&&(o+=i),t.setStyle({left:o,top:s,width:i+"px",height:e+"px"})}),this.Items.each(function(t){t.onResize(i,e)}.bind(this)),this.Items.find("ZoomMap").each(function(t){t.refreshArea()}.bind(this))},afterCurling:function(){this.isDoublePage&&this.Items.find("BookmarkTab").each(function(t){t.adjustBar()}),this.Items.find("ThicknessManager").each(function(t){t.refreshThickness()}),this.book.flipping||1!=this.book.currentPageIndex||bookConfig.isTheBookOpen||this.Items.find("StaticAd").each(function(t){t.setStyle({"z-index":3})}.bind(this))},setAttachmentBeforeFlipTo:function(i){this.Items.find("ThicknessManager").each(function(t){t.setAttachmentBefore(i)}),this.Items.find("StaticAd").each(function(t){t.setStyle({"z-index":1})}.bind(this)),this.isDoublePage&&this.Items.find("BookmarkTab").each(function(t){t.setAttachmentBefore(i)}.bind(this))},setAttachmentAfterFlipTo:function(i){this.Items.find("ThicknessManager").each(function(t){t.refreshThickness()}),this.Items.find("BookmarkTab").each(function(t){t.refresh()}.bind(this)),this.Items.find("ZoomMap").each(function(t){t.fillContent(i),t.refreshArea()}.bind(this)),this.book.flipping||1!=this.book.currentPageIndex||bookConfig.isTheBookOpen||this.Items.find("StaticAd").each(function(t){t.setStyle({"z-index":3})}.bind(this))},afterZoomIn:function(i,e){isPhone()||isPad()||this.Items.find("ThicknessManager").each(function(t){t.onResize(i,e)}.bind(this)),this.Items.find("BookmarkTab").each(function(t){t.onResize()}.bind(this)),this.Items.find("ZoomMap").each(function(t){t.refreshArea()}.bind(this)),this.Items.find("noteadd").length&&this.Items.find("noteadd").get(0).hide()}}),thickessPerBar=1,totalheight=300;function drawThickeness(t,i,e,o,s){totalheight=e,e=thickessPerBar/8/1.5;for(var n=0;n<i;){var a=getColorAtIdx(n,i),h=e*n,r=totalheight-2*h;for(a=a.toString(16);a.length<6;)a="0"+a;t.fillStyle="#"+a,t.fillRect(o+s*n,h,1,r),t.fill(),n++}}var COLOR_0=243,COLOR_1_1=209,COLOR_1_2=231,COLOR_2_1=209,COLOR_2_2=213;function getColorAtIdx(t,i){var e=Math.max(3,i/6+i/4);e=0==(e=Math.min(11,e))%2?e-1:e;i=(s=Color(bookConfig.thicknessColor).split()).r/255;var o=s.g/255,s=s.b/255;return(t=0==t?COLOR_0:t<e?0==t%2?COLOR_1_2:COLOR_1_1:(e=4<(t=(t-e)/2)/2?24:6*Math.floor(t/2),0==t%2?COLOR_2_1-e:COLOR_2_2-e))*s|t*o<<8|t*i<<16}Class("Thickness",{create:function(t,i){this.thicknessWidth=getMaxThicknessWidth(),this.totalPageCount=bookConfig.totalPageCount,this.endIndex=this.startIndex=this.pageCount=0,this.parent=t,this.isLeft=i,this.scale=1,this.init(),this.initShadow(),this.initEvent()},init:function(){this.thickness=$("<div class='thickness'></div>"),this.thicknessCanvas=$("<canvas style='position:absolute;top:0;left:0;'>"),this.isLeft?this.thickness.addClass("left_thickness"):this.thickness.addClass("right_thickness"),this.thickness.css({"z-index":5}),this.thickness.append(this.thicknessCanvas),this.parent.append(this.thickness),this.context=this.thicknessCanvas[0].getContext("2d")},initShadow:function(){this.shadow||$.browser.msie&&$.browser.version<11||(this.shadow=$("<div class='shadow'></div>"),this.thickness.append(this.shadow))},refresh:function(t,i){this.startIndex=t,this.endIndex=i,this.pageCount=this.endIndex-this.startIndex,this.width=this.getThicknessWidth(Math.abs(this.pageCount)),this.thickness.css({width:this.width+"px"}),this.thicknessCanvas.attr("width",this.width+"px"),this.context.clearRect(0,0,this.thicknessWidth,this.height),this.isLeft?(this.thickness.css({left:-this.width+"px"}),drawThickeness(this.context,this.width,this.height,this.width,-1)):drawThickeness(this.context,this.width,this.height,0,1)},onResize:function(t,i){this.resizeThickness(t,i),this.resizeShadow(t,i)},show:function(){this.thickness.show()},hide:function(){this.thickness.hide()},hideCanvas:function(){this.thicknessCanvas.hide()},showCanvas:function(){this.thicknessCanvas.show()},resizeShadow:function(t,i){},resizeThickness:function(t,i){this.height=i;var e="100%";this.isLeft&&(e=-this.width+"px"),this.thickness.css({left:e}),this.thicknessCanvas.attr("height",i+"px"),this.thicknessCanvas.attr("width",this.thicknessWidth+"px"),this.context.clearRect(0,0,this.thicknessWidth,this.height),this.isLeft?drawThickeness(this.context,this.thicknessWidth,i,this.thicknessWidth,-1):drawThickeness(this.context,this.thicknessWidth,i,0,1),this.resetTotalWidth(t,i)},resetTotalWidth:function(t,i){this.totalWidth=oneSideTotalThicknessWidth()},getPageIndexByPosition:function(t){return t=this.getDistance(t),this.startIndex+parseInt(t*this.pageCount/this.width)},getDistance:function(t){return(t=t.pageX)-$(this.thickness).offset().left},getThicknessWidth:function(t){return this.width=Math.floor(this.totalWidth*t/this.totalPageCount)},getWidth:function(){return this.width},getHeight:function(){return this.height},initEvent:function(){this.thickness.bind("mouseup touchstart",function(t){t.stopPropagation()}.bind(this)),this.thickness.click(function(t){0!=this.pageCount&&(!(t=this.getPageIndexByPosition(t))||t<=0||gotoPageFun(t,!1,"thickness"))}.bind(this)),isPhone()||isPad()||(this.thickness.bind("mousemove",function(t){var i,e;0!=this.pageCount&&(!(i=this.getPageIndexByPosition(t))||i<=0?this.hint&&this.hint.hide():(i=" "+getShownPageNumber(i)+" ",e=t.pageX,t=t.pageY-30,this.hint||(this.hint=new divHint(i,e,t)),this.hint.setText(i),this.hint.show(e,t),this.hint.moveto(e,t)))}.bind(this)),this.thickness.bind("mouseleave",function(){null!=this.hint&&this.hint.hide()}.bind(this)))},doSetMovingScale:function(t,i,e,o,s){var n,a;(isPhone()||isPad())&&!bookConfig.HardPageEnable&&!BookInfo.isDoublePage()||!this.totalWidth||this.totalWidth<=0||1==(s=s?0:Math.min(4/this.totalWidth,1))||(1!=t&&1!=i||bookConfig.isTheBookOpen&&BookInfo.isDoublePage())&&t!=totalPageCount&&i!=totalPageCount||(((a=n=1)!=t||bookConfig.isTheBookOpen&&BookInfo.isDoublePage())&&t!=totalPageCount||(n=s),(1!=i||bookConfig.isTheBookOpen&&BookInfo.isDoublePage())&&i!=totalPageCount||(a=s),t=$.easing.easeInOutSine(null,e,n,a-n,o),this.setScale(t))},setScale:function(t){this.thickness.css({transform:"scaleX("+t+") scaleZ(1)","-webkit-transform":"scaleX("+t+") scaleZ(1)","-moz-transform":"scaleX("+t+") scaleZ(1)","-ms-transform":"scaleX("+t+") scaleZ(1)","-o-transform":"scaleX("+t+") scaleZ(1)"}),this.scale=t}});var totalThicknessWidth=function(t){return t||bookConfig.showThicknessOnMobile?totalWidth=oneSideTotalThicknessWidth():0},oneSideTotalThicknessWidth=function(){var t=getMaxThicknessWidth(),i=$.easing.easeOutQuad(null,Math.min(bookConfig.totalPageCount,100),0,t,100),i=Math.floor(i),t=$.easing.swing(null,Math.max(i-8,0),1,0,t-8);return Math.floor(i*t)},getMaxThicknessWidth=function(){switch(bookConfig.thicknessWidthType){case"none":return 0;case"thinner":return 5;case"thin":return 15;case"thicker":return 40}return 20},ThicknessManager=Class({create:function(t,i){this.book=i,this.leftThickness=new Thickness(t,!0),this.rightThickness=new Thickness(t,!1)},setAttachmentBefore:function(t){bookConfig.RightToLeft?this.book.currentPageIndex<t?this.leftThickness&&this.leftThickness.refresh(bookConfig.totalPageCount,this.getMaxCurrentIndex(t)):this.rightThickness&&this.rightThickness.refresh(this.getMinCurrentIndex(t),0):this.book.currentPageIndex<t?this.rightThickness&&this.rightThickness.refresh(this.getMaxCurrentIndex(t),bookConfig.totalPageCount):this.leftThickness&&this.leftThickness.refresh(0,this.getMinCurrentIndex(t))},afterCurling:function(){this.refreshThickness()},setAttachmentIn:function(t){},setAttachmentAfter:function(){this._super(),this.afterCurling()},followToPoint:function(t,i,e){this.leftThickness&&this.leftThickness.doSetMovingScale(t,i,e,this.book.width,bookConfig.HardPageEnable),this.rightThickness&&this.rightThickness.doSetMovingScale(t,i,e,this.book.width,bookConfig.HardPageEnable)},refreshThickness:function(){bookConfig.RightToLeft?(this.leftThickness&&this.leftThickness.refresh(bookConfig.totalPageCount,this.getMaxCurrentIndex()),this.rightThickness&&this.rightThickness.refresh(this.getMinCurrentIndex(),0)):(this.leftThickness&&this.leftThickness.refresh(0,this.getMinCurrentIndex()),this.rightThickness&&this.rightThickness.refresh(this.getMaxCurrentIndex(),bookConfig.totalPageCount)),this.leftThickness&&this.leftThickness.doSetMovingScale(this.book.currentPageIndex,this.book.currentPageIndex,this.book.width,this.book.width,bookConfig.HardPageEnable),this.rightThickness&&this.rightThickness.doSetMovingScale(this.book.currentPageIndex,this.book.currentPageIndex,this.book.width,this.book.width,bookConfig.HardPageEnable)},onResize:function(t,i){this.leftThickness&&this.leftThickness.onResize(t,i),this.rightThickness&&this.rightThickness.onResize(t,i),this.refreshThickness()},hideCanvas:function(){this.leftThickness&&this.leftThickness.hideCanvas(),this.rightThickness&&this.rightThickness.hideCanvas()},showCanvas:function(){this.leftThickness&&this.leftThickness.showCanvas(),this.rightThickness&&this.rightThickness.showCanvas()},getThicknessWidth:function(){return[this.leftThickness.getWidth()*this.leftThickness.scale,this.rightThickness.getWidth()*this.rightThickness.scale]},getMinCurrentIndex:function(t){return null==t&&(t=this.book.currentPageIndex),BookInfo.getMinPageIndex(t)},getMaxCurrentIndex:function(t){return null==t&&(t=this.book.currentPageIndex),t=BookInfo.getMaxPageIndex(t),Math.min(t,bookConfig.totalPageCount)},show:function(){},hide:function(){}}),SingleBookThicknessManager=Class({create:function(t,i){this.book=i,rightToLeft&&(this.leftThickness=new Thickness(t,!0)),rightToLeft||(this.rightThickness=new Thickness(t,!1))},setAttachmentBefore:function(t){bookConfig.RightToLeft?this.book.currentPageIndex<t?this.leftThickness&&this.leftThickness.refresh(bookConfig.totalPageCount,this.getMaxCurrentIndex(t)):this.rightThickness&&this.rightThickness.refresh(this.getMinCurrentIndex(t),0):this.book.currentPageIndex<t?this.rightThickness&&this.rightThickness.refresh(this.getMaxCurrentIndex(t),bookConfig.totalPageCount):this.leftThickness&&this.leftThickness.refresh(0,this.getMinCurrentIndex(t))},followToPoint:function(t,i,e){i<t&&(e=2*this.book.width-e),this.leftThickness&&this.leftThickness.doSetMovingScale(t,i,e,2*this.book.width,bookConfig.HardPageEnable),this.rightThickness&&this.rightThickness.doSetMovingScale(t,i,e,2*this.book.width,bookConfig.HardPageEnable)},refreshThickness:function(){bookConfig.RightToLeft?(this.leftThickness&&this.leftThickness.refresh(bookConfig.totalPageCount,this.getMaxCurrentIndex()),this.rightThickness&&this.rightThickness.refresh(this.getMinCurrentIndex(),0)):(this.leftThickness&&this.leftThickness.refresh(0,this.getMinCurrentIndex()),this.rightThickness&&this.rightThickness.refresh(this.getMaxCurrentIndex(),bookConfig.totalPageCount)),this.leftThickness&&this.leftThickness.doSetMovingScale(this.book.currentPageIndex,this.book.currentPageIndex,this.book.width,this.book.width,bookConfig.HardPageEnable),this.rightThickness&&this.rightThickness.doSetMovingScale(this.book.currentPageIndex,this.book.currentPageIndex,this.book.width,this.book.width,bookConfig.HardPageEnable)},resizeAttachment:function(t,i){this.leftThickness&&this.leftThickness.onResize(t,i),this.rightThickness&&this.rightThickness.onResize(t,i),this.refreshThickness()},getThicknessWidth:function(){return rightToLeft?[this.leftThickness.getWidth()*this.leftThickness.scale,0]:[0,this.rightThickness.getWidth()*this.rightThickness.scale]},getMinCurrentIndex:function(t){return t=null==t?this.book.currentPageIndex:t},getMaxCurrentIndex:function(t){return null==t&&(t=this.book.currentPageIndex),Math.min(t,bookConfig.totalPageCount)}}).extend(ThicknessManager),FlipShotBar=Class({create:function(t){this.flipShotObj=$("<div id='flipShotBar' class='flipShotBar'></div>"),this.flipShotObj.css({"z-index":2*(bookConfig.totalPageCount+5)+1}),this.isLeft=t,this.visible=!0,this.width=50,this.height=0,this.init(),this.initEvents(),this.flipShotObj.append(this.firstDiv),this.flipShotObj.append(this.prevDiv)},init:function(){this.firstDiv=$("<div class='flipbutton upbutton'></div>"),this.prevDiv=$("<div class='flipbutton downbutton'></div>"),this.isLeft?(this.firstDiv.addClass("left"),this.prevDiv.addClass("left"),this.prevImageUrl=uiBaseURL+"slide_leftButton.png",this.firstImageUrl=uiBaseURL+"catalog_firstButton.png"):(this.firstDiv.addClass("right"),this.prevDiv.addClass("right"),this.prevImageUrl=uiBaseURL+"slide_rightButton.png",this.firstImageUrl=uiBaseURL+"catalog_lastButton.png"),this.prevDiv.append("<img src='"+this.prevImageUrl+"'/>"),this.firstDiv.append("<img src='"+this.firstImageUrl+"'/>")},onResize:function(t,i){var e=Math.min(50,.7*i/8),o=Math.min(.7*i,310);this.width=e,this.height=o,this.flipShotObj.css({width:e,height:o}),this.setPosition(t,i)},setPosition:function(t,i){this.flipShotObj.css({left:this.isLeft?1-this.width:"100%",top:(i-this.height)/2})},setScale:function(t){this.width*=t,this.height*=t,this.flipShotObj.css({width:this.width,height:this.height})},setVisible:function(t){this.flipShotObj.css({display:t?"block":"none"}),this.visible=t},getContainer:function(){return this.flipShotObj},initEvents:function(){this.isLeft?(this.prevDiv.bind(_event._end,function(t){(rightToLeft?nextPageFun:previousPageFun)("flip shot bar")}),this.firstDiv.bind(_event._end,function(t){(rightToLeft?lastPageFun:firstPageFun)("flip shot bar")})):(this.prevDiv.bind(_event._end,function(t){(rightToLeft?previousPageFun:nextPageFun)("flip shot bar")}),this.firstDiv.bind(_event._end,function(t){(rightToLeft?firstPageFun:lastPageFun)("flip shot bar")})),this.prevDiv.on("mousedown mouseup touchstart",function(t){t.stopPropagation()}),this.firstDiv.on("mousedown mouseup touchstart",function(t){t.stopPropagation()})},setVisibleByIndex:function(t){this.isLeft?(1<t&&(rightToLeft||this.setVisible(!0)),t<originTotalPageCount-1&&rightToLeft&&this.setVisible(!0),t<=3&&(bookConfig.RightToLeft||t<=1&&this.setVisible(!1)),originTotalPageCount-2<=t&&bookConfig.RightToLeft&&originTotalPageCount-1<=t&&this.setVisible(!1)):(1<t&&rightToLeft&&this.setVisible(!0),t<originTotalPageCount-1&&(rightToLeft||this.setVisible(!0)),t<=3&&bookConfig.RightToLeft&&t<=1&&this.setVisible(!1),originTotalPageCount-2<=t&&(bookConfig.RightToLeft||originTotalPageCount-1<=t&&this.setVisible(!1)))},refresh:function(){}}),FlipShotBarManager=Class({create:function(t,i){this.book=i,this.leftFlipShotBar=new FlipShotBar(!0),this.rightFlipShotBar=new FlipShotBar(!1)},appendTo:function(t){t.append(this.leftFlipShotBar.getContainer()),t.append(this.rightFlipShotBar.getContainer())},setVisibleByIndex:function(t){bookConfig.RightToLeft?(t>=this.book.currentPageIndex&&this.leftFlipShotBar.setVisibleByIndex(t),t<=this.book.currentPageIndex&&this.rightFlipShotBar.setVisibleByIndex(t)):(t<=this.book.currentPageIndex&&this.leftFlipShotBar.setVisibleByIndex(t),t>=this.book.currentPageIndex&&this.rightFlipShotBar.setVisibleByIndex(t))},refresh:function(){this.leftFlipShotBar&&this.leftFlipShotBar.setVisibleByIndex(this.book.currentPageIndex),this.rightFlipShotBar&&this.rightFlipShotBar.setVisibleByIndex(this.book.currentPageIndex)},onResize:function(t,i){this.leftFlipShotBar&&this.leftFlipShotBar.onResize(t,i),this.rightFlipShotBar&&this.rightFlipShotBar.onResize(t,i)},getWidth:function(){return this.leftFlipShotBar?this.leftFlipShotBar.width:this.rightFlipShotBar?this.rightFlipShotBar.width:0},getHeight:function(){return this.leftFlipShotBar?this.leftFlipShotBar.height:this.rightFlipShotBar?this.rightFlipShotBar.height:0},resizeAttachment:function(t,i,e){this.leftFlipShotBar&&this.leftFlipShotBar.setScale(e),this.rightFlipShotBar&&this.rightFlipShotBar.setScale(e),this.leftFlipShotBar&&this.leftFlipShotBar.onResize(t,i),this.rightFlipShotBar&&this.rightFlipShotBar.onResize(t,i)}}),BookShadow=Class({create:function(t){var i;this.background=$("<div class='bookShadow'></div>"),bookConfig.FlipDirection&&(this.background=$("<div class='bookShadow-vertical'></div>")),"side2"==bookConfig.BindingType&&(i=$("<div class='article-shadow'></div>"),this.background.append(i),this.background.css({"-webkit-box-shadow":"0 0 5px rgba(40, 40, 40, 0.05)","-moz-box-shadow":"0 0 5px rgba(40, 40, 40, 0.05)","-o-box-shadow":"0 0 5px rgba(40, 40, 40, 0.05)","-ms-box-shadow":"0 0 5px rgba(40, 40, 40, 0.05)","box-shadow":"0 0 5px rgba(40, 40, 40, 0.05)"})),$(t).append(this.background),this.visible=!0},doubleWidth:function(t){bookConfig.FlipDirection?$(this.background).attr("class",t?"doubleHeight":"singleHeight"):$(this.background).attr("class",t?"doubleWidth":"singleWidth"),$(this.background).addClass("bookShadow")},doubleHeight:function(t){$(this.background).attr("class",t?"doubleHeight":"singleHeight"),$(this.background).addClass("bookShadow-vertical")},right:function(t){$(this.background).css({right:"auto"}),t&&$(this.background).css({right:"0px"})},down:function(t){$(this.background).css({bottom:"auto"}),t&&$(this.background).css({bottom:"0px"})},show:function(){this.visible||($(this.background).show(),this.visible=!0)},hide:function(){this.visible&&($(this.background).hide(),this.visible=!1)},onResize:function(){}}),FlipPage=(bdor[26]="h",Class("BookmarkList",{create:function(){this.bookmarks=[],this.bookPageCount=bookConfig.totalPageCount},reload:function(){this.bookmarks=[],this.loadBasicData(),this.loadUserData(),this.sort()},loadBasicData:function(){if(global.bmtConfig){var t=bmtConfig;bmtConfig.tabs&&(t=bmtConfig.tabs);for(var i=0;i<t.length;i++)this.isShow(t[i])&&this.bookmarks.push(t[i])}},loadUserData:function(){for(var t=Instance.parse(this.getUserDataFromLocal(),[]),i=0;i<t.length;i++)this.isShow(t[i])&&this.bookmarks.push(t[i])},isShow:function(t){return parseInt(t.pageIndex)<=this.bookPageCount&&!this.exists(t)},getUserDataFromLocal:function(){var t=window.location.href.replace(window.location.hash,"")+"BookMark";try{if(window.localStorage&&window.localStorage[t])return window.localStorage.getItem(t)}catch(t){}},sort:function(){this.bookmarks=this.bookmarks.sort(function(t,i){return parseInt(t.pageIndex)-parseInt(i.pageIndex)})},count:function(){return this.bookmarks.length},item:function(t){return this.bookmarks[t]},exists:function(t){for(var i=0;i<this.count();i++)if(this.item(i).pageIndex==t.pageIndex)return!0;return!1}}),Class("BookmarkTabItem",{$body:null,$parent:null,create:function(t){this.data=t,this.$body=$("<span class='bookmark_item bookmark_caption'></span>"),this.initStyle(),this.update()},initStyle:function(){bmtConfig.showPage&&this.$body.attr("title",getShownPageNumber(this.data.pageIndex)),bmtConfig.hasTexture&&this.$body.css({"background-image":"url("+uiBaseURL+"leather1.png)","background-repeat":"repeat"})},getData:function(){return this.data},setData:function(t){this.data=t,this.update()},update:function(){var t=(bookConfig.tabAlpha||100)/100;this.$body.css("background-color",Color(this.data.color).rgba(t)),this.data.fontColor&&this.$body.css("color",Color(this.data.fontColor).toString()),this.$body.text(this.data.caption)},moveTo:function(t){this.$parent!=t&&(this.remove(),this.$parent=t,this.$parent.append(this.$body),this.$body.bind("click",this.onBookmarkClick.bind(this)),this.$body.bind("mouseenter",this.onBookmarkMouseEnter.bind(this)),this.$body.bind("mouseleave",this.onBookmarkMouseLeave.bind(this)),this.$body.bind("pointerdown pointermove pointerup pointerenter",function(t){t.stopPropagation()}),this.$body.bind("mousedown mousemove mouseup mouseenter",function(t){t.stopPropagation()}))},remove:function(){null!=this.$parent&&(this.$body.remove(),this.$body.unbind(),this.$parent=null)},onBookmarkClick:function(t){gotoPageFun(this.data.pageIndex,!1,"bookmark tab")},onBookmarkMouseEnter:function(t){this.$body.animate({top:"5px"},300)},onBookmarkMouseLeave:function(t){this.$body.animate({top:"40px"},300)},setPosition:function(t){this.$body.css({left:"",right:"","z-index":""}),this.$body.css(t)},getWidth:function(){return this.$body.width()}}),Class("BookmarkItemPool",{create:function(){this.items=[]},getBookmarkItem:function(t){return this.getItemFromList(t)||this.createNewItem(t)},getItemFromList:function(t){for(var i=0;i<this.items.length;i++){var e=this.items[i];if(e.getData().pageIndex==t.pageIndex)return e.setData(t),e}return null},createNewItem:function(t){return t=new BookmarkTabItem(t),this.items.push(t),t},clean:function(t){for(var i=0;i<this.items.length;i++){var e=this.items[i],o=e.getData();t.exists(o)||e.remove()}}}),Class("BookmarkTab",{$parent:null,visible:!0,onSideEdge:!0,zIndex:0,create:function(t,i){this.$parent=t,this.hideSmallTab=!!i,this.onSideEdge=bmtConfig.onSideEdge,bookConfig.FlipDirection&&(this.onSideEdge=!0),this.zIndex=6,this.bookmarkPool=new BookmarkItemPool,this.bookmarkList=new BookmarkList,this.initBookmarkBar(),this.reload()},initBookmarkBar:function(){bookConfig.FlipDirection?(this.leftBar=$("<div class='up_bookmark_bar'></div>"),this.rightBar=$("<div class='down_bookmark_bar'></div>")):(this.leftBar=$("<div class='left_bookmark_bar'></div>"),this.rightBar=$("<div class='right_bookmark_bar'></div>")),this.leftBar.on("mouseup touchstart",function(t){t.stopPropagation()}),this.rightBar.on("mouseup touchstart",function(t){t.stopPropagation()}),this.onSideEdge&&(this.leftBar.addClass("vertical"),this.rightBar.addClass("vertical")),this.leftBar.css("z-index",this.zIndex),this.rightBar.css("z-index",this.zIndex),this.$parent.append(this.leftBar),this.$parent.append(this.rightBar)},reload:function(){0!=this.visible&&(this.bookmarkList.reload(),this.refresh())},refresh:function(){0!=this.visible&&(this.separate(),this.adjustBar(),this.onResize())},separate:function(){this.refreshShownPage(),this.bookmarkPool.clean(this.bookmarkList);for(var t=0;t<this.bookmarkList.count();t++){var i=this.bookmarkList.item(t),e=this.bookmarkPool.getBookmarkItem(i);i.pageIndex>=this.bigShownPage?rightToLeft?e.moveTo(this.leftBar):e.moveTo(this.rightBar):i.pageIndex<=this.smallShownPage&&(rightToLeft?e.moveTo(this.rightBar):e.moveTo(this.leftBar))}},refreshShownPage:function(){var t=BookInfo.getCurrentPages();1==t.length?(this.smallShownPage=t[0],this.bigShownPage=t[0]):(this.smallShownPage=Math.min(t[0],t[1]),this.bigShownPage=Math.max(t[0],t[1]))},isTheFirstPage:function(){return this.refreshShownPage(),1==this.bigShownPage},isTheLastPage:function(){return this.refreshShownPage(),this.smallShownPage==totalPageCount},setAttachmentBefore:function(t){t<=1&&(parseBool(bookConfig.RightToLeft)?this.hideRightBar():this.hideLeftBar()),originTotalPageCount<=t&&(parseBool(bookConfig.RightToLeft)?this.hideLeftBar():this.hideRightBar())},adjustBar:function(){var t=this.leftBar.children().length,i=this.rightBar.children().length;this.hideSmallTab?rightToLeft?(this.hideRightBar(),0==t?this.hideLeftBar():this.showLeftBar()):(this.hideLeftBar(),0==i?this.hideRightBar():this.showRightBar()):rightToLeft?(0==i||this.isTheFirstPage()?this.hideRightBar():this.showRightBar(),0==t||this.isTheLastPage()?this.hideLeftBar():this.showLeftBar()):(0==t||this.isTheFirstPage()?this.hideLeftBar():this.showLeftBar(),0==i||this.isTheLastPage()?this.hideRightBar():this.showRightBar()),bookConfig.HardPageEnable&&this.adjustZindex()},adjustZindex:function(){this.leftBar.css("z-index",this.zIndex),this.rightBar.css("z-index",this.zIndex),rightToLeft?(this.isTheLastPage()&&this.rightBar.css("z-index",1),this.isTheFirstPage()&&this.leftBar.css("z-index",1)):(this.isTheLastPage()&&this.leftBar.css("z-index",1),this.isTheFirstPage()&&this.rightBar.css("z-index",1))},onResize:function(){var t,i;this.onSideEdge?(t=this.$parent.height(),i=this.$parent.width(),bookConfig.FlipDirection&&!this.hideSmallTab&&(t/=2),this.leftBar.css({width:t+"px",left:-t+"px"}),this.rightBar.css({width:t+"px",left:i+"px"}),bookConfig.FlipDirection&&this.rightBar.css({left:i-t+"px"}),rightToLeft?(this.resizeItemsOfBar(this.rightBar,"left",1),this.resizeItemsOfBar(this.leftBar,"right",-1)):(this.resizeItemsOfBar(this.leftBar,"right",1),this.resizeItemsOfBar(this.rightBar,"left",-1))):(t=this.$parent.width(),i=this.$parent.width(),this.hideSmallTab||(t/=2),this.leftBar.css({width:t+"px",left:"0px"}),this.rightBar.css({width:t+"px",left:i-t+"px"}),rightToLeft?(this.resizeItemsOfBar(this.rightBar,"left",1),this.resizeItemsOfBar(this.leftBar,"left",-1)):(this.resizeItemsOfBar(this.leftBar,"left",1),this.resizeItemsOfBar(this.rightBar,"left",-1)))},resizeItemsOfBar:function(t,i,e){for(var o=t.width(),s=0,n=0,a=0;a<this.bookmarkList.count();a++){var h=this.bookmarkList.item(a),r=this.bookmarkPool.getBookmarkItem(h);r.$parent==t&&(s=r.getWidth()+22,n+=r.getWidth()+22)}n+=2,a=t.children().length,s=Math.floor((o-4-s)/(a-1));for(var s=Number.between(s,10,65),g=0,l=0,a=0;a<this.bookmarkList.count();a++){var d,h=this.bookmarkList.item(a);(r=this.bookmarkPool.getBookmarkItem(h)).$parent==t&&(d={},o<=n?(d[i]=s*l,l++):(d[i]=g,g+=r.getWidth()+22),d["z-index"]=e*h.pageIndex,r.setPosition(d))}},show:function(){this.visible=!0,this.refresh()},hide:function(){this.hideLeftBar(),this.hideRightBar(),this.visible=!1},showLeftBar:function(){0<this.leftBar.children().length?this.leftBar.css("display","block"):this.leftBar.css("display","none")},hideLeftBar:function(){this.leftBar.css("display","none")},showRightBar:function(){0<this.rightBar.children().length?this.rightBar.css("display","block"):this.rightBar.css("display","none")},hideRightBar:function(){this.rightBar.css("display","none")}}),Class({downMask:null,upMask:null,currentIndex:0,nextIndex:0,hardPage:!1,coverPage:!1,coordinate:null,startPoint:null,toPoint:null,fromPoint:null,AliceToLeft:!1,AliceToRight:!1,loosen:!0,flipping:!1,dragMoveToFlip:!1,fallback:!1,pageWidth:0,pageHeight:0,maskWidth:0,create:function(t){this.book=t},startToFlip:function(){this.loosen=this.flipping=!0,this.fallback=this.AliceToRight=this.AliceToLeft=!1},meetFlipCondition:function(){var t=this.toPoint&&this.startPoint&&(this.book.mouseMoveDirection==this.book.moveDirectionType.MOVE_LEFT&&0<this.startPoint.x||this.book.mouseMoveDirection==this.book.moveDirectionType.MOVE_RIGHT&&this.startPoint.x<0);return this.toPoint&&this.startPoint&&(this.toPoint.x<this.book.MiddleX&&0<this.startPoint.x||this.toPoint.x>this.book.MiddleX&&this.startPoint.x<0)||t},flipToPoint:function(t,i,e){var o,s,n,a,h,r;t&&i&&(1==this.hardPage?this.flipToHardPoint(t,i):this.downMask&&this.upMask&&this.downMask.page&&this.upMask.page&&(this.coordinate=i,o=this.pageWidth,s=computePoint(o,this.pageHeight,this.maskWidth,t,i))&&(n=transformCSS({rotate:s.rotate,tran:{x:s.maskTranX,y:s.maskTranY}}),a=transformCSS({rotate:s.rotate,tran:{x:s.maskTranX,y:s.maskTranY}}),h=transformCSS({rotate:-s.rotate,tran:{x:-s.pageTranX,y:0}}),r=transformCSS({rotate:s.rotate,tran:{x:s.pageTranX,y:0}}),this.downMask&&this.downMask.setCSSByStyle(n),this.upMask&&this.upMask.setCSSByStyle(a),this.downMask&&this.downMask.page&&this.downMask.page.setCSSByStyle(h),this.upMask&&this.upMask.page&&this.upMask.page.setCSSByStyle(r),this.setFlipAlpha(o,t,i),this.setFlipShadow(s,e),this.book.followToPoint(this,t,i)))},flipToHardPoint:function(t,i){var e,o,s,n,a;t&&i&&(e=this.pageWidth,o=this.pageHeight,s=this.maskWidth,i.x>e&&(i.x=e),i.x<-e&&(i.x=-e),this.coordinate=i,o=computePoint(e,o,s,t,i))&&(s=90*Math.abs(i.x/t.x)-90,i.x<0&&(s=90-90*Math.abs(i.x/t.x)),n=transformCSS({perspective:6e3,rotateY:s}),a=transformCSS({perspective:6e3,rotateY:s}),o.rotate=s,this.downMask&&this.downMask.setCSSByStyle(n),this.upMask&&this.upMask.setCSSByStyle(a),i.x/t.x<0?this.setPagesVisible(!1):this.setPagesVisible(!0),this.setHardFlipShadow(o),this.setFlipAlpha(e,t,i),this.book.followToPoint(this,t,i))},setPagesVisible:function(t){},setHardFlipShadow:function(t){t&&(this.upMask&&this.upMask.setFlipShadow(t,!0),this.downMask)&&this.downMask.setFlipShadow(t,!1)},setFlipAlpha:function(t,i,e){},setFlipShadow:function(t,i){t&&(this.upMask.page&&this.upMask.page.setFlipShadow(t,!0,i),this.nextPage)&&!this.isMiniPage()&&this.nextPage.setFlipShadow(t,!1,i)},isMiniPage:function(){return 1<Math.abs(this.pageWidth-this.book.pageWidth)||1<Math.abs(this.pageHeight-this.book.pageHeight)},resetWidthHeight:function(){var t=this.getPageWidthHeight().width,i=this.getPageWidthHeight().height,e=parseInt(Math.sqrt(Math.pow(t,2)+Math.pow(i,2)));0!=(e-i)%2&&(e+=1),this.pageWidth=t,this.pageHeight=i,this.maskWidth=e},getPageWidthHeight:function(){return this.downMask?{width:this.downMask.pageWidth,height:this.downMask.pageHeight}:this.upMask?{width:this.upMask.pageWidth,height:this.upMask.pageHeight}:void 0},setPageZIndex:function(){},setFlipOriginPoint:function(){},endFlipByIndex:function(){},isDragMoveToFlip:function(){this.dragMoveToFlip=!1,this.coordinate&&this.startPoint&&this.coordinate.x!=this.startPoint.x&&(this.dragMoveToFlip=!0)},endFlip:function(){this.flipping=!1},destroy:function(){}})),SingleFlipPage=Class({flipToHardPoint:function(t,i){var e,o,s,n;t&&i&&(this.coordinate=i,e=this.pageWidth,o=computePoint(e,this.pageHeight,this.maskWidth,t,i))&&(n=90*Math.abs(i.x/t.x)-90,i.x<0&&(n=90-90*Math.abs(i.x/t.x)),s=transformCSS({perspective:6e3,rotateY:n}),n=transformCSS({perspective:6e3,rotateY:n}),this.downMask&&this.downMask.setCSSByStyle(s),this.upMask&&this.upMask.setCSSByStyle(n),i.x/t.x<0?(this.upMask.setVisible(!1),this.downMask.setVisible(!1)):(this.upMask.setVisible(!1),this.downMask.setVisible(!0)),this.setHardFlipShadow(o),this.setFlipAlpha(e,t,i),this.book.followToPoint(this,t,i))},setHardFlipShadow:function(t){t&&(this.upMask&&this.upMask.setFlipShadow(t,!0),this.downMask)&&this.downMask.setFlipShadow(t,!1)},setPageZIndex:function(){var t=this.downMask.pageIndex,i=this.upMask.pageIndex,e=originTotalPageCount+5+i,o=originTotalPageCount+5-t;bookConfig.HardPageEnable&&(i!=totalPageCount&&1!=i||(e=2*(bookConfig.totalPageCount+5)+10),t!=totalPageCount&&1!=t||(o=2*(bookConfig.totalPageCount+5)+10)),this.upMask.setZIndex(e),this.downMask.setZIndex(o)},setFlipAlpha:function(t,i,e){},setFlipOriginPoint:function(){this.dragMoveToFlip||rightToLeft||(this.fromPoint={x:this.pageWidth,y:this.pageHeight}),!this.dragMoveToFlip&&rightToLeft&&(this.fromPoint={x:-this.pageWidth,y:this.pageHeight}),this.toPoint="left"==this.book.flipToDirection?{x:-this.pageWidth,y:this.fromPoint.y}:{x:this.pageWidth,y:this.fromPoint.y},this.startPoint||(this.startPoint={x:0,y:0}),this.startPoint.x=-this.toPoint.x,this.startPoint.y=this.toPoint.y},endFlipByIndex:function(t){t=transformCSS({rotate:0,tran:{x:0,y:0}}),this.upMask.setCSSByStyle(t),this.upMask.page&&this.upMask.page.setCSSByStyle(t),this.downMask.setCSSByStyle(t),this.downMask.page&&this.downMask.page.setCSSByStyle(t),this.upMask.setLeftOrRight(rightToLeft),this.downMask.setLeftOrRight(rightToLeft),this.book.setZIndexByPageIndex(this.upMask),this.book.setZIndexByPageIndex(this.downMask),this.upMask.clearFlipShadow(),this.downMask.clearFlipShadow()}}).extend(FlipPage),SingleCalendarPage=Class({flipToPoint:function(t,i,e){var o,s,n,a,h,r;t&&i&&(1==this.hardPage?this.flipToHardPoint(t,i):this.downMask&&this.upMask&&this.downMask.page&&this.upMask.page&&(this.coordinate=i,o=this.pageWidth,s=computePoint(this.pageHeight,o,this.maskWidth,t,i))&&(n=transformCSS({rotate:s.rotate,tran:{x:-s.maskTranY,y:s.maskTranX}}),a=transformCSS({rotate:s.rotate,tran:{x:-s.maskTranY,y:s.maskTranX}}),h=transformCSS({rotate:-s.rotate,tran:{x:0,y:-s.pageTranX}}),r=transformCSS({rotate:s.rotate,tran:{x:0,y:s.pageTranX}}),this.downMask&&this.downMask.setCSSByStyle(n),this.upMask&&this.upMask.setCSSByStyle(a),this.downMask&&this.downMask.page&&this.downMask.page.setCSSByStyle(h),this.upMask&&this.upMask.page&&this.upMask.page.setCSSByStyle(r),this.setFlipAlpha(o,t,i),this.setFlipShadow(s,e),this.book.followToPoint(this,t,i)))},flipToHardPoint:function(t,i){var e,o,s,n;t&&i&&(this.coordinate=i,e=this.pageWidth,o=computePoint(this.pageHeight,e,this.maskWidth,t,i))&&(n=90*Math.abs(i.x/t.x)-90,i.x<0&&(n=90-90*Math.abs(i.x/t.x)),s=transformCSS({perspective:6e3,rotateX:-n}),n=transformCSS({perspective:6e3,rotateX:-n}),this.downMask&&this.downMask.setCSSByStyle(s),this.upMask&&this.upMask.setCSSByStyle(n),i.x/t.x<0?(this.upMask.setVisible(!1),this.downMask.setVisible(!1)):(this.upMask.setVisible(!1),this.downMask.setVisible(!0)),this.setHardFlipShadow(o),this.setFlipAlpha(e,t,i),this.book.followToPoint(this,t,i))},setPageZIndex:function(){var t=this.downMask.pageIndex,i=this.upMask.pageIndex,e=originTotalPageCount+5+i,o=originTotalPageCount+5-t;bookConfig.HardPageEnable&&(i!=totalPageCount&&1!=i||(e=2*(bookConfig.totalPageCount+5)+10),t!=totalPageCount&&1!=t||(o=2*(bookConfig.totalPageCount+5)+10)),this.upMask.setZIndex(e),this.downMask.setZIndex(o)},setFlipAlpha:function(t,i,e){},setFlipOriginPoint:function(){this.dragMoveToFlip||rightToLeft||(this.fromPoint={x:this.pageHeight,y:0}),!this.dragMoveToFlip&&rightToLeft&&(this.fromPoint={x:-this.pageHeight,y:0}),this.toPoint="left"==this.book.flipToDirection?{x:-this.pageHeight,y:this.fromPoint.y}:{x:this.pageHeight,y:this.fromPoint.y},this.startPoint||(this.startPoint={x:0,y:0}),this.startPoint.x=-this.toPoint.x,this.startPoint.y=this.toPoint.y},endFlipByIndex:function(t){t=transformCSS({rotate:0,tran:{x:0,y:0}}),this.upMask.setCSSByStyle(t),this.upMask.page&&this.upMask.page.setCSSByStyle(t),this.downMask.setCSSByStyle(t),this.downMask.page&&this.downMask.page.setCSSByStyle(t),this.upMask.setUpOrDown(rightToLeft),this.downMask.setUpOrDown(rightToLeft),this.book.setZIndexByPageIndex(this.upMask),this.book.setZIndexByPageIndex(this.downMask),this.upMask.clearFlipShadow(),this.downMask.clearFlipShadow()}}).extend(SingleFlipPage),DoubleFlipPage=Class({setPagesVisible:function(t){t?(this.upMask.setVisible(!1),this.downMask.setVisible(!0)):(this.upMask.setVisible(!0),this.downMask.setVisible(!1))},setPageZIndex:function(t){var i=this.downMask.pageIndex,e=this.upMask.pageIndex,o=originTotalPageCount+5+e,s=originTotalPageCount+5-i;"min"==t.flipTo&&(o=2*originTotalPageCount+5-e),"min"==t.flipTo&&(s=5+i),bookConfig.HardPageEnable&&(e!=totalPageCount&&1!=e||(o=2*(bookConfig.totalPageCount+5)+10),i!=totalPageCount&&1!=i||(s=2*(bookConfig.totalPageCount+5)+10)),this.upMask.setZIndex(o),this.downMask.setZIndex(s)},setFlipOriginPoint:function(t){this.dragMoveToFlip||"left"!=t||(this.fromPoint={x:this.pageWidth,y:this.pageHeight}),this.dragMoveToFlip||"right"!=t||(this.fromPoint={x:-this.pageWidth,y:this.pageHeight}),this.toPoint={x:-this.fromPoint.x,y:this.fromPoint.y},this.startPoint||(this.startPoint={x:0,y:0}),this.startPoint.x=this.fromPoint.x,this.startPoint.y=this.fromPoint.y},endFlipByIndex:function(t){var i=transformCSS({rotate:0,tran:{x:0,y:0}});this.upMask.setCSSByStyle(i),this.upMask.page&&this.upMask.page.setCSSByStyle(i),this.downMask.setCSSByStyle(i),this.downMask.page&&this.downMask.page.setCSSByStyle(i),t?(this.downMask.setLeftOrRight(!0),this.upMask.setLeftOrRight(!0)):(this.downMask.setLeftOrRight(!1),this.upMask.setLeftOrRight(!1)),this.book.setZIndexByPageIndex(this.upMask),this.book.setZIndexByPageIndex(this.downMask),this.upMask.clearFlipShadow(),this.downMask.clearFlipShadow()}}).extend(FlipPage),DoubleCalendarPage=Class({flipToPoint:function(t,i,e){var o,s,n,a,h,r;t&&i&&(1==this.hardPage?this.flipToHardPoint(t,i):this.downMask&&this.upMask&&this.downMask.page&&this.upMask.page&&(this.coordinate=i,o=this.pageWidth,s=computePoint(this.pageHeight,o,this.maskWidth,t,i))&&(n=transformCSS({rotate:s.rotate,tran:{x:-s.maskTranY,y:s.maskTranX}}),a=transformCSS({rotate:s.rotate,tran:{x:-s.maskTranY,y:s.maskTranX}}),h=transformCSS({rotate:-s.rotate,tran:{x:0,y:-s.pageTranX}}),r=transformCSS({rotate:s.rotate,tran:{x:0,y:s.pageTranX}}),this.downMask&&this.downMask.setCSSByStyle(n),this.upMask&&this.upMask.setCSSByStyle(a),this.downMask&&this.downMask.page&&this.downMask.page.setCSSByStyle(h),this.upMask&&this.upMask.page&&this.upMask.page.setCSSByStyle(r),this.setFlipAlpha(o,t,i),this.setFlipShadow(s,e),this.book.followToPoint(this,t,i)))},flipToHardPoint:function(t,i){var e,o,s,n;t&&i&&(e=this.pageWidth,o=this.pageHeight,s=this.maskWidth,i.x>o&&(i.x=o),i.x<-o&&(i.x=-o),this.coordinate=i,o=computePoint(o,e,s,t,i))&&(n=90*Math.abs(i.x/t.x)-90,i.x<0&&(n=90-90*Math.abs(i.x/t.x)),s=transformCSS({perspective:6e3,rotateX:-n}),n=transformCSS({perspective:6e3,rotateX:-n}),this.downMask&&this.downMask.setCSSByStyle(s),this.upMask&&this.upMask.setCSSByStyle(n),i.x/t.x<0?this.setPagesVisible(!1):this.setPagesVisible(!0),this.setHardFlipShadow(o),this.setFlipAlpha(e,t,i),this.book.followToPoint(this,t,i))},setFlipOriginPoint:function(t){this.dragMoveToFlip||"left"!=t||(this.fromPoint={x:this.pageHeight,y:0}),this.dragMoveToFlip||"right"!=t||(this.fromPoint={x:-this.pageHeight,y:0}),this.toPoint={x:-this.fromPoint.x,y:this.fromPoint.y},this.startPoint||(this.startPoint={x:0,y:0}),this.startPoint.x=this.fromPoint.x,this.startPoint.y=this.fromPoint.y},endFlipByIndex:function(t){var i=transformCSS({rotate:0,tran:{x:0,y:0}});this.upMask.setCSSByStyle(i),this.upMask.page&&this.upMask.page.setCSSByStyle(i),this.downMask.setCSSByStyle(i),this.downMask.page&&this.downMask.page.setCSSByStyle(i),t?(this.downMask.setUpOrDown(!0),this.upMask.setUpOrDown(!0)):(this.downMask.setUpOrDown(!1),this.upMask.setUpOrDown(!1)),this.book.setZIndexByPageIndex(this.upMask),this.book.setZIndexByPageIndex(this.downMask),this.upMask.clearFlipShadow(),this.downMask.clearFlipShadow()}}).extend(DoubleFlipPage),FlipPageManager=Class({create:function(t){this.book=t,this.array=[],this.pinDownCurlingArray=[],this.fallbackArray=[],this.flipArray=[],this.zoomArray=[],this.resizeArray=[],this.hardFlipArray=[],this.softFlipArray=[],this.coverFlipArray=[]},initFlipPageByIndex:function(t,i,e){if(this.book.isCoverPage(t,i))return this.initCoverFlipByIndex(t,i,e);if(this.book.isHardPage(t,i))return this.initHardFlipByIndex(t,i,e);e=this.book.getDownUpPage(t,i,e);var o=t+"-"+i;return this[o]||(this[o]=this.book.newFlipPage()),this[o].downMask=e[0],this[o].upMask=e[1],this[o].currentIndex=t,this[o].nextIndex=i,this[o].hardPage=!1,this[o].resetWidthHeight(),this.array.indexOf(o)<0&&this.array.push(o),this.softFlipArray.indexOf(o)<0&&this.softFlipArray.push(o),this[o]},initHardFlipByIndex:function(t,i,e){e=this.book.getDownUpHardPage(t,i,e);var o=t+"-"+i;return this[o]||(this[o]=this.book.newFlipPage()),this[o].downMask=e[0],this[o].upMask=e[1],this[o].currentIndex=t,this[o].nextIndex=i,this[o].hardPage=!0,this[o].resetWidthHeight(),this.array.indexOf(o)<0&&this.array.push(o),this.hardFlipArray.indexOf(o)<0&&this.hardFlipArray.push(o),this[o]},initCoverFlipByIndex:function(t,i,e){e=this.book.getDownUpHardPage(t,i,e);var o=t+"-"+i;return this[o]||(this[o]=this.book.newFlipPage()),this[o].downMask=e[0],this[o].upMask=e[1],this[o].currentIndex=t,this[o].nextIndex=i,this[o].hardPage=!0,this[o].coverPage=!0,this[o].resetWidthHeight(),this.array.indexOf(o)<0&&this.array.push(o),this.coverFlipArray.indexOf(o)<0&&this.coverFlipArray.push(o),this[o]},checkFlipping:function(){for(var t=this.array.length,i=0;i<t;i++)if(this.array[i]){var e=this.array[i];if(this[e]&&this[e].flipping)return!0}return!1},removeFlipArrayByIndex:function(t){this[t=t.currentIndex+"-"+t.nextIndex]&&this[t].nextPage&&this[t].nextPage.clearFlipShadow(),this[t]&&delete this[t],this.array&&this.array.removeElement(t),this.flipArray&&this.flipArray.removeElement(t),this.hardFlipArray&&this.hardFlipArray.removeElement(t),this.softFlipArray&&this.softFlipArray.removeElement(t),this.coverFlipArray&&this.coverFlipArray.removeElement(t),this.pinDownCurlingArray&&this.pinDownCurlingArray.removeElement(t),this.fallbackArray&&this.fallbackArray.removeElement(t)},endFlip:function(){if(this.array&&0!=this.array.length)for(var t=this.array.length,i=0;i<t;i++){var e;this.array[i]&&(e=this[this.array[i]])&&(e.endFlipByIndex(),this.removeFlipArrayByIndex(e))}},doNotMeetPageConditions:function(t){var i;return!(!(this.hasBeenMonitor()||this.hasUnLoosenPage()||this.fallbackArray&&0<this.fallbackArray.length||0<=this.book.getPagesByIndex(t).indexOf(this.book.currentPageIndex))&&(i=!1,!rightToLeft&&t>this.book.currentPageIndex&&(i=!0),rightToLeft&&t<this.book.currentPageIndex&&(i=!0),!this.isReverseSeriesFlip(i))&&!this.isReversePinDownCurlingArray(i,t)&&(this.existMutexPages(t)?(this.monitorMutexFlipSituation(t),0):this.crossFlipMode(t)?(this.book.gotoNearPage(t),window.setTimeout(function(){gotoPageFun(t,!1,"cross page")},20),0):!this.crossPageMode(t)||(window.setTimeout(function(){gotoPageFun(t,!1,"cross page")},20),0)))},hasBeenMonitor:function(){return!!this.monitorMutexFlipInterval},hasUnLoosenPage:function(){var t=this.book.optionPage;return!(!t||!this[t]||this[t].loosen)},isReverseSeriesFlip:function(t){if(t&&this.book.flipping&&this.book.flipToDirection==this.book.direction_right||!t&&this.book.flipping&&this.book.flipToDirection==this.book.direction_left)return!0},isReversePinDownCurlingArray:function(t,i){if(this.pinDownCurlingArray&&!(this.pinDownCurlingArray.length<=0)){i=this.book.getPagesByIndex(i);for(var e=this.pinDownCurlingArray.length,o=0;o<e;o++){var s=this[this.pinDownCurlingArray[o]];if(t&&s&&s.AliceToRight||!t&&s&&s.AliceToLeft||s&&i.indexOf(s.nextIndex)<0)return!0}}return!1},existMutexPages:function(t){return!!(this.hardFlipArray&&0<this.hardFlipArray.length&&(this.toSoftPage(t)||this.toCoverPage(t))||this.softFlipArray&&0<this.softFlipArray.length&&(this.toHardPage(t)||this.toCoverPage(t))||this.coverFlipArray&&0<this.coverFlipArray.length&&(this.toHardPage(t)||this.toSoftPage(t)))},monitorMutexFlipSituation:function(t){this.monitorMutexFlipInterval||(this.monitorMutexFlipInterval=window.setInterval(function(){this.existMutexPages(t)||(window.clearInterval(this.monitorMutexFlipInterval),this.monitorMutexFlipInterval=void 0,gotoPageFun(t,!1,"cross page"))}.bind(this),20))},toSoftPage:function(t){return this.book.toSoftPage(t)},toHardPage:function(t){return this.book.toHardPage(t)},toCoverPage:function(t){return this.book.toCoverPage(t)},crossFlipMode:function(t){return!!this.book.crossFlipMode(t)},crossPageMode:function(t){var i=this.book.getFlipTo(t),e=i.minIndex,o=i.maxIndex,s=i.toIndex;if("max"==i.flipTo){if(this.book.pageInfoArray[o].isMiniPage&&!(0<=this.book.getPagesByIndex(o+1).indexOf(t)))return nextPageFun("cross page"),!0;if(this.book.pageInfoArray[s].isMiniPage&&!(0<=this.book.getPagesByIndex(o+1).indexOf(t)))return gotoPageFun(s-1,!1,"cross page"),!0}if("min"==i.flipTo)return!this.book.pageInfoArray[e].isMiniPage||0<=this.book.getPagesByIndex(e-1).indexOf(t)?!this.book.pageInfoArray[s].isMiniPage||0<=this.book.getPagesByIndex(e-1).indexOf(t)?void 0:(gotoPageFun(s+1,!1,"cross page"),!0):(previousPageFun("cross page"),!0)},beyondPageRange:function(t){return t<=0||originTotalPageCount<t},beforeFlip:function(t,i){try{var e,o=this.book.beforeFlipTo(t,!0),s=(this.isDragMoveToFlip(o),o.dragMoveToFlip||(e=this.book.getFromStartPointByIndex(t,o),o.flipToPoint(e[0],e[1],!0)),o.currentIndex+"-"+o.nextIndex);return this.book.optionPage==s&&(this.book.optionPage=null),0<this.pinDownCurlingArray.indexOf(s)&&(o.dragMoveToFlip=!0),this.flipArray.indexOf(s)<0&&this.flipArray.push(s),this.fallbackArray.removeElement(s),this.pinDownCurlingArray.removeElement(s),o.startToFlip(),this.book.flipping=!0,o}catch(t){}},isDragMoveToFlip:function(t){t.dragMoveToFlip=!1,t.coordinate&&t.startPoint&&t.coordinate.x!=t.startPoint.x&&(t.dragMoveToFlip=!0)}}),FlipBookIntervalManager=Class({create:function(t){this.book=t,this.flippingTime=1e3*bookConfig.flippingTime},flipIntervalTmp:function(h,r,g,t){var l,d,c,p,i,e;h&&(this.book.flipping=!0,h.flipping=!0,l=.05,(isIE()||isFirefox())&&(l=0),h.setFlipOriginPoint(t),h.coordinate||(h.coordinate=h.startPoint),d=h.coordinate.x,c=h.coordinate.y,i=(i=this.flippingTime)*Math.abs(h.toPoint.x-d)/Math.abs(h.toPoint.x-h.startPoint.x),t=(isAndroidWeChat()||isAndroidDefault()||isIE()||isFirefox()?function(){var t=0;p=function(){e(t,25,"Sine"),t++}.interval(this,i/25)}:function(){p=function(t,i){e(t,i,"Sine")}.animation(this,i)}).bind(this),e=function(t,i,e){if(!h)return!1;var o=h.pageWidth,s=h.pageHeight,n=$.easing["easeInOut"+e],a=$.easing["easeOut"+e];e=a(null,t,d,h.toPoint.x-d,i),a=a(null,t,c,h.toPoint.y-c,i),h.dragMoveToFlip||(e=n(null,t,d,h.toPoint.x-d,i),a=bookConfig.FlipDirection?l*Math.sqrt(s*s-e*e):s-l*Math.sqrt(o*o-e*e)),t<i?this.flipToPoint(h,r,g,h.fromPoint,{x:e,y:a}):(this.flipToPoint(h,r,g,h.fromPoint,h.toPoint),this.book.afterFlipTo(h,g),p.stop())}.bind(this),t())},setFlipInterval:function(){this.flipInterval=function(){if(!this.flipIntervalManager.flipInterval||!this.flipIntervalManager.flipInterval.stop){if(this.flipPageManager&&this.flipPageManager.array&&0!=this.flipPageManager.array.length)for(var t=0;t<this.flipPageManager.array.length;t++){var i,e,o,s,n=this.flipPageManager.array[t];n&&(e=this.flipPageManager[n],this.flipPageManager[n]?this.flipPageManager[n].fromPoint&&this.flipPageManager[n].startPoint&&this.flipPageManager[n].toPoint&&this.flipPageManager[n].downMask&&this.flipPageManager[n].upMask&&!this.flipPageManager[n].flipping&&(this.flipPageManager[n].Alice=!0,this.flipPageManager[n].coordinate||(this.flipPageManager[n].coordinate=this.flipPageManager[n].startPoint),i=(o=.22*(e.toPoint.x-e.coordinate.x))+this.flipPageManager[n].coordinate.x,e=o/((e.coordinate.x-e.toPoint.x)/(e.coordinate.y-e.toPoint.y))+this.flipPageManager[n].coordinate.y,o=this.flipPageManager[n].downMask.pageIndex,s=this.flipPageManager[n].upMask.pageIndex,this.flipIntervalManager.flipToPoint(this.flipPageManager[n],o,s,this.flipPageManager[n].fromPoint,{x:i,y:e}),!this.flipPageManager[n].flipping)&&this.flipPageManager[n].loosen&&(Math.abs(i.toFixed(2)-this.flipPageManager[n].toPoint.x)<1&&Math.abs(e.toFixed(2)-this.flipPageManager[n].toPoint.y)<1||isNaN(i)||isNaN(e))&&(this.flipPageManager[n].Alice=!1,i=this.flipPageManager[n].toPoint.x,e=this.flipPageManager[n].toPoint.y,this.flipIntervalManager.flipToPoint(this.flipPageManager[n],o,s,this.flipPageManager[n].fromPoint,{x:i,y:e}),this.flipPageManager[n].endFlipByIndex(this.flipPageManager[n].toPoint.x<0),this.flipPageManager.removeFlipArrayByIndex(this.flipPageManager[n]),this.afterCurling(),t--):(this.flipPageManager.array.removeElement(n),t--))}else this.flipIntervalManager.flipInterval.stop=!0,this.flipIntervalManager.flipInterval=void 0;this.flipIntervalManager.flipInterval&&(isAndroidWeChat()||isAndroidDefault()||isIE()||isFirefox()?window.setTimeout(this.flipIntervalManager.flipInterval,30):window.requestAnimationFrame(this.flipIntervalManager.flipInterval))}}.bind(this.book),this.flipInterval()},flipToPoint:function(t,i,e,o,s,n){t&&t.flipToPoint(o,s,n),i=Math.abs(s.x-o.x)*this.book.pageWidth/t.pageWidth,(!this.book.movedLength||Math.abs(this.book.movedLength)>i||!t.loosen||t.flipping)&&this.book.movetoCenter(t.currentIndex,t.nextIndex,i)},endFlip:function(){},destroy:function(){}}),computePoint=function(t,i,e,o,s){if(!o||!s)return{rotate:0,pageTranX:0,maskTranX:0,maskTranY:0};if(s.x>t&&(s.x=t),s.x<-t&&(s.x=-t),isAndroidDefault()&&(o.y=s.y),o.x==s.x)return o.x<(h=0)&&(h+=180),{rotate:h,pageTranX:0,maskTranX:o.x,maskTranY:0};h=Math.sqrt(Math.pow(o.y-i,2)+Math.pow(+o.x,2)),Math.sqrt(Math.pow(s.y-i,2)+Math.pow(+s.x,2))>h&&(l=Math.atan((s.y-i)/+s.x),d=Math.abs(Math.cos(l)*h),s.y=i-Math.abs(Math.sin(l)*h),s.x=0<s.x?d:-d),h=Math.sqrt(Math.pow(+o.y,2)+Math.pow(+o.x,2)),Math.sqrt(Math.pow(+s.y,2)+Math.pow(+s.x,2))>h&&(l=Math.atan(+s.y/+s.x),d=Math.abs(Math.cos(l)*h),s.y=Math.abs(Math.sin(l)*h),s.x=0<s.x?d:-d);var n=(s.y-o.y)/(s.x-o.x),a=Math.atan(n),h=180*a/Math.PI,r=(s.x+o.x)/2,g=(s.y+o.y)/2,l=t/2,d=i/2;return o.x<0&&(h+=180,l=-t/2),s=Math.sqrt(Math.pow(o.y-s.y,2)+Math.pow(o.x-s.x,2))/2,s=0<=h&&h<180?Math.abs((i-Math.abs(o.y))*Math.sin(a))+s:Math.abs(o.y*Math.sin(a))+s,e=Math.abs(s/(Math.sin(Math.atan(t/i)+Math.abs(a))*e)),e=Math.min(1,e),n=n*(g-(o=((r-l)*n+d+Math.pow(n,2)*g)/(1+Math.pow(n,2))))+r,d=Math.sqrt(Math.pow(l-n,2)+Math.pow(d-o,2)),{frontShadowDistance:s,shadowRate:e,rotate:h,pageTranX:(d=Math.abs(n)<Math.abs(l)?-d:d)-t/2,maskTranX:n,maskTranY:o-i/2}};function getRotateSin(t,i){return Math.sin(t+Math.abs(i))}function getPageTranX(t,i){return t-i/2}var FlipBook=Class({coordinate_bottom_left:"bl",coordinate_top_left:"tl",coordinate_bottom_right:"br",coordinate_top_right:"tr",direction_left:"left",direction_right:"right",flipPageManager:null,maskWidth:0,create:function(t){this._super(t),this.flipPageManager=new FlipPageManager(this),this.toPageIndex=this.currentPageIndex,this.initBook(),this.initEvent(),this.flipIntervalManager=new FlipBookIntervalManager(this),this.pageInfoArray=new PageInfo(!this.doublePage).pageInfoArray},initBook:function(){this.flipBook=$("<div class='book'></div>"),this.parent.append(this.flipBook)},resetPages:function(){},getBook:function(){return this.flipBook},addPageArray:function(t){if(t&&this.pageArray)for(var i=0;i<t.length;i++){var e,o;t[i]<=0||t[i]>originTotalPageCount||(this.pageArray[t[i]]&&this.fillContent(t[i]),this.pageArray[t[i]])||((e=this.newPage(t[i])).fillPreviewImage(),o=this.pageInfoArray[t[i]],e.onResize(this.pageWidth*o.pageWidth,this.pageHeight*o.pageHeight,o.opacity),this.pageArray[t[i]]=e,this.fillContent(t[i]),this.flipBook.append(e.$page))}},onResize:function(t,i){this.resizeBook(t,i),0==this.pageArray.length&&this.resetPages(this.currentPageIndex),isPhone()||isPad()||this.switchNormalImage(!0),this.resizeAttachments(t,i),this.showPages()},resizeAttachments:function(t,i){},loading:function(){if(!this.flipping){var t=this.getCurrentPages();if(t&&!(t.length<=0))for(var i=t.length,e=0;e<i;e++)t[e]&&this.pageArray[t[e]]&&this.pageArray[t[e]].loading()}},fillContent:function(t,i){this.flipping||!bookConfig.preloadNextPage&&this.getCurrentPages().indexOf(t)<0||(this.pageArray[t]&&!i&&this.pageArray[t].fillContent(),this.pageBackArray&&this.pageBackArray[t]&&i&&this.pageBackArray[t].fillContent())},fillPage:function(t,i){if(t)for(var e=this.pageArray.length,o=0;o<e;o++)this.pageArray[o]&&this.pageArray[o].fillPage(t,i),this.pageBackArray&&this.pageBackArray[o]&&this.pageBackArray[o].fillPage(t,i)},removePage:function(t){!isNaN(t)&&this.pageArray[t]&&(this.pageArray[t].remove(),this.pageArray[t]=void 0)},unWrapPageExcludeArray:function(t){if(t&&this.pageArray)for(var i=this.pageArray.length,e=0;e<i;e++)!this.pageArray[e]||0<=t.indexOf(e)||(this.pageArray[e].remove(),this.pageArray[e]=void 0)},unWrapPageBackExcludeArray:function(t){if(t&&this.pageBackArray)for(var i=this.pageBackArray.length,e=0;e<i;e++)!this.pageBackArray[e]||0<=t.indexOf(e)||(this.pageBackArray[e].remove(),this.pageBackArray[e]=void 0)},resizePage:function(t,i){if(this.pageArray)for(var e=this.pageArray.length,o=0;o<e;o++){var s;this.pageArray[o]&&(s=this.pageInfoArray[o],this.pageArray[o].onResize(t*s.pageWidth,i*s.pageHeight,s.opacity))}if(this.pageBackArray)for(e=this.pageBackArray.length,o=0;o<e;o++)this.pageBackArray[o]&&(s=this.pageInfoArray[o],this.pageBackArray[o].onResize(t*s.pageWidth,i*s.pageHeight,s.opacity))},crossFlipMode:function(t,i){return!1},toSoftPage:function(t){return!0},toHardPage:function(t){return!1},toCoverPage:function(){return!1},isCoverPage:function(){return!1},isHardPage:function(){return!1},beforeFlipTo:function(t,i){var e,o=(t=this.getFlipTo(t)).minIndex,s=t.maxIndex,n=t.toIndex;return"max"==t.flipTo&&(e=this.flipToMax(s,n,i,rightToLeft)),"min"==t.flipTo&&(e=this.flipToMin(o,n,i,!rightToLeft)),this.setAttachmentBeforeFlipTo(n),this.hidePagesBeforeFlip&&this.hidePagesBeforeFlip(e),e.setPageZIndex(t),e},afterFlipTo:function(t,i){t&&t.downMask&&t.upMask&&(t.endFlipByIndex(),this.flipPageManager.removeFlipArrayByIndex(t),this.checkFlipping(),t.downMask.pageIndex<i?this.afterFlipToMax(i,!rightToLeft):this.afterFlipToMin(i,rightToLeft),this.setAttachmentAfterFlipTo(i),this.showPagesAfterFlip)&&this.showPagesAfterFlip()},checkFlipping:function(){this.flipping=!1,this.flipPageManager.checkFlipping()?this.flipping=!0:(this.startAnimation(),this.flipToDirection="",this.loading())},followToPoint:function(t,i,e){},endFlip:function(){this.flipPageManager&&this.flipPageManager.endFlip()},getCurrentPageIndex:function(){return this.currentPageIndex},getPageWidth:function(t){if(null==t)return this.pageWidth;this.pageWidth=t},getPageHeight:function(t){if(null==t)return this.pageHeight;this.pageHeight=t},getWidth:function(){return this.width},getHeight:function(){return this.height},getScale:function(){return this.flipBook.parameters.toScale},getLeft:function(){return this.flipBook.offset().left},getTop:function(){return this.flipBook.offset().top},getCssLeft:function(){return parseInt(this.flipBook.css("left"))},getCssTop:function(){return parseInt(this.flipBook.css("top"))},setCSS:function(t){var i;t&&(null!=t.width&&this.flipBook.css("width",t.width+"px"),null!=t.height&&this.flipBook.css("height",t.height+"px"),null!=t.left&&this.flipBook.css("left",t.left+"px"),null!=t.top&&this.flipBook.css("top",t.top+"px"),null!=t.display&&this.flipBook.css("display",t.display),(t.tran||null!=t.scale||t.origin)&&(i=transformCSS(t),this.flipBook.css(i)),this.flipBook.registerPatamers)&&this.flipBook.registerParamers(t)},setPosition:function(t,i,e){this.flipBook.css((e=null==e?["left","top"]:e)[0],t+"px"),this.flipBook.css(e[1],i+"px")},translate:function(t,i){transformCSS({}),this.flipBook.css(style)},supportSerialsFlip:function(){return!(isPhone()||isPad()||!bookConfig.supportSerialsFlip)},gotoPage:function(t,i){var e,o;!t||(this.toPageIndex=t,this.flipBook.parameters&&this.flipBook.parameters.zoomming)||(this.status_zoom&&(isPhone()||isPad())?(i={pointers:[{pageX:windowWidth/2,pageY:windowHeight/2}]},this.flipBook.onDoubleTap.bind(this.flipBook)(i)):this.flipPageManager.beyondPageRange(t)||this.flipPageManager.doNotMeetPageConditions(t)||(!this.supportSerialsFlip()||this.status_zoom)&&this.flipping||(this.flipping=!0,this.stopMedia(),this.flipIntervalManager&&this.flipIntervalManager.flipInterval&&(this.flipIntervalManager.flipInterval.stop=!0,this.flipIntervalManager.flipInterval=void 0),e=this.flipPageManager.beforeFlip(t,!0),fromPageIndex=this.currentPageIndex,o=this.flipToDirection,!i&&flipHistory&&flipHistory.addFromCurrentIndex(t),this.flippingTo(t,i),playFlipSound(),bookConfig.restorePageVisible&&window.localStorage.setItem(realLocation+"?historyPageIndex",t),function(){this.flipIntervalManager.flipIntervalTmp(e,fromPageIndex,t,o)}.delay(this,50),0<=BookInfo.getPagesByIndex(t).indexOf(1)?this.bookAttachments.Items.find("BookMiniFullscreen").each(function(t){t.init()}):this.bookAttachments.Items.find("BookMiniFullscreen").each(function(t){t.remove()}),this.bookAttachments.Items.find("BookPageNumberForFlip").each(function(t){t.init()})))},afterCurling:function(){this.showPagesAfterFlip&&this.showPagesAfterFlip(),this.startAnimation()},startAnimation:function(){var t=BookInfo.getCurrentPages();if(null!=t)for(var i=0;i<t.length;i++){var e=t[i];this.pageArray[e]&&this.pageArray[e].startAnimation()}},pauseAnimation:function(){for(var t=this.pageArray.length,i=0;i<t;i++)this.pageArray[i]&&this.pageArray[i].pauseAnimation()},openShownMedia:function(){var t=BookInfo.getCurrentPages();if(null!=t)for(var i=0;i<t.length;i++){var e=t[i];this.pageArray[e]&&this.pageArray[e].enterSide(),this.pageArray[e]&&this.pageArray[e].addHistoryTexts()}},stopMedia:function(){for(var t=this.pageArray.length,i=0;i<t;i++)this.pageArray[i]&&this.pageArray[i].leaveSide()},resetSlider:function(){for(var t=this.pageArray.length,i=0;i<t;i++)this.pageArray[i]&&this.pageArray[i].resetSlider()},destroySlider:function(){for(var t=this.pageArray.length,i=0;i<t;i++)this.pageArray[i]&&this.pageArray[i].destroySlider()},select:function(){this.selected=!0;var t=BookInfo.getCurrentPages();if(null!=t){for(var i=0;i<t.length;i++){var e=t[i];this.pageArray[e]&&this.pageArray[e].initSelectTextEvent()}this.flipBook.parameters&&(this.flipBook.parameters.eventCancel=!0)}},unSelect:function(){this.selected=!1;var t=BookInfo.getCurrentPages();if(null!=t){for(var i=0;i<t.length;i++){var e=t[i];this.pageArray[e]&&this.pageArray[e].destroySelect()}StateSynchronous.instance().findButtons("SelectTextButton",!0).each(function(t){t.setAsUnSelect(),t.executeCallback()}),this.flipBook.parameters&&(this.flipBook.parameters.eventCancel=!1)}},magnifierZoom:function(){this.selected=!0;var t=BookInfo.getCurrentPages();if(null!=t)for(var i=0;i<t.length;i++){var e=t[i];this.pageArray[e]&&this.pageArray[e].initMagnifierEvent()}},unMagnifierZoom:function(){this.selected=!1;var t=BookInfo.getCurrentPages();if(null!=t){for(var i=0;i<t.length;i++){var e=t[i];this.pageArray[e]&&this.pageArray[e].destroyMagnifier()}bookConfig.MagnifierButtonVisible&&window.magnifierZoomBox&&window.magnifierZoomBox.hide(),StateSynchronous.instance().findButtons("magnifier",!0).each(function(t){t.setAsZoomin()})}},switchLargeImage:function(){for(var t=this.pageArray.length,i=0;i<t;i++)this.pageArray[i]&&this.pageArray[i].switchLargeImage()},switchNormalImage:function(t){for(var i=this.pageArray.length,e=0;e<i;e++)this.pageArray[e]&&this.pageArray[e].switchNormalImage(t)},hide:function(){Log.debug("normal book hide."),this.visible=!1,this.setCSS({display:"none"}),this.stopMedia(),this.destroySlider(),this.controlBar&&this.controlBar.setVisible(!1),this.bookAttachments&&this.bookAttachments.hide()},show:function(){Log.debug("normal book show."),this.visible=!0,this.setCSS({display:"block"}),this.enterPage(),this.bookAttachments&&this.bookAttachments.show()},enterPage:function(){this.afterChangeBookType(),this.openShownMedia(),this.addSearchHighlight()},afterChangeBookType:function(){for(var t=this.pageArray.length,i=0;i<t;i++)this.pageArray[i]&&this.pageArray[i].initReaderOrSlider()},addSearchHighlight:function(){var t=this.currentPageIndex;this.pageArray[t=0==t%2?t+1:t-1]&&this.pageArray[t].highlightSearch(),this.pageArray[t+1]&&this.pageArray[t+1].highlightSearch(),this.pageArray[t-1]&&this.pageArray[t-1].highlightSearch(),this.pageArray[t+2]&&this.pageArray[t+2].highlightSearch()},clearSearchHighlight:function(){for(var t=this.pageArray.length,i=0;i<t;i++)this.pageArray[i]&&this.pageArray[i].clearHighlight()},destroy:function(){this.flipBook.remove()},adjustBookPosition:function(){var t,i,e;!this.status_zoom&&!this.flipping&&this.width&&this.height&&(this.pageWidthHeight=this.getFitWH(),t=this.getTranY(),i=this.pageWidthHeight.x/this.width,e=this.getTranX(i),this.pageWidthHeight.x==this.width&&0==t&&0==e||this.flipBook.animateToTransform.bind(this.flipBook)(i,{x:e,y:t},{x:50,y:0}))},getTranX:function(t){var i,e;return bookConfig.retainBookCenter?(i=0,t=this.width*t/4,1!=this.currentPageIndex||bookConfig.isTheBookOpen||(i=rightToLeft?t:-t),this.currentPageIndex==totalPageCount&&(i=rightToLeft?-t:t),t=this.getCssLeft(),(e=this.getSpace(!0)).left+(windowWidth-e.left-e.right-this.width)/2-t+i):0},getTranY:function(){var t=this.getCssTop(),i=this.getSpace(!0);return i.top+(windowHeight-i.top-i.bottom-this.pageWidthHeight.y)/2-t}}).extend(Book),ZoomMonitor=(bdor[41]=bdor[32](bdor[30](37,0),bdor[38]/bdor[40]),Class({options:void 0,target:void 0,beforeZoomIn:void 0,afterZoomIn:void 0,beforeZoomOut:void 0,afterZoomOut:void 0,beforePan:void 0,afterPan:void 0,create:function(){},register:function(t,i){this.options=t,this.target=t.target,this.beforeZoomIn=t.beforeZoomIn,this.afterZoomIn=t.afterZoomIn,this.beforeZoomOut=t.beforeZoomOut,this.afterZoomOut=t.afterZoomOut,this.beforePan=t.beforePan,this.afterPan=t.afterPan,this.target.zoom({zoomIn:this.beforeZoomIn,onPan:this.beforePan,beforeZoomOut:this.beforeZoomOut,zoomOut:this.afterZoomOut,onZoomed:this.afterZoomIn},i)}})),DoubleFlipBook=(FlipBook.expand({initEvent:function(){this.moveDirectionType={MOVE_LEFT:-1,MOVE_RIGHT:1,MOVE_NONE:0},this.mouseMoveDirection=this.moveDirectionType.MOVE_NONE,this.hammerEventModular(),this.mouseWheelFlip(),this.mouseZoomEvent()},hammerEventModular:function(){var t=new Hammer.Manager(this.flipBook[0]);t.add(new Hammer.Pan),t.add(new Hammer.Swipe({velocity:.03,threshold:.5}).recognizeWith(t.get("pan"))),t.add(new Hammer.Press({time:"1000"})),t.add(new Hammer.Pinch),t.add(new Hammer.Tap({event:"doubletap",taps:2})),t.add(new Hammer.Tap),t.on("panstart panmove panend",this.onPan.bind(this)),t.on("press",this.onPress.bind(this)),isPC()?t.on("tap",this.onTap.bind(this)):this.flipBook.bind("click",this.onTap.bind(this)),t.on("swipeleft swiperight swipedown swipeup",this.onSwipe.bind(this)),this.flipBook.bind("mouseover mousemove",this.onOver.bind(this)),this.flipBook.bind("mousedown touchstart",this.onDown.bind(this)),$("body").bind("mouseup touchend",this.onUp.bind(this)),$("body").bind("mouseleave touchleave",this.onUp.bind(this)),bookConfig.SupportOperatePageZoom&&(this.zoomMonitor=new ZoomMonitor,this.zoomMonitor.register({target:this.flipBook,beforeZoomIn:this.beforeZoomIn.bind(this),afterZoomIn:this.afterZoomIn.bind(this),beforePan:this.beforePan.bind(this),afterPan:this.afterPan.bind(this),beforeZoomOut:this.beforeZoomOut.bind(this),afterZoomOut:this.afterZoomOut.bind(this)},!0)),$(this.flipBook).bind("mouseup touchstart",function(t){onWindowClick(t)})},onDown:function(){this.fingleDown=!0},onUp:function(t){this.fingleDown=!1,this.selected||this.status_zoom||this.isZoomming||bookType!=this.bookType||(t=this.realPoint(t)[0],t=this.aroundCorner(t),bookConfig.CurlingPageCorner&&t&&0<=t.indexOf("l")&&this.optionPage&&this.flipPageManager[this.optionPage]&&this.flipPageManager[this.optionPage].AliceToRight)||bookConfig.CurlingPageCorner&&t&&0<=t.indexOf("r")&&this.optionPage&&this.flipPageManager[this.optionPage]&&this.flipPageManager[this.optionPage].AliceToLeft||(this.optionPage&&(this.flipPageManager[this.optionPage]&&this.flipPageManager[this.optionPage].meetFlipCondition()&&this.pageDragToFlip(),this.flipPageManager[this.optionPage]&&(this.flipPageManager[this.optionPage].loosen=!0),this.optionPage=null),this.unCurling())},onPinch:function(t){this.selected||this.status_zoom||this.isZoomming||this.status_zoom||this.status_resize||this.flipping||"pinchout"!=t.type||(this.endFlip(),this.zoomToPage(this.currentPageIndex))},onDoubleTap:function(t){var i;this.selected||this.status_resize||this.flipping||(i=this.realPoint(t.srcEvent)[0],this.aroundCorner(i))||t.srcEvent[0].pageX>$("#flipBook").offset().left+$("#flipBook").outerWidth()||t.srcEvent[0].pageX<$("#flipBook").offset().left||t.srcEvent[0].pageY>$("#flipBook").offset().top+$("#flipBook").outerHeight()||t.srcEvent[0].pageY<$("#flipBook").offset().top||(this.endFlip(),this.zoomToPage(this.currentPageIndex,t.srcEvent.pageX,t.srcEvent.pageY))},onPan:function(t){var i,e;"panend"==t.type||this.selected||this.status_zoom||this.isZoomming||bookType!=this.bookType||this.status_zoom||this.status_resize||this.flipping||this.flipPageManager.fallbackArray&&0<this.flipPageManager.fallbackArray.length||(i=this.realPoint(t.srcEvent)[0],e=this.aroundCorner(i),this.optionPage?(this.flipPageManager[this.optionPage].toPoint=i,this.lastMousePoint&&(this.mouseMoveDirection=0<=i.x-this.lastMousePoint.x?this.moveDirectionType.MOVE_RIGHT:this.moveDirectionType.MOVE_LEFT),this.lastMousePoint=i):bookConfig.FlipDirection||bookConfig.upsideOnMobile()?("panstart"==t.type&&e||30<Math.abs(t.deltaY)&&(i.x<this.MiddleX&&0<t.deltaY||i.x>this.MiddleX&&t.deltaY<0))&&this.curling(i,e):("panstart"==t.type&&e||30<Math.abs(t.deltaX)&&(i.x<this.MiddleX&&0<t.deltaX||i.x>this.MiddleX&&t.deltaX<0))&&this.curling(i,e))},onPress:function(t){var i;this.selected||this.status_zoom||this.isZoomming||bookType!=this.bookType||this.status_zoom||this.status_resize||this.flipping||this.flipPageManager.fallbackArray&&0<this.flipPageManager.fallbackArray.length||(t=this.realPoint(t.srcEvent)[0],i=this.aroundCorner(t),this.optionPage?this.flipPageManager[this.optionPage].toPoint=t:(i=i||(t.x>this.MiddleX?"r":"l"),this.curling(t,i)))},onRotate:function(t){},onSwipe:function(t){if(!(this.selected||this.status_zoom||this.isZoomming||this.dragToFlip))if(bookConfig.FlipDirection||bookConfig.upsideOnMobile())switch(t.type){case"swipeup":this.flipFromDirection(this.coordinate_bottom_right,"swipe to flip");break;case"swipedown":this.flipFromDirection(this.coordinate_bottom_left,"swipe to flip")}else switch(t.type){case"swipeleft":this.flipFromDirection(this.coordinate_bottom_right,"swipe to flip");break;case"swiperight":this.flipFromDirection(this.coordinate_bottom_left,"swipe to flip")}},onTap:function(t){var i=t;t.srcEvent&&(i=t.srcEvent),this.selected||this.status_zoom||this.isZoomming?onWindowTap(i):bookType!=this.bookType||this.status_zoom||this.status_resize||(t=this.realPoint(i)[0],!(t=this.aroundFlipCorner(t))||bookConfig.BanFlipFromDirection?onWindowTap(i):(this.flipPageManager[this.optionPage]&&(this.flipPageManager[this.optionPage].loosen=!0),this.optionPage=null,this.flipFromDirection(t,"direction")))},onOver:function(t){var i;isPhone()||isPad()||this.selected||this.status_zoom||this.isZoomming||bookType!=this.bookType||this.fingleDown||this.flipping||!bookConfig.CurlingPageCorner||(t=this.realPoint(t)[0],(i=this.aroundCorner(t))?this.curling(t,i):(this.flipPageManager[this.optionPage]&&(this.flipPageManager[this.optionPage].loosen=!0),this.optionPage=null),this.unCurling())},aroundFlipCorner:function(t){if(e=this.aroundCorner(t))return e;if(!this.doublePage){var i,e,o=this.getCurrentPageWidthHeight(t.x),o=bookConfig.FlipDirection?(e=o.pageHeight,o.pageWidth):(e=o.pageWidth,o.pageHeight);if(this.MiddleX<0&&(t.x=-t.x),!(t.x>e-1||t.x<1||t.y>o-1||t.y<1||t.x<.8*e&&t.x>.2*e||t.y>.2*o&&t.y<.8*o))return i=Math.sqrt(Math.pow(.2*o,2)-Math.pow((e-Math.abs(t.x))*o/e,2)),e=Math.sqrt(Math.pow(.2*o,2)-Math.pow(Math.abs(t.x)*o/e,2)),t.y<e&&t.x<this.MiddleX&&0<this.MiddleX?"tl":t.y<e&&t.x<-this.MiddleX&&this.MiddleX<0||t.y<i&&t.x>this.MiddleX&&0<this.MiddleX?"tr":t.y<i&&t.x>-this.MiddleX&&this.MiddleX<0?"tl":t.y>o-e&&t.x<this.MiddleX&&0<this.MiddleX?"bl":t.y>o-e&&t.x<-this.MiddleX&&this.MiddleX<0||t.y>o-i&&t.x>this.MiddleX&&0<this.MiddleX?"br":t.y>o-i&&t.x>-this.MiddleX&&this.MiddleX<0?"bl":void 0}},aroundCorner:function(t){this.edgeX();var i,e=this.getCurrentPageWidthHeight(t.x);if(e=bookConfig.FlipDirection?(i=e.pageHeight,e.pageWidth):(i=e.pageWidth,e.pageHeight),!(Math.abs(t.x)>i-1||t.y>e-1||t.y<1||Math.abs(t.x)<.8*i||t.y>.2*e&&t.y<.8*e))return i=Math.sqrt(Math.pow(.2*e,2)-Math.pow((i-Math.abs(t.x))*e/i,2)),t.y<i&&t.x<this.MiddleX?"tl":t.y<i&&t.x>this.MiddleX?"tr":t.y>e-i&&t.x<this.MiddleX?"bl":t.y>e-i&&t.x>this.MiddleX?"br":void 0},getCurrentPageWidthHeight:function(t){this.edgeX();var i=this.getCurrentPages();return 1==i.length||t<=this.MiddleX&&!rightToLeft||t>=this.MiddleX&&rightToLeft?{pageWidth:this.pageInfoArray[i[0]].pageWidth*this.pageWidth,pageHeight:this.pageInfoArray[i[0]].pageHeight*this.pageHeight}:t<=this.MiddleX&&rightToLeft||t>=this.MiddleX&&!rightToLeft?{pageWidth:this.pageInfoArray[i[1]].pageWidth*this.pageWidth,pageHeight:this.pageInfoArray[i[1]].pageHeight*this.pageHeight}:void 0},pageDragToFlip:function(){this.flipPageManager[this.optionPage].toPoint.y=this.flipPageManager[this.optionPage].startPoint.y,this.flipPageManager[this.optionPage].toPoint.x=-this.flipPageManager[this.optionPage].startPoint.x,this.mouseMoveDirection=this.moveDirectionType.MOVE_NONE,this.flipPageManager[this.optionPage].startToFlip(),this.flipPageManager[this.optionPage].dragMoveToFlip=!0,this.flipToDirection=this.flipPageManager[this.optionPage].startPoint.x<0?"right":"left",this.tmpDragToFlipTimeout&&window.clearTimeout(this.tmpDragToFlipTimeout),this.dragToFlip=!0,this.tmpDragToFlipTimeout=window.setTimeout(function(){this.dragToFlip=!1}.bind(this),500),this.getNextPage("drag to flip")},flipFromDirection:function(t,i){if(!(this.flipPageManager.fallbackArray&&0<this.flipPageManager.fallbackArray.length))if(0<=t.indexOf("l")){if(!this.flipping||this.flipToDirection!=this.direction_left){if(this.flipPageManager.pinDownCurlingArray&&0<this.flipPageManager.pinDownCurlingArray.length){t=this.flipPageManager.pinDownCurlingArray.length;for(var e=0;e<t;e++)if(this.flipPageManager.pinDownCurlingArray[e].AliceToLeft)return}this.flipToDirection=this.direction_right,this.getNextPage(i)}}else if(0<=t.indexOf("r")&&(!this.flipping||this.flipToDirection!=this.direction_right)){if(this.flipPageManager.pinDownCurlingArray&&0<this.flipPageManager.pinDownCurlingArray.length)for(t=this.flipPageManager.pinDownCurlingArray.length,e=0;e<t;e++)if(this.flipPageManager.pinDownCurlingArray[e].AliceToRight)return;this.flipToDirection=this.direction_left,this.getNextPage(i)}},hidePages:function(){var t=this.pageArray.length,i=this.getCurrentPages();this.zoomPageArray=[];for(var e=0;e<t;e++)this.pageArray[e]&&i.indexOf(e)<0&&this.pageArray[e].visible&&(this.zoomPageArray.push(this.pageArray[e]),this.pageArray[e].setVisible(!1)),this.pageBackArray&&this.pageBackArray[e]&&(this.zoomPageArray.push(this.pageBackArray[e]),this.pageBackArray[e].setVisible(!1))},showPages:function(){if(this.zoomPageArray){for(var t=this.zoomPageArray.length,i=0;i<t;i++){var e=this.zoomPageArray[i];e&&e.setVisible(!0)}this.zoomPageArray=[]}},beforeZoomIn:function(){var t;isPhone()||isPad()||(bookConfig.ZoomToolbarVisible&&!this.controlBar&&(this.controlBar=new(bookType!=BookType.catalog_book?ZoomControlBar:CatalogZoomControlBar)(this.parent)),this.controlBar&&(t="lite"==bookConfig.ToolbarViewMode&&bookType==BookType.catalog_book?50:0,this.controlBar.setPosition((windowWidth-this.controlBar.width)/2,toolBar.getTopHeight()+t+5),this.controlBar.setVisible(bookConfig.ZoomToolbarVisible)),this.bookAttachments&&this.bookAttachments.Items.find("ZoomMap").each(function(t){t.show(),t.fillContent(this.currentPageIndex)}),bookConfig.AnnotationButtonVisible&&global.annotationCookie&&global.annotationCookie.saveCookie()),window.toolBar&&window.toolBar.btnZoom&&window.toolBar.changeZoomIcon(!1),this.status_zoom=!0,this.hidePages(),global.canMagnifierZoom&&this.unMagnifierZoom(),StateSynchronous.instance().findButtons("ZoomButton",!0).each(function(t){t.setAsZoomout(),t.executeCallback()}),this.bookAttachments&&this.bookAttachments.Items.find("StaticAd").each(function(t){t.setStyle({"z-index":1})}),this.bookAttachments&&this.bookAttachments.Items.find("BookmarkTab").each(function(t){t.hide()})},beforeZoomOut:function(){bookConfig.AnnotationButtonVisible&&global.annotationCookie&&global.annotationCookie.saveCookie()},afterZoomOut:function(){this.resetZoomConfig(),(isPhone()||isPad())&&(this.showPages(),gotoPageFun(this.toPageIndex,!1,"change book type")),isPhone()||isPad()||(this.bookAttachments.noteAdd&&(this.bookAttachments.noteAdd.show(),this.bookAttachments.noteAdd.onResize()),this.switchNormalImage())},resetZoomConfig:function(){this.flipping||1!=this.currentPageIndex||bookConfig.isTheBookOpen||this.bookAttachments&&this.bookAttachments.Items.find("StaticAd").each(function(t){t.setStyle({"z-index":3})}.bind(this)),this.status_zoom=!1,this.controlBar&&this.controlBar.setVisible(!1),this.bookAttachments&&this.bookAttachments.Items.find("ZoomMap").each(function(t){t.hide()}),window.toolBar&&window.toolBar.btnZoom&&window.toolBar.changeZoomIcon(!0),StateSynchronous.instance().findButtons("ZoomButton",!0).each(function(t){t.setAsZoomin(),t.executeCallback()}),this.thicknessManager&&this.thicknessManager.showCanvas(),this.bookAttachments&&this.bookAttachments.Items.find("BookmarkTab").each(function(t){t.show()}),this.showPage&&this.showPage.parameters&&(this.showPage.parameters.zoomFlag=!1,this.showPage.parameters.scale=1,this.showPage.parameters.toScale=1)},beforePan:function(){this.bookAttachments&&this.bookAttachments.Items.find("ZoomMap").each(function(t){t.refreshArea()})},afterPan:function(){},curling:function(t,i){this.selected||this.status_zoom||this.status_resize||(this.optionPage=this.curlingPage(t,i))&&!this.flipIntervalManager.flipInterval&&this.flipIntervalManager.setFlipInterval()},curlingPage:function(t,i){if(!i&&t.x<this.MiddleX||i&&0<=i.indexOf("l")){if(this.flipping&&"left"==this.flipToDirection)return;var e=this.realIndex(!1)[0],o=this.realIndex(!1)[1],s=e+"-"+o,n=!1}if(!i&&t.x>this.MiddleX||i&&0<=i.indexOf("r")){if(this.flipping&&"right"==this.flipToDirection)return;s=(e=this.realIndex(!0)[0])+"-"+(o=this.realIndex(!0)[1]),n=!0}if(s&&e&&o){var a=originTotalPageCount;if(bookConfig.SingleModeBanFlipToLastPage&&this.bookType==BookType.single_book&&(a=Math.max(1,bookConfig.totalPageCount-1)),!(e<=0||a<e||o<=0||a<o||this.flipPageManager[s]&&this.flipPageManager[s].fallback||this.flipPageManager[s]&&this.flipPageManager[s].flipping||BookEvent.trigger("beforeFlipPage",[o]))){if(a=o,BookInfo.isDoublePage()&&(a=BookInfo.getMinPageIndex(a)),!(passwardType()&&bookConfig.excludeFrontPages&&a>parseInt(bookConfig.excludeFrontPages))||verifyPassward())return this.defineFlipPage(s,t,i,e,o,n),s;global.passwardPannel||(global.passwardPannel=new PasswardPannel),global.passwardPannel.show()}}},defineFlipPage:function(t,i,e,o,s,n){var a;i&&(a=originTotalPageCount,bookConfig.SingleModeBanFlipToLastPage&&this.bookType==BookType.single_book&&(a=Math.max(1,bookConfig.totalPageCount-1)),o<=0||a<o||s<=0||a<s||(this.flipPageManager[t]?e=this.getFromStartPointByCoordinate(i,e,this.flipPageManager[t]):(this.beforeFlipTo(s),e=this.getFromStartPointByCoordinate(i,e,this.flipPageManager[t]),this.flipIntervalManager.flipToPoint(this.flipPageManager[t],o,s,e[0],e[1],!0)),n?(this.flipPageManager[t].AliceToLeft=!0,this.flipPageManager[t].AliceToRight=!1):(this.flipPageManager[t].AliceToLeft=!1,this.flipPageManager[t].AliceToRight=!0),this.flipPageManager[t].loosen=!1,this.flipPageManager[t].fromPoint=e[0],this.flipPageManager[t].startPoint=e[1],this.flipPageManager[t].toPoint=i,this.flipPageManager.pinDownCurlingArray.indexOf(t)<0&&this.flipPageManager.pinDownCurlingArray.push(t),this.flipPageManager.fallbackArray.removeElement(t),this.flipPageManager.flipArray.removeElement(t)))},unCurling:function(){if(!(this.selected||this.status_zoom||this.status_resize)&&this.flipPageManager.array)for(var t=this.flipPageManager.array.length,i=0;i<t;i++){var e,o=this.flipPageManager.array[i];o==this.optionPage||!this.flipPageManager[o]||this.flipPageManager[o].fallback||this.flipPageManager[o].flipping||!this.flipPageManager[o].AliceToRight&&!this.flipPageManager[o].AliceToLeft||(this.flipPageManager[o].AliceToRight=!1,this.flipPageManager[o].AliceToLeft=!1,this.flipPageManager[o].fallback=!0,e=this.getRealToPoint(this.flipPageManager[o],this.flipPageManager[o].fromPoint,this.flipPageManager[o].startPoint),this.flipPageManager[o].toPoint=e.toPoint,this.flipPageManager[o].fromPoint=e.fromPoint,this.flipPageManager[o].coordinate=e.coordinate,this.flipPageManager.fallbackArray.indexOf(o)<0&&this.flipPageManager.fallbackArray.push(o),this.flipPageManager.pinDownCurlingArray.removeElement(o),this.flipPageManager.flipArray.removeElement(o))}},getFromStartPointByCoordinate:function(t,i,e){var o,s,n,a;if(t)return o={x:0,y:0},s={x:0,y:0},e=bookConfig.FlipDirection?(n=e.getPageWidthHeight().height,e.getPageWidthHeight().width):(n=e.getPageWidthHeight().width,e.getPageWidthHeight().height),a=t.y>e/2?t.y-5:t.y+5,t.x<0&&(o={x:-n,y:a}),0<t.x&&(o={x:n,y:a}),i&&0<=i.indexOf("r")&&(o.x=n),i&&0<=i.indexOf("l")&&(o.x=-n),"tl"==i&&(o={x:-n,y:0}),"bl"==i&&(o={x:-n,y:e}),"tr"==i&&(o={x:n,y:0}),s.x=(o="br"==i?{x:n,y:e}:o).x,s.y=o.y,[o,s]},getRealToPoint:function(t,i,e){var o,s,n,a=bookConfig.FlipDirection?(t.getPageWidthHeight(),t.getPageWidthHeight().width):(t.getPageWidthHeight(),t.getPageWidthHeight().height);return 0==i.y||i.y==a?{fromPoint:i,toPoint:e,coordinate:t.coordinate}:(o={},s={},n=t.coordinate,t.coordinate.y<=i.y?(o.y=a,o.x=i.x,s.y=a):(o.y=0,o.x=i.x,s.y=0),s.x=e.x,t=(n.y-i.y)/(n.x-i.x),n.x=[(t*t-1)*o.x+t*(-2*o.y+i.y+n.y)+(i.x+n.x)]/(t*t+1),n.y=o.y+t*(n.x-o.x),{fromPoint:o,toPoint:s,coordinate:n})},realIndex:function(t){var i=BookInfo.getMinPageIndex(this.currentPageIndex);return t&&!rightToLeft||!t&&rightToLeft?[i+1,i+2]:!t&&!rightToLeft||t&&rightToLeft?[i,i-1]:void 0},getNextPage:function(t){("right"==this.flipToDirection&&!rightToLeft||"left"==this.flipToDirection&&rightToLeft?previousPageFun:nextPageFun)(t)},realBookPosition:function(){var t,i=bookConfig.upsideOnMobile()?(t=this.flipBook.offset().top,this.flipBook.offset().left):(t=this.flipBook.offset().left,this.flipBook.offset().top);return[t,i]},realPoint:function(t){var i,e,o,s,n,a;if((t=t.originalEvent&&t.originalEvent.changedTouches?t.originalEvent.changedTouches:t.changedTouches||[t])&&!(3<=t.length))return i=this.realBookPosition()[0],e=this.realBookPosition()[1],a=t[0].pageX,o=t[0].pageY,bookConfig.upsideOnMobile()&&(a=t[0].pageY,o=windowHeight-t[0].pageX),bookConfig.FlipDirection?(o=o-e-this.pageHeight,n=(s=this.getCurrentPageWidthHeight(o)).pageWidth,a=this.pageWidth-(a-i)-(this.pageWidth-n)/2,t[1]?(s=t[1].pageX,t=t[1].pageY,s=this.pageWidth-(s-i)-(this.pageWidth-n)/2,[{x:o,y:a},{x:t=t-e-this.pageHeight,y:s}]):[{x:o,y:a}]):(a=a-i-this.pageWidth,n=(s=this.getCurrentPageWidthHeight(a)).pageHeight,o=o-e-(this.pageHeight-n)/2,t[1]?(s=t[1].pageX,t=t[1].pageY,[{x:a,y:o},{x:s=s-i-this.pageWidth,y:t=t-e-(this.pageHeight-n)/2}]):[{x:a,y:o}])},mouseWheelFlip:function(){var e;this.flipBook.bind(_event._mousewheel,function(t){var i=!(null!=e&&new Date-e<150||(e=new Date,0));return!!i&&(i=t.originalEvent,i=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail)),t=t.originalEvent||t,this.status_zoom&&(t={pointers:[{pageX:t.pageX,pageY:t.pageY},{pageX:t.pageX,pageY:t.pageY}]},i<0?this.controlBar&&this.controlBar.zoomDown(t):this.controlBar&&this.controlBar.zoomUp(t)),!this.status_zoom&&bookConfig.mouseWheelFlip&&(i<0?nextPageFun:previousPageFun)("mouse wheel flip"),bookConfig.mouseWheelFlip?(stopEvent(t),!1):void 0)}.bind(this))},mouseZoomEvent:function(){$(this.flipBook).bind(_event._move,function(t){var i,e,o,s=BookInfo.getBook();s.status_zoom&&!this.flipBook.parameters.zoomming&&s.controlBar&&s.controlBar.moveByMousePosition&&(i=(s=this.flipBook).width(),e=s.height(),o=t.pageX,t=t.pageY,i=o-o*i/windowWidth,e=t-t*e/windowHeight,(t={}).origin=s.parameters.origin,t.scale=s.parameters.scale,i-=s.parameters.left,e-=s.parameters.top,t.tran={x:i,y:e},e=transformCSS(t),s.css(e),this.bookAttachments)&&this.bookAttachments.zoomMap&&this.bookAttachments.zoomMap.refreshArea()}.bind(this))}}),Class({newFlipPage:function(){return new DoubleFlipPage(this)},resetPages:function(t){isNaN(t)||t<=0||(t=this.getMinPageIndex(t),this.unWrapPageExcludeArray([t,t+1,t+2,t+3,t-1,t-2]),this.addPageArray([t,t+1,t+2,t+3,t-1,t-2]),this.currentPage=this.pageArray[t],this.currentPage2=this.pageArray[t+1],this.nextPage=this.pageArray[t+2],this.nextPage2=this.pageArray[t+3],this.previousPage=this.pageArray[t-1],this.previousPage2=this.pageArray[t-2],this.setPageCss(),this.loading())},setPageCss:function(){var t=transformCSS({rotate:0,tran:{x:0,y:0}});this.currentPage&&(this.setZIndexByPageIndex(this.currentPage),this.currentPage.setCSSByStyle(t)),this.previousPage&&(this.setZIndexByPageIndex(this.previousPage),this.previousPage.setCSSByStyle(t)),this.previousPage2&&(this.setZIndexByPageIndex(this.previousPage2),this.previousPage2.setCSSByStyle(t)),this.currentPage2&&(this.setZIndexByPageIndex(this.currentPage2),this.currentPage2.setCSSByStyle(t)),this.nextPage&&(this.setZIndexByPageIndex(this.nextPage),this.nextPage.setCSSByStyle(t)),this.nextPage2&&(this.setZIndexByPageIndex(this.nextPage2),this.nextPage2.setCSSByStyle(t)),rightToLeft?(this.currentPage&&this.currentPage.setLeftOrRight(!1),this.previousPage&&this.previousPage.setLeftOrRight(!1),this.previousPage2&&this.previousPage2.setLeftOrRight(!1),this.currentPage2&&this.currentPage2.setLeftOrRight(!0),this.nextPage&&this.nextPage.setLeftOrRight(!0),this.nextPage2&&this.nextPage2.setLeftOrRight(!0)):(this.currentPage&&this.currentPage.setLeftOrRight(!0),this.previousPage&&this.previousPage.setLeftOrRight(!0),this.previousPage2&&this.previousPage2.setLeftOrRight(!0),this.currentPage2&&this.currentPage2.setLeftOrRight(!1),this.nextPage&&this.nextPage.setLeftOrRight(!1),this.nextPage2&&this.nextPage2.setLeftOrRight(!1))},getDownUpHardPage:function(t,i,e){return this.addPageArray([t,i]),e?(this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-left-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-right-side")):(this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-right-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-left-side")),[this.pageArray[t],this.pageArray[i]]},getDownUpPage:function(t,i){return this.addPageArray([t,i]),this.pageArray[t]&&this.pageArray[t].beginToFlip(),this.pageArray[i]&&this.pageArray[i].beginToFlip(),this.pageArray[t]&&(this.pageArray[t].page.setCSSByName("right-flip-side"),this.setZIndexByPageIndex(this.pageArray[t])),this.pageArray[i]&&(this.pageArray[i].page.setCSSByName("flip-side"),this.pageArray[i].page.side.addClass("boxShadow"),this.setZIndexByPageIndex(this.pageArray[i])),[this.pageArray[t],this.pageArray[i]]},flipToMax:function(t,i,e,o){return o=this.flipPageManager.initFlipPageByIndex(t,i,o),this.addPagesBeforeFlipToMax(i,e),this.pageArray[i+1]&&(this.pageArray[i+1].setLeftOrRight(rightToLeft),o.nextPage=this.pageArray[i+1]),this.setPagesStyleBeforeFlipToMax(i,e),this.deleteUnnecessaryPagesBeforeFlipToMax(t,i),o},addPagesBeforeFlipToMax:function(t,i){this.addPageArray([t+1]),i&&this.supportSerialsFlip()&&this.addPageArray([t+2,t+3])},setPagesStyleBeforeFlipToMax:function(t,i){i&&this.supportSerialsFlip()&&(this.pageArray[t+1]&&this.setZIndexByPageIndex(this.pageArray[t+1],t),this.pageArray[t+2]&&(this.setZIndexByPageIndex(this.pageArray[t+2],t),this.pageArray[t+2].setLeftOrRight(rightToLeft)),this.pageArray[t+3])&&(this.setZIndexByPageIndex(this.pageArray[t+3],t),this.pageArray[t+3].setLeftOrRight(rightToLeft))},deleteUnnecessaryPagesBeforeFlipToMax:function(t,i){for(var e=i+4;e<=originTotalPageCount;e++)this.pageArray[e]&&(this.pageArray[e].remove(),this.pageArray[e]=void 0);for(e=t+1;e<i;e++)this.pageArray[e]&&(this.pageArray[e].remove(),this.pageArray[e]=void 0)},afterFlipToMax:function(t,i){t=this.getMinPageIndex(t),this.addPagesAfterFlipToMax(t),this.setPagesStyleAfterFlipToMax(t),this.deleteUnnecessaryPagesAfterFlipToMax(t)},addPagesAfterFlipToMax:function(t){this.flipping||this.addPageArray([t+3,t,t-1,t-2]),this.supportSerialsFlip()||this.addPageArray([t+2,t+3]),this.pageArray[t+1]&&this.fillContent(t+1),this.pageArray[t+2]&&this.fillContent(t+2),this.pageArray[t+3]&&this.fillContent(t+3)},setPagesStyleAfterFlipToMax:function(t){this.pageArray[t]&&(this.setZIndexByPageIndex(this.pageArray[t],t),this.pageArray[t].setLeftOrRight(!rightToLeft)),this.pageArray[t-1]&&(this.setZIndexByPageIndex(this.pageArray[t-1],t),this.pageArray[t-1].setLeftOrRight(!rightToLeft)),this.pageArray[t-2]&&(this.setZIndexByPageIndex(this.pageArray[t-2],t),this.pageArray[t-2].setLeftOrRight(!rightToLeft)),this.supportSerialsFlip()&&this.flipping||(this.pageArray[t+1]&&this.setZIndexByPageIndex(this.pageArray[t+1]),this.pageArray[t+2]&&(this.setZIndexByPageIndex(this.pageArray[t+2]),this.pageArray[t+2].setLeftOrRight(rightToLeft)),this.pageArray[t+3]&&(this.setZIndexByPageIndex(this.pageArray[t+3]),this.pageArray[t+3].setLeftOrRight(rightToLeft)))},deleteUnnecessaryPagesAfterFlipToMax:function(t){for(t-=3;0<=t;t--)this.pageArray[t]&&(this.pageArray[t].remove(),this.pageArray[t]=void 0)},flipToMin:function(t,i,e,o){return o=this.flipPageManager.initFlipPageByIndex(t,i,o),this.addPagesBeforeFlipToMin(i,e),this.pageArray[i-1]&&(this.pageArray[i-1].setLeftOrRight(!rightToLeft),o.nextPage=this.pageArray[i-1]),this.setPagesStyleBeforeFlipToMin(i,e),this.deleteUnnecessaryPagesBeforeFlipToMin(t,i),o},addPagesBeforeFlipToMin:function(t,i){this.addPageArray([t-1]),i&&this.supportSerialsFlip()&&this.addPageArray([t-2,t-3])},setPagesStyleBeforeFlipToMin:function(t,i){i&&this.supportSerialsFlip()&&(this.pageArray[t-1]&&this.setZIndexByPageIndex(this.pageArray[t-1],t),this.pageArray[t-2]&&(this.setZIndexByPageIndex(this.pageArray[t-2],t),this.pageArray[t-2].setLeftOrRight(!rightToLeft)),this.pageArray[t-3])&&(this.setZIndexByPageIndex(this.pageArray[t-3],t),this.pageArray[t-3].setLeftOrRight(!rightToLeft))},deleteUnnecessaryPagesBeforeFlipToMin:function(t,i){for(var e=i-4;0<=e;e--)this.pageArray[e]&&(this.pageArray[e].remove(),this.pageArray[e]=void 0);for(e=t-1;i<e;e--)this.pageArray[e]&&(this.pageArray[e].remove(),this.pageArray[e]=void 0)},afterFlipToMin:function(t,i){t=this.getMaxPageIndex(t),this.addPagesAfterFlipToMin(t),this.setPagesStyleAfterFlipToMin(t),this.deleteUnnecessaryPagesAfterFlipToMin(t)},addPagesAfterFlipToMin:function(t){this.flipping||this.addPageArray([t-3,t,t+1,t+2]),this.supportSerialsFlip()||this.addPageArray([t-2,t-3]),this.pageArray[t-1]&&this.fillContent(t-1),this.pageArray[t-2]&&this.fillContent(t-2),this.pageArray[t-3]&&this.fillContent(t-3)},setPagesStyleAfterFlipToMin:function(t){this.pageArray[t]&&(this.setZIndexByPageIndex(this.pageArray[t],t),this.pageArray[t].setLeftOrRight(rightToLeft)),this.pageArray[t+1]&&(this.setZIndexByPageIndex(this.pageArray[t+1],t),this.pageArray[t+1].setLeftOrRight(rightToLeft)),this.pageArray[t+2]&&(this.setZIndexByPageIndex(this.pageArray[t+2],t),this.pageArray[t+2].setLeftOrRight(rightToLeft)),this.supportSerialsFlip()&&this.flipping||(this.pageArray[t-1]&&this.setZIndexByPageIndex(this.pageArray[t-1]),this.pageArray[t-2]&&(this.setZIndexByPageIndex(this.pageArray[t-2]),this.pageArray[t-2].setLeftOrRight(!rightToLeft)),this.pageArray[t-3]&&(this.setZIndexByPageIndex(this.pageArray[t-3]),this.pageArray[t-3].setLeftOrRight(!rightToLeft)))},deleteUnnecessaryPagesAfterFlipToMin:function(t){for(t+=3;t<=originTotalPageCount;t++)this.pageArray[t]&&(this.pageArray[t].remove(),this.pageArray[t]=void 0)},getFlipTo:function(t){var i=this.getMinPageIndex(this.currentPageIndex),e=i+1,o=e<(t=this.getMinPageIndex(t))?"max":"";return t+1<i&&(o="min",t+=1),{flipTo:o,minIndex:i,maxIndex:e,toIndex:t}},getCurrentPages:function(){return BookInfo.getPagesByIndex(this.currentPageIndex)},getPagesByIndex:function(t){return BookInfo.getPagesByIndex(t)},movetoCenter:function(t,i,e){var o,s,n,a,h;this.status_zoom||!bookConfig.retainBookCenter||1<BookInfo.getPagesByIndex(t).length&&1<BookInfo.getPagesByIndex(i).length||(s=-(o=this.pageWidth)/2,n=o/2,BookInfo.isLeftPage(t,!(h=a=0))||1!=BookInfo.getPagesByIndex(t).length||(a=s),BookInfo.isLeftPage(t,!0)&&1==BookInfo.getPagesByIndex(t).length&&(a=n),BookInfo.isLeftPage(i,!0)||1!=BookInfo.getPagesByIndex(i).length||(h=s),BookInfo.isLeftPage(i,!0)&&1==BookInfo.getPagesByIndex(i).length&&(h=n),this.fromTrans=this.movedX*h<0&&this.toTrans!=h?this.movedX:a,this.toTrans=h,t=2*o,null==e&&(e=t),isNaN(e))||(this.movedLength=e,this.movedX=$.easing.easeInOutSine(null,e,this.fromTrans,this.toTrans-this.fromTrans,t),e={tran:{x:parseInt(this.movedX),y:0}},this.setCSS(e))},edgeX:function(){this.MiddleX=0},getFromStartPointByIndex:function(t,i){var e,o,s,n,a=this.getMinPageIndex(this.currentPageIndex),h=a+1;if(t!=h&&t!=a)return e={x:0,y:0},o={x:0,y:0},s=i.getPageWidthHeight().width,i=i.getPageWidthHeight().height,n=!1,(h<t&&!rightToLeft||t<a&&rightToLeft)&&(o.x=(e={x:s,y:i}).x-2,o.y=e.y-2,n=!0),(t<a&&!rightToLeft||h<t&&rightToLeft)&&(o.x=(e={x:-s,y:i}).x+2,o.y=e.y-2,n=!1),this.flipToDirection=n?"left":"right",[e,o]},afterZoomIn:function(t){var i,e;if(!isPhone()&&!isPad()||bookConfig.usePdfJs)isPhone()||isPad()||this.showPages(),t&&this.flipBook.parameters&&!this.flipBook.parameters.resize&&(this.flipBook.parameters.resize=!0,t=this.flipBook.offset().left,i=this.flipBook.offset().top,e=this.flipBook.parameters.left,s=i-this.flipBook.parameters.top,o=this.flipBook.parameters.scale,e={tran:{x:parseInt(t-e),y:parseInt(s)},scale:1,origin:{x:0,y:0}},1!=o&&this.resizeBook(Math.round(this.width*o/2),Math.round(this.height*o)),this.status_zoom||(o=0,1==this.currentPageIndex&&bookConfig.retainBookCenter&&!bookConfig.isTheBookOpen&&(o=rightToLeft?this.width/4:-this.width/4),this.currentPageIndex==totalPageCount&&bookConfig.retainBookCenter&&(o=rightToLeft?-this.width/4:this.width/4),e.tran={x:parseInt(o),y:0},e.left=t-o,e.top=+i),this.setCSS(e),this.flipBook.parameters.tran=e.tran,this.flipBook.parameters.scale=1,this.flipBook.parameters.toScale=1,this.flipBook.parameters.width=$(this.flipBook).width(),this.flipBook.parameters.height=$(this.flipBook).height(),this.flipBook.parameters.origin={x:0,y:0},this.flipBook.parameters.resize=!1,isPhone()||isPad()||this.switchLargeImage());else if(null!=(i=BookInfo.getCurrentPages()))for(e=0;e<i.length;e++){var o,s=i[e];this.pageArray[s]&&(o=this.flipBook.parameters.scale,this.pageArray[s].resizeSvg(Math.round(this.pageWidth*o),Math.round(this.pageHeight*o)),bookConfig.highDefinitionConversion?this.pageArray[s].zoomInSideImage():(1<t.scale&&this.pageArray[s].zoomInSideImage(),1==t.scale&&this.pageArray[s].zoomOutSideImage()))}},setZIndexByPageIndex:function(t,i){t&&(i=i||this.currentPageIndex,i=this.getMinPageIndex(i),t==this.pageArray[i+1]?t.setZIndex(2):t==this.pageArray[i+2]?t.setZIndex(1):t==this.pageArray[i+3]?t.setZIndex(0):t==this.pageArray[i]?t.setZIndex(2):t==this.pageArray[i-1]?t.setZIndex(1):t==this.pageArray[i-2]&&t.setZIndex(0))},getFitWH:function(){this.getSpace(!1);var t=this.getSpace(!0),i=windowWidth-t.left-t.right,t=windowHeight-t.top-t.bottom,e=bookConfig.largePageWidth*(-parseFloat(bookConfig.visibleAreaLeft)+parseFloat(bookConfig.visibleAreaRight))/100,o=bookConfig.largePageHeight*(parseFloat(bookConfig.visibleAreaBottom)-parseFloat(bookConfig.visibleAreaTop))/100;return fitPageWidthHeight(i,t,2*e,o)},getSpace:function(t){var i=bookConfig.leftMargin+toolBar.getLeftWidth(),e=bookConfig.rightMargin+toolBar.getRightWidth(),o=bookConfig.topMargin+toolBar.getTopHeight(),s=bookConfig.bottomMargin+toolBar.getBottomHeight();return t&&(i+=bookConfig.hardCoverBorderWidth+totalThicknessWidth(!0),e+=bookConfig.hardCoverBorderWidth+totalThicknessWidth(!0),o+=bookConfig.hardCoverBorderWidth,s+=bookConfig.hardCoverBorderWidth),{left:i,right:e,top:o,bottom:s}},getMinPageIndex:function(t){return bookConfig.isTheBookOpen?2*Math.ceil(t/2)-1:2*Math.floor(t/2)},getMaxPageIndex:function(t){return bookConfig.isTheBookOpen?2*Math.ceil(t/2):2*Math.floor(t/2)+1}}).extend(FlipBook)),DoubleCalendar=Class({bookType:BookType.normal_book,doublePage:!0,create:function(t){this._super(t),this.resetZoomArea()},initBook:function(){this._super(),this.showPage=this.flipBook},newFlipPage:function(){return new DoubleCalendarPage(this)},newPage:function(t){return new NormalPage(t,"page",!1,this.bookType)},setPageCss:function(){var t=transformCSS({rotate:0,tran:{x:0,y:0}});this.currentPage&&(this.setZIndexByPageIndex(this.currentPage),this.currentPage.setCSSByStyle(t)),this.previousPage&&(this.setZIndexByPageIndex(this.previousPage),this.previousPage.setCSSByStyle(t)),this.previousPage2&&(this.setZIndexByPageIndex(this.previousPage2),this.previousPage2.setCSSByStyle(t)),this.currentPage2&&(this.setZIndexByPageIndex(this.currentPage2),this.currentPage2.setCSSByStyle(t)),this.nextPage&&(this.setZIndexByPageIndex(this.nextPage),this.nextPage.setCSSByStyle(t)),this.nextPage2&&(this.setZIndexByPageIndex(this.nextPage2),this.nextPage2.setCSSByStyle(t)),rightToLeft?(this.currentPage&&this.currentPage.setUpOrDown(!1),this.previousPage&&this.previousPage.setUpOrDown(!1),this.previousPage2&&this.previousPage2.setUpOrDown(!1),this.currentPage2&&this.currentPage2.setUpOrDown(!0),this.nextPage&&this.nextPage.setUpOrDown(!0),this.nextPage2&&this.nextPage2.setUpOrDown(!0)):(this.currentPage&&this.currentPage.setUpOrDown(!0),this.previousPage&&this.previousPage.setUpOrDown(!0),this.previousPage2&&this.previousPage2.setUpOrDown(!0),this.currentPage2&&this.currentPage2.setUpOrDown(!1),this.nextPage&&this.nextPage.setUpOrDown(!1),this.nextPage2&&this.nextPage2.setUpOrDown(!1))},getDownUpHardPage:function(t,i,e){return this.addPageArray([t,i]),e?(this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-up-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-down-side")):(this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-down-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-up-side")),[this.pageArray[t],this.pageArray[i]]},flipToMax:function(t,i,e,o){return o=this.flipPageManager.initFlipPageByIndex(t,i,o),this.addPagesBeforeFlipToMax(i,e),this.pageArray[i+1]&&(this.pageArray[i+1].setUpOrDown(rightToLeft),o.nextPage=this.pageArray[i+1]),this.setPagesStyleBeforeFlipToMax(i,e),this.deleteUnnecessaryPagesBeforeFlipToMax(t,i),o},setPagesStyleBeforeFlipToMax:function(t,i){i&&this.supportSerialsFlip()&&(this.pageArray[t+1]&&this.setZIndexByPageIndex(this.pageArray[t+1],t),this.pageArray[t+2]&&(this.setZIndexByPageIndex(this.pageArray[t+2],t),this.pageArray[t+2].setUpOrDown(rightToLeft)),this.pageArray[t+3])&&(this.setZIndexByPageIndex(this.pageArray[t+3],t),this.pageArray[t+3].setUpOrDown(rightToLeft))},setPagesStyleAfterFlipToMax:function(t){this.pageArray[t]&&(this.setZIndexByPageIndex(this.pageArray[t],t),this.pageArray[t].setUpOrDown(!rightToLeft)),this.pageArray[t-1]&&(this.setZIndexByPageIndex(this.pageArray[t-1],t),this.pageArray[t-1].setUpOrDown(!rightToLeft)),this.pageArray[t-2]&&(this.setZIndexByPageIndex(this.pageArray[t-2],t),this.pageArray[t-2].setUpOrDown(!rightToLeft)),this.supportSerialsFlip()&&this.flipping||(this.pageArray[t+1]&&this.setZIndexByPageIndex(this.pageArray[t+1]),this.pageArray[t+2]&&(this.setZIndexByPageIndex(this.pageArray[t+2]),this.pageArray[t+2].setUpOrDown(rightToLeft)),this.pageArray[t+3]&&(this.setZIndexByPageIndex(this.pageArray[t+3]),this.pageArray[t+3].setUpOrDown(rightToLeft)))},flipToMin:function(t,i,e,o){return o=this.flipPageManager.initFlipPageByIndex(t,i,o),this.addPagesBeforeFlipToMin(i,e),this.pageArray[i-1]&&(this.pageArray[i-1].setUpOrDown(!rightToLeft),o.nextPage=this.pageArray[i-1]),this.setPagesStyleBeforeFlipToMin(i,e),this.deleteUnnecessaryPagesBeforeFlipToMin(t,i),o},setPagesStyleBeforeFlipToMin:function(t,i){i&&this.supportSerialsFlip()&&(this.pageArray[t-1]&&this.setZIndexByPageIndex(this.pageArray[t-1],t),this.pageArray[t-2]&&(this.setZIndexByPageIndex(this.pageArray[t-2],t),this.pageArray[t-2].setUpOrDown(!rightToLeft)),this.pageArray[t-3])&&(this.setZIndexByPageIndex(this.pageArray[t-3],t),this.pageArray[t-3].setUpOrDown(!rightToLeft))},setPagesStyleAfterFlipToMin:function(t){this.pageArray[t]&&(this.setZIndexByPageIndex(this.pageArray[t],t),this.pageArray[t].setUpOrDown(rightToLeft)),this.pageArray[t+1]&&(this.setZIndexByPageIndex(this.pageArray[t+1],t),this.pageArray[t+1].setUpOrDown(rightToLeft)),this.pageArray[t+2]&&(this.setZIndexByPageIndex(this.pageArray[t+2],t),this.pageArray[t+2].setUpOrDown(rightToLeft)),this.supportSerialsFlip()&&this.flipping||(this.pageArray[t-1]&&this.setZIndexByPageIndex(this.pageArray[t-1]),this.pageArray[t-2]&&(this.setZIndexByPageIndex(this.pageArray[t-2]),this.pageArray[t-2].setUpOrDown(!rightToLeft)),this.pageArray[t-3]&&(this.setZIndexByPageIndex(this.pageArray[t-3]),this.pageArray[t-3].setUpOrDown(!rightToLeft)))},movetoCenter:function(t,i,e){var o,s,n,a;this.status_zoom||!bookConfig.retainBookCenter||1<BookInfo.getPagesByIndex(t).length&&1<BookInfo.getPagesByIndex(i).length||(s=-(o=this.pageHeight)/2,o/=2,BookInfo.isLeftPage(t,!(a=n=0))||1!=BookInfo.getPagesByIndex(t).length||(n=s),BookInfo.isLeftPage(t,!0)&&1==BookInfo.getPagesByIndex(t).length&&(n=o),BookInfo.isLeftPage(i,!0)||1!=BookInfo.getPagesByIndex(i).length||(a=s),BookInfo.isLeftPage(i,!0)&&1==BookInfo.getPagesByIndex(i).length&&(a=o),this.fromTrans=this.movedY*a<0&&this.toTrans!=a?this.movedY:n,this.toTrans=a,t=2*this.pageHeight,null==e&&(e=t),isNaN(e))||(this.movedLength=e,this.movedY=$.easing.easeInOutSine(null,e,this.fromTrans,this.toTrans-this.fromTrans,t),this.setCSS({tran:{x:0,y:this.movedY}}))},edgeX:function(){this.MiddleX=0},getFromStartPointByIndex:function(t,i){var e,o,s,n=this.getMinPageIndex(this.currentPageIndex),a=n+1;if(t!=a&&t!=n)return e={x:0,y:0},o={x:0,y:0},s=i.getPageWidthHeight().height,i.getPageWidthHeight(),i=!1,(a<t&&!rightToLeft||t<n&&rightToLeft)&&(o.x=(e={x:s,y:0}).x-2,o.y=e.y+2,i=!0),(t<n&&!rightToLeft||a<t&&rightToLeft)&&(o.x=(e={x:-s,y:0}).x+2,o.y=e.y+2,i=!1),this.flipToDirection=i?"left":"right",[e,o]},afterZoomIn:function(t){var i,e;if(!isPhone()&&!isPad()||bookConfig.usePdfJs)isPhone()||isPad()||this.showPages(),t&&this.flipBook.parameters&&!this.flipBook.parameters.resize&&(this.flipBook.parameters.resize=!0,t=this.flipBook.offset().left,i=this.flipBook.offset().top,e={tran:{x:t-(e=this.flipBook.parameters.left),y:i-(s=this.flipBook.parameters.top)},scale:1,origin:{x:0,y:0}},1!=(o=this.flipBook.parameters.scale)&&this.resizeBook(Math.round(this.width*o),Math.round(this.height*o/2)),this.status_zoom||(o=0,1==this.currentPageIndex&&bookConfig.retainBookCenter&&!bookConfig.isTheBookOpen&&(o=rightToLeft?this.height/4:-this.height/4),this.currentPageIndex==totalPageCount&&bookConfig.retainBookCenter&&(o=rightToLeft?-this.height/4:this.height/4),e.tran={x:0,y:o},e.left=+t,e.top=i-o),this.setCSS(e),this.flipBook.parameters.tran=e.tran,this.flipBook.parameters.scale=1,this.flipBook.parameters.toScale=1,this.flipBook.parameters.width=$(this.flipBook).width(),this.flipBook.parameters.height=$(this.flipBook).height(),this.flipBook.parameters.origin={x:0,y:0},this.flipBook.parameters.resize=!1,isPhone()||isPad()||this.switchLargeImage());else if(null!=(i=BookInfo.getCurrentPages()))for(e=0;e<i.length;e++){var o,s=i[e];this.pageArray[s]&&(o=this.flipBook.parameters.scale,this.pageArray[s].resizeSvg(Math.round(this.pageWidth*o),Math.round(this.pageHeight*o)),bookConfig.highDefinitionConversion?this.pageArray[s].zoomInSideImage():(1<t.scale&&this.pageArray[s].zoomInSideImage(),1==t.scale&&this.pageArray[s].zoomOutSideImage()))}},getFitWH:function(){this.getSpace(!1);var t=this.getSpace(!0),i=windowWidth-t.left-t.right,t=windowHeight-t.top-t.bottom,e=bookConfig.largePageWidth*(-parseFloat(bookConfig.visibleAreaLeft)+parseFloat(bookConfig.visibleAreaRight))/100,o=bookConfig.largePageHeight*(parseFloat(bookConfig.visibleAreaBottom)-parseFloat(bookConfig.visibleAreaTop))/100;return fitPageWidthHeight(i,t,e,2*o)},getSpace:function(t){var i=bookConfig.leftMargin+toolBar.getLeftWidth(),e=bookConfig.rightMargin+toolBar.getRightWidth(),o=bookConfig.topMargin+toolBar.getTopHeight(),s=bookConfig.bottomMargin+toolBar.getBottomHeight();return t&&(i+=bookConfig.hardCoverBorderWidth+totalThicknessWidth(!0),e+=bookConfig.hardCoverBorderWidth+totalThicknessWidth(!0),o+=bookConfig.hardCoverBorderWidth,s+=bookConfig.hardCoverBorderWidth),{left:i,right:e,top:o,bottom:s}},resizeBook:function(t,i){this.endFlip(),this.width=t,this.height=2*i,this.pageWidth=t,this.pageHeight=i,this.maskWidth=parseInt(Math.sqrt(t*t+i*i)),0!=(this.maskWidth-this.height)%2&&(this.maskWidth+=1),this.setCSS({width:this.width,height:this.height}),this.resizePage(this.pageWidth,this.pageHeight),this.resetBookShadow(this.currentPageIndex)},resetBookShadow:function(){},setAttachmentBeforeFlipTo:function(){},setAttachmentAfterFlipTo:function(){},flippingTo:function(t){this.currentPageIndex=t,this.currentPageIndex=Math.max(1,this.currentPageIndex),this.currentPageIndex=Math.min(originTotalPageCount,this.currentPageIndex),this.resetZoomArea()},resetZoomArea:function(){this.flipBook&&this.flipBook.parameters&&this.flipBook.parameters.zoomArea&&(1!=this.getCurrentPages().length||BookInfo.isLeftPage(this.currentPageIndex,!0)?1==this.getCurrentPages().length&&BookInfo.isLeftPage(this.currentPageIndex,!0)?this.flipBook.parameters.zoomArea={left:0,top:0,right:0,bottom:50}:this.flipBook.parameters.zoomArea={left:0,top:0,right:0,bottom:0}:this.flipBook.parameters.zoomArea={left:0,top:50,right:0,bottom:0})},getDownUpPage:function(t,i){return this.addPageArray([t,i]),this.pageArray[t]&&this.pageArray[t].beginToFlip(),this.pageArray[i]&&this.pageArray[i].beginToFlip(),this.pageArray[t]&&(this.pageArray[t].page.setCSSByName("down-flip-side"),this.setZIndexByPageIndex(this.pageArray[t])),this.pageArray[i]&&(this.pageArray[i].page.setCSSByName("flip-vertical-side"),this.pageArray[i].page.side.addClass("boxShadow"),this.setZIndexByPageIndex(this.pageArray[i])),[this.pageArray[t],this.pageArray[i]]}}).extend(DoubleFlipBook),SingleFlipBook=Class({pageBackArray:null,create:function(t){this.pageBackArray=[],this._super(t)},newFlipPage:function(){return new SingleFlipPage(this)},resetPages:function(t){isNaN(t)||t<=0||(this.unWrapPageBackExcludeArray([t,t+1]),this.unWrapPageExcludeArray([t,t+1]),this.addPageArray([t,t+1]),this.addPageBackArray([t]),this.currentPage=this.pageArray[t],this.currentPage2=this.pageBackArray[t],this.nextPage=this.pageArray[t+1],this.previousPage=this.pageArray[t-1],this.previousPage2=this.pageBackArray[t-1],this.setPageCss(),this.loading())},setPageCss:function(){var t=transformCSS({rotate:0,tran:{x:0,y:0}});this.currentPage&&(this.setZIndexByPageIndex(this.currentPage),this.currentPage.setCSSByStyle(t)),this.previousPage&&(this.setZIndexByPageIndex(this.previousPage),this.previousPage.setCSSByStyle(t)),this.previousPage2&&(this.setZIndexByPageIndex(this.previousPage2),this.previousPage2.setCSSByStyle(t)),this.currentPage2&&(this.setZIndexByPageIndex(this.currentPage2),this.currentPage2.setCSSByStyle(t)),this.nextPage&&(this.setZIndexByPageIndex(this.nextPage),this.nextPage.setCSSByStyle(t)),rightToLeft?(this.currentPage&&this.currentPage.setLeftOrRight(!0),this.previousPage&&this.previousPage.setLeftOrRight(!0),this.previousPage2&&this.previousPage2.setLeftOrRight(!0),this.currentPage2&&this.currentPage2.setLeftOrRight(!0),this.nextPage&&this.nextPage.setLeftOrRight(!0)):(this.currentPage&&this.currentPage.setLeftOrRight(!1),this.previousPage&&this.previousPage.setLeftOrRight(!1),this.previousPage2&&this.previousPage2.setLeftOrRight(!1),this.currentPage2&&this.currentPage2.setLeftOrRight(!1),this.nextPage&&this.nextPage.setLeftOrRight(!1))},addPageBackArray:function(t){if(t&&this.pageBackArray)for(var i=0;i<t.length;i++){var e,o;t[i]<=0||t[i]>originTotalPageCount||(!this.pageBackArray[t[i]]||this.flipping&&!imageLoaded[t[i]]||this.fillContent(t[i],!0),this.pageBackArray[t[i]])||(e=new this.newPageBack(t[i]),o=this.pageInfoArray[t[i]],e.mirrorSide(),e.onResize(this.pageWidth*o.pageWidth,this.pageHeight*o.pageHeight,o.opacity),this.pageBackArray[t[i]]=e,this.flipping&&!imageLoaded[t[i]]||this.fillContent(t[i],!0),this.flipBook.append(e.$page))}},getDownUpPage:function(t,i){i=i<t?i:t;return this.addPageArray([i]),this.addPageBackArray([i]),this.pageArray[i]&&this.pageArray[i].beginToFlip(),this.pageBackArray[i]&&this.pageBackArray[i].beginToFlip(),this.pageArray[i]&&this.pageArray[i].page.setCSSByName("right-flip-side"),this.pageBackArray[i]&&(this.pageBackArray[i].page.setCSSByName("flip-side"),this.pageBackArray[i].page.side.addClass("boxShadow")),[this.pageArray[i],this.pageBackArray[i]]},getDownUpHardPage:function(t,i){i=i<t?i:t;return this.addPageArray([i]),this.addPageBackArray([i]),rightToLeft?(this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-left-side"),this.pageBackArray[i]&&this.pageBackArray[i].setCSSByName("flip-hard-right-side")):(this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-right-side"),this.pageBackArray[i]&&this.pageBackArray[i].setCSSByName("flip-hard-left-side")),[this.pageArray[i],this.pageBackArray[i]]},flipToMax:function(t,i,e){var o=this.flipPageManager.initFlipPageByIndex(t,i);return this.addPagesBeforeFlipToMax(i,e),this.pageArray[i]&&(this.pageArray[i].setLeftOrRight(rightToLeft),o.nextPage=this.pageArray[i]),this.setPagesStyleBeforeFlipToMax(i,e),this.deleteUnnecessaryPagesBeforeFlipToMax(t,i),o},hidePagesBeforeFlip:function(t){if(!bookConfig.supportSerialsFlip){for(var i=this.pageArray.length,e=(this.flipPageArray=[],t.currentIndex),o=[e,t=t.nextIndex],s=0;s<i;s++)o.indexOf(s)<0&&(this.pageArray[s]&&this.pageArray[s].visible&&(this.flipPageArray.push(this.pageArray[s]),this.pageArray[s].setVisible(!1)),this.pageBackArray[s])&&this.pageBackArray[s].visible&&(this.flipPageArray.push(this.pageBackArray[s]),this.pageBackArray[s].setVisible(!1));i=Math.max(e,t),this.pageBackArray[i]&&this.pageBackArray[i].visible&&(this.flipPageArray.push(this.pageBackArray[i]),this.pageBackArray[i].setVisible(!1))}},showPagesAfterFlip:function(){if(!bookConfig.supportSerialsFlip&&this.flipPageArray){for(var t=this.flipPageArray.length,i=0;i<t;i++){var e=this.flipPageArray[i];e&&e.setVisible(!0)}this.flipPageArray=[]}},addPagesBeforeFlipToMax:function(t,i){this.addPageArray([t]),i&&this.supportSerialsFlip()&&(this.addPageBackArray([t]),this.addPageArray([t+1]))},setPagesStyleBeforeFlipToMax:function(t,i){i&&(this.pageArray[t]&&(this.setZIndexByPageIndex(this.pageArray[t],t),this.pageArray[t].setLeftOrRight(rightToLeft)),this.pageBackArray[t]&&(this.setZIndexByPageIndex(this.pageBackArray[t],t),this.pageBackArray[t].setLeftOrRight(rightToLeft)),this.pageArray[t+1])&&(this.setZIndexByPageIndex(this.pageArray[t+1],t),this.pageArray[t+1].setLeftOrRight(rightToLeft))},deleteUnnecessaryPagesBeforeFlipToMax:function(t,i){for(var e=i+1;e<=originTotalPageCount;e++)this.pageBackArray[e]&&(this.pageBackArray[e]&&this.pageBackArray[e].remove(),this.pageBackArray[e]=void 0);for(e=i+2;e<=originTotalPageCount;e++)this.pageArray[e]&&(this.pageArray[e]&&this.pageArray[e].remove(),this.pageArray[e]=void 0);for(e=t+1;e<i;e++)(this.pageArray[e]||this.pageBackArray[e])&&(this.pageArray[e]&&this.pageArray[e].remove(),this.pageBackArray[e]&&this.pageBackArray[e].remove(),this.pageArray[e]=void 0,this.pageBackArray[e]=void 0)},afterFlipToMax:function(t){this.addPagesAfterFlipToMax(t),this.setPagesStyleAfterFlipToMax(t),this.deleteUnnecessaryPagesAfterFlipToMax(t)},addPagesAfterFlipToMax:function(t){this.supportSerialsFlip()||(this.addPageArray([t]),this.addPageBackArray([t]),this.addPageArray([t+1])),this.pageArray[t]&&this.fillContent(t),this.pageArray[t+1]&&this.fillContent(t+1)},setPagesStyleAfterFlipToMax:function(t){this.pageArray[t-1]&&this.setZIndexByPageIndex(this.pageArray[t-1],t),this.pageBackArray[t-1]&&this.setZIndexByPageIndex(this.pageBackArray[t-1],t),this.supportSerialsFlip()||(this.pageArray[t]&&(this.setZIndexByPageIndex(this.pageArray[t]),this.pageArray[t].setLeftOrRight(rightToLeft)),this.pageBackArray[t]&&(this.setZIndexByPageIndex(this.pageBackArray[t]),this.pageBackArray[t].setLeftOrRight(rightToLeft)),this.pageArray[t+1]&&(this.setZIndexByPageIndex(this.pageArray[t+1]),this.pageArray[t+1].setLeftOrRight(rightToLeft)))},deleteUnnecessaryPagesAfterFlipToMax:function(t){for(t-=2;0<=t;t--)(this.pageArray[t]||this.pageBackArray[t])&&(this.pageArray[t]&&this.pageArray[t].remove(),this.pageBackArray[t]&&this.pageBackArray[t].remove(),this.pageArray[t]=void 0,this.pageBackArray[t]=void 0)},flipToMin:function(t,i,e){var o=this.flipPageManager.initFlipPageByIndex(t,i);return this.addPagesBeforeFlipToMin(i,e),this.pageArray[t]&&(o.nextPage=this.pageArray[t]),this.setPagesStyleBeforeFlipToMin(i),this.deleteUnnecessaryPagesBeforeFlipToMin(t,i),o},addPagesBeforeFlipToMin:function(t,i){},setPagesStyleBeforeFlipToMin:function(t){},deleteUnnecessaryPagesBeforeFlipToMin:function(t,i){for(--t;i<t;t--)(this.pageArray[t]||this.pageBackArray[t])&&(this.pageArray[t]&&this.pageArray[t].remove(),this.pageBackArray[t]&&this.pageBackArray[t].remove(),this.pageArray[t]=void 0,this.pageBackArray[t]=void 0)},afterFlipToMin:function(t){this.addPagesAfterFlipToMin(t),this.setPagesStyleAfterFlipToMin(t),this.deleteUnnecessaryPagesAfterFlipToMin(t)},addPagesAfterFlipToMin:function(t){this.supportSerialsFlip()||(this.addPageArray([t]),this.addPageBackArray([t]),this.addPageArray([t-1])),this.pageArray[t]&&this.fillContent(t),this.pageArray[t-1]&&this.fillContent(t-1)},setPagesStyleAfterFlipToMin:function(t){this.pageArray[t+1]&&(this.setZIndexByPageIndex(this.pageArray[t+1]),this.pageArray[t+1].setLeftOrRight(rightToLeft)),this.pageArray[t-1]&&(this.setZIndexByPageIndex(this.pageArray[t-1]),this.pageArray[t-1].setLeftOrRight(rightToLeft))},deleteUnnecessaryPagesAfterFlipToMin:function(t){for(var i=t+2;i<=originTotalPageCount;i++)(this.pageArray[i]||this.pageBackArray[i])&&(this.pageArray[i]&&this.pageArray[i].remove(),this.pageBackArray[i]&&this.pageBackArray[i].remove(),this.pageArray[i]=void 0,this.pageBackArray[i]=void 0);this.pageBackArray[t+1]&&(this.pageBackArray[t+1]&&this.pageBackArray[t+1].remove(),this.pageBackArray[t+1]=void 0)},getCurrentPages:function(){return[this.currentPageIndex]},getPagesByIndex:function(t){return[t]},movetoCenter:function(){},getFromStartPointByIndex:function(t,i){var e,o,s,n,a=this.currentPageIndex;if(t!=a)return e={x:0,y:0},o=i.getPageWidthHeight().width,s=i.getPageWidthHeight().height,n=!1,i=rightToLeft?{x:-o,y:s}:{x:o,y:s},(a<t&&!rightToLeft||t<a&&rightToLeft)&&(n=!0),a<t&&(e={x:i.x*(o-2)/o,y:s-2}),t<a&&(e={x:-i.x*(o-2)/o,y:s-2}),this.flipToDirection=(n=t<a&&!rightToLeft||a<t&&rightToLeft?!1:n)?"left":"right",[i,e]},realBookPosition:function(){return[this.flipBook.offset().left-(rightToLeft?0:this.pageWidth),this.flipBook.offset().top]},edgeX:function(){this.MiddleX=this.pageWidth/2,rightToLeft&&(this.MiddleX=-this.pageWidth/2)},realIndex:function(t){var i=this.currentPageIndex;return t&&!rightToLeft||!t&&rightToLeft?[i,i+1]:!t&&!rightToLeft||t&&rightToLeft?[i,i-1]:void 0},getFromStartPointByCoordinate:function(t,i,e){var o,s,n,a;if(t)return o={x:0,y:0},s={x:0,y:0},n=e.getPageWidthHeight().width,e=e.getPageWidthHeight().height,a=t.y>e/2?t.y-5:t.y+5,t.x<this.MiddleX&&(o.y=a,s.x=-n),t.x>this.MiddleX&&(o.y=a,s.x=n),i&&0<=i.indexOf("r")&&(s.x=n),i&&0<=i.indexOf("l")&&(s.x=-n),"tl"==i&&(o.y=0),"bl"==i&&(o.y=e),"tr"==i&&(o.y=0),"br"==i&&(o.y=e),o.x=rightToLeft?-n:n,s.y=o.y,[o,s]},getFlipTo:function(t){var i=this.currentPageIndex;return{flipTo:t<i?"min":i<t?"max":"",minIndex:i,maxIndex:i,toIndex:t}},afterZoomIn:function(t){var i,e;if(!isPhone()&&!isPad()||bookConfig.usePdfJs)isPhone()||isPad()||this.showPages(),t&&this.flipBook.parameters&&!this.flipBook.parameters.resize&&(this.flipBook.parameters.resize=!0,t=this.flipBook.offset().left,e=this.flipBook.offset().top,t-=this.flipBook.parameters.left,i=e-this.flipBook.parameters.top,1!=(e=this.flipBook.parameters.scale)&&this.resizeBook(Math.round(this.width*e),Math.round(this.height*e)),transformCSS({tran:{x:t,y:i},scale:1,origin:{x:0,y:0},obj:this.flipBook}),this.flipBook.parameters.tran={x:t,y:i},this.flipBook.parameters.scale=1,this.flipBook.parameters.toScale=1,this.flipBook.parameters.width=$(this.flipBook).width(),this.flipBook.parameters.height=$(this.flipBook).height(),this.flipBook.parameters.origin={x:0,y:0},this.flipBook.parameters.resize=!1,isPhone()||isPad()||this.switchLargeImage());else if(null!=(i=BookInfo.getCurrentPages()))for(var o=0;o<i.length;o++){var s=i[o];this.pageArray[s]&&this.pageArray[s]&&(e=this.flipBook.parameters.scale,this.pageArray[s].resizeSvg(Math.round(this.width*e),Math.round(this.height*e)),bookConfig.highDefinitionConversion?this.pageArray[s].zoomInSideImage():(1<t.scale&&this.pageArray[s].zoomInSideImage(),1==t.scale&&this.pageArray[s].zoomOutSideImage()))}},setZIndexByPageIndex:function(t,i){t&&(i=i||this.currentPageIndex,t==this.pageArray[i]?t.setZIndex(2):t==this.pageBackArray[i]?t.setZIndex(1):t==this.pageArray[i+1]?t.setZIndex(0):t.setZIndex(-1))},getFitWH:function(){this.getSpace(!1);var t=this.getSpace(!0),i=windowWidth-t.left-t.right,t=windowHeight-t.top-t.bottom,e=bookConfig.largePageWidth*(-parseFloat(bookConfig.visibleAreaLeft)+parseFloat(bookConfig.visibleAreaRight))/100,o=bookConfig.largePageHeight*(parseFloat(bookConfig.visibleAreaBottom)-parseFloat(bookConfig.visibleAreaTop))/100;return fitPageWidthHeight(i,t,e,o)},getSpace:function(t){var i=bookConfig.leftMargin+toolBar.getLeftWidth(),e=bookConfig.rightMargin+toolBar.getRightWidth(),o=bookConfig.topMargin+toolBar.getTopHeight(),s=bookConfig.bottomMargin+toolBar.getBottomHeight();return t&&(i+=rightToLeft?bookConfig.hardCoverBorderWidth+totalThicknessWidth(!1):0,e+=rightToLeft?0:bookConfig.hardCoverBorderWidth+totalThicknessWidth(!1),o+=bookConfig.hardCoverBorderWidth,s+=bookConfig.hardCoverBorderWidth),{left:i,right:e,top:o,bottom:s}},getTranX:function(t){if(!bookConfig.retainBookCenter)return 0;t=this.getCssLeft();var i=this.getSpace(!0);return i.left+(windowWidth-i.left-i.right-this.width)/2-t},getTranY:function(){var t=this.getCssTop(),i=this.getSpace(!0);return i.top+(windowHeight-i.top-i.bottom-this.pageWidthHeight.y)/2-t}}).extend(FlipBook),SingleFlipCalendar=Class({bookType:BookType.single_book,doublePage:!1,pageBackArray:null,create:function(t){this.pageBackArray=[],this._super(t)},newPage:function(t){return new NormalPage(t,"page",!0,this.bookType)},newPageBack:function(t){return new NormalPage(t,"pageBack",!0,BookType.single_book)},newFlipPage:function(){return new SingleCalendarPage(this)},resetPages:function(t){isNaN(t)||t<=0||(this.unWrapPageBackExcludeArray([t,t+1]),this.unWrapPageExcludeArray([t,t+1]),this.addPageArray([t,t+1]),this.addPageBackArray([t]),this.currentPage=this.pageArray[t],this.currentPage2=this.pageBackArray[t],this.nextPage=this.pageArray[t+1],this.previousPage=this.pageArray[t-1],this.previousPage2=this.pageBackArray[t-1],this.setPageCss(),this.loading())},setPageCss:function(){var t=transformCSS({rotate:0,tran:{x:0,y:0}});this.currentPage&&(this.setZIndexByPageIndex(this.currentPage),this.currentPage.setCSSByStyle(t)),this.previousPage&&(this.setZIndexByPageIndex(this.previousPage),this.previousPage.setCSSByStyle(t)),this.previousPage2&&(this.setZIndexByPageIndex(this.previousPage2),this.previousPage2.setCSSByStyle(t)),this.currentPage2&&(this.setZIndexByPageIndex(this.currentPage2),this.currentPage2.setCSSByStyle(t)),this.nextPage&&(this.setZIndexByPageIndex(this.nextPage),this.nextPage.setCSSByStyle(t)),rightToLeft?(this.currentPage&&this.currentPage.setUpOrDown(!0),this.previousPage&&this.previousPage.setUpOrDown(!0),this.previousPage2&&this.previousPage2.setUpOrDown(!0),this.currentPage2&&this.currentPage2.setUpOrDown(!0),this.nextPage&&this.nextPage.setUpOrDown(!0)):(this.currentPage&&this.currentPage.setUpOrDown(!1),this.previousPage&&this.previousPage.setUpOrDown(!1),this.previousPage2&&this.previousPage2.setUpOrDown(!1),this.currentPage2&&this.currentPage2.setUpOrDown(!1),this.nextPage&&this.nextPage.setUpOrDown(!1))},addPageBackArray:function(t){if(t&&this.pageBackArray)for(var i=0;i<t.length;i++){var e,o;t[i]<=0||t[i]>originTotalPageCount||(!this.pageBackArray[t[i]]||this.flipping&&!imageLoaded[t[i]]||this.fillContent(t[i]),this.pageBackArray[t[i]])||(e=new this.newPageBack(t[i]),o=this.pageInfoArray[t[i]],e.onResize(this.pageWidth*o.pageWidth,this.pageHeight*o.pageHeight,o.opacity),e.mirrorSide(),this.pageBackArray[t[i]]=e,this.flipping&&!imageLoaded[t[i]]||this.fillContent(t[i]),this.flipBook.append(e.$page))}},getDownUpPage:function(t,i){i=i<t?i:t;return this.addPageArray([i]),this.addPageBackArray([i]),this.pageArray[i]&&this.pageArray[i].beginToFlip(),this.pageBackArray[i]&&this.pageBackArray[i].beginToFlip(),this.pageArray[i]&&this.pageArray[i].page.setCSSByName("down-flip-side"),this.pageBackArray[i]&&(this.pageBackArray[i].page.setCSSByName("flip-vertical-side"),this.pageBackArray[i].page.side.addClass("boxShadow")),[this.pageArray[i],this.pageBackArray[i]]},getDownUpHardPage:function(t,i){i=i<t?i:t;return this.addPageArray([i]),this.addPageBackArray([i]),rightToLeft?(this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-up-side"),this.pageBackArray[i]&&this.pageBackArray[i].setCSSByName("flip-hard-down-side")):(this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-down-side"),this.pageBackArray[i]&&this.pageBackArray[i].setCSSByName("flip-hard-up-side")),[this.pageArray[i],this.pageBackArray[i]]},flipToMax:function(t,i,e){var o=this.flipPageManager.initFlipPageByIndex(t,i);return this.addPagesBeforeFlipToMax(i,e),this.pageArray[i]&&(this.pageArray[i].setUpOrDown(rightToLeft),o.nextPage=this.pageArray[i]),this.setPagesStyleBeforeFlipToMax(i,e),this.deleteUnnecessaryPagesBeforeFlipToMax(t,i),o},addPagesBeforeFlipToMax:function(t,i){this.addPageArray([t]),i&&this.supportSerialsFlip()&&(this.addPageBackArray([t]),this.addPageArray([t+1]))},setPagesStyleBeforeFlipToMax:function(t,i){i&&(this.pageArray[t]&&(this.setZIndexByPageIndex(this.pageArray[t],t),this.pageArray[t].setUpOrDown(rightToLeft)),this.pageBackArray[t]&&(this.setZIndexByPageIndex(this.pageBackArray[t],t),this.pageBackArray[t].setUpOrDown(rightToLeft)),this.pageArray[t+1])&&(this.setZIndexByPageIndex(this.pageArray[t+1],t),this.pageArray[t+1].setUpOrDown(rightToLeft))},deleteUnnecessaryPagesBeforeFlipToMax:function(t,i){for(var e=i+1;e<=originTotalPageCount;e++)this.pageBackArray[e]&&(this.pageBackArray[e]&&this.pageBackArray[e].remove(),this.pageBackArray[e]=void 0);for(e=i+2;e<=originTotalPageCount;e++)this.pageArray[e]&&(this.pageArray[e]&&this.pageArray[e].remove(),this.pageArray[e]=void 0);for(e=t+1;e<i;e++)(this.pageArray[e]||this.pageBackArray[e])&&(this.pageArray[e]&&this.pageArray[e].remove(),this.pageBackArray[e]&&this.pageBackArray[e].remove(),this.pageArray[e]=void 0,this.pageBackArray[e]=void 0)},afterFlipToMax:function(t){this.addPagesAfterFlipToMax(t),this.setPagesStyleAfterFlipToMax(t),this.deleteUnnecessaryPagesAfterFlipToMax(t)},addPagesAfterFlipToMax:function(t){this.supportSerialsFlip()||(this.addPageArray([t]),this.addPageBackArray([t]),this.addPageArray([t+1])),this.pageArray[t]&&this.fillContent(t),this.pageArray[t+1]&&this.fillContent(t+1)},setPagesStyleAfterFlipToMax:function(t){this.pageArray[t-1]&&this.setZIndexByPageIndex(this.pageArray[t-1],t),this.pageBackArray[t-1]&&this.setZIndexByPageIndex(this.pageBackArray[t-1],t),this.supportSerialsFlip()||(this.pageArray[t]&&(this.setZIndexByPageIndex(this.pageArray[t]),this.pageArray[t].setUpOrDown(rightToLeft)),this.pageBackArray[t]&&(this.setZIndexByPageIndex(this.pageBackArray[t]),this.pageBackArray[t].setUpOrDown(rightToLeft)),this.pageArray[t+1]&&(this.setZIndexByPageIndex(this.pageArray[t+1]),this.pageArray[t+1].setUpOrDown(rightToLeft)))},deleteUnnecessaryPagesAfterFlipToMax:function(t){for(t-=2;0<=t;t--)(this.pageArray[t]||this.pageBackArray[t])&&(this.pageArray[t]&&this.pageArray[t].remove(),this.pageBackArray[t]&&this.pageBackArray[t].remove(),this.pageArray[t]=void 0,this.pageBackArray[t]=void 0)},flipToMin:function(t,i,e){var o=this.flipPageManager.initFlipPageByIndex(t,i);return this.addPagesBeforeFlipToMin(i,e),this.pageArray[t]&&(o.nextPage=this.pageArray[t]),this.setPagesStyleBeforeFlipToMin(i),this.deleteUnnecessaryPagesBeforeFlipToMin(t,i),o},addPagesBeforeFlipToMin:function(t,i){},setPagesStyleBeforeFlipToMin:function(t){},deleteUnnecessaryPagesBeforeFlipToMin:function(t,i){for(--t;i<t;t--)(this.pageArray[t]||this.pageBackArray[t])&&(this.pageArray[t]&&this.pageArray[t].remove(),this.pageBackArray[t]&&this.pageBackArray[t].remove(),this.pageArray[t]=void 0,this.pageBackArray[t]=void 0)},afterFlipToMin:function(t){this.addPagesAfterFlipToMin(t),this.setPagesStyleAfterFlipToMin(t),this.deleteUnnecessaryPagesAfterFlipToMin(t)},addPagesAfterFlipToMin:function(t){this.supportSerialsFlip()||(this.addPageArray([t]),this.addPageBackArray([t]),this.addPageArray([t-1])),this.pageArray[t]&&this.fillContent(t),this.pageArray[t-1]&&this.fillContent(t-1)},setPagesStyleAfterFlipToMin:function(t){this.pageArray[t+1]&&(this.setZIndexByPageIndex(this.pageArray[t+1]),this.pageArray[t+1].setUpOrDown(rightToLeft)),this.pageArray[t-1]&&(this.setZIndexByPageIndex(this.pageArray[t-1]),this.pageArray[t-1].setLeftOrRight(rightToLeft))},deleteUnnecessaryPagesAfterFlipToMin:function(t){for(var i=t+2;i<=originTotalPageCount;i++)(this.pageArray[i]||this.pageBackArray[i])&&(this.pageArray[i]&&this.pageArray[i].remove(),this.pageBackArray[i]&&this.pageBackArray[i].remove(),this.pageArray[i]=void 0,this.pageBackArray[i]=void 0);this.pageBackArray[t+1]&&(this.pageBackArray[t+1]&&this.pageBackArray[t+1].remove(),this.pageBackArray[t+1]=void 0)},getCurrentPages:function(){return[this.currentPageIndex]},getPagesByIndex:function(t){return[t]},movetoCenter:function(){},getFromStartPointByIndex:function(t,i){var e,o,s,n=this.currentPageIndex;if(t!=n)return e={x:0,y:0},o=i.getPageWidthHeight().height,i.getPageWidthHeight(),s=!1,i=rightToLeft?{x:-o,y:0}:{x:o,y:0},(n<t&&!rightToLeft||t<n&&rightToLeft)&&(s=!0),n<t&&(e={x:i.x*(o-2)/o,y:2}),t<n&&(e={x:-i.x*(o-2)/o,y:2}),this.flipToDirection=(s=t<n&&!rightToLeft||n<t&&rightToLeft?!1:s)?"left":"right",[i,e]},realBookPosition:function(){return[this.flipBook.offset().left,this.flipBook.offset().top-(rightToLeft?0:this.pageHeight)]},edgeX:function(){this.MiddleX=this.pageHeight/2,rightToLeft&&(this.MiddleX=-this.pageHeight/2)},realIndex:function(t){var i=this.currentPageIndex;return t&&!rightToLeft||!t&&rightToLeft?[i,i+1]:!t&&!rightToLeft||t&&rightToLeft?[i,i-1]:void 0},getFromStartPointByCoordinate:function(t,i,e){var o,s,n,a;if(t)return o={x:0,y:0},s={x:0,y:0},n=e.getPageWidthHeight().height,e=e.getPageWidthHeight().width,a=t.y>e/2?t.y-5:t.y+5,t.x<this.MiddleX&&(o.y=a,s.x=-n),t.x>this.MiddleX&&(o.y=a,s.x=n),i&&0<=i.indexOf("r")&&(s.x=n),i&&0<=i.indexOf("l")&&(s.x=-n),"tl"==i&&(o.y=0),"bl"==i&&(o.y=e),"tr"==i&&(o.y=0),"br"==i&&(o.y=e),o.x=rightToLeft?-n:n,s.y=o.y,[o,s]},getFlipTo:function(t){var i=this.currentPageIndex;return{flipTo:t<i?"min":i<t?"max":"",minIndex:i,maxIndex:i,toIndex:t}},afterZoomIn:function(t){var i,e;if(!isPhone()&&!isPad()||bookConfig.usePdfJs)isPhone()||isPad()||this.showPages(),t&&this.flipBook.parameters&&!this.flipBook.parameters.resize&&(this.flipBook.parameters.resize=!0,t=this.flipBook.offset().left,e=this.flipBook.offset().top,t-=this.flipBook.parameters.left,i=e-this.flipBook.parameters.top,1!=(e=this.flipBook.parameters.scale)&&this.resizeBook(Math.round(this.width*e),Math.round(this.height*e)),transformCSS({tran:{x:t,y:i},scale:1,origin:{x:0,y:0},obj:this.flipBook}),this.flipBook.parameters.tran={x:t,y:i},this.flipBook.parameters.scale=1,this.flipBook.parameters.toScale=1,this.flipBook.parameters.width=$(this.flipBook).width(),this.flipBook.parameters.height=$(this.flipBook).height(),this.flipBook.parameters.origin={x:0,y:0},this.flipBook.parameters.resize=!1,isPhone()||isPad()||this.switchLargeImage());else if(null!=(i=BookInfo.getCurrentPages()))for(var o=0;o<i.length;o++){var s=i[o];this.pageArray[s]&&this.pageArray[s]&&(e=this.flipBook.parameters.scale,this.pageArray[s].resizeSvg(Math.round(this.width*e),Math.round(this.height*e)),bookConfig.highDefinitionConversion?this.pageArray[s].zoomInSideImage():(1<t.scale&&this.pageArray[s].zoomInSideImage(),1==t.scale&&this.pageArray[s].zoomOutSideImage()))}},setZIndexByPageIndex:function(t,i){t&&(i=i||this.currentPageIndex,t==this.pageArray[i]?t.setZIndex(2):t==this.pageBackArray[i]?t.setZIndex(1):t==this.pageArray[i+1]?t.setZIndex(0):t.setZIndex(-1))},getFitWH:function(){this.getSpace(!1);var t=this.getSpace(!0),i=windowWidth-t.left-t.right,t=windowHeight-t.top-t.bottom,e=bookConfig.largePageWidth*(-parseFloat(bookConfig.visibleAreaLeft)+parseFloat(bookConfig.visibleAreaRight))/100,o=bookConfig.largePageHeight*(parseFloat(bookConfig.visibleAreaBottom)-parseFloat(bookConfig.visibleAreaTop))/100;return fitPageWidthHeight(i,t,e,o)},getSpace:function(t){var i=bookConfig.leftMargin+toolBar.getLeftWidth(),e=bookConfig.rightMargin+toolBar.getRightWidth(),o=bookConfig.topMargin+toolBar.getTopHeight(),s=bookConfig.bottomMargin+toolBar.getBottomHeight();return t&&(i+=bookConfig.hardCoverBorderWidth,e+=bookConfig.hardCoverBorderWidth,o+=rightToLeft?bookConfig.hardCoverBorderWidth+totalThicknessWidth(!1):0,s+=rightToLeft?0:bookConfig.hardCoverBorderWidth+totalThicknessWidth(!1)),{left:i,right:e,top:o,bottom:s}},resizeBook:function(t,i){this.endFlip(),this.width=t,this.height=i,this.pageWidth=t,this.pageHeight=i,this.maskWidth=parseInt(Math.sqrt(t*t+i*i)),0!=(this.maskWidth-this.height)%2&&(this.maskWidth+=1),this.flipBook.css({width:this.width+"px",height:this.height+"px"}),this.resizePage(this.pageWidth,this.pageHeight),this.resetBookShadow()},resetBookShadow:function(){},setAttachmentBeforeFlipTo:function(){},setAttachmentAfterFlipTo:function(){},flippingTo:function(t){this.currentPageIndex=t,this.currentPageIndex=Math.max(1,this.currentPageIndex),this.currentPageIndex=Math.min(originTotalPageCount,this.currentPageIndex)}}).extend(SingleFlipBook),NormalBook=Class({bookType:BookType.normal_book,doublePage:!0,create:function(t){this._super(t),this.resetZoomArea()},initBook:function(){this._super(),this.initAttachments()},initAttachments:function(){this.showPage=this.flipBook,this.bookAttachments=new BookAttachmentsBuilder(this.flipBook,this.currentPageIndex,this,!0),this.bookAttachments.thickness(!0),this.bookAttachments.bookshadow(),this.bookAttachments.grayshadow(),this.bookAttachments.miniFullscreen(),this.bookAttachments.bookpagenumber(),null!=global.staticAd&&1==staticAd.haveAd&&1!=parseInt(global.staticAd.adPosition)&&this.bookAttachments.staticad(),this.bookAttachments.zoommap(),this.bookAttachments.bookmarktab(),this.bookAttachments.noteadd(),this.resetBookShadow(this.currentPageIndex)},resetBookShadow:function(t){if(0==(t=this.flipPageManager.array.length)){var i=2==BookInfo.getCurrentPages().length,e=!BookInfo.isLeftPage(this.currentPageIndex,!0);this.bookAttachments.Items.find("BookShadow").each(function(t){t.doubleWidth(i),t.right(e),t.show()}),this.bookAttachments.Items.find("GrayShadow").each(function(t){i?t.show():t.hide()})}else{for(var o=!0,s=!0,n=0;n<t;n++){var a=this.flipPageManager.array[n],h=this.flipPageManager[a].nextIndex,a=this.flipPageManager[a].currentIndex;1==BookInfo.getPagesByIndex(h).length&&BookInfo.isLeftPage(h,!0)&&(s=!1),1==BookInfo.getPagesByIndex(a).length&&BookInfo.isLeftPage(a,!0)&&(s=!1),1!=BookInfo.getPagesByIndex(h).length||BookInfo.isLeftPage(h,!0)||(o=!1),1!=BookInfo.getPagesByIndex(a).length||BookInfo.isLeftPage(a,!0)||(o=!1)}o||s||this.bookAttachments.Items.find("BookShadow").each(function(t){t.hide()}),(o&&!s||!o&&s)&&this.bookAttachments.Items.find("BookShadow").each(function(t){t.show(),t.doubleWidth(!1),t.right(s)}),this.bookAttachments.Items.find("GrayShadow").each(function(t){o&&s?t.show():t.hide()})}},hasTwoSingleFlipPage:function(t){for(var i,e=this.flipPageManager.array.length,o=0;o<e;o++){var s=this.flipPageManager.array[o],n=this.flipPageManager[s].nextIndex,s=this.flipPageManager[s].currentIndex;1==BookInfo.getPagesByIndex(n).length&&(i=n),1==BookInfo.getPagesByIndex(s).length&&(i=s)}return!(!i||!(i!=t&&1==BookInfo.getPagesByIndex(t).length||i!=this.currentPageIndex&&1==BookInfo.getPagesByIndex(this.currentPageIndex).length)||(this.bookAttachments.Items.find("BookShadow").each(function(t){t.hide()}),0))},newPage:function(t){return new NormalPage(t,"page",!1,this.bookType)},flippingTo:function(t){this.currentPageIndex=t,this.currentPageIndex=Math.max(1,this.currentPageIndex),this.currentPageIndex=Math.min(originTotalPageCount,this.currentPageIndex),this.resetZoomArea()},resetZoomArea:function(){this.flipBook&&this.flipBook.parameters&&this.flipBook.parameters.zoomArea&&(1!=this.getCurrentPages().length||BookInfo.isLeftPage(this.currentPageIndex,!0)?1==this.getCurrentPages().length&&BookInfo.isLeftPage(this.currentPageIndex,!0)?this.flipBook.parameters.zoomArea={left:0,top:0,right:50,bottom:0}:this.flipBook.parameters.zoomArea={left:0,top:0,right:0,bottom:0}:this.flipBook.parameters.zoomArea={left:50,top:0,right:0,bottom:0})},afterCurling:function(){this._super(),this.resetBookShadow(this.currentPageIndex),this.bookAttachments.afterCurling()},setAttachmentBeforeFlipTo:function(t){this.pauseAnimation(),this.bookAttachments.setAttachmentBeforeFlipTo(t),this.resetBookShadow(t)},setAttachmentAfterFlipTo:function(t){this.stopMedia(),this.resetSlider(),this.bookAttachments.setAttachmentAfterFlipTo(t),this.resetBookShadow(t),this.flipping||this.enterPage(),bookConfig.ThumbnailsButtonVisible&&(thumbnail.clearHighLight(),thumbnail.setHighLight(this.currentPageIndex)),resizeBookAfterFlip&&!this.flipping&&window.setTimeout(function(){onStageResize()},30)},resizeBook:function(t,i){this.endFlip(),this.width=2*t,this.height=i,this.pageWidth=t,this.pageHeight=i,this.maskWidth=parseInt(Math.sqrt(t*t+i*i)),0!=(this.maskWidth-this.height)%2&&(this.maskWidth+=1),this.setCSS({width:this.width,height:this.height}),this.resizePage(this.pageWidth,this.pageHeight),this.resetBookShadow(this.currentPageIndex)},resizeAttachments:function(t,i){this.bookAttachments.onResize(t,i)},movetoCenter:function(i,e,o){this._super(i,e,o),this.bookAttachments.Items.find("ThicknessManager").each(function(t){t.followToPoint(i,e,o,!1)})},afterZoomIn:function(t){t&&this.flipBook.parameters&&!this.flipBook.parameters.resize&&(this._super(t),this.bookAttachments.afterZoomIn(this.width,this.height))}}).extend(DoubleFlipBook),NormalCalendar=Class({bookType:BookType.normal_book,doublePage:!0,create:function(t){this._super(t),this.resetZoomArea()},initBook:function(){this._super(),this.initAttachments()},initAttachments:function(){this.showPage=this.flipBook,this.bookAttachments=new BookAttachmentsBuilder(this.flipBook,this.currentPageIndex,this,!0),this.bookAttachments.bookshadow(),this.bookAttachments.miniFullscreen(),this.bookAttachments.bookpagenumber(),null!=global.staticAd&&1==staticAd.haveAd&&1!=parseInt(global.staticAd.adPosition)&&this.bookAttachments.staticad(),this.bookAttachments.zoommap(),this.bookAttachments.bookmarktab(),this.resetBookShadow(this.currentPageIndex)},resetBookShadow:function(t){if(0==(t=this.flipPageManager.array.length)){var i=2==BookInfo.getCurrentPages().length,e=!BookInfo.isLeftPage(this.currentPageIndex,!0);this.bookAttachments.Items.find("BookShadow").each(function(t){t.doubleHeight(i),t.down(e),t.show()})}else{for(var o=!0,s=!0,n=0;n<t;n++){var a=this.flipPageManager.array[n],h=this.flipPageManager[a].nextIndex,a=this.flipPageManager[a].currentIndex;1==BookInfo.getPagesByIndex(h).length&&BookInfo.isLeftPage(h,!0)&&(s=!1),1==BookInfo.getPagesByIndex(a).length&&BookInfo.isLeftPage(a,!0)&&(s=!1),1!=BookInfo.getPagesByIndex(h).length||BookInfo.isLeftPage(h,!0)||(o=!1),1!=BookInfo.getPagesByIndex(a).length||BookInfo.isLeftPage(a,!0)||(o=!1)}o||s||this.bookAttachments.Items.find("BookShadow").each(function(t){t.hide()}),(o&&!s||!o&&s)&&this.bookAttachments.Items.find("BookShadow").each(function(t){t.show(),t.doubleHeight(!1),t.down(s)})}},hasTwoSingleFlipPage:function(t){for(var i,e=this.flipPageManager.array.length,o=0;o<e;o++){var s=this.flipPageManager.array[o],n=this.flipPageManager[s].nextIndex,s=this.flipPageManager[s].currentIndex;1==BookInfo.getPagesByIndex(n).length&&(i=n),1==BookInfo.getPagesByIndex(s).length&&(i=s)}return!(!i||!(i!=t&&1==BookInfo.getPagesByIndex(t).length||i!=this.currentPageIndex&&1==BookInfo.getPagesByIndex(this.currentPageIndex).length)||(this.bookAttachments.Items.find("BookShadow").each(function(t){t.hide()}),0))},flippingTo:function(t){this.currentPageIndex=t,this.currentPageIndex=Math.max(1,this.currentPageIndex),this.currentPageIndex=Math.min(originTotalPageCount,this.currentPageIndex),this.resetZoomArea()},afterCurling:function(){this._super(),this.resetBookShadow(this.currentPageIndex),this.bookAttachments.afterCurling()},setAttachmentBeforeFlipTo:function(t){this.pauseAnimation(),this.bookAttachments.setAttachmentBeforeFlipTo(t),this.resetBookShadow(t)},setAttachmentAfterFlipTo:function(t){this.stopMedia(),this.resetSlider(),this.bookAttachments.setAttachmentAfterFlipTo(t),this.resetBookShadow(t),this.flipping||this.enterPage(),bookConfig.ThumbnailsButtonVisible&&(thumbnail.clearHighLight(),thumbnail.setHighLight(this.currentPageIndex)),resizeBookAfterFlip&&!this.flipping&&window.setTimeout(function(){onStageResize()},30)},resizeAttachments:function(t,i){this.bookAttachments.onResize(t,i)},afterZoomIn:function(t){t&&this.flipBook.parameters&&!this.flipBook.parameters.resize&&(this._super(t),this.bookAttachments.afterZoomIn(this.width,this.height))}}).extend(DoubleCalendar),SingleBook=Class({bookType:BookType.single_book,doublePage:!1,create:function(t){this._super(t)},initBook:function(){this._super(),this.initAttachments()},initAttachments:function(){this.showPage=this.flipBook,this.bookAttachments=new BookAttachmentsBuilder(this.flipBook,this.currentPageIndex,this,!1),bookConfig.showThicknessOnMobile&&this.bookAttachments.thickness(!1),this.bookAttachments.bookshadow(),this.bookAttachments.miniFullscreen(),this.bookAttachments.bookpagenumber(),this.bookAttachments.zoommap(),this.bookAttachments.bookmarktab(),this.bookAttachments.noteadd(),this.resetBookShadow()},newPage:function(t){return new NormalPage(t,"page",!0,BookType.single_book)},newPageBack:function(t){return new NormalPage(t,"pageBack",!0,BookType.single_book)},afterCurling:function(){this._super(),this.bookAttachments.afterCurling()},setAttachmentBeforeFlipTo:function(t){this.pauseAnimation(),this.bookAttachments.setAttachmentBeforeFlipTo(t)},setAttachmentAfterFlipTo:function(t){this.stopMedia(),this.resetSlider(),this.flipping||this.enterPage(),this.bookAttachments.setAttachmentAfterFlipTo(t),bookConfig.ThumbnailsButtonVisible&&(thumbnail.clearHighLight(),thumbnail.setHighLight(this.currentPageIndex)),resizeBookAfterFlip&&!this.flipping&&window.setTimeout(function(){onStageResize()},30)},resizeBook:function(t,i){this.endFlip(),this.width=t,this.height=i,this.pageWidth=t,this.pageHeight=i,this.maskWidth=parseInt(Math.sqrt(t*t+i*i)),0!=(this.maskWidth-this.height)%2&&(this.maskWidth+=1),this.flipBook.css({width:this.width+"px",height:this.height+"px"}),this.resizePage(this.pageWidth,this.pageHeight),this.resetBookShadow()},resizeAttachments:function(t,i){this.bookAttachments.onResize(t,i)},resetBookShadow:function(){this.bookAttachments.Items.find("BookShadow").each(function(t){t.doubleWidth(!0),t.right(!1)})},flippingTo:function(t){this.currentPageIndex=t,this.currentPageIndex=Math.max(1,this.currentPageIndex),this.currentPageIndex=Math.min(originTotalPageCount,this.currentPageIndex)},movetoCenter:function(i,e,o){this._super(i,e,o),this.bookAttachments.Items.find("ThicknessManager").each(function(t){t.followToPoint(i,e,o,!1)})},afterZoomIn:function(t){t&&this.flipBook.parameters&&!this.flipBook.parameters.resize&&(this._super(t),this.bookAttachments.afterZoomIn(this.width,this.height))}}).extend(SingleFlipBook),SingleCalendar=Class({bookType:BookType.single_book,doublePage:!1,create:function(t){this._super(t)},initBook:function(){this._super(),this.initAttachments()},initAttachments:function(){this.showPage=this.flipBook,this.bookAttachments=new BookAttachmentsBuilder(this.flipBook,this.currentPageIndex,this,!1),bookConfig.showThicknessOnMobile&&this.bookAttachments.thickness(!1),this.bookAttachments.bookshadow(),this.bookAttachments.miniFullscreen(),this.bookAttachments.bookpagenumber(),this.bookAttachments.zoommap(),this.bookAttachments.bookmarktab(),this.bookAttachments.noteadd(),this.resetBookShadow()},newPage:function(t){return new NormalPage(t,"page",!0,BookType.single_book)},newPageBack:function(t){return new NormalPage(t,"pageBack",!0,BookType.single_book)},afterCurling:function(){this._super(),this.bookAttachments.afterCurling()},setAttachmentBeforeFlipTo:function(t){this.pauseAnimation(),this.bookAttachments.setAttachmentBeforeFlipTo(t)},setAttachmentAfterFlipTo:function(t){this.stopMedia(),this.resetSlider(),this.flipping||this.enterPage(),this.bookAttachments.setAttachmentAfterFlipTo(t),bookConfig.ThumbnailsButtonVisible&&(thumbnail.clearHighLight(),thumbnail.setHighLight(this.currentPageIndex)),resizeBookAfterFlip&&!this.flipping&&window.setTimeout(function(){onStageResize()},30)},resizeAttachments:function(t,i){this.bookAttachments.onResize(t,i)},resetBookShadow:function(){this.bookAttachments.Items.find("BookShadow").each(function(t){t.doubleWidth(!0),t.down(!1)})},flippingTo:function(t){this.currentPageIndex=t,this.currentPageIndex=Math.max(1,this.currentPageIndex),this.currentPageIndex=Math.min(originTotalPageCount,this.currentPageIndex)}}).extend(SingleFlipCalendar),HardPage=Class({create:function(t,i,e,o,s){this._super(t,i,e,o,s),this.isHardPage=!0,this.borderWidth=bookConfig.hardCoverBorderWidth,this.outerCoverBorder=bookConfig.outerCoverBorder||BookInfo.isInnerPage(t,o),this.$page=$("<div class='hardSide' style='background-color:"+bookConfig.borderColor+";'></div>"),this.$page.append(this.page.side),this.page.side.addClass("pageSide"),this.renderPage()},newPage:function(t,i,e,o){this.page=new HardSide(t,i,e,o)},setLeftOrRight:function(t){(this.isLeft=t)?this.setCSSByName("left-side"):this.setCSSByName("right-side");var i=t&&this.outerCoverBorder?this.borderWidth:0,e=bookConfig.cornerRound;t?(this.$page.css({"border-radius":e+"px 0px 0px "+e+"px"}),this.$page.css({"margin-top":-this.borderWidth+"px","margin-left":-this.borderWidth+"px"})):(this.$page.css({"border-radius":"0px "+e+"px "+e+"px 0px"}),this.$page.css({"margin-top":-this.borderWidth+"px","margin-right":-this.borderWidth+"px"})),this.page.side.css({left:i+"px"})},setUpOrDown:function(t){(this.isUp=t)?this.setCSSByName("up-side"):this.setCSSByName("down-side");var i=t&&this.outerCoverBorder?this.borderWidth:0,e=bookConfig.cornerRound;t?(this.$page.css({"border-radius":e+"px "+e+"px 0px 0px"}),this.$page.css({"margin-top":-this.borderWidth+"px","margin-left":-this.borderWidth+"px"})):(this.$page.css({"border-radius":"0px 0px "+e+"px "+e+"px"}),this.$page.css({"margin-bottom":-this.borderWidth+"px","margin-left":-this.borderWidth+"px"})),this.page.side.css({top:i+"px"})},onResize:function(t,i,e){this.pageWidth=t,this.pageHeight=i,bookConfig.FlipDirection?(this.width=t+2*this.borderWidth,this.height=i+this.borderWidth,this.pageWidth=this.outerCoverBorder?t:t+2*this.borderWidth,this.pageHeight=this.outerCoverBorder?i:i+this.borderWidth):(this.width=t+this.borderWidth,this.height=i+2*this.borderWidth,this.pageWidth=this.outerCoverBorder?t:t+this.borderWidth,this.pageHeight=this.outerCoverBorder?i:i+2*this.borderWidth),this.page&&this.page.onResize(this.pageWidth,this.pageHeight),this.$page.css({width:this.width,height:this.height}),bookConfig.FlipDirection?this.page.side.css({left:this.outerCoverBorder?this.borderWidth:0}):this.page.side.css({top:this.outerCoverBorder?this.borderWidth:0}),this.rendering&&this.rendering.onResize(t,i)},renderPage:function(){this.rendering&&(this.rendering.destroy(),this.rendering=null),this.rendering=new PageRendering(this.$page,this.pageIndex,this.bookType),this.rendering.onResize(this.width,this.height),this.rendering.render()},beginToFlip:function(){},setHardCover:function(t,i,e,o,s){this.outerCoverBorder=bookConfig.outerCoverBorder||BookInfo.isInnerPage(this.pageIndex,this.bookType),this.$page.css("background-color",bookConfig.borderColor),this.borderWidth!=bookConfig.hardCoverBorderWidth&&(this.borderWidth=bookConfig.hardCoverBorderWidth,bookConfig.FlipDirection?this.setUpOrDown(this.isUp):this.setLeftOrRight(this.isLeft),this.onResize(this.pageWidth,this.pageHeight)),this.renderPage()}}).extend(PageInterface),HardSide=Class({create:function(t,i,e,o){this._super(t,i,e,o),this.isHard=!0},addFlipShadow:function(){},renderPage:function(){}}).extend(BookPage),HardCover=Class({create:function(t){this.parent=t,this.borderWidth=bookConfig.hardCoverBorderWidth,this.rightToLeft=bookConfig.RightToLeft,this.cover=$("<div class='hardCover'></div>"),this.initPage(),this.initBookSpine(),this.parent.append(this.cover)},initPage:function(){var t=BookInfo.getHardCoverPages(!0);this.leftPage=new HardPage(t[0],"coverPage",!1,BookType.normal_book),this.rightPage=new HardPage(t[1],"coverPage",!1,BookType.normal_book),this.cover.append(this.leftPage.$page),this.cover.append(this.rightPage.$page),this.leftPage.rendering.midCoil&&this.leftPage.rendering.midCoil.hide(),this.rightPage.rendering.midCoil&&this.rightPage.rendering.midCoil.hide(),this.leftPage.setLeftOrRight(!0),this.rightPage.setLeftOrRight(!1),this.leftPage.setCSSByStyle({top:"0",left:"0","margin-top":0,"margin-left":0}),this.rightPage.setCSSByStyle({top:"0",right:"0","margin-top":0,"margin-right":0})},initBookSpine:function(){this.topSpine=new BookSpine(this.cover),this.bottomSpine=new BookSpine(this.cover),this.topSpine.setCSSByName("top_spine"),this.bottomSpine.setCSSByName("botoom_spine")},onResize:function(t,i,e){this.leftPage&&this.leftPage.onResize(t,i),this.rightPage&&this.rightPage.onResize(t,i),this.topSpine.onResize(e),this.bottomSpine.onResize(e),this.pageWidth=t,this.pageHeight=i,this.resizeCover(t,i,e)},resizeCover:function(t,i,e){this.thicknessWidthArray=e,this.width=2*t+(e[0]+e[1])+2*this.borderWidth,this.height=i+2*this.borderWidth,this.cover.css({width:this.width+"px",height:this.height+"px",left:-(this.borderWidth+e[0])+"px",top:-this.borderWidth+"px"})},refresh:function(t,i,e){this.refreshBookSpine(i),this.refreshPage(t,e),this.resizeCover(this.pageWidth,this.pageHeight,i)},getSensitiveIndex:function(){return BookInfo.getSensitiveIndex(!0)},refreshPage:function(t,i){var e=this.getSensitiveIndex().min,o=this.getSensitiveIndex().max;t<=e||o<=t?((t<=e&&bookConfig.RightToLeft||!bookConfig.RightToLeft&&o<=t)&&(this.rightPage&&this.rightPage.setVisible(!1),i<o&&bookConfig.RightToLeft||e<i&&!bookConfig.RightToLeft)&&this.leftPage&&this.leftPage.setVisible(!0),(t<=e&&!bookConfig.RightToLeft||bookConfig.RightToLeft&&o<=t)&&(this.leftPage&&this.leftPage.setVisible(!1),i<o&&!bookConfig.RightToLeft||e<i&&bookConfig.RightToLeft)&&this.rightPage&&this.rightPage.setVisible(!0),this.hideBookSpine()):(this.showBookSpine(),this.leftPage&&this.leftPage.setVisible(!0),this.rightPage&&this.rightPage.setVisible(!0))},refreshBookSpine:function(t){this.topSpine.refresh(t),this.bottomSpine.refresh(t)},hideBookSpine:function(){this.topSpine.hide(),this.bottomSpine.hide()},showBookSpine:function(){this.topSpine.show(),this.bottomSpine.show()},show:function(){this.cover.show()},hide:function(){this.cover.hide()}}),BookSpine=Class({create:function(t){this.parent=t,this.initSpine()},initSpine:function(){this.height=bookConfig.hardCoverBorderWidth,this.bookSpine=$("<div class='bookSpine'></div>"),this.bookSpine.css({height:this.height,"background-color":bookConfig.borderColor}),this.parent.append(this.bookSpine),this.addShadow()},addShadow:function(){this.leftShadow=$("<div class='left_shadow shadow'></div>"),this.rightShadow=$("<div class='right_shadow shadow'></div>"),this.bookSpine.append(this.leftShadow),this.bookSpine.append(this.rightShadow)},refresh:function(t){this.onResize(t)},show:function(){this.bookSpine.show()},hide:function(){},setCSSByStyle:function(t){this.bookSpine.css(t)},setCSSByName:function(t){this.bookSpine.attr("class",t),this.bookSpine.addClass("bookSpine")},onResize:function(t){this.width=t[0]+t[1],this.bookSpine.css({width:this.width,"margin-left":-this.width/2+"px"})}}),HardCalendarCover=Class({create:function(t){this.parent=t,this.borderWidth=bookConfig.hardCoverBorderWidth,this.rightToLeft=bookConfig.RightToLeft,this.cover=$("<div class='hardCover'></div>"),this.initPage(),this.initBookSpine(),this.parent.append(this.cover)},initPage:function(){var t=BookInfo.getHardCoverPages(!0);this.leftPage=new HardPage(t[0],"coverPage",!1,BookType.normal_book),this.rightPage=new HardPage(t[1],"coverPage",!1,BookType.normal_book),this.cover.append(this.leftPage.$page),this.cover.append(this.rightPage.$page),this.leftPage.setUpOrDown(!0),this.rightPage.setUpOrDown(!1),this.leftPage.setCSSByStyle({top:"0",left:"0","margin-top":0,"margin-left":0}),this.rightPage.setCSSByStyle({bottom:"0",left:"0","margin-bottom":0,"margin-left":0})},initBookSpine:function(){this.topSpine=new BookSpine(this.cover),this.bottomSpine=new BookSpine(this.cover),this.topSpine.setCSSByName("top_spine"),this.bottomSpine.setCSSByName("botoom_spine")},onResize:function(t,i,e){this.leftPage&&this.leftPage.onResize(t,i),this.rightPage&&this.rightPage.onResize(t,i),this.topSpine.onResize(e),this.bottomSpine.onResize(e),this.pageWidth=t,this.pageHeight=i,this.resizeCover(t,i,e)},resizeCover:function(t,i,e){this.thicknessWidthArray=e,this.width=t+2*this.borderWidth,this.height=2*i+(e[0]+e[1])+2*this.borderWidth,this.cover.css({width:this.width+"px",height:this.height+"px",left:-this.borderWidth+"px",top:-(this.borderWidth+e[0])+"px"})},refresh:function(t,i,e){this.refreshBookSpine(i),this.refreshPage(t,e),this.resizeCover(this.pageWidth,this.pageHeight,i)},getSensitiveIndex:function(){return BookInfo.getSensitiveIndex(!0)},refreshPage:function(t,i){var e=this.getSensitiveIndex().min,o=this.getSensitiveIndex().max;t<=e||o<=t?((t<=e&&bookConfig.RightToLeft||!bookConfig.RightToLeft&&o<=t)&&(this.rightPage&&this.rightPage.setVisible(!1),i<o&&bookConfig.RightToLeft||e<i&&!bookConfig.RightToLeft)&&this.leftPage&&this.leftPage.setVisible(!0),(t<=e&&!bookConfig.RightToLeft||bookConfig.RightToLeft&&o<=t)&&(this.leftPage&&this.leftPage.setVisible(!1),i<o&&!bookConfig.RightToLeft||e<i&&bookConfig.RightToLeft)&&this.rightPage&&this.rightPage.setVisible(!0),this.hideBookSpine()):(this.showBookSpine(),this.leftPage&&this.leftPage.setVisible(!0),this.rightPage&&this.rightPage.setVisible(!0))},refreshBookSpine:function(t){this.topSpine.refresh(t),this.bottomSpine.refresh(t)},hideBookSpine:function(){this.topSpine.hide(),this.bottomSpine.hide()},showBookSpine:function(){this.topSpine.show(),this.bottomSpine.show()},show:function(){this.cover.show()},hide:function(){this.cover.hide()}}),HardBook=Class({bookType:BookType.normal_book,create:function(t){this._super(t)},crossFlipMode:function(t){var i=this.currentPageIndex;return!(0<=[1,totalPageCount].indexOf(i)&&0<=[1,totalPageCount].indexOf(t)||0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t)||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||[1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t)<0)},toSoftPage:function(t){var i=this.currentPageIndex;return!(0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t)||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||([1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t),0))},toHardPage:function(t){return!1},toCoverPage:function(t){var i=this.currentPageIndex;return!([1,2,totalPageCount-1,totalPageCount].indexOf(i)<0&&[1,2,totalPageCount-1,totalPageCount].indexOf(t)<0||0<=[2,3].indexOf(i)&&[1,totalPageCount].indexOf(t)<0||[1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t)<0)},isHardPage:function(t,i){return!1},isCoverPage:function(t,i){return 1==t||2==t||t==totalPageCount||t==totalPageCount-1},gotoNearPage:function(t){1==this.currentPageIndex?gotoPageFun(2,!1,"cross page"):this.currentPageIndex==totalPageCount||t==totalPageCount?gotoPageFun(totalPageCount-1,!1,"cross page"):1==t&&gotoPageFun(2,!1,"cross page")},initBook:function(){this._super(),this.hardCover=new HardCover(this.flipBook)},newPage:function(t){return new(1==t||2==t||t==totalPageCount||t==totalPageCount-1?HardPage:NormalPage)(t,"page",!1,BookType.normal_book)},followToPoint:function(t,i,e){this._super(t,i,e),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth())},getDownUpHardPage:function(t,i,e){return this.addPageArray([t,i]),e?(this.pageArray[t]&&this.pageArray[t].setLeftOrRight(!0),this.pageArray[i]&&this.pageArray[i].setLeftOrRight(!1),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-left-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-right-side")):(this.pageArray[t]&&this.pageArray[t].setLeftOrRight(!1),this.pageArray[i]&&this.pageArray[i].setLeftOrRight(!0),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-right-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-left-side")),[this.pageArray[t],this.pageArray[i]]},setAttachmentBeforeFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(t,this.getThicknessWidth(),this.currentPageIndex)},afterCurling:function(){this._super(),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},setAttachmentAfterFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},getThicknessWidth:function(){var i=[0,0];return this.bookAttachments.Items.find("ThicknessManager").each(function(t){i=t.getThicknessWidth()}),i},onResize:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},resizeBook:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},show:function(){this._super(),this.hardCover.show()},hide:function(){this._super(),this.hardCover.hide()}}).extend(NormalBook),HardCalendar=Class({bookType:BookType.normal_book,create:function(t){this._super(t)},crossFlipMode:function(t){var i=this.currentPageIndex;return!(0<=[1,totalPageCount].indexOf(i)&&0<=[1,totalPageCount].indexOf(t)||0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t)||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||[1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t)<0)},toSoftPage:function(t){var i=this.currentPageIndex;return!(0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t)||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||([1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t),0))},toHardPage:function(t){return!1},toCoverPage:function(t){var i=this.currentPageIndex;return!([1,2,totalPageCount-1,totalPageCount].indexOf(i)<0&&[1,2,totalPageCount-1,totalPageCount].indexOf(t)<0||0<=[2,3].indexOf(i)&&[1,totalPageCount].indexOf(t)<0||[1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t)<0)},isHardPage:function(t,i){return!1},isCoverPage:function(t,i){return 1==t||2==t||t==totalPageCount||t==totalPageCount-1},gotoNearPage:function(t){1==this.currentPageIndex?gotoPageFun(2,!1,"cross page"):this.currentPageIndex==totalPageCount||t==totalPageCount?gotoPageFun(totalPageCount-1,!1,"cross page"):1==t&&gotoPageFun(2,!1,"cross page")},initBook:function(){this._super(),this.hardCover=new HardCalendarCover(this.flipBook)},newPage:function(t){return new(1==t||2==t||t==totalPageCount||t==totalPageCount-1?HardPage:NormalPage)(t,"page",!1,BookType.normal_book)},followToPoint:function(t,i,e){this._super(t,i,e),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth())},getDownUpHardPage:function(t,i,e){return this.addPageArray([t,i]),e?(this.pageArray[t]&&this.pageArray[t].setUpOrDown(!0),this.pageArray[i]&&this.pageArray[i].setUpOrDown(!1),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-up-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-down-side")):(this.pageArray[t]&&this.pageArray[t].setUpOrDown(!1),this.pageArray[i]&&this.pageArray[i].setUpOrDown(!0),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-down-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-up-side")),[this.pageArray[t],this.pageArray[i]]},setAttachmentBeforeFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(t,this.getThicknessWidth(),this.currentPageIndex)},afterCurling:function(){this._super(),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},setAttachmentAfterFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},getThicknessWidth:function(){return[0,0]},onResize:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},resizeBook:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},show:function(){this._super(),this.hardCover.show()},hide:function(){this._super(),this.hardCover.hide()}}).extend(NormalCalendar),OpenHardCalendar=Class({crossFlipMode:function(t){var i=this.currentPageIndex;return!(0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||totalPageCount!=i&&totalPageCount!=t)},toSoftPage:function(t){return!(0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(this.currentPageIndex)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t))},toCoverPage:function(t){return totalPageCount==this.currentPageIndex||totalPageCount==t},isCoverPage:function(t,i){return t==totalPageCount||t==totalPageCount-1},gotoNearPage:function(t){this.currentPageIndex!=totalPageCount&&t!=totalPageCount||gotoPageFun(totalPageCount-1,!1,"cross page")},newPage:function(t){return new(1==t||t==totalPageCount||t==totalPageCount-1?HardPage:NormalPage)(t,"page",!1,BookType.normal_book)}}).extend(HardCalendar),OpenHardBook=Class({crossFlipMode:function(t){var i=this.currentPageIndex;return!(0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||totalPageCount!=i&&totalPageCount!=t)},toSoftPage:function(t){return!(0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(this.currentPageIndex)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t))},toCoverPage:function(t){return totalPageCount==this.currentPageIndex||totalPageCount==t},isCoverPage:function(t,i){return t==totalPageCount||t==totalPageCount-1},gotoNearPage:function(t){this.currentPageIndex!=totalPageCount&&t!=totalPageCount||gotoPageFun(totalPageCount-1,!1,"cross page")},newPage:function(t){return new(1==t||t==totalPageCount||t==totalPageCount-1?HardPage:NormalPage)(t,"page",!1,BookType.normal_book)}}).extend(HardBook),SingleHardCover=Class({initPage:function(){var t=BookInfo.getHardCoverPages(!1);bookConfig.RightToLeft&&(this.leftPage=new HardPage(t[0],"coverPage",!0,BookType.single_book)),bookConfig.RightToLeft||(this.rightPage=new HardPage(t[0],"coverPage",!0,BookType.single_book)),this.leftPage&&this.cover.append(this.leftPage.$page),this.rightPage&&this.cover.append(this.rightPage.$page),this.leftPage&&this.leftPage.setLeftOrRight(!0),this.rightPage&&this.rightPage.setLeftOrRight(!1),this.leftPage&&this.leftPage.setCSSByStyle({top:"0",left:"0","margin-top":0,"margin-left":0}),this.rightPage&&this.rightPage.setCSSByStyle({top:"0",right:"0","margin-top":0,"margin-right":0})},getSensitiveIndex:function(){return BookInfo.getSensitiveIndex(!1)},initBookSpine:function(){this.topSpine=new SingleBookSpine(this.cover),this.bottomSpine=new SingleBookSpine(this.cover),this.topSpine.setCSSByName("top_spine"),this.bottomSpine.setCSSByName("botoom_spine")},resizeCover:function(t,i,e){this.thicknessWidthArray=e,this.width=t+(e[0]+e[1])+this.borderWidth,this.height=i+2*this.borderWidth,this.cover.css({width:this.width+"px",height:this.height+"px",left:(bookConfig.RightToLeft?-(this.borderWidth+e[0]):0)+"px",top:-this.borderWidth+"px"})}}).extend(HardCover),SingleBookSpine=Class({onResize:function(t){this.width=t[0]+t[1],this.bookSpine.css({width:this.width}),bookConfig.RightToLeft?this.bookSpine.css({left:"auto",right:"0"}):this.bookSpine.css({right:"auto",left:"0"})}}).extend(BookSpine),SingleHardCalendarCover=Class({initPage:function(){var t=BookInfo.getHardCoverPages(!1);bookConfig.RightToLeft&&(this.leftPage=new HardPage(t[0],"coverPage",!0,BookType.single_book)),bookConfig.RightToLeft||(this.rightPage=new HardPage(t[0],"coverPage",!0,BookType.single_book)),this.leftPage&&this.cover.append(this.leftPage.$page),this.rightPage&&this.cover.append(this.rightPage.$page),this.leftPage&&this.leftPage.setUpOrDown(!0),this.rightPage&&this.rightPage.setUpOrDown(!1),this.leftPage&&this.leftPage.setCSSByStyle({top:"0",left:"0","margin-top":0,"margin-left":0}),this.rightPage&&this.rightPage.setCSSByStyle({bottom:"0",left:"0","margin-bottom":0,"margin-left":0})},getSensitiveIndex:function(){return BookInfo.getSensitiveIndex(!1)},initBookSpine:function(){this.topSpine=new SingleBookSpine(this.cover),this.bottomSpine=new SingleBookSpine(this.cover),this.topSpine.setCSSByName("top_spine"),this.bottomSpine.setCSSByName("botoom_spine")},resizeCover:function(t,i,e){this.thicknessWidthArray=e,this.width=t+2*this.borderWidth,this.height=i+(e[0]+e[1])+this.borderWidth,this.cover.css({width:this.width+"px",height:this.height+"px",top:(bookConfig.RightToLeft?-(this.borderWidth+e[0]):0)+"px",left:-this.borderWidth+"px"})}}).extend(HardCover),SingleHardBook=Class({bookType:BookType.single_book,create:function(t){this._super(t)},crossFlipMode:function(t){var i=this.currentPageIndex;return 1==i&&2!=t||2!=i&&1==t},toSoftPage:function(t){return 2!=t&&1!=t},toHardPage:function(t){return!1},toCoverPage:function(t){return 1==t},isCoverPage:function(t,i){i=i<t?i:t;return 1==i||i==bookConfig.totalPageCount},isHardPage:function(t,i){return!1},gotoNearPage:function(t){1!=this.currentPageIndex&&1!=t||gotoPageFun(2,!1,"cross page")},initBook:function(){this._super(),this.hardCover=new SingleHardCover(this.flipBook)},newPage:function(t){return 1==t||t==bookConfig.totalPageCount?(t=new HardPage(t,"page",!0,BookType.single_book)).setLeftOrRight(bookConfig.RightToLeft):t=new NormalPage(t,"page",!0,BookType.single_book),t},newPageBack:function(t){return 1==t||t==bookConfig.totalPageCount?(t=new HardPage(t,"pageBack",!0,BookType.single_book)).setLeftOrRight(bookConfig.RightToLeft):t=new NormalPage(t,"pageBack",!0,BookType.single_book),t},followToPoint:function(t,i,e){this._super(t,i,e),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth())},getThicknessWidth:function(){var i=[0,0];return this.bookAttachments.Items.find("ThicknessManager").each(function(t){i=t.getThicknessWidth()}),i},getDownUpHardPage:function(t,i){i=i<t?i:t;return this.addPageArray([i]),this.addPageBackArray([i]),bookConfig.RightToLeft?(this.pageArray[i]&&this.pageArray[i].setLeftOrRight(!0),this.pageBackArray[i]&&this.pageBackArray[i].setLeftOrRight(!0),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-left-side"),this.pageBackArray[i]&&this.pageBackArray[i].setCSSByName("flip-hard-right-side")):(this.pageArray[i]&&this.pageArray[i].setLeftOrRight(!1),this.pageBackArray[i]&&this.pageBackArray[i].setLeftOrRight(!1),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-right-side"),this.pageBackArray[i]&&this.pageBackArray[i].setCSSByName("flip-hard-left-side")),[this.pageArray[i],this.pageBackArray[i]]},setAttachmentBeforeFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(t,this.getThicknessWidth(),this.currentPageIndex)},afterCurling:function(){this._super(),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},setAttachmentAfterFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},onResize:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},resizeBook:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},show:function(){this._super(),this.hardCover.show()},hide:function(){this._super(),this.hardCover.hide()}}).extend(SingleBook),SingleHardCalendar=Class({bookType:BookType.single_book,create:function(t){this._super(t)},crossFlipMode:function(t){var i=this.currentPageIndex;return 1==i&&2!=t||2!=i&&1==t},toSoftPage:function(t){return 2!=t&&1!=t},toHardPage:function(t){return!1},toCoverPage:function(t){return 1==t},isCoverPage:function(t,i){i=i<t?i:t;return 1==i||i==bookConfig.totalPageCount},isHardPage:function(t,i){return!1},gotoNearPage:function(t){1!=this.currentPageIndex&&1!=t||gotoPageFun(2,!1,"cross page")},initBook:function(){this._super(),this.hardCover=new SingleHardCalendarCover(this.flipBook)},newPage:function(t){return 1==t||t==bookConfig.totalPageCount?(t=new HardPage(t,"page",!0,BookType.single_book)).setUpOrDown(bookConfig.RightToLeft):t=new NormalPage(t,"page",!0,BookType.single_book),t},newPageBack:function(t){return 1==t||t==bookConfig.totalPageCount?(t=new HardPage(t,"pageBack",!0,BookType.single_book)).setUpOrDown(bookConfig.RightToLeft):t=new NormalPage(t,"pageBack",!0,BookType.single_book),t},followToPoint:function(t,i,e){this._super(t,i,e),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth())},getDownUpHardPage:function(t,i){i=i<t?i:t;return this.addPageArray([i]),this.addPageBackArray([i]),bookConfig.RightToLeft?(this.pageArray[i]&&this.pageArray[i].setUpOrDown(!0),this.pageBackArray[i]&&this.pageBackArray[i].setUpOrDown(!0),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-up-side"),this.pageBackArray[i]&&this.pageBackArray[i].setCSSByName("flip-hard-down-side")):(this.pageArray[i]&&this.pageArray[i].setUpOrDown(!1),this.pageBackArray[i]&&this.pageBackArray[i].setUpOrDown(!1),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-down-side"),this.pageBackArray[i]&&this.pageBackArray[i].setCSSByName("flip-hard-up-side")),[this.pageArray[i],this.pageBackArray[i]]},setAttachmentBeforeFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(t,this.getThicknessWidth(),this.currentPageIndex)},afterCurling:function(){this._super(),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},setAttachmentAfterFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},getThicknessWidth:function(){return[0,0]},onResize:function(t,i){this._super(t,i)},resizeBook:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},show:function(){this._super(),this.hardCover.show()},hide:function(){this._super(),this.hardCover.hide()}}).extend(SingleCalendar),AlbumSide=Class({create:function(t,i,e,o){this._super(t,i,e,o),this.isHard=!0},renderPage:function(){},onResize:function(t,i){this._super(t,i),bookConfig.FlipDirection?this.side&&this.side.css({left:"50%","margin-left":-t/2+"px"}):this.side&&this.side.css({top:"50%","margin-top":-i/2+"px"})}}).extend(BookPage),AlbumPage=Class({isHardPage:!0,create:function(t,i,e,o,s){this._super(t,i,e,o,s),this.isHardPage=!0,this.$page=this.page.side},newPage:function(t,i,e,o){this.page=new BookPage(t,i,e,o)},setLeftOrRight:function(t){this.page&&this.page.setLeftOrRight(t)},setUpOrDown:function(t){this.page&&this.page.setUpOrDown(t)},onResize:function(t,i,e){this.opacity=e||1,this.pageWidth=t,this.pageHeight=i,this.width=t,this.height=i,this.page&&this.page.onResize(this.pageWidth,this.pageHeight)},addFlipShadow:function(){this.pageFlipShadow||(this.pageFlipShadow=new HardPageFlipShadow(this.side))},beginToFlip:function(){}}).extend(PageInterface),AlbumBook=Class({bookType:BookType.normal_book,create:function(t){this._super(t)},crossFlipMode:function(t){return!1},toSoftPage:function(t){return!1},toHardPage:function(t){return!0},isHardPage:function(t,i){return!0},toCoverPage:function(){return!1},isCoverPage:function(){return!1},gotoNearPage:function(t){},newPage:function(t){return new AlbumPage(t,"page",!1,BookType.normal_book)},getDownUpHardPage:function(t,i,e){return this.addPageArray([t,i]),e?(this.pageArray[t]&&this.pageArray[t].setLeftOrRight(!0),this.pageArray[i]&&this.pageArray[i].setLeftOrRight(!1),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-left-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-right-side")):(this.pageArray[t]&&this.pageArray[t].setLeftOrRight(!1),this.pageArray[i]&&this.pageArray[i].setLeftOrRight(!0),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-right-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-left-side")),[this.pageArray[t],this.pageArray[i]]}}).extend(NormalBook),AlbumHardBook=Class({bookType:BookType.normal_book,create:function(t){this._super(t)},crossFlipMode:function(t){var i=this.currentPageIndex;return!(0<=[1,totalPageCount].indexOf(i)&&0<=[1,totalPageCount].indexOf(t)||0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t)||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||[1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t)<0)},toSoftPage:function(t){return!1},toHardPage:function(t){var i=this.currentPageIndex;return!(0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t)||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||([1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t),0))},toCoverPage:function(t){var i=this.currentPageIndex;return!([1,2,totalPageCount-1,totalPageCount].indexOf(i)<0&&[1,2,totalPageCount-1,totalPageCount].indexOf(t)<0||0<=[2,3].indexOf(i)&&[1,totalPageCount].indexOf(t)<0||[1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t)<0)},isHardPage:function(t,i){return 1!=t&&2!=t&&t!=totalPageCount&&t!=totalPageCount-1},isCoverPage:function(t,i){return 1==t||2==t||t==totalPageCount||t==totalPageCount-1},gotoNearPage:function(t){1==this.currentPageIndex?gotoPageFun(2,!1,"cross page"):this.currentPageIndex==totalPageCount||t==totalPageCount?gotoPageFun(totalPageCount-1,!1,"cross page"):1==t&&gotoPageFun(2,!1,"cross page")},initBook:function(){this._super(),this.hardCover=new HardCover(this.flipBook)},newPage:function(t){return new(1==t||2==t||t==totalPageCount||t==totalPageCount-1?HardPage:AlbumPage)(t,"page",!1,BookType.normal_book)},followToPoint:function(t,i,e){this._super(t,i,e),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth())},getDownUpHardPage:function(t,i,e){return this.addPageArray([t,i]),e?(this.pageArray[t]&&this.pageArray[t].setLeftOrRight(!0),this.pageArray[i]&&this.pageArray[i].setLeftOrRight(!1),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-left-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-right-side")):(this.pageArray[t]&&this.pageArray[t].setLeftOrRight(!1),this.pageArray[i]&&this.pageArray[i].setLeftOrRight(!0),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-right-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-left-side")),[this.pageArray[t],this.pageArray[i]]},setAttachmentBeforeFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(t,this.getThicknessWidth(),this.currentPageIndex)},afterCurling:function(){this._super(),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},setAttachmentAfterFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},getThicknessWidth:function(){var i=[0,0];return this.bookAttachments.Items.find("ThicknessManager").each(function(t){i=t.getThicknessWidth()}),i},onResize:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},resizeBook:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},show:function(){this._super(),this.hardCover.show()},hide:function(){this._super(),this.hardCover.hide()}}).extend(NormalBook),OpenAlbumHardBook=Class({crossFlipMode:function(t){var i=this.currentPageIndex;return!(0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||totalPageCount!=i&&totalPageCount!=t)},toHardPage:function(t){return!(0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(this.currentPageIndex)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t))},toCoverPage:function(t){return totalPageCount==this.currentPageIndex||totalPageCount==t},isHardPage:function(t,i){return t!=totalPageCount&&t!=totalPageCount-1},isCoverPage:function(t,i){return t==totalPageCount||t==totalPageCount-1},gotoNearPage:function(t){this.currentPageIndex!=totalPageCount&&t!=totalPageCount||gotoPageFun(totalPageCount-1,!1,"cross page")},newPage:function(t){return new(1==t||t==totalPageCount||t==totalPageCount-1?HardPage:AlbumPage)(t,"page",!1,BookType.normal_book)}}).extend(AlbumHardBook),SingleAlbumBook=Class({bookType:BookType.single_book,create:function(t){this._super(t)},crossFlipMode:function(t){return!1},toSoftPage:function(t){return!1},toHardPage:function(t){return!0},isHardPage:function(t,i){return!0},toCoverPage:function(){return!1},isCoverPage:function(){return!1},gotoNearPage:function(t){},newPage:function(t){return new AlbumPage(t,"page",!0,BookType.single_book)},getDownUpHardPage:function(t,i){i=i<t?i:t;return this.addPageArray([i]),this.addPageBackArray([i]),bookConfig.RightToLeft?(this.pageArray[i]&&this.pageArray[i].setLeftOrRight(!0),this.pageBackArray[i]&&this.pageBackArray[i].setLeftOrRight(!0),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-left-side"),this.pageBackArray[i]&&this.pageBackArray[i].setCSSByName("flip-hard-right-side")):(this.pageArray[i]&&this.pageArray[i].setLeftOrRight(!1),this.pageBackArray[i]&&this.pageBackArray[i].setLeftOrRight(!1),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-right-side"),this.pageBackArray[i]&&this.pageBackArray[i].setCSSByName("flip-hard-left-side")),[this.pageArray[i],this.pageBackArray[i]]}}).extend(SingleBook),SingleAlbumHardBook=Class({bookType:BookType.single_book,create:function(t){this._super(t)},crossFlipMode:function(t){var i=this.currentPageIndex;return 1==i&&2!=t||2!=i&&1==t},toSoftPage:function(t){return!1},toHardPage:function(t){return 2!=t&&1!=t},toCoverPage:function(t){return 1==t},isCoverPage:function(t,i){i=i<t?i:t;return 1==i||i==bookConfig.totalPageCount},isHardPage:function(t,i){i=i<t?i:t;return 1!=i&&i!=bookConfig.totalPageCount},gotoNearPage:function(t){1!=this.currentPageIndex&&1!=t||gotoPageFun(2,!1,"cross page")},initBook:function(){this._super(),this.hardCover=new SingleHardCover(this.flipBook)},newPage:function(t){return 1==t||t==bookConfig.totalPageCount?(t=new HardPage(t,"page",!0,BookType.single_book)).setLeftOrRight(bookConfig.RightToLeft):t=new AlbumPage(t,"page",!0,BookType.single_book),t},newPageBack:function(t){return 1==t||t==bookConfig.totalPageCount?(t=new HardPage(t,"pageBack",!0,BookType.single_book)).setLeftOrRight(bookConfig.RightToLeft):t=new AlbumPage(t,"pageBack",!0,BookType.single_book),t},followToPoint:function(t,i,e){this._super(t,i,e),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth())},getDownUpHardPage:function(t,i){i=i<t?i:t;return this.addPageArray([i]),this.addPageBackArray([i]),bookConfig.RightToLeft?(this.pageArray[i]&&this.pageArray[i].setLeftOrRight(!0),this.pageBackArray[i]&&this.pageBackArray[i].setLeftOrRight(!0),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-left-side"),this.pageBackArray[i]&&this.pageBackArray[i].setCSSByName("flip-hard-right-side")):(this.pageArray[i]&&this.pageArray[i].setLeftOrRight(!1),this.pageBackArray[i]&&this.pageBackArray[i].setLeftOrRight(!1),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-right-side"),this.pageBackArray[i]&&this.pageBackArray[i].setCSSByName("flip-hard-left-side")),[this.pageArray[i],this.pageBackArray[i]]},setAttachmentBeforeFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(t,this.getThicknessWidth(),this.currentPageIndex)},afterCurling:function(){this._super(),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},setAttachmentAfterFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},getThicknessWidth:function(){var i=[0,0];return this.bookAttachments.Items.find("ThicknessManager").each(function(t){i=t.getThicknessWidth()}),i},onResize:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},resizeBook:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},show:function(){this._super(),this.hardCover.show()},hide:function(){this._super(),this.hardCover.hide()}}).extend(SingleBook),AlbumCanlendar=Class({bookType:BookType.normal_book,create:function(t){this._super(t)},crossFlipMode:function(t){return!1},toSoftPage:function(t){return!1},toHardPage:function(t){return!0},isHardPage:function(t,i){return!0},toCoverPage:function(){return!1},isCoverPage:function(){return!1},gotoNearPage:function(t){},newPage:function(t){return new AlbumPage(t,"page",!1,BookType.normal_book)},getDownUpHardPage:function(t,i,e){return this.addPageArray([t,i]),e?(this.pageArray[t]&&this.pageArray[t].setUpOrDown(!0),this.pageArray[i]&&this.pageArray[i].setUpOrDown(!1),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-up-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-down-side")):(this.pageArray[t]&&this.pageArray[t].setUpOrDown(!1),this.pageArray[i]&&this.pageArray[i].setUpOrDown(!0),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-down-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-up-side")),[this.pageArray[t],this.pageArray[i]]}}).extend(NormalCalendar),AlbumHardCalendar=Class({bookType:BookType.normal_book,create:function(t){this._super(t)},crossFlipMode:function(t){var i=this.currentPageIndex;return!(0<=[1,totalPageCount].indexOf(i)&&0<=[1,totalPageCount].indexOf(t)||0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t)||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||[1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t)<0)},toSoftPage:function(t){return!1},toHardPage:function(t){var i=this.currentPageIndex;return!(0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t)||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||([1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t),0))},toCoverPage:function(t){var i=this.currentPageIndex;return!([1,2,totalPageCount-1,totalPageCount].indexOf(i)<0&&[1,2,totalPageCount-1,totalPageCount].indexOf(t)<0||0<=[2,3].indexOf(i)&&[1,totalPageCount].indexOf(t)<0||[1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t)<0)},isHardPage:function(t,i){return 1!=t&&2!=t&&t!=totalPageCount&&t!=totalPageCount-1},isCoverPage:function(t,i){return 1==t||2==t||t==totalPageCount||t==totalPageCount-1},gotoNearPage:function(t){1==this.currentPageIndex?gotoPageFun(2,!1,"cross page"):this.currentPageIndex==totalPageCount||t==totalPageCount?gotoPageFun(totalPageCount-1,!1,"cross page"):1==t&&gotoPageFun(2,!1,"cross page")},initBook:function(){this._super(),this.hardCover=new HardCalendarCover(this.flipBook)},newPage:function(t){return new(1==t||2==t||t==totalPageCount||t==totalPageCount-1?HardPage:AlbumPage)(t,"page",!1,BookType.normal_book)},followToPoint:function(t,i,e){this._super(t,i,e),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth())},getDownUpHardPage:function(t,i,e){return this.addPageArray([t,i]),e?(this.pageArray[t]&&this.pageArray[t].setUpOrDown(!0),this.pageArray[i]&&this.pageArray[i].setUpOrDown(!1),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-up-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-down-side")):(this.pageArray[t]&&this.pageArray[t].setUpOrDown(!1),this.pageArray[i]&&this.pageArray[i].setUpOrDown(!0),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-down-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-up-side")),[this.pageArray[t],this.pageArray[i]]},setAttachmentBeforeFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(t,this.getThicknessWidth(),this.currentPageIndex)},afterCurling:function(){this._super(),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},setAttachmentAfterFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},getThicknessWidth:function(){return[0,0]},onResize:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},resizeBook:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},show:function(){this._super(),this.hardCover.show()},hide:function(){this._super(),this.hardCover.hide()}}).extend(NormalCalendar),OpenAlbumHardCalendar=Class({crossFlipMode:function(t){var i=this.currentPageIndex;return!(0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||totalPageCount!=i&&totalPageCount!=t)},toHardPage:function(t){return!(0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(this.currentPageIndex)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t))},toCoverPage:function(t){return totalPageCount==this.currentPageIndex||totalPageCount==t},isHardPage:function(t,i){return t!=totalPageCount&&t!=totalPageCount-1},isCoverPage:function(t,i){return t==totalPageCount||t==totalPageCount-1},gotoNearPage:function(t){this.currentPageIndex!=totalPageCount&&t!=totalPageCount||gotoPageFun(totalPageCount-1,!1,"cross page")},newPage:function(t){return new(1==t||t==totalPageCount||t==totalPageCount-1?HardPage:AlbumPage)(t,"page",!1,BookType.normal_book)}}).extend(AlbumHardCalendar),SingleAlbumCalendar=Class({bookType:BookType.single_book,create:function(t){this._super(t)},crossFlipMode:function(t){return!1},toSoftPage:function(t){return!1},toHardPage:function(t){return!0},isHardPage:function(t,i){return!0},toCoverPage:function(){return!1},isCoverPage:function(){return!1},gotoNearPage:function(t){},newPage:function(t){return new AlbumPage(t,"page",!0,BookType.single_book)},getDownUpHardPage:function(t,i){i=i<t?i:t;return this.addPageArray([i]),this.addPageBackArray([i]),bookConfig.RightToLeft?(this.pageArray[i]&&this.pageArray[i].setUpOrDown(!0),this.pageBackArray[i]&&this.pageBackArray[i].setUpOrDown(!0),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-up-side"),this.pageBackArray[i]&&this.pageBackArray[i].setCSSByName("flip-hard-down-side")):(this.pageArray[i]&&this.pageArray[i].setUpOrDown(!1),this.pageBackArray[i]&&this.pageBackArray[i].setUpOrDown(!1),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-down-side"),this.pageBackArray[i]&&this.pageBackArray[i].setCSSByName("flip-hard-up-side")),[this.pageArray[i],this.pageBackArray[i]]}}).extend(SingleCalendar),SingleAlbumHardCalendar=Class({bookType:BookType.single_book,create:function(t){this._super(t)},crossFlipMode:function(t){var i=this.currentPageIndex;return 1==i&&2!=t||2!=i&&1==t},toSoftPage:function(t){return!1},toHardPage:function(t){return 2!=t&&1!=t},toCoverPage:function(t){return 1==t},isCoverPage:function(t,i){i=i<t?i:t;return 1==i||i==bookConfig.totalPageCount},isHardPage:function(t,i){i=i<t?i:t;return 1!=i&&i!=bookConfig.totalPageCount},gotoNearPage:function(t){1!=this.currentPageIndex&&1!=t||gotoPageFun(2,!1,"cross page")},initBook:function(){this._super(),this.hardCover=new SingleHardCalendarCover(this.flipBook)},newPage:function(t){return 1==t||t==bookConfig.totalPageCount?(t=new HardPage(t,"page",!0,BookType.single_book)).setUpOrDown(bookConfig.RightToLeft):t=new AlbumPage(t,"page",!0,BookType.single_book),t},newPageBack:function(t){return 1==t||t==bookConfig.totalPageCount?(t=new HardPage(t,"pageBack",!0,BookType.single_book)).setUpOrDown(bookConfig.RightToLeft):t=new AlbumPage(t,"pageBack",!0,BookType.single_book),t},followToPoint:function(t,i,e){this._super(t,i,e),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth())},getDownUpHardPage:function(t,i){i=i<t?i:t;return this.addPageArray([i]),this.addPageBackArray([i]),bookConfig.RightToLeft?(this.pageArray[i]&&this.pageArray[i].setUpOrDown(!0),this.pageBackArray[i]&&this.pageBackArray[i].setUpOrDown(!0),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-up-side"),this.pageBackArray[i]&&this.pageBackArray[i].setCSSByName("flip-hard-down-side")):(this.pageArray[i]&&this.pageArray[i].setUpOrDown(!1),this.pageBackArray[i]&&this.pageBackArray[i].setUpOrDown(!1),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-down-side"),this.pageBackArray[i]&&this.pageBackArray[i].setCSSByName("flip-hard-up-side")),[this.pageArray[i],this.pageBackArray[i]]},setAttachmentBeforeFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(t,this.getThicknessWidth(),this.currentPageIndex)},afterCurling:function(){this._super(),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},setAttachmentAfterFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},getThicknessWidth:function(){var i=[0,0];return this.bookAttachments.Items.find("ThicknessManager").each(function(t){i=t.getThicknessWidth()}),i},onResize:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},resizeBook:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},show:function(){this._super(),this.hardCover.show()},hide:function(){this._super(),this.hardCover.hide()}}).extend(SingleCalendar),zoom_icons={moveByPos:"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",moveByDrag:"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",ZU:"iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAAACXBIWXMAAAsTAAALEwEAmpwYAAADGWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjaY2BgnuDo4uTKJMDAUFBUUuQe5BgZERmlwH6egY2BmYGBgYGBITG5uMAxIMCHgYGBIS8/L5UBA3y7xsDIwMDAcFnX0cXJlYE0wJpcUFTCwMBwgIGBwSgltTiZgYHhCwMDQ3p5SUEJAwNjDAMDg0hSdkEJAwNjAQMDg0h2SJAzAwNjCwMDE09JakUJAwMDg3N+QWVRZnpGiYKhpaWlgmNKflKqQnBlcUlqbrGCZ15yflFBflFiSWoKAwMD1A4GBgYGXpf8EgX3xMw8BUNTVQYqg4jIKAX08EGIIUByaVEZhMXIwMDAIMCgxeDHUMmwiuEBozRjFOM8xqdMhkwNTJeYNZgbme+y2LDMY2VmzWa9yubEtoldhX0mhwBHJycrZzMXM1cbNzf3RB4pnqW8xryH+IL5nvFXCwgJrBZ0E3wk1CisKHxYJF2UV3SrWJw4p/hWiRRJYcmjUhXSutJPZObIhsoJyp2V71HwUeRVvKA0RTlKRUnltepWtUZ1Pw1Zjbea+7QmaqfqWOsK6b7SO6I/36DGMMrI0ljS+LfJPdPDZivM+y0qLBOtfKwtbFRtRexY7L7aP3e47XjB6ZjzXpetruvdVrov9VjkudBrgfdCn8W+y/xW+a8P2Bq4N+hY8PmQW6HPwr5EMEUKRilFG8e4xUbF5cW3JMxO3Jx0Nvl5KlOaXLpNRlRmVdas7D059/KY8tULfAqLi2YXHy55WyZR7lJRWDmv6mz131q9uvj6SQ3HGn83G7Skt85ru94h2Ond1d59uJehz76/bsK+if8nO05pnXpiOu+M4JmzZj2aozW3ZN6+BVwLwxYtXvxxqcOyCcsfrjRe1br65lrddU3rb2402NSx+cFWq21Tt3/Y6btr1R6Oven7jh9QP9h56PURv6Obj4ufqD355LT3mS3nZM+3X/h0Ke7yqasW15bdEL3ZeuvrnfS7N+/7PDjwyPTx6qeKz2a+EHzZ9Zr5Td3bn+9LP3z6VPD53de8b+9+5P/88Lv4z7d/Vf//AwAqvx2K829RWwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAAL0lEQVR42mL8z0AYMDEMDUX/Gf7TyjrG/6gWocmSbRLCPEZ6OHwIRTAAAAD//wMAHjoIG4Kx7iYAAAAASUVORK5CYII=",PB:"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",ZD:"iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAAACXBIWXMAAAsTAAALEwEAmpwYAAADGWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjaY2BgnuDo4uTKJMDAUFBUUuQe5BgZERmlwH6egY2BmYGBgYGBITG5uMAxIMCHgYGBIS8/L5UBA3y7xsDIwMDAcFnX0cXJlYE0wJpcUFTCwMBwgIGBwSgltTiZgYHhCwMDQ3p5SUEJAwNjDAMDg0hSdkEJAwNjAQMDg0h2SJAzAwNjCwMDE09JakUJAwMDg3N+QWVRZnpGiYKhpaWlgmNKflKqQnBlcUlqbrGCZ15yflFBflFiSWoKAwMD1A4GBgYGXpf8EgX3xMw8BUNTVQYqg4jIKAX08EGIIUByaVEZhMXIwMDAIMCgxeDHUMmwiuEBozRjFOM8xqdMhkwNTJeYNZgbme+y2LDMY2VmzWa9yubEtoldhX0mhwBHJycrZzMXM1cbNzf3RB4pnqW8xryH+IL5nvFXCwgJrBZ0E3wk1CisKHxYJF2UV3SrWJw4p/hWiRRJYcmjUhXSutJPZObIhsoJyp2V71HwUeRVvKA0RTlKRUnltepWtUZ1Pw1Zjbea+7QmaqfqWOsK6b7SO6I/36DGMMrI0ljS+LfJPdPDZivM+y0qLBOtfKwtbFRtRexY7L7aP3e47XjB6ZjzXpetruvdVrov9VjkudBrgfdCn8W+y/xW+a8P2Bq4N+hY8PmQW6HPwr5EMEUKRilFG8e4xUbF5cW3JMxO3Jx0Nvl5KlOaXLpNRlRmVdas7D059/KY8tULfAqLi2YXHy55WyZR7lJRWDmv6mz131q9uvj6SQ3HGn83G7Skt85ru94h2Ond1d59uJehz76/bsK+if8nO05pnXpiOu+M4JmzZj2aozW3ZN6+BVwLwxYtXvxxqcOyCcsfrjRe1br65lrddU3rb2402NSx+cFWq21Tt3/Y6btr1R6Oven7jh9QP9h56PURv6Obj4ufqD355LT3mS3nZM+3X/h0Ke7yqasW15bdEL3ZeuvrnfS7N+/7PDjwyPTx6qeKz2a+EHzZ9Zr5Td3bn+9LP3z6VPD53de8b+9+5P/88Lv4z7d/Vf//AwAqvx2K829RWwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAAJklEQVR42mL8z0AYMDGMeEUsKDz0QGMkwSTG0RAnShEAAAD//wMAU6UDIxn1UhsAAAAASUVORK5CYII=",ZO:"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",PR:"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",NE:"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","arrow-left":"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",phonetic:"iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAVBJREFUOE+9lLErRVEcxz/fMhgNBhtKMVhMMlGUQcJgf4PhDW+wGbGxGQw2/gAlSdgoBhkYKQNZDAY221fnda6u67zXffV6t27dbr/zOb/f7/M7R7T5UZt5dB5oexgYipU8S3pqVlXDDG3PAltAL/AQIaPAJ7Aq6SoFTgJtrwE1YEXSRX6h7QVgB9iTtF2E/gPangQOgClJr6ksbPcD16kNU8B7YEPScbNeZS2RNJaP+wOMAs4lDZYZJ9tvwExeVBE4B1QlzZcEnsRenmbxdWDsWxUYAN4lLRVEhL5SNGv7COgDXoBdSTcZ8A44BHqAkQRwPQI3CxsF4GMcpUVJExkwiKjEDCsBGLOuZ2X7F1j4H4BhIsI07AdBzYB5SKPvzgHPgO741qW0UHKQ8g18SFrOSg6waaArWr4taXk8Wg7hl5K+On99lRnwhkev1cWp+B+Ge8MVu2Yi9gAAAABJRU5ErkJggg=="},ZoomControlBar=(bdor[500]=global.bdor[404],bdor[13]="p",Class({create:function(t){this.moveByMousePosition=!1,this.moveByPositionUrl=this.getImageUrl("moveByPos"),this.moveByDragUrl=this.getImageUrl("moveByDrag"),this.initButtons(),this.initBar(t),this.initEvent()},initButtons:function(){this.btnZoomUp=$("<div class='button' title='"+getLanguage("btnZoomIn","zoom in")+"'><img src='"+this.getImageUrl("ZU")+"'/></div>"),this.btnZoomDown=$("<div class='button' title='"+getLanguage("btnZoomOut","zoom out")+"'><img src='"+this.getImageUrl("ZD")+"'/></div>"),this.btnZoomOut=$("<div class='button' title='"+getLanguage("btnZoomOut","zoom out")+"'><img src='"+this.getImageUrl("ZO")+"'/></div>"),this.btnPre=$("<div class='button' title='"+getLanguage("btnPrePage","pre")+"'><img src='"+this.getImageUrl("PR")+"'/></div>"),this.btnNext=$("<div class='button' title='"+getLanguage("btnNextPage","next")+"'><img src='"+this.getImageUrl("NE")+"'/></div>"),this.btnMoveMode=$("<div class='button' title='"+getLanguage("btnPositionToMove","Move by mouse position")+"'><img src='"+this.moveByPositionUrl+"'/></div>")},initBar:function(t){this.width=260,this.height=40,this.bar=$("<div class='zoomControlBar'></div>"),this.bar.append(this.btnZoomUp),this.bar.append(this.btnZoomDown),this.bar.append(this.btnZoomOut),this.bar.append(this.btnPre),this.bar.append(this.btnNext),this.bar.append(this.btnMoveMode),this.bar.css({"background-color":bookConfig.toolbarColor}),"slide"==bookConfig.FlipStyle.toLowerCase()&&(this.width=220,this.btnMoveMode.css({display:"none"}),this.bar.css({width:this.width+"px"})),t.append(this.bar)},getImageUrl:function(t){return window.zoom_icons&&zoom_icons[t]?"data:image/png;base64,"+zoom_icons[t]:uiBaseURL+t+".png"},setVisible:function(t){t&&this.buttonChangeColor(),this.bar.css({display:t?"block":"none"})},buttonChangeColor:function(){this.hasChanged||(this.btnZoomUp.changeButtonColor(bookConfig.iconColor),this.btnZoomDown.changeButtonColor(bookConfig.iconColor),this.btnZoomOut.changeButtonColor(bookConfig.iconColor),this.btnPre.changeButtonColor(bookConfig.iconColor),this.btnNext.changeButtonColor(bookConfig.iconColor),this.btnMoveMode.changeButtonColor(bookConfig.iconColor),this.hasChanged=!0)},setPosition:function(t,i,e){this.bar.css((e=null==e?["left","top"]:e)[0],t+"px"),this.bar.css(e[1],i+"px")},initEvent:function(){this.btnZoomUp.bind(_event._end,function(){BookEvent.trigger("zoomIn",["zoom bar",BookInfo.getCurrentPages().join("-")]),this.zoomUp()}.bind(this)),this.btnZoomDown.bind(_event._end,function(){BookEvent.trigger("zoomOut",["zoom bar",BookInfo.getCurrentPages().join("-")]),this.zoomDown()}.bind(this)),this.btnZoomOut.bind(_event._end,function(){BookEvent.trigger("zoomOut",["zoom bar",BookInfo.getCurrentPages().join("-")]),this.zoomOut()}.bind(this)),this.btnPre.bind(_event._end,function(){(rightToLeft?nextPageFun:previousPageFun)("zoom bar")}),this.btnNext.bind(_event._end,function(){(rightToLeft?previousPageFun:nextPageFun)("zoom bar")}),this.btnMoveMode.bind(_event._end,function(){BookEvent.trigger("zoomMove",["zoom bar",BookInfo.getCurrentPages().join("-")]),this.changeMoveMode()}.bind(this))},changeMoveMode:function(){1==this.moveByMousePosition?(this.moveByMousePosition=!1,this.btnMoveMode.empty().append(getImage(this.moveByPositionUrl)).attr("title",getLanguage("btnPositionToMove","Move by mouse position"))):(this.moveByMousePosition=!0,this.btnMoveMode.empty().append(getImage(this.moveByDragUrl)).attr("title",getLanguage("btnDragToMove","Move by mouse drag"))),this.btnMoveMode.changeButtonColor(bookConfig.iconColor)},destroy:function(){this.bar.remove()},zoomUp:function(t){var i,e=BookInfo.getBook().showPage;e.parameters.eventCancel||e.parameters.zoomming||(bookConfig.AnnotationButtonVisible&&global.annotationCookie&&global.annotationCookie.saveCookie(),e.scale=e.parameters.toScale,(i=Math.min(e.parameters.naturalHeight*e.maxScale/e.parameters.height,1.2*parseFloat(e.scale)))!=e.scale&&(t=t||{pointers:[{pageX:windowWidth/2,pageY:windowHeight/2},{pageX:windowWidth/2,pageY:windowHeight/2}]},e.parameters.origin=e.mathOrigin(e,t),e.originObj(e,e.parameters.origin),e.animateToScale(e,i,t,300)))},zoomDown:function(t){var i,e,o=BookInfo.getBook().showPage;o.parameters.eventCancel||o.parameters.zoomming||(bookConfig.AnnotationButtonVisible&&global.annotationCookie&&global.annotationCookie.saveCookie(),t=t||{pointers:[{pageX:windowWidth/2,pageY:windowHeight/2},{pageX:windowWidth/2,pageY:windowHeight/2}]},o.scale=o.parameters.toScale,o.parameters.origin=o.mathOrigin(o,t),o.originObj(o,o.parameters.origin),i=o.parameters.naturalHeight/o.parameters.height,(e=.8*parseFloat(o.scale))<=i&&(o.parameters.zoomOut=!0),o.animateToScale(o,Math.max(i,e),t,300))},zoomOut:function(){var t=BookInfo.getBook().showPage;t.onDoubleTap.bind(t)({pointers:[{pageX:windowWidth/2,pageY:windowHeight/2}]}),StateSynchronous.instance().findButtons("ZoomButton",!0).each(function(t){t.setAsZoomin(),t.executeCallback()})}})),CatalogZoomControlBar=Class({}).extend(ZoomControlBar),ZoomMap=Class({create:function(t){this.book=t,this.maxWidth=80,this.maxHeight=100,this.pageHeight=this.pageWidth=this.height=this.width=0,this.doublePage=!1,this.init(),this.initEvent()},init:function(){this.map=$("<div class='thumbnail_map'></div>"),bookConfig.FlipDirection?(this.imageLeft=$("<img class='map_img map_img_up'></img>"),this.imageRight=$("<img class='map_img map_img_down'></img>")):(this.imageLeft=$("<img class='map_img map_img_left'></img>"),this.imageRight=$("<img class='map_img map_img_right'></img>")),this.mapCursor=$("<div class='map_cursor'></div>"),this.map.append(this.imageLeft),this.map.append(this.imageRight),this.map.append(this.mapCursor),bookContainer.append(this.map)},show:function(){this.visible=!0,this.refreshArea(),this.map.show()},hide:function(){this.visible=!1,this.map.hide()},onResize:function(){bookConfig.largePageWidth/bookConfig.largePageHeight<this.maxWidth/this.maxHeight?(this.pageWidth=this.maxWidth,this.pageHeight=bookConfig.largePageHeight*this.maxWidth/bookConfig.largePageWidth):(this.pageHeight=this.maxHeight,this.pageWidth=bookConfig.largePageWidth*this.maxHeight/bookConfig.largePageHeight),bookConfig.FlipDirection?(this.height=this.book.doublePage?2*(this.pageHeight+1):this.pageHeight,this.width=this.pageWidth+2):(this.height=this.pageHeight+2,this.width=this.book.doublePage?2*(this.pageWidth+1):this.pageWidth);var t=20+bookConfig.rightMargin,i=toolBar.getTopHeight()+10+bookConfig.topMargin;this.map.css({left:"auto",right:t+"px",top:i,width:this.width+"px",height:this.height+"px"}),$(".map_img").css({width:this.pageWidth+"px",height:this.pageHeight+"px"}),this.doublePage=this.book.doublePage},fillContent:function(t){this.visible&&(t=BookInfo.getCurrentPages(),this.doublePage=1<t.length,bookConfig.FlipDirection?(this.doublePage?(this.fillImage(this.imageLeft,t[0]),this.fillImage(this.imageRight,t[1]),this.imageLeft.show(),this.imageRight.show(),this.imageLeft.css({"border-bottom":"none"})):(this.fillImage(this.imageLeft,t[0]),this.imageLeft.show(),this.imageRight.hide(),this.imageLeft.css({"border-bottom":"1px solid gray"})),this.height=this.pageHeight,this.doublePage&&(this.height=2*(this.pageHeight+1)),this.map.css({height:this.height+"px"})):(this.doublePage?(this.fillImage(this.imageLeft,t[0]),this.fillImage(this.imageRight,t[1]),this.imageLeft.show(),this.imageRight.show(),this.imageLeft.css({"border-right":"none"})):(this.fillImage(this.imageLeft,t[0]),this.imageLeft.show(),this.imageRight.hide(),this.imageLeft.css({"border-right":"1px solid gray"})),this.width=this.pageWidth,this.doublePage&&(this.width=2*(this.pageWidth+1)),this.map.css({width:this.width+"px"})),$(".map_img").css({width:this.pageWidth+"px",height:this.pageHeight+"px"}))},fillImage:function(i,t){i&&fillImageAfterLoaded(t,"thumb",function(t){i.attr("src",t)})},refreshArea:function(){var t,i,e,o,s,n;this.book.showPage&&(t=(e=this.book.showPage).width(),i=e.height(),e=getTransform(e[0]),o=this.getBookPosition(),1==this.book.doublePage&&0==this.doublePage&&(bookConfig.FlipDirection?(i/=2,s=BookInfo.getBook().getCurrentPageIndex(),BookInfo.isLeftPage(s,!0)||(o.top+=i)):(t/=2,s=BookInfo.getBook().getCurrentPageIndex(),BookInfo.isLeftPage(s,!0)||(o.left+=t))),s=-(o.left+e.x),n=-(o.top+e.y),e=(s+windowWidth)/t,o=(n+windowHeight)/i,t=Math.max(0,s/t),i=Math.max(0,n/i),e=Math.min(1,e),o=Math.min(1,o),s=this.width,this.mapCursor.css({left:t*s,top:i*this.height,width:(e-t)*s,height:(o-i)*this.height}))},getBookPosition:function(){var t=this.book.showPage.css("left"),t=parseInt(t.replace("px","")),i=this.book.showPage.css("top");return{left:t,top:i=parseInt(i.replace("px",""))}},initEvent:function(){var t=new Hammer.Manager(this.mapCursor[0]);t.add(new Hammer.Pan),t.on("panstart panmove panend pancancel",this.onPan.bind(this))},onPan:function(t){var i,e;t&&t.pointers&&1==t.pointers.length&&(e=this.book.showPage.width()/this.width,i=this.book.showPage.height()/this.height,e=this.book.showPage.panForMove(this.book.showPage,-t.deltaX*e,-t.deltaY*i,!1),this.refreshArea(),this.mapCursor.css({"background-color":"RGBA(245,225,135,0.8)",cursor:"move"}),"panend"!=t.type&&"pancancel"!=t.type||(this.mapCursor.css({"background-color":"RGBA(250,240,185,0.5)",cursor:"default"}),this.book.showPage.setZoomParameters(this.book.showPage,e),this.book.showPage.restrictInBoundary(this.book.showPage,this.refreshArea.bind(this))))}}),SlideCalendarPage=Class({onPageLoaded:null,create:function(t,i,e,o){this.pageHeight=this.pageWidth=this.height=this.width=this.zIndex=0,this.pageIndex=t,this.pageArray=[],this.bookType=e,this.onPageLoaded=o,this.side=$("<div class='slide_side'></div>"),this.side.attr("id",i+t),this.init(t)},init:function(t){isNaN(t)||(this.pages=$("<div class='slide_pages'></div>"),this.initPages(t),this.setPageCss(),this.side.append(this.pages),this.initEvent())},initEvent:function(){this.adContainer&&this.adContainer.css({"z-index":1}),isBelowIE9()?this.pages.IEZoom({side:this,zoomIn:this.zoomIn.bind(this),zoomOut:this.zoomOut.bind(this),onZoomed:this.onZoomed.bind(this)}):this.pages.zoom({side:this,zoomIn:this.zoomIn.bind(this),zoomOut:this.zoomOut.bind(this),onZoomed:this.onZoomed.bind(this)})},zoomIn:function(){var t=BookInfo.getBook();if(t.status_zoom=!0,t.adContainer&&t.adContainer.css({"z-index":1}),StateSynchronous.instance().findButtons("ZoomButton",!0).each(function(t){t.setAsZoomout(),t.executeCallback()}),window.toolBar&&window.toolBar.btnZoom&&window.toolBar.changeZoomIcon(!1),isPhone()||isPad()){if(bookConfig.highDefinitionConversion){var i=BookInfo.getCurrentPages();if(null!=i)for(var e=0;e<i.length;e++){var o=i[e];t.pageArray[o]&&t.pageArray[o].zoomInSideImage()}}}else this.switchLargeImage(),bookConfig.ZoomToolbarVisible&&!this.controlBar&&(this.controlBar=new ZoomControlBar(tmpContainer),this.controlBar.setPosition((windowWidth-this.controlBar.width)/2,toolBar.getTopHeight()+i+5)),this.controlBar&&(i="lite"==bookConfig.ToolbarViewMode&&bookType==BookType.catalog_book?50:0,this.controlBar.setPosition((windowWidth-this.controlBar.width)/2,toolBar.getTopHeight()+i+5),this.controlBar.setVisible(!0)),global.canMagnifierZoom&&BookInfo.getBook().unMagnifierZoom()},zoomOut:function(){var t=BookInfo.getBook();t.status_zoom=!1,t.flipping||!t.adContainer||1!=t.currentPageIndex||bookConfig.isTheBookOpen||t.adContainer.css({"z-index":3}),gotoPageFun(t.toPageIndex,!1,"change book type"),StateSynchronous.instance().findButtons("ZoomButton",!0).each(function(t){t.setAsZoomin(),t.executeCallback()}),window.toolBar&&window.toolBar.btnZoom&&window.toolBar.changeZoomIcon(!0),this.switchNormalImage(),this.controlBar&&this.controlBar.setVisible(!1)},onZoomed:function(t){var i,e;isPhone()||isPad()||!t||this.pages.parameters.resize||(this.pages.parameters.resize=!0,t=this.pages.offset().left,i=this.pages.offset().top,t-=this.pages.parameters.left,i-=this.pages.parameters.top,1!=(e=this.pages.parameters.scale)&&(this.resizePages(parseInt(this.pageWidth*e),parseInt(this.pageHeight*e)),e=1),e=transformCSS({tran:{x:t,y:i},scale:e,origin:{x:0,y:0}}),this.pages.css(e),this.pages.parameters&&(this.pages.parameters.tran={x:t,y:i},this.pages.parameters.scale=1,this.pages.parameters.toScale=1,this.pages.parameters.width=$(this.pages).width(),this.pages.parameters.height=$(this.pages).height(),this.pages.parameters.origin={x:0,y:0},this.pages.parameters.resize=!1))},mouseWheelFlip:function(){var e;this.side.parent().bind(_event._mousewheel,function(t){var i=!(null!=e&&new Date-e<150||(e=new Date,0));return!!i&&(i=t.originalEvent,i=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail)),t=t.originalEvent||t,this.status_zoom&&(t={pointers:[{pageX:t.pageX,pageY:t.pageY},{pageX:t.pageX,pageY:t.pageY}]},i<0?this.controlBar&&this.controlBar.zoomDown(t):this.controlBar&&this.controlBar.zoomUp(t)),!this.status_zoom&&bookConfig.mouseWheelFlip&&(i<0?nextPageFun:previousPageFun)("mouse wheel flip"),bookConfig.mouseWheelFlip?(stopEvent(t),!1):void 0)}.bind(this))},initPages:function(t){t=bookConfig.isTheBookOpen?2*t:2*t-1,index2=t-1;var i=rightToLeft?t:index2;t=rightToLeft?index2:t,this.addPageArray([i,t]),this.leftPage=this.pageArray[i],this.rightPage=this.pageArray[t]},setPageCss:function(){var t=transformCSS({rotate:0,tran:{x:0,y:0}});!this.rightPage&&this.leftPage&&bookConfig.retainBookCenter?(this.leftPage.centerPage(),this.leftPage.setCSSByStyle(t)):!this.leftPage&&this.rightPage&&bookConfig.retainBookCenter?(this.rightPage.centerPage(),this.rightPage.setCSSByStyle(t)):(this.leftPage&&(this.leftPage.setUpOrDown(!0),this.leftPage.setCSSByStyle(t)),this.rightPage&&(this.rightPage.setUpOrDown(!1),this.rightPage.setCSSByStyle(t)))},addPageArray:function(t){if(t&&this.pageArray)for(var i=0;i<t.length;i++){var e;t[i]<=0||t[i]>originTotalPageCount||this.pageArray[t[i]]||((e=new Page(t[i],"page",this.bookType,this.onPageLoaded)).hideMiddleShadow(),e.onResize(this.pageWidth,this.pageHeight),this.pageArray[t[i]]=e,this.pages.append(e.side))}},fillContent:function(t){this.pageArray[t]&&this.pageArray[t].fillContent()},fillImage:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].fillContent()},remove:function(){this.controlBar&&this.controlBar.destroy(),this.side.remove(),this.side=void 0},setCSSByStyle:function(t){this.side.css(t)},setCSSByName:function(t){this.side.addClass(t)},onResize:function(t,i){this.width=t,this.height=i,this.resetPages()},resetPages:function(){var t,i;this.pages&&(i=bookConfig.largePageWidth*(-parseFloat(bookConfig.visibleAreaLeft)+parseFloat(bookConfig.visibleAreaRight))/100,t=bookConfig.largePageHeight*(parseFloat(bookConfig.visibleAreaBottom)-parseFloat(bookConfig.visibleAreaTop))/100,t=fitPageWidthHeight(this.width,this.height,i,2*t),i=parseInt(t.x),t=2*parseInt(t.y/2),this.resizePages(i,t),this.pages.css({left:(this.width-i)/2+"px",top:(this.height-t)/2+"px"}),i=transformCSS({rotate:0,tran:{x:0,y:0}}),this.pages.css(i),this.pages.parameters&&(this.pages.parameters.tran={x:0,y:0},this.pages.parameters.scale=1,this.pages.parameters.toScale=1,this.pages.parameters.width=$(this.pages).width(),this.pages.parameters.height=$(this.pages).height(),this.pages.parameters.origin={x:0,y:0},this.pages.parameters.resize=!1,this.pages.swipeInterval&&this.pages.swipeInterval.stop(),this.pages.animateInterval&&this.pages.animateInterval.stop(),this.pages.parameters.zoomFlag=!1,this.pages.parameters.zoomOut=!0,this.pages.parameters.toScale=1,this.pages.parameters.scale=1),this.controlBar)&&this.controlBar.setVisible(!1)},resizePages:function(t,i){this.pageWidth=t,this.pageHeight=i,this.pages.css({width:this.pageWidth+"px",height:this.pageHeight+"px"}),t=this.pageWidth,i=this.pageHeight/2;for(var e=0;e<this.pageArray.length;e++)this.pageArray[e]&&this.pageArray[e].onResize(t,i)},loading:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].loading()},setLeftOrRight:function(t){this.isLeft=t},reset:function(){},getSide:function(){return this.side},setZIndex:function(t){this.zIndex=t,this.side.css({"z-index":t})},getZIndex:function(){return this.zIndex},enterSide:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].enterSide()},leaveSide:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].leaveSide()},initSelectTextEvent:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].initSelectTextEvent()},destroySelect:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].destroySelect()},initMagnifierEvent:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].initMagnifierEvent()},destroyMagnifier:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].destroyMagnifier()},pauseAnimation:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].pauseAnimation()},startAnimation:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].startAnimation()},addHistoryTexts:function(t){for(var i=0;i<this.pageArray.length;i++)this.pageArray[i]&&this.pageArray[i].addHistoryTexts(t)},highlightSearch:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].highlightSearch()},clearHighlight:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].clearHighlight()},resetSlider:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].resetSlider()},initReaderOrSlider:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].initReaderOrSlider&&this.pageArray[t].initReaderOrSlider()},fillPage:function(t,i){for(var e=0;e<this.pageArray.length;e++)this.pageArray[e]&&this.pageArray[e].fillPage(t,i)},zoomInSideImage:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].zoomInSideImage()},zoomOutSideImage:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].zoomOutSideImage()},switchLargeImage:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].switchLargeImage()},switchNormalImage:function(t){for(var i=0;i<this.pageArray.length;i++)this.pageArray[i]&&this.pageArray[i].switchNormalImage(t)},resizeSvg:function(t,i){for(var e=0;e<this.pageArray.length;e++)this.pageArray[e]&&this.pageArray[e].resizeSvg(t,i)}}),SlideBookPage=Class({onPageLoaded:null,create:function(t,i,e,o){this.pageHeight=this.pageWidth=this.height=this.width=this.zIndex=0,this.pageIndex=t,this.pageArray=[],this.bookType=e,this.onPageLoaded=o,this.side=$("<div class='slide_side'></div>"),this.side.attr("id",i+t),this.init(t)},init:function(t){isNaN(t)||(this.pages=$("<div class='slide_pages'></div>"),this.initPages(t),this.setPageCss(),this.side.append(this.pages),this.initEvent())},initEvent:function(){this.adContainer&&this.adContainer.css({"z-index":1}),isBelowIE9()?this.pages.IEZoom({side:this,zoomIn:this.zoomIn.bind(this),zoomOut:this.zoomOut.bind(this),onZoomed:this.onZoomed.bind(this)}):this.pages.zoom({side:this,zoomIn:this.zoomIn.bind(this),zoomOut:this.zoomOut.bind(this),onZoomed:this.onZoomed.bind(this)})},zoomIn:function(){var t=BookInfo.getBook();if(t.status_zoom=!0,t.adContainer&&t.adContainer.css({"z-index":1}),StateSynchronous.instance().findButtons("ZoomButton",!0).each(function(t){t.setAsZoomout(),t.executeCallback()}),window.toolBar&&window.toolBar.btnZoom&&window.toolBar.changeZoomIcon(!1),isPhone()||isPad()){if(bookConfig.highDefinitionConversion){var i=BookInfo.getCurrentPages();if(null!=i)for(var e=0;e<i.length;e++){var o=i[e];t.pageArray[o]&&t.pageArray[o].zoomInSideImage()}}}else this.switchLargeImage(),bookConfig.ZoomToolbarVisible&&!this.controlBar&&(this.controlBar=new ZoomControlBar(tmpContainer),this.controlBar.setPosition((windowWidth-this.controlBar.width)/2,toolBar.getTopHeight()+i+5)),this.controlBar&&(i="lite"==bookConfig.ToolbarViewMode&&bookType==BookType.catalog_book?50:0,this.controlBar.setPosition((windowWidth-this.controlBar.width)/2,toolBar.getTopHeight()+i+5),this.controlBar.setVisible(!0)),global.canMagnifierZoom&&BookInfo.getBook().unMagnifierZoom()},zoomOut:function(){var t=BookInfo.getBook();t.status_zoom=!1,t.flipping||!t.adContainer||1!=t.currentPageIndex||bookConfig.isTheBookOpen||t.adContainer.css({"z-index":3}),gotoPageFun(t.toPageIndex,!1,"change book type"),StateSynchronous.instance().findButtons("ZoomButton",!0).each(function(t){t.setAsZoomin(),t.executeCallback()}),window.toolBar&&window.toolBar.btnZoom&&window.toolBar.changeZoomIcon(!0),this.switchNormalImage(),this.controlBar&&this.controlBar.setVisible(!1)},onZoomed:function(t){var i,e;isPhone()||isPad()||!t||this.pages.parameters.resize||(this.pages.parameters.resize=!0,t=this.pages.offset().left,i=this.pages.offset().top,t-=this.pages.parameters.left,i-=this.pages.parameters.top,1!=(e=this.pages.parameters.scale)&&(this.resizePages(parseInt(this.pageWidth*e),parseInt(this.pageHeight*e)),e=1),e=transformCSS({tran:{x:t,y:i},scale:e,origin:{x:0,y:0}}),this.pages.css(e),this.pages.parameters&&(this.pages.parameters.tran={x:t,y:i},this.pages.parameters.scale=1,this.pages.parameters.toScale=1,this.pages.parameters.width=$(this.pages).width(),this.pages.parameters.height=$(this.pages).height(),this.pages.parameters.origin={x:0,y:0},this.pages.parameters.resize=!1))},mouseWheelFlip:function(){var e;this.side.parent().bind(_event._mousewheel,function(t){var i=!(null!=e&&new Date-e<150||(e=new Date,0));return!!i&&(i=t.originalEvent,i=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail)),t=t.originalEvent||t,this.status_zoom&&(t={pointers:[{pageX:t.pageX,pageY:t.pageY},{pageX:t.pageX,pageY:t.pageY}]},i<0?this.controlBar&&this.controlBar.zoomDown(t):this.controlBar&&this.controlBar.zoomUp(t)),!this.status_zoom&&bookConfig.mouseWheelFlip&&(i<0?nextPageFun:previousPageFun)("mouse wheel flip"),bookConfig.mouseWheelFlip?(stopEvent(t),!1):void 0)}.bind(this))},initPages:function(t){t=bookConfig.isTheBookOpen?2*t:2*t-1,index2=t-1;var i=rightToLeft?t:index2;t=rightToLeft?index2:t,this.addPageArray([i,t]),this.leftPage=this.pageArray[i],this.rightPage=this.pageArray[t]},setPageCss:function(){var t=transformCSS({rotate:0,tran:{x:0,y:0}});!this.rightPage&&this.leftPage&&bookConfig.retainBookCenter?(this.leftPage.centerPage(),this.leftPage.setCSSByStyle(t)):!this.leftPage&&this.rightPage&&bookConfig.retainBookCenter?(this.rightPage.centerPage(),this.rightPage.setCSSByStyle(t)):(this.leftPage&&(this.leftPage.setLeftOrRight(!0),this.leftPage.setCSSByStyle(t)),this.rightPage&&(this.rightPage.setLeftOrRight(!1),this.rightPage.setCSSByStyle(t)))},addPageArray:function(t){if(t&&this.pageArray)for(var i=0;i<t.length;i++){var e;t[i]<=0||t[i]>originTotalPageCount||this.pageArray[t[i]]||((e=new Page(t[i],"page",this.bookType,this.onPageLoaded)).hideMiddleShadow(),e.onResize(this.pageWidth,this.pageHeight),this.pageArray[t[i]]=e,this.pages.append(e.side))}},fillContent:function(t){this.pageArray[t]&&this.pageArray[t].fillContent()},fillImage:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].fillContent()},remove:function(){this.controlBar&&this.controlBar.destroy(),this.side.remove(),this.side=void 0},setCSSByStyle:function(t){this.side.css(t)},setCSSByName:function(t){this.side.addClass(t)},onResize:function(t,i){this.width=t,this.height=i,this.resetPages()},resetPages:function(){var t,i;this.pages&&(i=bookConfig.largePageWidth*(-parseFloat(bookConfig.visibleAreaLeft)+parseFloat(bookConfig.visibleAreaRight))/100,t=bookConfig.largePageHeight*(parseFloat(bookConfig.visibleAreaBottom)-parseFloat(bookConfig.visibleAreaTop))/100,t=fitPageWidthHeight(this.width,this.height,2*i,t),i=2*parseInt(t.x/2),t=parseInt(t.y),this.resizePages(i,t),this.pages.css({left:(this.width-i)/2+"px",top:(this.height-t)/2+"px"}),i=transformCSS({rotate:0,tran:{x:0,y:0}}),this.pages.css(i),this.pages.parameters&&(this.pages.parameters.tran={x:0,y:0},this.pages.parameters.scale=1,this.pages.parameters.toScale=1,this.pages.parameters.width=$(this.pages).width(),this.pages.parameters.height=$(this.pages).height(),this.pages.parameters.origin={x:0,y:0},this.pages.parameters.resize=!1,this.pages.swipeInterval&&this.pages.swipeInterval.stop(),this.pages.animateInterval&&this.pages.animateInterval.stop(),this.pages.parameters.zoomFlag=!1,this.pages.parameters.zoomOut=!0,this.pages.parameters.toScale=1,this.pages.parameters.scale=1),this.controlBar)&&this.controlBar.setVisible(!1)},resizePages:function(t,i){this.pageWidth=t,this.pageHeight=i,this.pages.css({width:this.pageWidth+"px",height:this.pageHeight+"px"}),t=this.pageWidth/2,i=this.pageHeight;for(var e=0;e<this.pageArray.length;e++)this.pageArray[e]&&this.pageArray[e].onResize(t,i)},loading:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].loading()},setLeftOrRight:function(t){this.isLeft=t},reset:function(){},getSide:function(){return this.side},setZIndex:function(t){this.zIndex=t,this.side.css({"z-index":t})},getZIndex:function(){return this.zIndex},enterSide:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].enterSide()},leaveSide:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].leaveSide()},initSelectTextEvent:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].initSelectTextEvent()},destroySelect:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].destroySelect()},initMagnifierEvent:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].initMagnifierEvent()},destroyMagnifier:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].destroyMagnifier()},pauseAnimation:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].pauseAnimation()},startAnimation:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].startAnimation()},addHistoryTexts:function(t){for(var i=0;i<this.pageArray.length;i++)this.pageArray[i]&&this.pageArray[i].addHistoryTexts(t)},highlightSearch:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].highlightSearch()},clearHighlight:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].clearHighlight()},resetSlider:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].resetSlider()},initReaderOrSlider:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].initReaderOrSlider&&this.pageArray[t].initReaderOrSlider()},fillPage:function(t,i){for(var e=0;e<this.pageArray.length;e++)this.pageArray[e]&&this.pageArray[e].fillPage(t,i)},zoomInSideImage:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].zoomInSideImage()},zoomOutSideImage:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].zoomOutSideImage()},switchLargeImage:function(){for(var t=0;t<this.pageArray.length;t++)this.pageArray[t]&&this.pageArray[t].switchLargeImage()},switchNormalImage:function(t){for(var i=0;i<this.pageArray.length;i++)this.pageArray[i]&&this.pageArray[i].switchNormalImage(t)},resizeSvg:function(t,i){for(var e=0;e<this.pageArray.length;e++)this.pageArray[e]&&this.pageArray[e].resizeSvg(t,i)}}),SingleSlideBookPage=Class({initPages:function(t){this.addPageArray([t]),this.page=this.pageArray[t]},resetPages:function(){var t,i;this.pages&&(i=bookConfig.isSingleBookFullWindowOnMobile&&(isPhone()||isPad())?(t=this.width,this.height):(t=bookConfig.largePageWidth*(-parseFloat(bookConfig.visibleAreaLeft)+parseFloat(bookConfig.visibleAreaRight))/100,i=bookConfig.largePageHeight*(parseFloat(bookConfig.visibleAreaBottom)-parseFloat(bookConfig.visibleAreaTop))/100,i=fitPageWidthHeight(this.width,this.height,t,i),t=parseInt(i.x),parseInt(i.y)),this.resizePages(t,i),this.pages.css({left:(this.width-t)/2+"px",top:(this.height-i)/2+"px"}),t=transformCSS({rotate:0,tran:{x:0,y:0}}),this.pages.css(t),this.pages.parameters)&&(this.pages.parameters.tran={x:0,y:0},this.pages.parameters.scale=1,this.pages.parameters.toScale=1,this.pages.parameters.width=$(this.pages).width(),this.pages.parameters.height=$(this.pages).height(),this.pages.parameters.origin={x:0,y:0},this.pages.parameters.resize=!1,this.pages.swipeInterval&&this.pages.swipeInterval.stop(),this.pages.animateInterval&&this.pages.animateInterval.stop(),this.pages.parameters.zoomFlag=!1,this.pages.parameters.zoomOut=!0,this.pages.parameters.toScale=1,this.pages.parameters.scale=1)},resizePages:function(t,i){if(this.pages){this.pageWidth=t,this.pageHeight=i,this.pages.css({width:this.pageWidth+"px",height:this.pageHeight+"px"}),t=this.pageWidth,i=this.pageHeight;for(var e=0;e<this.pageArray.length;e++)this.pageArray[e]&&this.pageArray[e].onResize(t,i)}},setPageCss:function(){var t=transformCSS({rotate:0,tran:{x:0,y:0}});this.page&&(this.page.centerPage(),this.page.setCSSByStyle(t))},fillPage:function(t,i){this.page&&this.page.fillPage(t,i)}}).extend(SlideBookPage),SlideBook=Class({currentTran:0,create:function(t){this._super(t),this.currentPageIndex=this.getRealBookIndex(t.currentPageIndex),this.mainPageIndex=this.getRealBookIndex(t.currentPageIndex),this.initBook(),this.initEvent()},initBook:function(){this.flipBook=$("<div class='SlideBook' id='SlideBook' ></div>"),this.parent.append(this.flipBook)},getBook:function(){return this.flipBook},fillPage:function(t,i){if(t)for(var e=this.pageArray.length,o=0;o<e;o++)this.pageArray[o]&&this.pageArray[o].fillPage(t,i),this.pageBackArray&&this.pageBackArray[o]&&this.pageBackArray[o].fillPage(t,i)},resetPages:function(t){isNaN(t)||t<=0||(this.unWrapPageExcludeArray([t,t+1,t-1]),this.addPageArray([t,t+1,t-1]),this.loading(),this.currentPage=this.pageArray[t],this.nextPage=this.pageArray[t+1],this.previousPage=this.pageArray[t-1],this.setPageCss())},addPageArray:function(t){if(t&&this.pageArray){for(var i,e=0;e<t.length;e++)t[e]<=0||t[e]>this.pageLength()||(this.pageArray[t[e]]&&this.fillContent(t[e]),this.pageArray[t[e]])||((i=this.newPage(t[e])).onResize(this.width,this.height),this.pageArray[t[e]]=i,this.fillContent(t[e]),this.flipBook.append(i.getSide()));this.orderPages()}},setPagePosition:function(t,i){i=bookConfig.FlipDirection?{top:(i*=windowHeight)+"px"}:{left:(i*=windowWidth)+"px"},this.pageArray[t]&&this.pageArray[t].setCSSByStyle(i)},orderPages:function(){this.sequenceList={};for(var t=this.pageArray.length,i=0,e=this.mainPageIndex+1;e<t;e++)this.pageArray[e]&&(rightToLeft?i--:i++,this.pageArray[e].sequence=i,this.sequenceList[i]=e,this.setPagePosition(e,i));for(i=0,t=this.mainPageIndex;0<t;t--)this.pageArray[t]&&(this.pageArray[t].sequence=i,this.sequenceList[i]=t,this.setPagePosition(t,i),rightToLeft?i++:i--)},setPageCss:function(){var t=transformCSS({rotate:0,tran:{x:0,y:0}});this.currentPage&&this.currentPage.setCSSByStyle(t),this.previousPage&&this.previousPage.setCSSByStyle(t),this.nextPage&&this.nextPage.setCSSByStyle(t)},fillContent:function(t){this.flipping&&!imageLoaded[t]||!this.pageArray[t]||this.pageArray[t].fillImage()},newPage:function(t){return new SlideBookPage(t,"slidePage",this.bookType)},pageLength:function(){return bookConfig.totalPageCount},unWrapPageExcludeArray:function(t){if(t&&this.pageArray){for(var i=this.pageArray.length,e=0;e<i;e++)!this.pageArray[e]||0<=t.indexOf(e)||(this.pageArray[e].remove(),this.pageArray[e]=void 0);this.orderPages()}},mouseWheelFlip:function(){var e;bookConfig.mouseWheelFlip&&this.flipBook.bind(_event._mousewheel,function(t){var i=!(null!=e&&new Date-e<150||(e=new Date,0));return!!i&&(i=t.originalEvent,i=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail)),this.status_zoom&&(t={pointers:[{pageX:t.pageX,pageY:t.pageY},{pageX:t.pageX,pageY:t.pageY}]},i<0?this.currentPage.controlBar&&this.currentPage.controlBar.zoomDown(t):this.currentPage.controlBar&&this.currentPage.controlBar.zoomUp(t)),!this.status_zoom&&bookConfig.mouseWheelFlip&&(i<0?nextPageFun:previousPageFun)("mouse wheel flip"),bookConfig.mouseWheelFlip?(stopEvent(t),!1):void 0)}.bind(this))},flippingTo:function(t){this.currentPageIndex=t,this.currentPageIndex=Math.max(1,this.currentPageIndex),this.currentPageIndex=Math.min(originTotalPageCount,this.currentPageIndex)},getRealPageIndex:function(){return this.currentPageIndex},getRealBookIndex:function(t){return t},gotoPage:function(t,i){if(!isNaN(t)){if(this.toPageIndex=t,this.status_zoom)return t={pointers:[{pageX:windowWidth/2,pageY:windowHeight/2}]},(i=this.pageArray[this.currentPageIndex].pages).onDoubleTap.bind(i)(t),!0;(t=this.getRealBookIndex(t))<=0||t>this.pageLength()||!this.flipEffect(t)||(!i&&flipHistory&&flipHistory.addFromCurrentIndex(this.toPageIndex),this.flippingTo(t),playFlipSound(),this.flipInterval&&this.flipInterval.stop(),this.refreshPages(t),this.flipIntervalTmp(t))}},flipEffect:function(t){return!this.status_zoom&&t!=this.currentPageIndex&&!this.flipping},flipIntervalTmp:function(t){var o=this.currentTran,s=this.getFlipTo(t),e=(this.flipping=!0,function(t,i,e){t<i?(t=(0,$.easing["easeInOut"+e])(null,t,o,s-o,i),this.setBookTran(t)):(this.afterFlipTo(),this.flipInterval.stop())}.bind(this));this.flipInterval=function(t,i){e(t,i,"Sine")}.animation(this,this.flippingTime)},refreshPages:function(t){var i,e;this.setAttachmentBeforeFlipTo(t),this.pageArray[t]||(i=this.getCurrentViewPageIndex(),e=bookConfig.FlipDirection?this.currentTran-this.height:this.currentTran-this.width,(i<t||t<this.mainPageIndex)&&!rightToLeft&&(e=this.currentTran),(t<i||t>this.mainPageIndex)&&rightToLeft&&(e=this.currentTran),this.addPageArray([t]),this.setBookTran(e)),this.showPage=this.pageArray[t].pages},getCurrentViewPageIndex:function(){var t=Math.abs(this.currentTran);return this.sequenceList[(this.currentTran<=0?1:-1)*(bookConfig.FlipDirection?Math.floor(t/this.height)+1+(t%this.height>this.height/2)?0:1:Math.floor(t/this.width)+1+(t%this.width>this.width/2)?0:1)]},getFlipTo:function(t){return this.pageArray[t]&&this.pageArray[t].sequence?-this.pageArray[t].sequence*(bookConfig.FlipDirection?windowHeight:windowWidth):0},getCurrentTran:function(){return this.currentTran},setBookTran:function(t){var i;bookConfig.FlipDirection?(i=transformCSS({rotate:0,tran:{x:0,y:t}}),isBelowIE9()&&(i={top:t+this.bookTop+"px"})):(i=transformCSS({rotate:0,tran:{x:t,y:0}}),isBelowIE9()&&(i={left:t+this.bookLeft+"px"})),this.setCSSByStyle(i),this.currentTran=t},onResize:function(){this.resize(),this.status_zoom=!1,this.showPage=this.pageArray[this.currentPageIndex].pages},resize:function(){this.endFlip(),this.resizeBook(),this.resizePage(this.width,this.height),this.resetPages(this.currentPageIndex),this.resizeAdvertisement()},getTop:function(){return this.bookTop},resizeBook:function(){var t=global.toolBar&&global.toolBar.getHeight?global.toolBar.getHeight():0,i=global.toolBar&&global.toolBar.getTopHeight?global.toolBar.getTopHeight():0,e=windowWidth-bookConfig.leftMargin-bookConfig.leftMargin,t=windowHeight-bookConfig.topMargin-bookConfig.bottomMargin-t,o=bookConfig.largePageWidth*(-parseFloat(bookConfig.visibleAreaLeft)+parseFloat(bookConfig.visibleAreaRight))/100,s=bookConfig.largePageHeight*(parseFloat(bookConfig.visibleAreaBottom)-parseFloat(bookConfig.visibleAreaTop))/100;bookConfig.FlipDirection?(o=fitPageWidthHeight(e,t,o,2*s),this.width=parseInt(o.x),this.height=2*parseInt(o.y/2)):(o=fitPageWidthHeight(e,t,2*o,s),this.width=2*parseInt(o.x/2),this.height=parseInt(o.y)),this.bookTop=bookConfig.topMargin+i+(t-this.height)/2,this.bookLeft=bookConfig.leftMargin+(e-this.width)/2,this.flipBook.css({width:this.width+"px",height:this.height+"px",left:this.bookLeft+"px",top:this.bookTop+"px"})},resizeAdvertisement:function(){var t=bookConfig.largePageWidth*(-parseFloat(bookConfig.visibleAreaLeft)+parseFloat(bookConfig.visibleAreaRight))/100,i=bookConfig.largePageHeight*(parseFloat(bookConfig.visibleAreaBottom)-parseFloat(bookConfig.visibleAreaTop))/100;bookConfig.FlipDirection?(t=fitPageWidthHeight(this.width,this.height,t,2*i),this.pageWidth=parseInt(t.x),this.pageHeight=2*parseInt(t.y/2)):(t=fitPageWidthHeight(this.width,this.height,2*t,i),this.pageWidth=2*parseInt(t.x/2),this.pageHeight=parseInt(t.y))},resizePage:function(t,i){for(var e=this.pageArray.length,o=0;o<e;o++)this.pageArray[o]&&(this.pageArray[o].onResize(t,i),this.pageArray[o].controlBar)&&this.pageArray[o].controlBar.setVisible(!1)},getHeight:function(){return this.height},getWidth:function(){return this.width},getScale:function(){return this.currentPage.pages.parameters.toScale},getCssLeft:function(){return parseInt(this.flipBook.css("left"))},getCssTop:function(){return parseInt(this.flipBook.css("top"))},checkFlipping:function(){this.flipping=!1,this.loading(),this.fillContent(this.currentPageIndex)},afterFlipTo:function(){this.mainPageIndex=this.currentPageIndex,this.resetPages(this.currentPageIndex),this.setBookTran(0),this.startTran=this.currentTran,this.checkFlipping(),this.setAttachmentAfterFlipTo()},setAttachmentBeforeFlipTo:function(){this.bookAttachments.setAttachmentBeforeFlipTo()},setAttachmentAfterFlipTo:function(){this.stopMedia(),this.resetSlider(),this.flipping||this.enterPage(),bookConfig.ThumbnailsButtonVisible&&thumbnail.clearHighLight(),bookConfig.ThumbnailsButtonVisible&&thumbnail.setHighLight(this.getRealPageIndex()),resizeBookAfterFlip&&!this.flipping&&window.setTimeout(function(){onStageResize()},30),this.bookAttachments.setAttachmentAfterFlipTo()},endFlip:function(){this.flipping=!1},loading:function(){this.flipping||this.pageArray[this.currentPageIndex]&&this.pageArray[this.currentPageIndex].loading()},getCurrentPageIndex:function(){return this.getRealPageIndex()},getCurrentPages:function(){return[this.currentPageIndex]},setCSSByStyle:function(t){this.flipBook.css(t)},setShow:function(t){},hide:function(){Log.debug("slide book hide."),this.visible=!1,this.setCSSByStyle({display:"none"}),this.stopMedia(),this.resetSlider()},show:function(){Log.debug("slide book show."),this.visible=!0,this.setCSSByStyle({display:"block"}),this.enterPage()},enterPage:function(){this.afterChangeBookType(),this.openShownMedia(),this.addSearchHighlight()},addSearchHighlight:function(){var t=this.currentPageIndex;this.pageArray[t]&&this.pageArray[t].highlightSearch()},clearSearchHighlight:function(){for(var t=this.pageArray.length,i=0;i<t;i++)this.pageArray[i]&&this.pageArray[i].clearHighlight()},openShownMedia:function(){var t=this.currentPageIndex;this.pageArray[t]&&this.pageArray[t].enterSide(),this.pageArray[t]&&this.pageArray[t].addHistoryTexts()},stopMedia:function(){for(var t=this.pageArray.length,i=0;i<t;i++)this.pageArray[i]&&this.pageArray[i].leaveSide()},resetSlider:function(){for(var t=this.pageArray.length,i=0;i<t;i++)this.pageArray[i]&&this.pageArray[i].resetSlider()},afterChangeBookType:function(){console.log("afterChangeBookType");for(var t=this.pageArray.length,i=0;i<t;i++)this.pageArray[i]&&this.pageArray[i].initReaderOrSlider()},select:function(){this.selected=!0;var t=this.currentPageIndex;this.pageArray[t]&&(this.pageArray[t]&&this.pageArray[t].initSelectTextEvent(),this.pageArray[t].pages.parameters)&&(this.pageArray[t].pages.parameters.eventCancel=!0)},unSelect:function(){this.selected=!1;var t=this.getCurrentPages();if(null!=t){for(var i=0;i<t.length;i++){var e=t[i];this.pageArray[e]&&(this.pageArray[e]&&this.pageArray[e].destroySelect(),this.pageArray[e].pages.parameters)&&(this.pageArray[e].pages.parameters.eventCancel=!1)}StateSynchronous.instance().findButtons("SelectTextButton",!0).each(function(t){t.setAsUnSelect(),t.executeCallback()})}},magnifierZoom:function(){this.selected=!0;var t=this.currentPageIndex;this.pageArray[t]&&this.pageArray[t]&&this.pageArray[t].initMagnifierEvent()},unMagnifierZoom:function(){this.selected=!1;var t=BookInfo.getCurrentPages();if(null!=t){for(var i=0;i<t.length;i++){var e=t[i];this.pageArray[e]&&this.pageArray[e]&&this.pageArray[e].destroyMagnifier()}bookConfig.MagnifierButtonVisible&&window.magnifierZoomBox&&window.magnifierZoomBox.hide(),StateSynchronous.instance().findButtons("magnifier",!0).each(function(t){t.setAsZoomin()})}},switchLargeImage:function(){for(var t=this.pageArray.length,i=0;i<t;i++)this.pageArray[i]&&this.pageArray[i].switchLargeImage()},switchNormalImage:function(t){for(var i=this.pageArray.length,e=0;e<i;e++)this.pageArray[e]&&this.pageArray[e].switchNormalImage(t)},destroy:function(){}}).extend(Book),DoubleSlideBook=(SlideBook.expand({initEvent:function(){this.moveDirectionType={MOVE_LEFT:-1,MOVE_RIGHT:1,MOVE_NONE:0},this.mouseMoveDirection=this.moveDirectionType.MOVE_NONE,this.hammerEventModular(),this.mouseWheelFlip()},hammerEventModular:function(){var t=new Hammer.Manager(this.flipBook[0]);t.add(new Hammer.Pan),t.add((new Hammer.Swipe).recognizeWith(t.get("pan"))),t.add(new Hammer.Press({time:"1000"})),t.add(new Hammer.Pinch),t.add(new Hammer.Tap({event:"doubletap",taps:2})),t.on("panstart panmove",this.onPan.bind(this)),t.on("press",this.onPress.bind(this)),this.flipBook.bind("click",this.onTap.bind(this)),this.flipBook.bind("mouseover mousemove",this.onOver.bind(this)),this.flipBook.bind(_event._down,this.onDown.bind(this)),$("body").bind(_event._end+" "+_event._leave,this.onUp.bind(this)),this.flipBook.speed(this.onSwipe.bind(this))},onPan:function(t){this.selected||this.status_zoom||this.isZoomming||bookType!=this.bookType||this.status_zoom||this.status_resize||this.flipping||("panstart"==t.type&&(this.startTran=this.currentTran,this.panstart=!0),this.panstart&&(bookConfig.FlipDirection||bookConfig.upsideOnMobile()?this.setBookTran(this.startTran+t.deltaY):this.setBookTran(this.startTran+t.deltaX),"panend"==t.type)&&(this.panstart=!1))},onPress:function(t){},onTap:function(t){onWindowTap(t.srcEvent)},onOver:function(t){},onDown:function(t){this.fingleDown=!0},onUp:function(t){!this.flipping&&this.fingleDown&&(30<=Math.abs(this.currentTran-this.startTran)&&(this.currentTran>this.startTran&&!rightToLeft||this.currentTran<this.startTran&&rightToLeft?previousPageFun("window click"):this.currentTran!=this.startTran&&nextPageFun("window click")),this.startTran=this.currentTran,this.panstart=this.fingleDown=!1,this.onBack())},onBack:function(){var o,e;0==this.currentTran||this.flipping||(this.flipping=!0,o=this.currentTran,e=function(t,i,e){t<i?(t=(0,$.easing["easeInOut"+e])(null,t,o,0-o,i),this.setBookTran(t)):(this.flipping=!1,this.flipInterval.stop(),this.setBookTran(0),this.startTran=this.currentTran)}.bind(this),this.flipInterval=function(t,i){e(t,i,"Sine")}.animation(this,this.flippingTime))},getNextPage:function(t){(this.currentTran>this.startTran&&!rightToLeft||this.currentTran<this.startTran&&rightToLeft?previousPageFun:nextPageFun)(t)},onSwipe:function(t,i){var e;this.selected||this.status_zoom||this.isZomming||this.dragToFlip||(e=30,bookConfig.FlipDirection?(e=e*this.height/1600,t=i):e=e*this.width/1600,Math.abs(t)<=e)||(t<-e?(rightToLeft?previousPageFun:nextPageFun)("swipe to flip"):e<t&&(rightToLeft?nextPageFun:previousPageFun)("swipe to flip"))}}),Class({getRealPageIndex:function(){var t=2*this.currentPageIndex-1;return Number.between(t,1,bookConfig.totalPageCount)},getRealBookIndex:function(t){return t=bookConfig.isTheBookOpen?Math.ceil(t/2):parseInt(t/2)+1,Number.between(t,1,this.pageLength())},pageLength:function(){return bookConfig.isTheBookOpen?Math.ceil(bookConfig.totalPageCount/2):parseInt(bookConfig.totalPageCount/2)+1},newPage:function(t){return new(bookConfig.FlipDirection?SlideCalendarPage:SlideBookPage)(t,"slidePage",this.bookType)}}).extend(SlideBook)),SingleSlideBook=Class({getRealPageIndex:function(){var t=this.currentPageIndex;return Number.between(t,1,bookConfig.totalPageCount)},getRealBookIndex:function(t){return Number.between(t,1,bookConfig.totalPageCount)},pageLength:function(){return bookConfig.totalPageCount},newPage:function(t){return new SingleSlideBookPage(t,"slidePage",this.bookType)},resizeBook:function(){var t=global.toolBar&&global.toolBar.getHeight?global.toolBar.getHeight():0,i=global.toolBar&&global.toolBar.getTopHeight?global.toolBar.getTopHeight():0,e=windowWidth-bookConfig.leftMargin-bookConfig.leftMargin,t=windowHeight-bookConfig.topMargin-bookConfig.bottomMargin-t,o=bookConfig.largePageWidth*(-parseFloat(bookConfig.visibleAreaLeft)+parseFloat(bookConfig.visibleAreaRight))/100,s=bookConfig.largePageHeight*(parseFloat(bookConfig.visibleAreaBottom)-parseFloat(bookConfig.visibleAreaTop))/100,o=fitPageWidthHeight(e,t,o,s);this.width=parseInt(o.x),this.height=parseInt(o.y),this.bookTop=bookConfig.topMargin+i+(t-this.height)/2,this.bookLeft=bookConfig.leftMargin+(e-this.width)/2,this.flipBook.css({width:this.width+"px",height:this.height+"px",left:this.bookLeft+"px",top:this.bookTop+"px"})}}).extend(SlideBook),PcDoubleSlideBook=Class({bookType:BookType.slide_book,create:function(t){this._super(t)},initBook:function(){this._super(),this.showPage=this.flipBook,this.bookAttachments=new BookAttachmentsBuilder(this.flipBook,this.currentPageIndex,this,!0),null!=global.staticAd&&1==staticAd.haveAd&&1!=parseInt(global.staticAd.adPosition)&&this.bookAttachments.staticad(),this.bookAttachments.noteadd()},onResize:function(){this._super(),bookConfig.FlipDirection?this.bookAttachments.onResize(this.width,this.height/2):this.bookAttachments.onResize(this.width/2,this.height)}}).extend(DoubleSlideBook),PcSingleSlideBook=Class({bookType:BookType.singleSlide_book,create:function(t){this._super(t)},initBook:function(){this._super(),this.showPage=this.flipBook,this.bookAttachments=new BookAttachmentsBuilder(this.flipBook,this.currentPageIndex,this,!1),this.bookAttachments.noteadd()},onResize:function(){this._super(),this.bookAttachments.onResize(this.width,this.height)}}).extend(SingleSlideBook),CatalogBook=Class({bookType:BookType.catalog_book,guidBarHeight:0,create:function(t){this._super(t)},initAttachments:function(){this._super(),this.flipShotBarManager=new FlipShotBarManager(this.flipBook,this),bookConfig.flipshortcutbutton&&this.flipShotBarManager.appendTo(this.flipBook),this.flipShotBarManager.refresh()},newPage:function(t){return new(1!=t&&2!=t&&t!=totalPageCount&&t!=totalPageCount-1||!bookConfig.HardPageEnable?bookConfig.HardInnerPageEnable?AlbumPage:NormalPage:HardPage)(t,"page",!1,BookType.catalog_book)},setAttachmentBeforeFlipTo:function(t){this._super(t),this.flipShotBarManager.setVisibleByIndex(t)},setAttachmentAfterFlipTo:function(t){this._super(t),this.flipShotBarManager.refresh()},afterCurling:function(){this._super(),this.flipShotBarManager.refresh()},resizeAttachmentAfterZoomIn:function(t){this._super(t),this.flipShotBarManager.resizeAttachment(this.width,this.height,t)},getControlBarTop:function(){return"lite"==bookConfig.ToolbarViewMode.toLowerCase()?50:global.toolBar&&toolBar.getTopHeight?toolBar.getTopHeight()+5:5},beforeZoomIn:function(){this._super(),thumbnail&&thumbnail.visible&&thumbnail.transparent&&thumbnail.transparent()},resetZoomConfig:function(){this._super(),thumbnail&&thumbnail.visible&&thumbnail.noTransparent&&thumbnail.noTransparent()},onResize:function(t,i){this._super(t,i),this.flipShotBarManager.onResize(t,i)},getSpace:function(t){var i=bookConfig.leftMargin+toolBar.getLeftWidth(),e=bookConfig.rightMargin+toolBar.getRightWidth(),o=bookConfig.topMargin+toolBar.getTopHeight(),s=bookConfig.bottomMargin+toolBar.getBottomHeight();return t&&(i+=Math.max(bookConfig.hardCoverBorderWidth+totalThicknessWidth(!0),this.flipShotBarManager.getWidth()),e+=Math.max(bookConfig.hardCoverBorderWidth+totalThicknessWidth(!0),this.flipShotBarManager.getWidth()),o+=bookConfig.hardCoverBorderWidth,s+=bookConfig.hardCoverBorderWidth),{left:i,right:e,top:o,bottom:s}}}).extend(NormalBook),CatalogHardBook=Class({bookType:BookType.catalog_book,create:function(t){this._super(t)},crossFlipMode:function(t){var i=this.currentPageIndex;return!(0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t)||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||[1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t)<0)},toSoftPage:function(t){var i;return!(bookConfig.HardInnerPageEnable||(i=this.currentPageIndex,0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t))||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||([1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t),0))},toHardPage:function(t){var i;return!(!bookConfig.HardInnerPageEnable||(i=this.currentPageIndex,0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t))||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||([1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t),0))},isHardPage:function(t,i){return!(!bookConfig.HardInnerPageEnable||1==t||2==t||t==totalPageCount||t==totalPageCount-1)},toCoverPage:function(t){var i=this.currentPageIndex;return!([1,2,totalPageCount-1,totalPageCount].indexOf(i)<0&&[1,2,totalPageCount-1,totalPageCount].indexOf(t)<0||0<=[2,3].indexOf(i)&&[1,totalPageCount].indexOf(t)<0||[1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t)<0)},isCoverPage:function(t,i){return 1==t||2==t||t==totalPageCount||t==totalPageCount-1},gotoNearPage:function(t){1==this.currentPageIndex?gotoPageFun(2,!1,"cross page"):this.currentPageIndex==totalPageCount||t==totalPageCount?gotoPageFun(totalPageCount-1,!1,"cross page"):1==t&&gotoPageFun(2,!1,"cross page")},initBook:function(){this._super(),this.hardCover=new HardCover(this.flipBook)},newPage:function(t){return new(1==t||2==t||t==totalPageCount||t==totalPageCount-1?HardPage:bookConfig.HardInnerPageEnable?AlbumPage:NormalPage)(t,"page",!1,BookType.catalog_book)},followToPoint:function(t,i,e){this._super(t,i,e),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth())},getDownUpHardPage:function(t,i,e){return this.addPageArray([t,i]),e?(this.pageArray[t]&&this.pageArray[t].setLeftOrRight(!0),this.pageArray[i]&&this.pageArray[i].setLeftOrRight(!1),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-left-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-right-side")):(this.pageArray[t]&&this.pageArray[t].setLeftOrRight(!1),this.pageArray[i]&&this.pageArray[i].setLeftOrRight(!0),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-right-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-left-side")),[this.pageArray[t],this.pageArray[i]]},setAttachmentBeforeFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(t,this.getThicknessWidth(),this.currentPageIndex)},afterCurling:function(){this._super(),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},setAttachmentAfterFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},getThicknessWidth:function(){var i=[0,0];return this.bookAttachments.Items.find("ThicknessManager").each(function(t){i=t.getThicknessWidth()}),i},onResize:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},resizeBook:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},show:function(){this._super(),this.hardCover.show()},hide:function(){this._super(),this.hardCover.hide()}}).extend(CatalogBook),OpenCatalogHardBook=Class({crossFlipMode:function(t){var i=this.currentPageIndex;return!(0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||totalPageCount!=i&&totalPageCount!=t)},toSoftPage:function(t){return!(bookConfig.HardInnerPageEnable||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(this.currentPageIndex)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t))},toHardPage:function(t){return!(!bookConfig.HardInnerPageEnable||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(this.currentPageIndex)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t))},toCoverPage:function(t){return totalPageCount==this.currentPageIndex||totalPageCount==t},isHardPage:function(t,i){return!(!bookConfig.HardInnerPageEnable||t==totalPageCount||t==totalPageCount-1)},isCoverPage:function(t,i){return t==totalPageCount||t==totalPageCount-1},gotoNearPage:function(t){this.currentPageIndex!=totalPageCount&&t!=totalPageCount||gotoPageFun(totalPageCount-1,!1,"cross page")},newPage:function(t){return new(1==t||t==totalPageCount||t==totalPageCount-1?HardPage:bookConfig.HardInnerPageEnable?AlbumPage:NormalPage)(t,"page",!1,BookType.catalog_book)}}).extend(CatalogHardBook),CatalogSimpleBook=Class({create:function(t){this._super(t)},initBook:function(){this._super(),this.guidBar=new GuidToolbar(this.parent),this.guidBarHeight=50},showOrHideLiteThumbnail:function(){this.flipPageManager.array&&0<this.flipPageManager.array.length||this.status_zoom||1!=this.isFlipping&&1!=this.isZomming&&this.adjustBookPosition()},hideToolBarAndShowGuidBar:function(){this.status_zoom||1==this.isFlipping||1==this.isZomming||(this.guidBar&&this.guidBar.show(),toolBar&&toolBar.hide(),this.mode="simple",thumbnail&&thumbnail.visible&&thumbnail.show(),this.adjustBookPosition())},hideGuidBarAndShowToolBar:function(){this.status_zoom||1==this.isFlipping||1==this.isZomming||(this.guidBar&&this.guidBar.hide(),toolBar&&toolBar.show(),this.mode="complex",thumbnail&&thumbnail.visible&&thumbnail.show(),this.adjustBookPosition())},adjustBookPosition:function(){this.pageWidthHeight=this.getFitWH();var t=this.getTranY(),i=this.pageWidthHeight.x/this.width,e=this.getTranX(i);this.pageWidthHeight.x==this.width&&0==t&&0==e||this.flipBook.animateToTransform.bind(this.flipBook)(i,{x:e,y:t},{x:50,y:0})},getTranX:function(t){var i,e;return bookConfig.retainBookCenter?(i=0,t=this.width*t/4,1!=this.currentPageIndex||bookConfig.isTheBookOpen||(i=rightToLeft?t:-t),this.currentPageIndex==totalPageCount&&(i=rightToLeft?-t:t),t=this.getCssLeft(),(e=this.getSpace(!0)).left+(windowWidth-e.left-e.right-this.width)/2-t+i):0},getTranY:function(){var t=this.getCssTop(),i=this.getSpace(!0);return i.top+(windowHeight-i.top-i.bottom-this.pageWidthHeight.y)/2-t},getSpace:function(t){var i=bookConfig.leftMargin+toolBar.getLeftWidth(),e=bookConfig.rightMargin+toolBar.getRightWidth(),o=bookConfig.topMargin+(toolBar.visible?toolBar.getTopHeight():this.guidBarHeight),s=bookConfig.bottomMargin+toolBar.getBottomHeight();return t&&(i+=Math.max(bookConfig.hardCoverBorderWidth+totalThicknessWidth(!0),this.flipShotBarManager.getWidth()),e+=Math.max(bookConfig.hardCoverBorderWidth+totalThicknessWidth(!0),this.flipShotBarManager.getWidth()),o+=bookConfig.hardCoverBorderWidth,s+=bookConfig.hardCoverBorderWidth),{left:i,right:e,top:o,bottom:s}}}).extend(CatalogBook),CatalogSimpleHardBook=Class({bookType:BookType.catalog_book,create:function(t){this._super(t)},crossFlipMode:function(t){var i=this.currentPageIndex;return!(0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t)||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||[1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t)<0)},toSoftPage:function(t){var i;return!(bookConfig.HardInnerPageEnable||(i=this.currentPageIndex,0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t))||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||([1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t),0))},toHardPage:function(t){var i;return!(!bookConfig.HardInnerPageEnable||(i=this.currentPageIndex,0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t))||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||([1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t),0))},isHardPage:function(t,i){return!(!bookConfig.HardInnerPageEnable||1==t||2==t||t==totalPageCount||t==totalPageCount-1)},toCoverPage:function(t){var i=this.currentPageIndex;return!([1,2,totalPageCount-1,totalPageCount].indexOf(i)<0&&[1,2,totalPageCount-1,totalPageCount].indexOf(t)<0||0<=[2,3].indexOf(i)&&[1,totalPageCount].indexOf(t)<0||[1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t)<0)},isCoverPage:function(t,i){return 1==t||2==t||t==totalPageCount||t==totalPageCount-1},gotoNearPage:function(t){1==this.currentPageIndex?gotoPageFun(2,!1,"cross page"):this.currentPageIndex==totalPageCount||t==totalPageCount?gotoPageFun(totalPageCount-1,!1,"cross page"):1==t&&gotoPageFun(2,!1,"cross page")},initBook:function(){this._super(),this.hardCover=new HardCover(this.flipBook)},newPage:function(t){return new(1==t||2==t||t==totalPageCount||t==totalPageCount-1?HardPage:bookConfig.HardInnerPageEnable?AlbumPage:NormalPage)(t,"page",!1,BookType.catalog_book)},followToPoint:function(t,i,e){this._super(t,i,e),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth())},getDownUpHardPage:function(t,i,e){return this.addPageArray([t,i]),e?(this.pageArray[t]&&this.pageArray[t].setLeftOrRight(!0),this.pageArray[i]&&this.pageArray[i].setLeftOrRight(!1),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-left-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-right-side")):(this.pageArray[t]&&this.pageArray[t].setLeftOrRight(!1),this.pageArray[i]&&this.pageArray[i].setLeftOrRight(!0),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-right-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-left-side")),[this.pageArray[t],this.pageArray[i]]},setAttachmentBeforeFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(t,this.getThicknessWidth(),this.currentPageIndex)},afterCurling:function(){this._super(),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},setAttachmentAfterFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},getThicknessWidth:function(){var i=[0,0];return this.bookAttachments.Items.find("ThicknessManager").each(function(t){i=t.getThicknessWidth()}),i},onResize:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},resizeBook:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},show:function(){this._super(),this.hardCover.show()},hide:function(){this._super(),this.hardCover.hide()}}).extend(CatalogSimpleBook),OpenCatalogSimpleHardBook=Class({crossFlipMode:function(t){var i=this.currentPageIndex;return!(0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||totalPageCount!=i&&totalPageCount!=t)},toSoftPage:function(t){return!(bookConfig.HardInnerPageEnable||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(this.currentPageIndex)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t))},toHardPage:function(t){return!(!bookConfig.HardInnerPageEnable||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(this.currentPageIndex)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t))},toCoverPage:function(t){return totalPageCount==this.currentPageIndex||totalPageCount==t},isHardPage:function(t,i){return!(!bookConfig.HardInnerPageEnable||t==totalPageCount||t==totalPageCount-1)},isCoverPage:function(t,i){return t==totalPageCount||t==totalPageCount-1},gotoNearPage:function(t){this.currentPageIndex!=totalPageCount&&t!=totalPageCount||gotoPageFun(totalPageCount-1,!1,"cross page")},newPage:function(t){return new(1==t||t==totalPageCount||t==totalPageCount-1?HardPage:bookConfig.HardInnerPageEnable?AlbumPage:NormalPage)(t,"page",!1,BookType.catalog_book)}}).extend(CatalogSimpleHardBook),CatalogCalendar=Class({bookType:BookType.catalog_book,guidBarHeight:0,create:function(t){this._super(t)},newPage:function(t){return new(1!=t&&2!=t&&t!=totalPageCount&&t!=totalPageCount-1||!bookConfig.HardPageEnable?bookConfig.HardInnerPageEnable?AlbumPage:NormalPage:HardPage)(t,"page",!1,BookType.catalog_book)},getControlBarTop:function(){return"lite"==bookConfig.ToolbarViewMode.toLowerCase()?50:global.toolBar&&toolBar.getTopHeight?toolBar.getTopHeight()+5:5},beforeZoomIn:function(){this._super(),thumbnail&&thumbnail.visible&&thumbnail.transparent&&thumbnail.transparent()},resetZoomConfig:function(){this._super(),thumbnail&&thumbnail.visible&&thumbnail.noTransparent&&thumbnail.noTransparent()},getSpace:function(t){var i=bookConfig.leftMargin+toolBar.getLeftWidth(),e=bookConfig.rightMargin+toolBar.getRightWidth(),o=bookConfig.topMargin+toolBar.getTopHeight(),s=bookConfig.bottomMargin+toolBar.getBottomHeight();return t&&(i+=Math.max(bookConfig.hardCoverBorderWidth+totalThicknessWidth(!0),0),e+=Math.max(bookConfig.hardCoverBorderWidth+totalThicknessWidth(!0),0),o+=bookConfig.hardCoverBorderWidth,s+=bookConfig.hardCoverBorderWidth),{left:i,right:e,top:o,bottom:s}}}).extend(NormalCalendar),CatalogHardCalendar=Class({bookType:BookType.catalog_book,create:function(t){this._super(t)},crossFlipMode:function(t){var i=this.currentPageIndex;return!(0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t)||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||[1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t)<0)},toSoftPage:function(t){var i;return!(bookConfig.HardInnerPageEnable||(i=this.currentPageIndex,0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t))||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||([1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t),0))},toHardPage:function(t){var i;return!(!bookConfig.HardInnerPageEnable||(i=this.currentPageIndex,0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t))||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||([1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t),0))},toCoverPage:function(t){var i=this.currentPageIndex;return!([1,2,totalPageCount-1,totalPageCount].indexOf(i)<0&&[1,2,totalPageCount-1,totalPageCount].indexOf(t)<0||0<=[2,3].indexOf(i)&&[1,totalPageCount].indexOf(t)<0||[1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t)<0)},isHardPage:function(t,i){return!(!bookConfig.HardInnerPageEnable||1==t||2==t||t==totalPageCount||t==totalPageCount-1)},isCoverPage:function(t,i){return 1==t||2==t||t==totalPageCount||t==totalPageCount-1},gotoNearPage:function(t){1==this.currentPageIndex?gotoPageFun(2,!1,"cross page"):this.currentPageIndex==totalPageCount||t==totalPageCount?gotoPageFun(totalPageCount-1,!1,"cross page"):1==t&&gotoPageFun(2,!1,"cross page")},initBook:function(){this._super(),this.hardCover=new HardCalendarCover(this.flipBook)},newPage:function(t){return new(1==t||2==t||t==totalPageCount||t==totalPageCount-1?HardPage:bookConfig.HardInnerPageEnable?AlbumPage:NormalPage)(t,"page",!1,BookType.catalog_book)},followToPoint:function(t,i,e){this._super(t,i,e),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth())},getDownUpHardPage:function(t,i,e){return this.addPageArray([t,i]),e?(this.pageArray[t]&&this.pageArray[t].setUpOrDown(!0),this.pageArray[i]&&this.pageArray[i].setUpOrDown(!1),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-up-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-down-side")):(this.pageArray[t]&&this.pageArray[t].setUpOrDown(!1),this.pageArray[i]&&this.pageArray[i].setUpOrDown(!0),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-down-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-up-side")),[this.pageArray[t],this.pageArray[i]]},setAttachmentBeforeFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(t,this.getThicknessWidth(),this.currentPageIndex)},afterCurling:function(){this._super(),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},setAttachmentAfterFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},getThicknessWidth:function(){return[0,0]},onResize:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},resizeBook:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},show:function(){this._super(),this.hardCover.show()},hide:function(){this._super(),this.hardCover.hide()}}).extend(CatalogCalendar),OpenCatalogHardCalendar=Class({crossFlipMode:function(t){var i=this.currentPageIndex;return!(0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||totalPageCount!=i&&totalPageCount!=t)},toSoftPage:function(t){return!(bookConfig.HardInnerPageEnable||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(this.currentPageIndex)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t))},toHardPage:function(t){return!(!bookConfig.HardInnerPageEnable||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(this.currentPageIndex)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t))},toCoverPage:function(t){return totalPageCount==this.currentPageIndex||totalPageCount==t},isHardPage:function(t,i){return!(!bookConfig.HardInnerPageEnable||t==totalPageCount||t==totalPageCount-1)},isCoverPage:function(t,i){return t==totalPageCount||t==totalPageCount-1},gotoNearPage:function(t){this.currentPageIndex!=totalPageCount&&t!=totalPageCount||gotoPageFun(totalPageCount-1,!1,"cross page")},newPage:function(t){return new(1==t||t==totalPageCount||t==totalPageCount-1?HardPage:bookConfig.HardInnerPageEnable?AlbumPage:NormalPage)(t,"page",!1,BookType.catalog_book)}}).extend(CatalogHardCalendar),CatalogSimpleCalendar=Class({create:function(t){this._super(t)},initBook:function(){this._super(),this.guidBar=new GuidToolbar(this.parent),this.guidBarHeight=50},showOrHideLiteThumbnail:function(){this.flipPageManager.array&&0<this.flipPageManager.array.length||this.status_zoom||1!=this.isFlipping&&1!=this.isZomming&&this.adjustBookPosition()},hideToolBarAndShowGuidBar:function(){this.status_zoom||1==this.isFlipping||1==this.isZomming||(this.guidBar&&this.guidBar.show(),toolBar&&toolBar.hide(),this.mode="simple",thumbnail&&thumbnail.visible&&thumbnail.show(),this.adjustBookPosition())},hideGuidBarAndShowToolBar:function(){this.status_zoom||1==this.isFlipping||1==this.isZomming||(this.guidBar&&this.guidBar.hide(),toolBar&&toolBar.show(),this.mode="complex",thumbnail&&thumbnail.visible&&thumbnail.show(),this.adjustBookPosition())},adjustBookPosition:function(){this.pageWidthHeight=this.getFitWH();var t=this.pageWidthHeight.x/this.width,i=this.getTranY(t),e=this.getTranX(t);this.pageWidthHeight.x==this.width&&0==i&&0==e||this.flipBook.animateToTransform.bind(this.flipBook)(t,{x:e,y:i},{x:50,y:0})},getTranX:function(t){t=this.getCssLeft();var i=this.getSpace(!0);return i.left+(windowWidth-i.left-i.right-this.width)/2-t},getTranY:function(t){var i,e;return bookConfig.retainBookCenter?(i=0,t=this.height*t/4,1!=this.currentPageIndex||bookConfig.isTheBookOpen||(i=rightToLeft?t:-t),this.currentPageIndex==totalPageCount&&(i=rightToLeft?-t:t),t=this.getCssTop(),(e=this.getSpace(!0)).top+(windowHeight-e.top-e.bottom-this.pageWidthHeight.y)/2-t+i):0},getSpace:function(t){var i=bookConfig.leftMargin+toolBar.getLeftWidth(),e=bookConfig.rightMargin+toolBar.getRightWidth(),o=bookConfig.topMargin+(toolBar.visible?toolBar.getTopHeight():this.guidBarHeight),s=bookConfig.bottomMargin+toolBar.getBottomHeight();return t&&(i+=Math.max(bookConfig.hardCoverBorderWidth+totalThicknessWidth(!0),0),e+=Math.max(bookConfig.hardCoverBorderWidth+totalThicknessWidth(!0),0),o+=bookConfig.hardCoverBorderWidth,s+=bookConfig.hardCoverBorderWidth),{left:i,right:e,top:o,bottom:s}}}).extend(CatalogCalendar),CatalogSimpleHardCalendar=Class({bookType:BookType.catalog_book,create:function(t){this._super(t)},crossFlipMode:function(t){var i=this.currentPageIndex;return!(0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t)||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||[1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t)<0)},toSoftPage:function(t){var i;return!(bookConfig.HardInnerPageEnable||(i=this.currentPageIndex,0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t))||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||([1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t),0))},toHardPage:function(t){var i;return!(!bookConfig.HardInnerPageEnable||(i=this.currentPageIndex,0<=[1,2,3].indexOf(i)&&0<=[1,2,3].indexOf(t))||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||([1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t),0))},toCoverPage:function(t){var i=this.currentPageIndex;return!([1,2,totalPageCount-1,totalPageCount].indexOf(i)<0&&[1,2,totalPageCount-1,totalPageCount].indexOf(t)<0||0<=[2,3].indexOf(i)&&[1,totalPageCount].indexOf(t)<0||[1,totalPageCount].indexOf(i)<0&&[1,totalPageCount].indexOf(t)<0)},isHardPage:function(t,i){return!(!bookConfig.HardInnerPageEnable||1==t||2==t||t==totalPageCount||t==totalPageCount-1)},isCoverPage:function(t,i){return 1==t||2==t||t==totalPageCount||t==totalPageCount-1},gotoNearPage:function(t){1==this.currentPageIndex?gotoPageFun(2,!1,"cross page"):this.currentPageIndex==totalPageCount||t==totalPageCount?gotoPageFun(totalPageCount-1,!1,"cross page"):1==t&&gotoPageFun(2,!1,"cross page")},initBook:function(){this._super(),this.hardCover=new HardCalendarCover(this.flipBook)},newPage:function(t){return new(1==t||2==t||t==totalPageCount||t==totalPageCount-1?HardPage:bookConfig.HardInnerPageEnable?AlbumPage:NormalPage)(t,"page",!1,BookType.catalog_book)},followToPoint:function(t,i,e){this._super(t,i,e),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth())},getDownUpHardPage:function(t,i,e){return this.addPageArray([t,i]),e?(this.pageArray[t]&&this.pageArray[t].setUpOrDown(!0),this.pageArray[i]&&this.pageArray[i].setUpOrDown(!1),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-up-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-down-side")):(this.pageArray[t]&&this.pageArray[t].setUpOrDown(!1),this.pageArray[i]&&this.pageArray[i].setUpOrDown(!0),this.pageArray[t]&&this.pageArray[t].setCSSByName("flip-hard-down-side"),this.pageArray[i]&&this.pageArray[i].setCSSByName("flip-hard-up-side")),[this.pageArray[t],this.pageArray[i]]},setAttachmentBeforeFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(t,this.getThicknessWidth(),this.currentPageIndex)},afterCurling:function(){this._super(),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},setAttachmentAfterFlipTo:function(t){this._super(t),this.hardCover&&this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},getThicknessWidth:function(){return[0,0]},onResize:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},resizeBook:function(t,i){this._super(t,i),this.hardCover.onResize(t,i,this.getThicknessWidth()),this.hardCover.refresh(this.currentPageIndex,this.getThicknessWidth(),this.currentPageIndex)},show:function(){this._super(),this.hardCover.show()},hide:function(){this._super(),this.hardCover.hide()}}).extend(CatalogSimpleCalendar),OpenCatalogSimpleHardCalendar=Class({crossFlipMode:function(t){var i=this.currentPageIndex;return!(0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(i)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t)||totalPageCount!=i&&totalPageCount!=t)},toSoftPage:function(t){return!(bookConfig.HardInnerPageEnable||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(this.currentPageIndex)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t))},toHardPage:function(t){return!(!bookConfig.HardInnerPageEnable||0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(this.currentPageIndex)&&0<=[totalPageCount-1,totalPageCount-2,totalPageCount].indexOf(t))},toCoverPage:function(t){return totalPageCount==this.currentPageIndex||totalPageCount==t},isHardPage:function(t,i){return!(!bookConfig.HardInnerPageEnable||t==totalPageCount||t==totalPageCount-1)},isCoverPage:function(t,i){return t==totalPageCount||t==totalPageCount-1},gotoNearPage:function(t){this.currentPageIndex!=totalPageCount&&t!=totalPageCount||gotoPageFun(totalPageCount-1,!1,"cross page")},newPage:function(t){return new(1==t||t==totalPageCount||t==totalPageCount-1?HardPage:bookConfig.HardInnerPageEnable?AlbumPage:NormalPage)(t,"page",!1,BookType.catalog_book)}}).extend(CatalogSimpleHardCalendar),AnnotationPannel=Class({statics:{NONE:0,NOTE:1,PEN:2,RECT:3,ROUND:4,ERASER:5},create:function(t){t&&(this.annoStepCookie=[],this.annoCurrentStep=-1,this.parent=t,this.visible=!1,this.book=BookInfo.getBook().showPage,this.selectCase=AnnotationPannel.NONE,this.initPageConfig(),this.initHtml(),this.initCss(),this.selectCaseEvent(),this.initEvent())},initHtml:function(){this.panel=$("<div class='annotationPanel'></div>"),this.topBox=$("<div class='topBox'></div>"),this.annoBtnBox=$("<div class='annoBtnBox'></div>"),this.bottomBox=$("<div class='bottomBox'></div>"),this.moveBar=$("<div class='noteMoveBar'><p></p></div>"),this.noteSplit=$("<p class='anno-split-line'></p>"),this.note=$("<div title='"+getLanguage("DrawToolWindow_TextNote","Note")+"' class='noteAdd' ><p></p></div>"),this.pen=$("<div title='"+getLanguage("DrawToolWindow_Brush","Brush")+"' class='notePen'><p></p></div>"),this.rect=$("<div title='"+getLanguage("DrawToolWindow_Rectangular","Rectangular")+"' class='noteRect'><p></p></div>"),this.round=$("<div title='"+getLanguage("DrawToolWindow_Ellipse","Ellipse")+"' class='noteRound'><p></p></div>"),this.eraserSplit=$("<p class='anno-split-line'></p>"),this.eraser=$("<div title='"+getLanguage("DrawToolWindow_Eraser","Eraser")+"' class='noteEraser'><p></p></div>"),this.point=$("<div class='noteCursor' ><p></p></div>"),this.clear=$("<div title='"+getLanguage("DrawToolWindow_Clear","Clear")+"' class='noteClear'><p></p></div>"),this.undoSplit=$("<p class='anno-split-line'></p>"),this.undo=$("<div title='"+getLanguage("DrawToolWindow_Undo","Undo")+"' class='noteUndo'><p></p></div>"),this.redo=$("<div title='"+getLanguage("DrawToolWindow_Redo","Redo")+"' class='noteRedo'><p></p></div>"),this.exitSplit=$("<p class='anno-split-line'></p>"),this.exit=$("<div title='"+getLanguage("FlipPageEditor_Exit","Exit")+"' class='noteExit'><p></p></div>"),this.save=$("<div title='"+getLanguage("FlipPageEditor_SaveAndExit","SaveAndExit")+"' class='noteSave'><p></p></div>"),this.annoBtnBox.append(this.point).append(this.noteSplit).append(this.note).append(this.pen).append(this.rect).append(this.round).append(this.eraserSplit).append(this.eraser).append(this.clear).append(this.undoSplit).append(this.undo).append(this.redo).append(this.exitSplit).append(this.save).append(this.exit),this.initBottomHtml(),this.topBox.append(this.moveBar).append(this.annoBtnBox),this.panel.append(this.topBox).append(this.bottomBox),this.parent.append(this.panel),this.setBtnSrc()},setBtnSrc:function(){for(var t=[this.moveBar,this.note,this.pen,this.rect,this.round,this.eraser,this.point,this.clear,this.undo,this.redo,this.exit,this.save],i=[{x:1,y:21,w:18,h:5,rotate:90,margin:"9"},{x:40,y:1,w:14,h:14},{x:72,y:17,w:14,h:14},{x:88,y:1,w:14,h:14},{x:104,y:1,w:14,h:14},{x:56,y:17,w:14,h:14},{x:56,y:1,w:14,h:14},{x:40,y:17,w:14,h:14},{x:120,y:1,w:14,h:14},{x:88,y:17,w:14,h:14},{x:72,y:1,w:14,h:14},{x:104,y:17,w:14,h:14}],e=0;e<t.length;e++)this.setSrc(t[e].find("p"),i[e])},setSrc:function(t,i){i.rotate&&t.css({transform:"rotateZ("+i.rotate+"deg)","-webkit-transform":"rotateZ("+i.rotate+"deg)","transform-origin":"0 0","-webkit-transform-origin":"0 0"}),i.margin||(i.margin=5),t.css({"pointer-events":"none",width:i.w+"px",height:i.h+"px",margin:i.margin+"px",display:"inline-block",background:"url("+uiBaseURL+"annotationSprite.png) "+-i.x+"px "+-i.y+"px no-repeat"})},initBottomHtml:function(){this.selColor="#FDC606",this.eraserBox=$("<div class='eraserBox' style='display:none;margin:6px 0'></div>"),this.eraserWidth=$("<span class='eraserWidth' style='font-size:13px;margin-left:10px;margin-right:5px;'>"+getLanguage("DrawToolWindow_Width","Width")+"</span>"),this.inputEraserWidth=$("<input class='eraserInput'  style='width:40px;display:inline-block;padding-left:3px;height: 20px;line-height: 20px;border:1px solid #bebec3;border-radius:2px;' type='number' step='1' min='1' value='30' />"),this.widthBox=$("<div class='widthBox' style='display:none;margin:6px 0'></div>"),this.setWidth=$("<span class='setWidth' style='font-size:13px;margin-left:10px;margin-right:5px;'>Width</span>"),this.inputWidth=$("<input  style='width:38px;display:inline-block;padding-left:3px;height: 20px;line-height: 20px;border:1px solid #bebec3;border-radius:2px;' type='number' step='1' min='1' value='3' />"),this.alphaBox=$("<div class='alphaBox' style='display:none;margin:6px 0'></div>"),this.setAplha=$("<span class='setAplha' style='font-size:13px;margin-left:10px;margin-right:5px;'>Alpha</span>"),this.inputAlpha=$("<input style='width:48px;display:inline-block;padding-left:3px;height: 20px;line-height: 20px;border:1px solid #bebec3;border-radius:2px;' type='number' step='1' value='100' min='0' max='100' />"),this.colorBox=$("<div class='colorBox' style='position:relative;display:none;margin:6px 0'></div>"),this.setColor=$("<span class='setColor'  style='font-size:13px;margin-left:10px;margin-right:5px;'>color</span>"),this.inputColor=$("<input style='width:68px;display:inline-block;height: 20px;line-height: 20px;padding-left:3px;border:1px solid #bebec3;border-radius:2px;' value='"+this.selColor+"'/>"),this.showColor=$("<div class='showColor' color='"+this.selColor+"' style='cursor:pointer;background:"+this.selColor+";vertical-align:middle;display:inline-block;width:20px;height:20px;margin-left:1px;'></div>"),this.showColorBox=$("<div style='display: inline-block;width: 22px;height: 22px;border: 1px solid #BEBEC3;background: #fff;line-height: 18px;margin-left: 1px;border-radius:2px;margin-right: 2px;'></div>"),this.showColor.bind(_event._up,function(t){t.stopPropagation(),global.colorPanel&&global.colorPanel.showOrHide({e:t,elem:this.showColor,input:this.inputColor,closeAlpha:!0})}.bind(this)),this.panel.bind(_event._up,function(){global.colorPanel&&global.colorPanel.visible&&global.colorPanel.curElem[0]==this.showColor[0]&&global.colorPanel.hide()}.bind(this)),this.showColorBox.append(this.showColor),this.eraserBox.append(this.eraserWidth).append(this.inputEraserWidth),this.widthBox.append(this.setWidth).append(this.inputWidth),this.alphaBox.append(this.setAplha).append(this.inputAlpha),this.colorBox.append(this.setColor).append(this.inputColor).append(this.showColorBox),this.bottomBox.append(this.eraserBox).append(this.widthBox).append(this.alphaBox).append(this.colorBox)},initPageConfig:function(){this.pageIndex=BookInfo.getBook().currentPageIndex,BookInfo.getBook().pageArray.length&&("slide"==bookConfig.FlipStyle.toLocaleLowerCase()&&BookInfo.isDoublePage(BookInfo.getBookType())?(BookInfo.getBook().pageArray[this.pageIndex].leftPage?this.page=BookInfo.getBook().pageArray[this.pageIndex].leftPage:BookInfo.getBook().pageArray[this.pageIndex].rightPage&&(this.page=BookInfo.getBook().pageArray[this.pageIndex].rightPage),rightToLeft&&BookInfo.getBook().pageArray[this.pageIndex].rightPage&&(this.page=BookInfo.getBook().pageArray[this.pageIndex].rightPage)):this.page=BookInfo.getBook().pageArray[this.pageIndex].page,this.getPageSize())},getPageSize:function(){this.page.pageAttachments?(this.pageWidth=this.page.pageAttachments.pageWidth,this.pageHeight=this.page.pageAttachments.pageHeight,this.noteParent=this.page.pageAttachments.$animation):(this.noteParent=$("#animation0-"+this.pageIndex),this.noteParent[0]?(this.pageWidth=this.noteParent.width(),this.pageHeight=this.noteParent.height()):(this.pageWidth=this.page.pageWidth,this.pageHeight=this.page.pageHeight))},setPanelIndex:function(t,i,e){t=t||0,i=i||0,this.book=BookInfo.getBook().showPage;for(var o=BookInfo.getCurrentPages(),s=0;s<o.length;s++)this.book.find("#annotationPage"+o[s]).css({"pointer-events":e}),this.book.find("#annotationCvsPanel"+o[s]).css({"z-index":t}),this.book.find("#annotationDraw"+o[s]).css({"z-index":i})},clearBtnDownCase:function(){isPhone()||isPad()?this.annoBtnBox.find("div").css({background:"transparent"}):this.annoBtnBox.find("div").css({background:""}),BookInfo.getBook().noteAdd&&BookInfo.getBook().noteAdd.css({opacity:""}),this.bottomBox.css({display:"none"})},noteEvent:function(){this.addNote(),this.defaultBottomCase()},addNote:function(){var t=BookInfo.getBook().currentPageIndex,i=(this.initPageConfig(),this.getNodePos()),e=new Date,o=e.toLocaleDateString()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),i={index:t-1,type:"note",id:e="id"+e.getTime(),time:o,size:.05,position:{x:i.x/this.pageWidth,y:i.y/this.pageHeight},value:""};new(isPhone()||isPad()?AnnotationAddMobileNote:AnnotationAddNote)(this.noteParent,i,!0),this.noteParent.css({display:"block"}),global.annotationCookie.saveNoteCookie("Note",t-1,e,i),global.annotationPannel.selectCase=AnnotationPannel.NONE,global.annotationPannel.setPanelIndex(0,0,"none")},getNumToFixed:function(t){return Math.floor(100*t)/100},getNodePos:function(){var t=this.noteParent.find(".noteContainer"),i=[],e=0,o=0;this.pos={x:this.getNumToFixed(.25*this.pageWidth),y:this.getNumToFixed(.1*this.pageHeight)};for(var s=0;s<t.length;s++){var n={x:this.getNumToFixed($(t[s]).left()),y:this.getNumToFixed($(t[s]).top())};i.push(n)}for(;i.filter(this.filterFun.bind(this)).length;)4<=(e+=1)&&(o+=1,e=0),this.pos={x:this.getNumToFixed((.25+.075*e)*this.pageWidth),y:this.getNumToFixed(.1*this.pageHeight+.075*o*this.pageWidth)};return this.pos},filterFun:function(t){return this.posIsContain(this.pos,t)},posIsContain:function(t,i){var e=this.getNumToFixed(.05*this.pageWidth);return t.x>=i.x&&t.x<=i.x+e&&t.y>=i.y&&t.y<=i.y+e||t.x+e<=i.x+e&&t.x+e>=i.x+e&&t.y>=i.y&&t.y<=i.y+e||t.x>=i.x&&t.x<=i.x+e&&t.y+e>=i.y&&t.y+e<=i.y+e||t.x+e>=i.x&&t.x+e<=i.x+e&&t.y+e>=i.y&&t.y+e<=i.y+e},selectCaseEvent:function(){this.defaultCaseEvent(),this.note.onTap(function(t){this.noteEvent()}.bind(this)),this.pen.bind(_event._click,function(t){t.stopPropagation(),this.selectCase!=AnnotationPannel.PEN?(this.selectCase=AnnotationPannel.PEN,this.setPanelIndex(2,0,"auto"),isPhone()||isPad()?this.pen.css({background:"rgba(255,255,255,0.2)"}):this.pen.css({background:"rgba(0,0,0,0.2)"}),this.bottomBox.css({display:"block"})):(this.pen.css({background:""}),this.defaultBottomCase()),this.eraserBox.css({display:"none"}),this.widthBox.css({display:"inline-block"}),this.alphaBox.css({display:"inline-block"}),this.colorBox.css({display:"inline-block"}),this.setWidth.text(getLanguage("DrawToolWindow_Width","Width")),this.setAplha.text(getLanguage("DrawToolWindow_Alpha","Alpha")),this.setColor.text(getLanguage("DrawToolWindow_Color","Color"))}.bind(this)),this.rect.bind(_event._click,function(t){t.stopPropagation(),this.selectCase!=AnnotationPannel.RECT?(this.selectCase=AnnotationPannel.RECT,this.setPanelIndex(2,3,"auto"),isPhone()||isPad()?this.rect.css({background:"rgba(255,255,255,0.2)"}):this.rect.css({background:"rgba(0,0,0,0.2)"}),this.bottomBox.css({display:"block"})):(this.rect.css({background:""}),this.defaultBottomCase()),this.eraserBox.css({display:"none"}),this.widthBox.css({display:"inline-block"}),this.alphaBox.css({display:"inline-block"}),this.colorBox.css({display:"inline-block"}),this.setWidth.text(getLanguage("TStuff_BorderWidth","Width")),this.setAplha.text(getLanguage("TStuff_BorderAlph","Alpha")),this.setColor.text(getLanguage("TStuff_BorderColor","Color"))}.bind(this)),this.round.bind(_event._click,function(t){t.stopPropagation(),this.selectCase!=AnnotationPannel.ROUND?(this.selectCase=AnnotationPannel.ROUND,this.setPanelIndex(2,3,"auto"),isPhone()||isPad()?this.round.css({background:"rgba(255,255,255,0.2)"}):this.round.css({background:"rgba(0,0,0,0.2)"}),this.bottomBox.css({display:"block"})):(this.round.css({background:""}),this.defaultBottomCase()),this.eraserBox.css({display:"none"}),this.widthBox.css({display:"inline-block"}),this.alphaBox.css({display:"inline-block"}),this.colorBox.css({display:"inline-block"}),this.setWidth.text(getLanguage("TStuff_BorderWidth","Width")),this.setAplha.text(getLanguage("TStuff_BorderAlph","Alpha")),this.setColor.text(getLanguage("TStuff_BorderColor","Color"))}.bind(this)),this.eraser.bind(_event._click,function(t){t.stopPropagation(),this.selectCase!=AnnotationPannel.ERASER?(this.selectCase=AnnotationPannel.ERASER,this.setPanelIndex(2,0,"auto"),isPhone()||isPad()?this.eraser.css({background:"rgba(255,255,255,0.2)"}):this.eraser.css({background:"rgba(0,0,0,0.2)"}),this.bottomBox.css({display:"block"})):(this.eraser.css({background:""}),this.defaultBottomCase()),this.eraserBox.css({display:"inline-block"}),this.widthBox.css({display:"none"}),this.alphaBox.css({display:"none"}),this.colorBox.css({display:"none"})}.bind(this)),this.point.bind(_event._click,function(t){t.stopPropagation(),this.defaultBottomCase()}.bind(this)),this.clear.bind(_event._click,function(t){t.stopPropagation(),t=BookInfo.getCurrentPages(),this.selectCase=AnnotationPannel.NONE,this.setPanelIndex(0,0,"none"),this.initPageConfig();for(var i=0;i<t.length;i++){var e=this.book.find("#annotationCvsPanel"+t[i])[0].getContext("2d");e.beginPath(),e.stroke(),e.clearRect(0,0,this.pageWidth,this.pageHeight),e.closePath()}global.annotationCookie.setAllAnnoSteps(11,t.map(function(t){return t-1}),[{type:"Clear"}]),global.annotationCookie.stepIndex+=1}.bind(this)),this.exit.bind(_event._click,function(t){t.stopPropagation(),this.hide(),this.initPageConfig(),t=BookInfo.getCurrentPages();for(var i=0;i<t.length;i++)console.log(this.pageWidth,this.pageHeight),global.annotationCookie.repaintCookie(this.pageWidth,this.pageHeight,t[i]-1)}.bind(this)),this.save.bind(_event._click,function(t){t.stopPropagation(),global.annotationCookie.saveCookie(),this.hide()}.bind(this)),this.undo.bind(_event._click,function(t){t.stopPropagation(),this.setPanelIndex(0,0,"none"),this.selectCase=AnnotationPannel.NONE,--global.annotationCookie.stepIndex,global.annotationCookie.stepIndex<=0&&(global.annotationCookie.stepIndex=0),global.annotationCookie.repaintSteps()}.bind(this)),this.redo.bind(_event._click,function(t){t.stopPropagation(),this.setPanelIndex(0,0,"none"),this.selectCase=AnnotationPannel.NONE,global.annotationCookie.stepIndex+=1,global.annotationCookie.stepIndex>=global.annotationCookie.allAnnoSteps.length&&(global.annotationCookie.stepIndex=global.annotationCookie.allAnnoSteps.length),global.annotationCookie.repaintSteps()}.bind(this))},defaultBottomCase:function(){this.selectCase=AnnotationPannel.NONE,this.setPanelIndex(0,0,"none"),this.bottomBox.css({display:"none"})},isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)},defaultCaseEvent:function(){this.annoBtnBox.find("div").bind(_event._click,function(t){t.stopPropagation(),"p"!=(t=t.target).tagName.toLowerCase()&&"img"!=t.tagName.toLowerCase()||(t=$(t).parent()),isPhone()||isPad()?$(t).siblings("div").css({background:"transparent"}):$(t).siblings("div").css({background:""})}.bind(this)),this.annoBtnBox.find("div").bind(_event._down,function(t){t.stopPropagation(),"p"!=(t=t.target).tagName.toLowerCase()&&"img"!=t.tagName.toLowerCase()||(t=$(t).parent()),isPhone()||isPad()?$(t).css({background:"rgba(255,255,255,0.2)"}):$(t).css({background:"rgba(0,0,0,0.2)"})}.bind(this)),this.annoBtnBox.find("div").bind(_event._up,function(t){t.stopPropagation(),"p"!=(t=t.target).tagName.toLowerCase()&&"img"!=t.tagName.toLowerCase()||(t=$(t).parent()),isPhone()||isPad()?$(t).css({background:"transparent"}):$(t).css({background:""})}.bind(this))},initCss:function(){var t=404<=windowWidth?1:windowWidth/404;this.panel.css({display:"none",position:"absolute",width:"404px",height:"auto","border-radius":"1px",top:"60px",left:(windowWidth-404<0?0:(windowWidth-404)/2)+"px","-webkit-transform":"scale("+t+")","-moz-transform":"scale("+t+")","-o-transform":"scale("+t+")","-ms-transform":"scale("+t+")",transform:"scale("+t+")","-webkit-transform-origin":"0 0","-moz-transform-origin":"0 0","-o-transform-origin":"0 0","-ms-transform-origin":"0 0","transform-origin":"0 0","z-index":"10000"}),this.topBox.css({"border-radius":"3px",position:"relative",border:"1px solid rgba(0,0,0,0.1)",background:"#eaeaf0"}),this.annoBtnBox.css({"border-radius":"3px",position:"relative",height:"36px",top:"0",left:"15px"}),this.bottomBox.css({display:"none","border-radius":"3px","vertical-align":"middle",width:"402px",left:"0",background:"#eaeaf0",border:"1px solid rgba(0, 0, 0, 0.1)","font-family":"Tahoma , sans-serif , Arial",position:"relative",top:"2px"}),this.moveBar.css({cursor:"move",width:"16px",height:"36px",position:"absolute",top:"0"}),this.note.css({cursor:"pointer",position:"relative",float:"left",width:"24px",height:"24px",top:"6px",border:"1px solid transparent"}),this.pen.css({cursor:"pointer",width:"24px",height:"24px",position:"relative",float:"left",top:"6px",border:"1px solid transparent"}),this.rect.css({cursor:"pointer",width:"24px",height:"24px",position:"relative",float:"left",top:"6px",border:"1px solid transparent"}),this.round.css({cursor:"pointer",width:"24px",height:"24px",position:"relative",float:"left",top:"6px",border:"1px solid transparent"}),this.eraser.css({cursor:"pointer",position:"relative",float:"left",width:"24px",height:"24px",top:"6px",border:"1px solid transparent"}),this.point.css({cursor:"pointer",position:"relative",float:"left",width:"24px",height:"24px",top:"6px",border:"1px solid transparent"}),this.clear.css({cursor:"pointer",position:"relative",float:"left",width:"24px",height:"24px",top:"6px",border:"1px solid transparent"}),this.undo.css({cursor:"pointer",position:"relative",float:"left",width:"24px",height:"24px",top:"6px",border:"1px solid transparent"}),this.redo.css({cursor:"pointer",position:"relative",float:"left",width:"24px",height:"24px",top:"6px",border:"1px solid transparent"}),this.exit.css({cursor:"pointer",position:"relative",float:"left",width:"24px",height:"24px",top:"6px",border:"1px solid transparent"}),this.save.css({cursor:"pointer",position:"relative",float:"left",width:"24px",height:"24px",top:"6px",border:"1px solid transparent"})},initEvent:function(){this.panel.bind("pointerdown mouseup mousedown click mouseenter mouseleave mouseover mouseout",function(t){t.stopPropagation()}.bind(this)),this.moveBar.bind(_event._enter,function(t){this.moveBar.find("img").css({background:"#5A9BB7"})}.bind(this)),this.moveBar.bind(_event._leave,function(t){this.moveBar.find("img").css({background:"transparent"})}.bind(this)),this.moveBar.bind(_event._down,function(t){t.preventDefault(),t.stopPropagation(),this.moveBar.find("img").css({background:"#5A9BB7"}),t=getPositionFromEvt(t),this.catchX=t.x,this.catchY=t.y,this.catchFocus=!0}.bind(this)),this.moveBar.bind(_event._up,function(t){t.preventDefault(),t.stopPropagation(),this.moveBar.find("img").css({background:"transparent"}),this.catchFocus=!1}.bind(this)),this.parent.bind(_event._move,function(t){var i,e;this.catchFocus&&(i=(t=getPositionFromEvt(t)).x-this.catchX,e=t.y-this.catchY,this.panel.css({left:parseFloat(this.panel.left())+i+"px",top:parseFloat(this.panel.top())+e+"px"}),this.catchX=t.x,this.catchY=t.y)}.bind(this)),this.parent.bind(_event._up,function(t){this.catchFocus=!1}.bind(this)),this.parent.bind(_event._leave,function(t){this.catchFocus&&(this.catchFocus=!1)}.bind(this))},changeLanguage:function(){for(var t,i=BookInfo.getBook().pageArray,e=0;e<i.length;e++)i[e]&&((t=i[e].page.pageAttachments.$animation).find(".no.deleteBtn").html(getLanguage("lblCancel","cancel")),t.find(".yes.deleteBtn").html(getLanguage("lblConfirm","confirm")),t.find(".infDeleteNote").html(getLanguage("infDeleteNote","Do you want to delete the note?")),t.find(".noteBox textarea").attr("placeholder",getLanguage("tltAddTexts","add texts")));this.note.attr("title",getLanguage("DrawToolWindow_TextNote","Note")),this.pen.attr("title",getLanguage("DrawToolWindow_Brush","Brush")),this.rect.attr("title",getLanguage("DrawToolWindow_Rectangular","Rectangular")),this.round.attr("title",getLanguage("DrawToolWindow_Ellipse","Ellipse")),this.eraser.attr("title",getLanguage("DrawToolWindow_Eraser","Eraser")),this.clear.attr("title",getLanguage("DrawToolWindow_Clear","Clear")),this.undo.attr("title",getLanguage("DrawToolWindow_Undo","Undo")),this.redo.attr("title",getLanguage("DrawToolWindow_Redo","Redo")),this.exit.attr("title",getLanguage("FlipPageEditor_Exit","Exit")),this.save.attr("title",getLanguage("FlipPageEditor_SaveAndExit","SaveAndExit"))},onResize:function(){this.initPageConfig();var t=404<=windowWidth?1:windowWidth/404;this.panel.css({left:(windowWidth-404<0?0:(windowWidth-404)/2)+"px","-webkit-transform":"scale("+t+")","-moz-transform":"scale("+t+")","-o-transform":"scale("+t+")","-ms-transform":"scale("+t+")",transform:"scale("+t+")","z-index":"10000"}),this.book=BookInfo.getBook().showPage},showOrHide:function(){this.visible?this.hide():this.show()},resetAnnoConfig:function(){this.annoBtnBox.find("div").css({border:"1px solid transparent"}),this.selectCase=AnnotationPannel.NONE,this.setPanelIndex(0,0,"none"),global.annotationCookie&&global.annotationCookie.clearUnsaveCookie(),this.clearBtnDownCase()},show:function(){this.panel.fadeIn(200),this.visible=!0},hide:function(){this.resetAnnoConfig(),this.panel.fadeOut(200,function(){}.bind(this)),this.visible=!1}}),PhoneAnnotationPannel=Class({create:function(t){this._super(t),this.resizeButtonSize()},resizeButtonSize:function(){this.annoBtnBox.find(".noteBtn").css({width:"40px"})},initHtml:function(){this.panel=$("<div class='annotationPanel mobile'></div>"),this.topBox=$("<div class='topBox stage'></div>"),this.annoBtnBox=$("<div class='annoBtnBox swiper'></div>"),this.bottomBox=$("<div class='bottomBox'></div>"),this.moveBar=$("<div class='noteMoveBar'><img /></div>"),this.note=$("<div title='"+getLanguage("DrawToolWindow_TextNote","Note")+"' class='noteAdd noteBtn' ><p class='note-svg'></p></div>"),this.pen=$("<div title='"+getLanguage("DrawToolWindow_Brush","Brush")+"' class='notePen noteBtn'><p class='note-svg'></p></div>"),this.rect=$("<div title='"+getLanguage("DrawToolWindow_Rectangular","Rectangular")+"' class='noteRect noteBtn'><p class='note-svg'></p></div>"),this.round=$("<div title='"+getLanguage("DrawToolWindow_Ellipse","Ellipse")+"' class='noteRound noteBtn'><p class='note-svg'></p></div>"),this.eraser=$("<div title='"+getLanguage("DrawToolWindow_Eraser","Eraser")+"' class='noteEraser noteBtn'><p class='note-svg'></p></div>"),this.clear=$("<div title='"+getLanguage("DrawToolWindow_Clear","Clear")+"' class='noteClear noteBtn'><p class='note-svg'></p></div>"),this.undoSplit=$("<p class='anno-split-line' style='position:relative; margin: 0 0 0 10px;top: 15px;'></p>"),this.undo=$("<div title='"+getLanguage("DrawToolWindow_Undo","Undo")+"' class='noteUndo noteBtn'><p class='note-svg'></p></div>"),this.redo=$("<div title='"+getLanguage("DrawToolWindow_Redo","Redo")+"' class='noteRedo noteBtn'><p class='note-svg'></p></div>"),this.exit=$("<div title='"+getLanguage("lblCancel","Cancel")+"' class='noteExit noteBtn'>"+getLanguage("lblCancel","Cancel")+"</div>"),this.save=$("<div title='"+getLanguage("FlipPageEditor_SaveAndExit","SaveAndExit")+"' class='noteSave noteBtn'><p class='note-svg'></p></div>"),this.annoBtnBox.append(this.undo).append(this.redo).append(this.save).append(this.undoSplit).append(this.note).append(this.pen).append(this.rect).append(this.round).append(this.eraser).append(this.clear).append(this.exit),this.initBottomHtml(),this.topBox.append(this.annoBtnBox),this.panel.append(this.bottomBox).append(this.topBox).append(this.exit),$("body").append(this.panel),this.setBtnSrc()},initBottomHtml:function(){this.selColor="#FDC606",this.eraserBox=$("<div class='eraserBox' style='display:none;margin:6px 0;width:100%;position:relative;'></div>"),this.eraserWidth=$("<span class='eraserWidth' style='font-size:13px;margin-left:15px;margin-right:5px;'>"+getLanguage("DrawToolWindow_Width","Width")+"</span>"),this.eraserSlider=new PhoneAnnotationSlider(this.bottomBox,this.eraserBox,"eraserWidth",80,10,30),this.widthBox=$("<div class='widthBox' style='display:none;margin:6px 0;width:100%;position:relative;'></div>"),this.setWidth=$("<span class='setWidth' style='font-size:13px;margin-left:15px;margin-right:5px;'>Width</span>"),this.widthSlider=new PhoneAnnotationSlider(this.bottomBox,this.widthBox,"width",30,1,3),this.alphaBox=$("<div class='alphaBox' style='display:none;margin:6px 0;width:100%;position:relative;'></div>"),this.setAplha=$("<span class='setAplha' style='font-size:13px;margin-left:15px;margin-right:5px;'>Alpha</span>"),this.alphaSlider=new PhoneAnnotationSlider(this.bottomBox,this.alphaBox,"alpha",100,0,100),this.colorBox=$("<div class='colorBox' style='position:relative;display:none;margin:6px 0;line-height:24px;height:24px;'></div>"),this.setColor=$("<span class='setColor'  style='font-size:13px;margin-left:15px;margin-right:5px;'>color</span>"),this.inputColor=$("<input style='position:absolute;top:2px;outline: none;-webkit-appearance: none; -webkit-appearance: none;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);width:68px;display:none;height: 24px;line-height: 24px;padding:0 3px 0;margin-left:30px;border:none;border-radius:0;' value='"+this.selColor+"'/>"),this.showColor=$("<div class='showColor' color='"+this.selColor+"' style='cursor:pointer;background:"+this.selColor+";vertical-align:middle;display:inline-block;width:22px;height:22px;border:1px solid #ffffff;'></div>"),this.showColorBox=$("<div style='position:absolute;top:2px;left:98px;display: inline-block;width: 24px;height: 24px;background: #fff;line-height: 18px;margin-left: 5px;border-radius:0px;'></div>"),this.showColor.onTap(function(t){global.colorPanel&&global.colorPanel.showOrHide({e:t,elem:this.showColor,input:this.inputColor,closeAlpha:!0})}.bind(this)),this.panel.onTap(function(){global.colorPanel&&global.colorPanel.visible&&global.colorPanel.curElem[0]==this.showColor[0]&&global.colorPanel.hide()}.bind(this)),this.showColorBox.append(this.showColor),this.eraserBox.append(this.eraserWidth).append(this.inputEraserWidth),this.widthBox.append(this.setWidth).append(this.inputWidth),this.alphaBox.append(this.setAplha).append(this.inputAlpha),this.colorBox.append(this.setColor).append(this.inputColor).append(this.showColorBox),this.bottomBox.append(this.eraserBox).append(this.widthBox).append(this.alphaBox).append(this.colorBox)},setBtnSrc:function(){for(var t=[this.note,this.pen,this.rect,this.round,this.eraser,this.clear,this.undo,this.redo,this.save],i="note pen rect round eraser clear undo redo save".split(" "),e=0;e<t.length;e++)this.setSrc(t[e],phoneSvgIcons[i[e]])},setSrc:function(t,i){t.find(".note-svg").css({"pointer-events":"none",padding:"8px",width:"20px",height:"20px"}).html(i)},resizeSlider:function(){this.eraserSlider.onResize(),this.widthSlider.onResize(),this.alphaSlider.onResize()},selectCaseEvent:function(){this.defaultCaseEvent(),this.note.onTap(function(t){this.noteEvent()}.bind(this)),this.pen.onTap(function(t){this.selectCase!=AnnotationPannel.PEN?(this.selectCase=AnnotationPannel.PEN,this.setPanelIndex(2,0,"auto"),isPhone()||isPad()?this.pen.css({background:"rgba(255,255,255,0.2)"}):this.pen.css({background:"rgba(0,0,0,0.2)"}),this.bottomBox.css({display:"block"})):(this.pen.css({background:"transparent"}),this.defaultBottomCase()),this.eraserBox.css({display:"none"}),this.widthBox.css({display:"inline-block"}),this.alphaBox.css({display:"inline-block"}),this.colorBox.css({display:"inline-block"}),this.setWidth.text(getLanguage("DrawToolWindow_Width","Width")),this.setAplha.text(getLanguage("DrawToolWindow_Alpha","Alpha")),this.setColor.text(getLanguage("DrawToolWindow_Color","Color"))}.bind(this)),this.rect.onTap(function(t){this.selectCase!=AnnotationPannel.RECT?(this.selectCase=AnnotationPannel.RECT,this.setPanelIndex(2,3,"auto"),isPhone()||isPad()?this.rect.css({background:"rgba(255,255,255,0.2)"}):this.rect.css({background:"rgba(0,0,0,0.2)"}),this.bottomBox.css({display:"block"})):(this.rect.css({background:"transparent"}),this.defaultBottomCase()),this.eraserBox.css({display:"none"}),this.widthBox.css({display:"inline-block"}),this.alphaBox.css({display:"inline-block"}),this.colorBox.css({display:"inline-block"}),this.setWidth.text(getLanguage("TStuff_BorderWidth","Width")),this.setAplha.text(getLanguage("TStuff_BorderAlph","Alpha")),this.setColor.text(getLanguage("TStuff_BorderColor","Color"))}.bind(this)),this.round.onTap(function(t){this.selectCase!=AnnotationPannel.ROUND?(this.selectCase=AnnotationPannel.ROUND,this.setPanelIndex(2,3,"auto"),isPhone()||isPad()?this.round.css({background:"rgba(255,255,255,0.2)"}):this.round.css({background:"rgba(0,0,0,0.2)"}),this.bottomBox.css({display:"block"})):(this.round.css({background:"transparent"}),this.defaultBottomCase()),this.eraserBox.css({display:"none"}),this.widthBox.css({display:"inline-block"}),this.alphaBox.css({display:"inline-block"}),this.colorBox.css({display:"inline-block"}),this.setWidth.text(getLanguage("TStuff_BorderWidth","Width")),this.setAplha.text(getLanguage("TStuff_BorderAlph","Alpha")),this.setColor.text(getLanguage("TStuff_BorderColor","Color"))}.bind(this)),this.eraser.onTap(function(t){this.selectCase!=AnnotationPannel.ERASER?(this.selectCase=AnnotationPannel.ERASER,this.setPanelIndex(2,0,"auto"),isPhone()||isPad()?this.eraser.css({background:"rgba(255,255,255,0.2)"}):this.eraser.css({background:"rgba(0,0,0,0.2)"}),this.bottomBox.css({display:"block"})):(this.eraser.css({background:"transparent"}),this.defaultBottomCase()),this.eraserBox.css({display:"inline-block"}),this.widthBox.css({display:"none"}),this.alphaBox.css({display:"none"}),this.colorBox.css({display:"none"})}.bind(this)),this.clear.onTap(function(t){t=BookInfo.getCurrentPages(),this.selectCase=AnnotationPannel.NONE,this.setPanelIndex(0,0,"none");for(var i=0;i<t.length;i++){var e=this.book.find("#annotationCvsPanel"+t[i])[0].getContext("2d");e.beginPath(),e.stroke(),e.clearRect(0,0,this.pageWidth,this.pageHeight),e.closePath()}global.annotationCookie.setAllAnnoSteps(11,t.map(function(t){return t-1}),[{type:"Clear"}]),global.annotationCookie.stepIndex+=1}.bind(this)),this.exit.onTap(function(t){this.hide(),t=BookInfo.getCurrentPages();for(var i=0;i<t.length;i++)global.annotationCookie.repaintCookie(this.pageWidth,this.pageHeight,t[i]-1);bookConfig.toolbarAlwaysShow&&toolBar&&!toolBar.visible&&toolBar.show()}.bind(this)),this.save.onTap(function(t){global.annotationCookie.saveCookie(),this.hide(),bookConfig.toolbarAlwaysShow&&toolBar&&!toolBar.visible&&toolBar.show()}.bind(this)),this.undo.onTap(function(t){this.setPanelIndex(0,0,"none"),this.selectCase=AnnotationPannel.NONE,--global.annotationCookie.stepIndex,global.annotationCookie.stepIndex<=0&&(global.annotationCookie.stepIndex=0),global.annotationCookie.repaintSteps()}.bind(this)),this.redo.onTap(function(t){this.setPanelIndex(0,0,"none"),this.selectCase=AnnotationPannel.NONE,global.annotationCookie.stepIndex+=1,global.annotationCookie.stepIndex>=global.annotationCookie.allAnnoSteps.length&&(global.annotationCookie.stepIndex=global.annotationCookie.allAnnoSteps.length),global.annotationCookie.repaintSteps()}.bind(this))},defaultCaseEvent:function(){this.annoBtnBox.find("div").onTap(function(t){"p"!=(t=t.target).tagName.toLowerCase()&&"img"!=t.tagName.toLowerCase()||(t=$(t).parent()),$(t).siblings("div").css({background:"transparent"})}.bind(this))},initCss:function(){this.mainColor=Color(bookConfig.formBackgroundColor||bookConfig.toolbarColor).toString(),this.fontColor=Color(bookConfig.formFontColor||bookConfig.iconColor).toString(),this.mainColorObj=Color(this.mainColor),this.fontColorObj=Color(this.fontColor),this.panel.css({background:this.mainColorObj.toString(),display:"none",position:"absolute",width:"100%",height:"auto","border-radius":"1px",bottom:"0",left:"0px","z-index":"99"}),this.topBox.css({"-webkit-overflow-scrolling":"touch",width:"100%","text-align":"center","overflow-x":"scroll",position:"relative",border:"1px solid rgba(255,255,255,0.25)","border-left":"none","border-right":"none",background:this.mainColorObj.toString()}),this.annoBtnBox.css({display:"inline-block",width:"516px",padding:"5px 0","text-align":"center",position:"relative",height:"52px",top:"0",left:"0"}),this.bottomBox.css({display:"none","vertical-align":"middle",left:"0",background:this.mainColorObj.toString(),color:"#fff",border:"1px solid rgba(0, 0, 0, 0.1)","font-family":"Tahoma , sans-serif , Arial",position:"relative",padding:"5px"}),this.note.css({cursor:"pointer",position:"relative",float:"left",width:"36px",height:"36px",top:"10px"}),this.pen.css({cursor:"pointer",width:"36px",height:"36px",position:"relative",float:"left",top:"10px"}),this.rect.css({cursor:"pointer",width:"36px",height:"36px",position:"relative",float:"left",top:"10px"}),this.round.css({cursor:"pointer",width:"36px",height:"36px",position:"relative",float:"left",top:"10px"}),this.eraser.css({cursor:"pointer",position:"relative",float:"left",width:"36px",height:"36px",top:"10px"}),this.clear.css({cursor:"pointer",position:"relative",float:"left",width:"36px",height:"36px",top:"10px"}),this.undo.css({cursor:"pointer",position:"relative",float:"left",width:"36px",height:"36px",top:"10px"}),this.redo.css({cursor:"pointer",position:"relative",float:"left",width:"36px",height:"36px",top:"10px"}),this.save.css({cursor:"pointer",position:"relative",float:"left",width:"36px",height:"36px",top:"10px"}),this.exit.css({cursor:"pointer",position:"relative",float:"left","text-align":"center",width:"100%",height:"40px","line-height":"40px",color:"#fff"})},onResize:function(){this.initPageConfig(),this.book=BookInfo.getBook().showPage,this.alphaSlider.onResize(),this.widthSlider.onResize(),this.eraserSlider.onResize()},showOrHide:function(){this.visible?this.hide():this.show()},resetAnnoConfig:function(){this.clearBtnDownCase(),this.defaultBottomCase(),global.annotationCookie&&global.annotationCookie.clearUnsaveCookie()},show:function(){var t=transformCSS({origin:{x:0,y:0},tran:{x:0,y:240},scale:1}),i=transformCSS({origin:{x:0,y:0},tran:{x:0,y:0},scale:1});this.panel.css({display:"block"}).css(t),setTimeout(function(){animateOnce(this.panel,i,300,function(){global.toolBar&&(global.toolBar.hide(),global.toolBar.showExtendedBar=!1),this.visible=!0}.bind(this),"%stransform")}.bind(this),10)},hide:function(){var t=transformCSS({origin:{x:0,y:0},tran:{x:0,y:240},scale:1});global.toolBar&&global.toolBar.hide(),animateOnce(this.panel,t,300,function(){this.resetAnnoConfig(),this.visible=!1,this.panel.css({display:"none"})}.bind(this),"%stransform")}}).extend("AnnotationPannel"),PhoneAnnotationSlider=Class({create:function(t,i,e,o,s,n){this.maxNum=o,this.maxWidth=windowWidth-140,this.minLeft=102,this.maxLeft=windowWidth-38,this.slider=$("<div class='"+e+"Slider' style='-webkit-tap-highlight-color: transparent;outline: none;position:absolute;z-index:0;cursor:pointer;left:"+this.minLeft+"px;top:8px;width:"+this.maxWidth+"px;height:2px;border-radius: 2px;border:2px solid transparent;'></div>"),this.sliderBg=$("<div class='"+e+"SliderBg' style='z-index:0;pointer-events:none; position:absolute;cursor:pointer;width:100%;height:2px;background:#777777;border-radius: 2px;'></div>"),this.sliderEnter=$("<div class='"+e+"SliderEnter' style='pointer-events:none;z-index:1;pointer-events:none;position:absolute;left:0;width:"+n/this.maxNum*this.maxWidth+"px;height:2px;background:#fff;border-radius: 2px;'></div>"),this.pointer=$("<div class='"+e+"SliderPointer' style='z-index:2;cursor:pointer;position:absolute;left:"+(n/this.maxNum*this.maxWidth-8)+"px;top:-9px;width:16px;height:16px;border:2px solid transparent;'><span style='border-radius: 50%;background: #ffffff;pointer-events:none;position:absolute;width:16px;height:16px;'></span></div>"),this.number=n,this.numberBubble=$("<div style='pointer-events:none;display:none;position:absolute;background:#ffffff;color:#111;border-radius:3px;box-shadow:0 0 2px #000;top:-36px;width:28px;height:24px;'><div style='position: absolute;border: 8px solid #fff;border-right: 6px solid transparent;border-bottom: 8px solid transparent;border-left: 6px solid transparent;bottom: -16px;left: 8px;'></div><p class='bubbleNum' style='width:100%;line-height:24px;line-height: 24px;text-align: center;'>"+this.number+"</p></div>"),this.slider.append(this.sliderEnter).append(this.pointer).append(this.sliderBg),i.append(this.slider).append(this.numberBubble);var a=!1,h=0,r={x:0,y:0},g={x:0,y:0};this.pointer.bind(_event._down,function(t){a=!0}.bind(this)),this.slider.bind(_event._down,function(t){$(t.target)==this.pointer[0]&&(a=!0),(r=getPositionFromEvt(t)).x<=this.minLeft&&(r.x=this.minLeft),r.x>=this.maxLeft&&(r.x=this.maxLeft),a?this.numberBubble.css({display:"block"}).css({left:this.pointer.left()+this.minLeft-3+"px"}):(number=Math.ceil((r.x-this.minLeft-16)/this.maxWidth*this.maxNum),this.numberBubble.css({display:"block"}).css({left:r.x-17+"px"}).find(".bubbleNum").html(this.getNumber(r.x-this.minLeft-17,this.maxWidth,s,this.maxNum)),this.pointer.animate({left:r.x-this.minLeft-17+"px"},"normal",function(){this.numberBubble.css({display:"none"})}.bind(this)),this.sliderEnter.animate({width:r.x-this.minLeft-7+"px"})),g=r}.bind(this)),t.bind(_event._move,function(t){var i;a&&((g=getPositionFromEvt(t)).x<=this.minLeft&&(g.x=this.minLeft),g.x>=this.maxLeft&&(g.x=this.maxLeft),i=g.x-r.x,h=(h=this.pointer.left()+i)<-8?-8:h>this.maxWidth-8?this.maxWidth-8:h,t.preventDefault(),this.numberBubble.css({left:h+this.minLeft-3+"px"}).find(".bubbleNum").html(this.getNumber(g.x-this.minLeft,this.maxWidth,s,this.maxNum)),this.pointer.css({left:h+"px"}),this.sliderEnter.css({width:h+4+"px"}),r=g),r=g}.bind(this)),t.bind(_event._up,function(t){r=g,this.numberBubble.css({display:"none"}),a&&(a=!1,h)&&g&&(this.numberBubble.css({left:h+this.minLeft-4+"px"}).find(".bubbleNum").html(this.getNumber(g.x-this.minLeft,this.maxWidth,s,this.maxNum)),this.pointer.css({left:h+"px"}),this.sliderEnter.css({width:h+4+"px"}),h=0)}.bind(this))},onResize:function(){this.maxWidth=windowWidth-140,this.minLeft=102,this.maxLeft=windowWidth-38,this.slider.css({width:this.maxWidth+"px"});var t=+this.numberBubble.find(".bubbleNum").text()/this.maxNum*this.maxWidth;this.numberBubble.css({left:t+"px"}),this.pointer.css({left:t-8+"px"}),this.sliderEnter.css({width:t-4+"px"})},getNumber:function(t,i,e,o){return t=o<=(t=(t=Math.ceil(t/i*o))<=e?e:t)?o:t}}),AnnotationAddNote=Class({create:function(t,i,e){this.parent=t,(this.config=i).colorIndex||(i.colorIndex=0),this.size=.05,this.setColorIndex(i.colorIndex),this.initPageConfig(),this.colorArr="#FFF1dc #ffe2df #e6f6ff #e7ffea #f3e9ff #d0cdc7".split(" "),this.position={x:i.position.x*this.notePanelWidth,y:i.position.y*this.notePanelHeight},(isPhone()||isPad())&&(this.position={x:i.position.x*this.notePanelWidth/global.annotationCookie.scale,y:i.position.y*this.notePanelHeight/global.annotationCookie.scale}),this.noteShow=e,this.container=$("<div id="+i.id+" title='"+this.config.value+"' class='noteContainer'></div>"),this.icon=$("<div class='noteSvgIcon'>"+this.getNoteSvg("#FFF1dc")+"</div>"),i.colorIndex&&this.icon.html(this.getNoteSvg(this.colorArr[i.colorIndex])),this.close=$("<p class='note-panel-close'><span class='note-btn-icon'></span></p>"),this.remove=$("<p class='note-panel-remove'><span class='note-btn-icon'></span></p>"),this.noteTitle=$("<div class='noteTitle'>"+this.config.time+"</div>"),this.noteTitleBg=$("<div class='notetitleBg' style='width:100%;height:28px;position:absolute;left:0;background:rgba(11,11,11,0.1);'></div>"),this.noteBox=$("<div class='noteBox'></div>"),this.textarea=$("<textarea placeholder='"+getLanguage("tltAddTexts","add texts")+"...'>"+this.config.value+"</textarea>"),this.colorBox=$("<div class='colorBox'></div>"),this.initColorItems(),this.noteBox.append(this.noteTitleBg).append(this.noteTitle).append(this.close).append(this.remove).append(this.textarea).append(this.colorBox),this.container.append(this.icon).append(this.noteBox),this.parent.append(this.container),this.initDeletePart(),this.initCss(),this.initEvent(),this.showOrHide(),this.moveEvent()},initDeletePart:function(){this.deleteBox=$("<div class='deleteBox' ></div>"),this.centerBox=$("<div class='centerBox' style='border-radius:4px;text-align:center;position:absolute;left:50%;top:35%;transform:translate(-50%,-50%);width:100%;'></div>"),this.deleteAlertText=$("<div class='infDeleteNote' style='padding: 0 10px;font-size:18px;'>"+getLanguage("infDeleteNote","Do you want to delete the note?")+"</div>"),this.confirmBox=$("<div style='text-align:center;position:absolute;bottom:0;height:50px;line-height:50px;width:100%;border-top:1px solid rgba(11,11,11,0.1);'></div>"),this.yes=$("<div class='yes deleteBtn' style='cursor:pointer;display:inline-block;color:#FF5E5F;border-left: 1px solid rgba(11,11,11,0.1);width:114px;height:50px;line-height:50px;'>"+getLanguage("lblConfirm","confirm")+"</div>"),this.no=$("<div class='no deleteBtn' style='cursor:pointer;display:inline-block; width:113px;height:50px;line-height:50px;'>"+getLanguage("lblCancel","cancel")+"</div>"),this.centerBox.append(this.deleteAlertText),this.confirmBox.append(this.no).append(this.yes),this.deleteBox.append(this.centerBox).append(this.confirmBox),this.deleteBox.css({"z-index":"10000",background:"#fff","box-shadow":" 0 0 3px #bbb",display:"none",width:"228px",height:"164px",position:"absolute",top:"0",left:"0",bottom:"0",right:"0"}),this.noteBox.append(this.deleteBox),this.confirmBox.find(".deleteBtn").bind("mouseenter",function(t){$(t.target).css({background:"rgba(11,11,11,0.1)"})}.bind(this)),this.confirmBox.find(".deleteBtn").bind("mouseleave",function(t){$(t.target).css({background:""})}.bind(this)),this.yes.onTap(function(){this.deleteBox.fadeOut(200,function(){global.annotationCookie.deleteNoteCookie("Note",this.config.index,this.config.id),this.container.remove(),this.container=void 0}.bind(this))}.bind(this)),this.no.onTap(function(){this.deleteBox.fadeOut(200)}.bind(this))},setColorIndex:function(t){this.colorIndex=t},initPageConfig:function(){this.pageIndex=this.config.index+1,BookInfo.getBook().pageArray.length&&BookInfo.getBook().pageArray[this.pageIndex]&&("slide"==bookConfig.FlipStyle.toLocaleLowerCase()&&BookInfo.isDoublePage(BookInfo.getBookType())?(BookInfo.getBook().pageArray[this.pageIndex].leftPage?this.page=BookInfo.getBook().pageArray[this.pageIndex].leftPage:BookInfo.getBook().pageArray[this.pageIndex].rightPage&&(this.page=BookInfo.getBook().pageArray[this.pageIndex].rightPage),rightToLeft&&BookInfo.getBook().pageArray[this.pageIndex].rightPage&&(this.page=BookInfo.getBook().pageArray[this.pageIndex].rightPage)):this.page=BookInfo.getBook().pageArray[this.pageIndex].page,this.pageWidth=this.page.pageWidth,this.pageHeight=this.page.pageHeight,this.page.pageAttachments?(this.notePanelWidth=this.page.pageAttachments.pageWidth,this.notePanelHeight=this.page.pageAttachments.pageHeight):(this.notePanelWidth=this.parent.width(),this.notePanelHeight=this.parent.height()),isPhone()||isPad()?(this.noteBoxWidth=148<parseInt(this.notePanelWidth/2)?148:parseInt(this.notePanelWidth/2),this.noteBoxHeight=80<parseInt(this.notePanelHeight/2)?80:parseInt(this.notePanelHeight/2)):(this.noteBoxWidth=228<parseInt(this.notePanelWidth/2)?228:parseInt(this.notePanelWidth/2),this.noteBoxHeight=100<parseInt(this.notePanelHeight/2)?100:parseInt(this.notePanelHeight/2)),this.noteBoxHeight>this.noteBoxWidth-20)&&(this.noteBoxHeight=this.noteBoxWidth-20)},initColorItems:function(){var t=(this.noteBoxWidth-72)/7;t<4&&(t=4);for(var i=0;i<this.colorArr.length;i++){var e=$("<span style='float:left;cursor:pointer;background:"+this.colorArr[i]+";margin: 9px 0 9px "+t+"px;width:12px;height:12px;display:inline-block;border-radius:50%;box-shadow:0 0 0 1px rgba(11,11,11,0.3);-webkit-box-shadow:0 0 0 1px rgba(11,11,11,0.3)'></span>");i==this.colorIndex&&(e.addClass("active").css({"box-shadow":"0 0 0 2px #4BA0FF","-webkit-box-shadow":"0 0 0 2px #4BA0FF"}),this.noteBox.css({background:this.colorArr[i]})),this.colorItemEvent(e,i),this.colorBox.append(e)}},colorItemEvent:function(t,i){t.bind(_event._click,function(){this.colorBox.find("span").removeClass("active").css({"box-shadow":"0 0 0 1px rgba(11,11,11,0.3)","-webkit-box-shadow":"0 0 0 1px rgba(11,11,11,0.3)"}),t.css({"box-shadow":"0 0 0 2px #4BA0FF","-webkit-box-shadow":"0 0 0 2px #4BA0FF"}).addClass("active"),this.noteBox.css({background:this.colorArr[i]}),this.setColorIndex(i),this.icon.html(this.getNoteSvg(this.colorArr[i])),this.saveNoteCookie()}.bind(this))},getNoteSvg:function(t){return'<svg style="position:absolute;top:0;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><defs><style>.cls-1, .cls-2 {fill-rule: evenodd;}.cls-1 {opacity: 0.85;}</style></defs><path id="形状_2" data-name="形状 2" class="cls-1" d="M2,0H15.917A1.98,1.98,0,0,1,18,2V13l-5,5s-8.875.063-11,0-2-2.667-2-2.667-0.062-10.562,0-13S2,0,2,0Z"/><path  fill="'+t+'" id="形状_2_拷贝" data-name="形状 2 拷贝" class="cls-2" d="M2,1H16a0.863,0.863,0,0,1,1,1c-0.031,1.156,0,10,0,10H12v5H2s-0.906.281-1-1S0.969,3,1,2A0.994,0.994,0,0,1,2,1ZM13,13h4l-4,4V13ZM4.5,5h5a0.5,0.5,0,0,1,0,1h-5A0.5,0.5,0,0,1,4.5,5Zm0,3h7a0.5,0.5,0,0,1,0,1h-7A0.5,0.5,0,0,1,4.5,8Zm0,3h5a0.5,0.5,0,0,1,0,1h-5A0.5,0.5,0,0,1,4.5,11Z"/></svg>'},initCss:function(){var t=global.annotationCookie.scale;this.colorBox.css({"text-align":"center",position:"absolute",overflow:"hidden",bottom:"0",left:"0",width:"100%",height:"28px",background:"rgba(11,11,11,0.1)"}),this.close.find(".note-btn-icon").css({background:"url("+uiBaseURL+"annotationSprite.png) -72px -1px no-repeat",position:"absolute",height:"14px",width:"14px",top:"4px",right:"4px"}),this.remove.find(".note-btn-icon").css({background:"url("+uiBaseURL+"annotationSprite.png) -120px -17px no-repeat",position:"absolute",height:"14px",width:"14px",top:"4px",right:"4px"}),this.close.css({cursor:"pointer",position:"absolute",height:"14px",width:"14px",padding:"4px",top:"3px",right:"3px"}),this.remove.css({cursor:"pointer",position:"absolute",height:"14px",width:"14px",padding:"4px",top:"3px",right:"27px"}),this.container.css({"font-size":14/t+"px","z-index":"1001",position:"absolute",width:this.size*this.notePanelWidth+"px",left:this.position.x+"px",top:this.position.y+"px",height:this.size*this.notePanelWidth+"px"}),this.icon.css({cursor:"pointer",width:"100%",height:"100%"}),this.icon.find("img").css({position:"relative",cursor:"pointer",width:"100%",height:"100%","z-index":"51"}),this.noteBox.css({overflow:"hidden","border-radius":"5px","padding-bottom":"24px","z-index":"1","-webkit-box-shadow":" 2px 2px 5px #111","-o-box-shadow":" 2px 2px 5px #111","-moz-box-shadow":" 2px 2px 5px #111","-ms-box-shadow":" 2px 2px 5px #111","box-shadow":" 2px 2px 5px #111",background:"#FFF1dc",position:"absolute","min-width":this.noteBoxWidth/t+"px","min-height":this.noteBoxHeight/t+"px",top:this.container.width()+10+"px",left:"0"}),this.noteTitle.css({overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","font-size":12/t+"px",position:"relative",width:this.noteBoxWidth-68+"px",padding:6/t+"px "+8/t+"px"}),this.textarea.css({resize:"none",border:"none",overflow:"auto","padding-top":"5px",background:"transparent","font-size":12/t+"px",position:"relative",width:(this.noteBoxWidth-20)/t+"px",margin:"0 "+8/t+"px 0",height:this.noteBoxHeight/t+"px"}),(isPad()||isPhone())&&(this.close.find(".note-btn-icon").css({opacity:"1"}),this.remove.find(".note-btn-icon").css({opacity:"1"}))},getPage:function(t){var i,e="";return"slide"==bookConfig.FlipStyle.toLocaleLowerCase()&&BookInfo.isDoublePage(BookInfo.getBookType())?(i=BookInfo.getBook().currentPage).leftPage&&i.leftPage.pageIndex==t?e=i.leftPage.pageAttachments.$animation:i.rightPage&&i.rightPage.pageIndex==t&&(e=i.rightPage.pageAttachments.$animation):e=BookInfo.getBook().pageArray[t].page.pageAttachments.$animation,e},elemDrag:function(g,t){(t=new Hammer(g[0])).on("panstart",function(t){t=this.getPanPosition(t),this.X=t.x,this.Y=t.y,this.isfocus=!0}.bind(this)),t.on("panend",function(t){this.isfocus=!1}.bind(this)),t.on("panmove",function(t){if(this.isfocus){this.initPageConfig();var i=global.annotationCookie.tranScale||1,e=global.annotationCookie.scale||1,o=(t=this.getPanPosition(t)).x/e-this.X/e,s=t.y/e-this.Y/e,e=g.left()+o,o=g.top()+s,n=this.parent.offset(),s=(this.pageWidth-this.parent.width())/2,a=(this.pageHeight-this.parent.height())/2,h=BookInfo.getCurrentPages();if(h.length<2)(e=e<=-s?-s:e)>=this.pageWidth-g.width()-s&&(e=this.pageWidth-g.width()-s);else if(n.left-s>=windowWidth/2)if(2==h.length&&t.x-n.left<-g.width()/2-s)for(n=0;n<h.length;n++){var r=this.getPage(h[n]);if(r[0]!=this.parent[0]){s=(this.pageWidth-r.width())/2,e=this.pageWidth-g.width()-s,r.css({display:"block"}).append(g),this.parent=r,global.annotationCookie.deleteNoteCookie("Note",this.config.index,this.config.id),this.config.index=h[n]-1;break}}else(e=e<=-s?-s:e)>=this.pageWidth-g.width()-s&&(e=this.pageWidth-g.width()-s);else if(e<=-s)e=-s;else if(t.x>=n.left+this.pageWidth+g.width()/2-s&&2==h.length){for(n=0;n<h.length;n++)if((r=this.getPage(h[n]))[0]!=this.parent[0]){e=-(s=(this.pageWidth-r.width())/2),r.css({display:"block"}).append(g),this.parent=r,global.annotationCookie.deleteNoteCookie("Note",this.config.index,this.config.id),this.config.index=h[n]-1;break}}else t.x>=n.left+this.pageWidth-g.width()/2-s&&t.x<=n.left+this.pageWidth+g.width()/2+-s&&(e=this.pageWidth-g.width()-s);o<=-a?o=-a:isPhone()||isPad()?o>this.pageHeight-g.height()-a&&(o=this.pageHeight-g.height()-a):o>this.pageHeight-g.height()-10-(this.noteBox.height()+24)*i-a&&(o=this.pageHeight-g.height()-10-(this.noteBox.height()+24)*i-a),(e=e<=-s?-s:e)>=this.pageWidth-g.width()-s&&(e=this.pageWidth-g.width()-s),g.css({left:parseFloat(e)+"px",top:parseFloat(o)+"px"}),isPhone()||isPad()||(this.pageWidth-this.container.left()-s<=this.noteBox.width()*i?(i=this.pageWidth-this.container.left()-s-this.noteBox.width()*i,this.noteBox.css({left:i+"px",top:this.container.width()+10+"px"})):this.noteBox.css({left:"0px",top:this.container.width()+10+"px"})),this.X=t.x,this.Y=t.y,this.saveNoteCookie()}}.bind(this))},resetNotePos:function(){this.parent.height();var t=(this.pageWidth-this.parent.width())/2,i=(this.container.top(),this.container.left()),e=global.annotationCookie.tranScale||1;(i=i<=-t?-t:i)>=this.pageWidth-this.noteBox.width()-t&&this.noteBox.width(),nLeft=this.pageWidth-this.container.left()-t<=this.noteBox.width()*e?this.pageWidth-this.container.left()-t-this.noteBox.width()*e:0,this.noteBox.css({left:nLeft+"px"})},getPhoneStartPos:function(t,i){return{x:((t=t||window.event).originalEvent.targetTouches[0].pageX||t.originalEvent.targetTouches[0].clientX)+(document.documentElement.scrollLeft||document.body.scrollLeft),y:(t.originalEvent.targetTouches[0].pageY||t.originalEvent.targetTouches[0].clientY)+(document.documentElement.scrollTop||document.body.scrollTop)}},getPhoneEndPos:function(t){return{x:((t=t||window.event).originalEvent.changedTouches[0].pageX||t.originalEvent.changedTouches[0].clientX)+(document.documentElement.scrollLeft||document.body.scrollLeft),y:(t.originalEvent.changedTouches[0].pageY||t.originalEvent.changedTouches[0].clientY)+(document.documentElement.scrollTop||document.body.scrollTop)}},getPanPosition:function(t){return t.center},moveEvent:function(){tmpContainer.bind(_event._up,function(){this.isfocus=!1}.bind(this)),this.container.bind("pointerdown ",function(t){t.stopPropagation()}.bind(this)),this.elemDrag(this.container,tmpContainer,""),this.elemDrag(this.noteBox,tmpContainer,"")},iconEvent:function(){this.container.bind("touchstart touchend",function(t){t.stopPropagation(),t.preventDefault()}.bind(this)),this.noteBox.bind("touchstart touchend",function(t){t.stopPropagation()}.bind(this)),this.container.bind("mousedown mouseup",function(t){t.stopPropagation(),t.preventDefault()}.bind(this)),this.icon.bind(_event._down,function(t){t=getPositionFromEvt(t),this.iconX=t.x,this.iconY=t.y}.bind(this)),this.icon.bind(_event._down,function(t){isPhone()||isPad()||this.icon.css({opacity:"0.7"})}.bind(this)),this.icon.bind(_event._up,function(t){isPhone()||isPad()||this.icon.css({opacity:""})}.bind(this)),this.icon.bind(_event._enter,function(t){isPhone()||isPad()||this.icon.css({opacity:"0.85"})}.bind(this)),this.icon.bind(_event._leave,function(t){isPhone()||isPad()||this.icon.css({opacity:""})}.bind(this)),this.textarea.bind("keyup",function(){this.colorIndex=this.colorBox.find(".active").index(),this.saveNoteCookie(!0)}.bind(this)),this.showNoteEvent()},showNoteEvent:function(){this.initNoteEvent(),this.container.bind(_event._up,function(t){var i=(t=getPositionFromEvt(t)).y;Math.abs(t.x-this.iconX)<3&&Math.abs(i-this.iconY)<3&&this.showOrHide(),this.saveNoteCookie()}.bind(this))},initEvent:function(){this.iconEvent(),this.container.bind("pointerdown",function(t){t.stopPropagation()}.bind(this)),isPhone()||isPad()?this.textarea.bind("click mousedown mouseup pointerdown mouseover",function(t){t.stopPropagation()}):this.textarea.bind("click mousedown pointerdown mouseover",function(t){t.stopPropagation()}),this.container.bind(_event._mousewheel,function(t){t.stopPropagation()}.bind(this));for(var t=[this.close,this.remove],i=0;i<t.length;i++)!function(i){i.bind(_event._down,function(t){isPhone()||isPad()||i.css({"background-color":"rgba(11,11,11,0.3)"})}.bind(this)),i.bind(_event._up,function(t){isPhone()||isPad()||i.css({"background-color":"transparent"})}.bind(this))}.call(this,t[i])},initNoteEvent:function(){this.close.bind(_event._click,function(){this.noteShow=!0,this.saveNoteCookie(),this.noteBox.css({display:"none"})}.bind(this)),this.remove.bind(_event._click,function(){this.deleteBox.fadeIn(200)}.bind(this))},showOrHide:function(){this.noteShow?(this.noteBox.css({display:"block"}),this.noteShow=!1):(this.noteBox.css({display:"none"}),this.noteShow=!0,this.resetNotePos()),this.hasMove=!1},saveNoteCookie:function(){this.config.value=this.textarea.val(),this.config.colorIndex=this.colorIndex,this.container.attr("title",this.config.value),this.config.position={x:this.container.left()/this.notePanelWidth*global.annotationCookie.scale,y:this.container.top()/this.notePanelHeight*global.annotationCookie.scale},global.annotationCookie.saveNoteCookie("Note",this.config.index,this.config.id,this.config)}}),AnnotationAddMobileNote=Class({create:function(t,i,e){this.mobileNoteBox=$("<div class='mobile_note' id='"+i.id+"' style='display:none;position:absolute;z-index:10001;width:100%;height:100%;left:0;top:0;bottom:0;right:0;background:rgba(0,0,0,0.85);'></div>"),this._super(t,i,e),this.size=.05,this.container.css({"font-size":"14px","z-index":"1001",position:"absolute",width:this.size*this.notePanelWidth+"px",left:this.position.x+"px",top:this.position.y+"px",height:this.size*this.notePanelWidth+"px"})},initDeletePart:function(){this.deleteBox=$("<div class='deleteBox' ></div>"),this.centerBox=$("<div class='centerBox' style='border-radius:4px;background: #fff; padding:50px 0 0; box-shadow: 0 0 3px #bbb;text-align:center;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:100%;'></div>"),this.deleteAlertText=$("<div style='padding: 0 10px 39px;font-size:18px;border-bottom: 1px solid rgba(11,11,11,0.1);'>"+getLanguage("infDeleteNote","Do you want to delete the note?")+"</div>"),this.yes=$("<div class='yes' style='color:#FF5E5F;cursor:pointer;display:inline-block;border-left: 1px solid rgba(11,11,11,0.1);width:50%;height:60px;line-height:60px;'>"+getLanguage("lblConfirm","confirm")+"</div>"),this.no=$("<div class='no' style='color:#111;cursor:pointer;display:inline-block;  width:49%;height:60px;line-height:60px;'>"+getLanguage("lblCancel","cancel")+"</div>"),this.centerBox.append(this.deleteAlertText).append(this.no).append(this.yes),this.deleteBox.append(this.centerBox),this.deleteBox.css({"z-index":"10000",background:"rgba(11,11,11,0.5)",display:"none",width:"100%",height:"100%",position:"absolute",top:"0",left:"0",bottom:"0",right:"0"}),this.noteBox.append(this.deleteBox)},initDeleteEvent:function(){this.yes.onTap(function(){this.deleteBox.fadeOut(200,function(){global.annotationCookie.deleteNoteCookie("Note",this.config.index,this.config.id),this.container.remove(),this.container=void 0,this.mobileNoteBox.remove()}.bind(this))}.bind(this)),this.no.onTap(function(){this.deleteBox.fadeOut(200)}.bind(this))},moveEvent:function(){tmpContainer.bind(_event._up,function(){this.isfocus=!1}.bind(this)),this.elemDrag(this.container,tmpContainer,"")},initPageConfig:function(){this._super(),this.noteBoxWidth=windowHeight<windowWidth?.8*windowHeight:.8*windowWidth,this.noteBoxHeight=9*this.noteBoxWidth/16},initColorItems:function(){this.colorBox.html("");var t=(this.noteBoxWidth-120)/14;8<(t=t<4?4:t)&&(t=8);for(var i=0;i<this.colorArr.length;i++){var e=$("<span style='cursor:pointer;background:"+this.colorArr[i]+";margin: 10px "+t+"px;width:20px;height:20px;display:inline-block;border-radius:50%;box-shadow:0 0 0 1px rgba(11,11,11,0.3);-webkit-box-shadow:0 0 0 1px rgba(11,11,11,0.3)'></span>");i==this.colorIndex&&(e.addClass("active").css({"box-shadow":"0 0 0 2px #4BA0FF","-webkit-box-shadow":"0 0 0 2px #4BA0FF"}),this.noteBox.css({background:this.colorArr[i]})),this.colorItemEvent(e,i),this.colorBox.append(e)}},initNoteEvent:function(){this.close.onTap(function(){this.saveNoteCookie(),this.showOrHide()}.bind(this)),this.remove.onTap(function(){this.deleteBox.fadeIn(200)}.bind(this)),this.initDeleteEvent()},showNoteEvent:function(){this.container.bind(_event._up,function(t){var i=(t=getPositionFromEvt(t)).y;Math.abs(t.x-this.iconX)<3&&Math.abs(i-this.iconY)<3&&this.showOrHide()}.bind(this))},initCss:function(){var t=global.annotationCookie.scale;this.noteTitleBg.css({height:"40px"}),this.colorBox.css({"text-align":"center",position:"absolute",overflow:"hidden",bottom:"0",left:"0",width:"100%",height:"40px",background:"rgba(11,11,11,0.1)"}),this.close.find(".note-btn-icon").css({background:"url("+uiBaseURL+"annotationSprite.png) -72px -1px no-repeat",position:"absolute",height:"14px",width:"14px",top:"4px",right:"5px"}),this.remove.find(".note-btn-icon").css({background:"url("+uiBaseURL+"annotationSprite.png) -120px -17px no-repeat",position:"absolute",height:"14px",width:"14px",top:"4px",right:"5px"}),this.close.css({cursor:"pointer",position:"absolute",height:"14px",width:"14px",padding:"5px",top:"8px",right:"9px"}),this.remove.css({cursor:"pointer",position:"absolute",height:"14px",width:"14px",padding:"5px",top:"8px",right:"42px"}),this.icon.css({cursor:"pointer",width:"100%",height:"100%"}),this.icon.find("img").css({position:"relative",cursor:"pointer",width:"100%",height:"100%","z-index":"51"}),this.noteBox.css({overflow:"hidden","border-radius":"5px","padding-bottom":"40px","z-index":"1","-webkit-box-shadow":" 2px 2px 5px #111","-o-box-shadow":" 2px 2px 5px #111","-moz-box-shadow":" 2px 2px 5px #111","-ms-box-shadow":" 2px 2px 5px #111","box-shadow":" 2px 2px 5px #111",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)","min-width":this.noteBoxWidth/t+"px","min-height":this.noteBoxHeight/t+"px"}),this.noteTitle.css({overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","font-size":12/t+"px",position:"relative",width:this.noteBoxWidth-82+"px",padding:12/t+"px "+8/t+"px"}),this.textarea.css({resize:"none",border:"none",overflow:"auto","padding-top":"5px",background:"transparent","font-size":12/t+"px",position:"relative",width:(this.noteBoxWidth-20)/t+"px",margin:"0 "+8/t+"px 0",height:this.noteBoxHeight/t+"px"}),(isPad()||isPhone())&&(this.close.find(".note-btn-icon").css({opacity:"1"}),this.remove.find(".note-btn-icon").css({opacity:"1"}))},showOrHide:function(){this.noteShow?(this.initPageConfig(),this.initColorItems(),this.initCss(),this.mobileNoteBox.html(this.noteBox),tmpContainer.append(this.mobileNoteBox),this.mobileNoteBox.css({display:"block"}),this.noteBox.css({display:"block"}),this.initNoteEvent(),this.noteShow=!1):(this.mobileNoteBox.css({display:"none"}),this.mobileNoteBox.html(""),this.mobileNoteBox.remove(),this.noteBox.css({display:"none"}),this.noteShow=!0),this.hasMove=!1},saveNoteCookie:function(){this.config.value=this.textarea.val(),this.config.colorIndex=this.colorIndex,this.container.attr("title",this.config.value),this.config.position={x:this.container.left()/this.notePanelWidth*global.annotationCookie.scale,y:this.container.top()/this.notePanelHeight*global.annotationCookie.scale},global.annotationCookie.saveNoteCookie("Note",this.config.index,this.config.id,this.config)}}).extend("AnnotationAddNote"),phoneGotoPage=Class({create:function(t){this.mainColor=Color(bookConfig.toolbarColor),this.iconColor=Color(bookConfig.iconColor),this.menu=$("<div id='menu' style='position:absolute;width:100%;height:90px;z-index:98;bottom:-100px;overflow:hidden;'></div>"),this.background=$("<div id='background' style='position:absolute;width:100%;height:90px;'></div>"),this.contentBox=$("<div id='contentBox' class='phoneGotoPageContent' style='position:absolute;width:100%;height:90px;'></div>"),this.background.css({background:this.mainColor.toString(),opacity:.8*bookConfig.ToolBarAlpha}),t.append(this.menu),this.menu.append(this.background),this.menu.append(this.contentBox),this.initContentBox(),this.initSlider(),this.initEvent(),this.visible=!1},initContentBox:function(){this.contentBox.css({"text-align":"center",display:"inline-block"}),this.backwardButton=$("<div class='btn' style='margin-left:-3px;'><div class='svg-box'></div><img src='' style='max-width:20px;max-height:20px;margin:0px;'/></div>"),this.firstButton=$("<div class='btn'><div class='svg-box'></div><img src='' style='max-width:20px;max-height:20px;margin:0px;'/></div>"),bookConfig.enablePageBack||this.firstButton.css({"margin-left":"-3px"}),this.prevButton=$("<div class='btn'><div class='svg-box'></div><img src='' style='max-width:20px;max-height:20px;margin:0px;'/></div>"),this.nextButton=$("<div class='btn'><div class='svg-box'></div><img src='' style='max-width:20px;max-height:20px;margin:0px;'/></div>"),this.lastButton=$("<div class='btn'><div class='svg-box'></div><img src='' style='max-width:20px;max-height:20px;margin:0px;'/></div>"),this.forwardButton=$("<div class='btn'><div class='svg-box'></div><img src='' style='max-width:20px;max-height:20px;margin:0px;'/></div>"),this.goButton=$("<div class='goBtn'><div class='svg-box'></div><img src='' style='max-width:20px;max-height:20px;margin:0px;'/></div>"),bookConfig.FlipDirection?(this.pagePrevButton=$("<div class='btn' style='display:none;'><div class='svg-box'></div><img src='"+phoneBaseURL+"previousPage2.png' style='width:56px;height:36px;margin:0px;'/></div>"),this.pageNextButton=$("<div class='btn' style='display:none;'><div class='svg-box'></div><img src='"+phoneBaseURL+"nextPage2.png' style='width:56px;height:36px;margin:0px;'/></div>")):(this.pagePrevButton=$("<div class='btn' style='display:none;'><div class='svg-box'></div><img src='"+phoneBaseURL+"previousPage.png' style='width:36px;height:56px;margin:0px;'/></div>"),this.pageNextButton=$("<div class='btn' style='display:none;'><div class='svg-box'></div><img src='"+phoneBaseURL+"nextPage.png' style='width:36px;height:56px;margin:0px;'/></div>")),this.setSrc(this.backwardButton,"backward",bookConfig.BackwardButtonIcon),this.setSrc(this.firstButton,"firstPage",bookConfig.FirstButtonIcon),this.setSrc(this.prevButton,"previousPage",bookConfig.PreviousButtonIcon),this.setSrc(this.nextButton,"nextPage",bookConfig.NextButtonIcon),this.setSrc(this.lastButton,"lastPage",bookConfig.LastButtonIcon),this.setSrc(this.forwardButton,"forward",bookConfig.ForwardButtonIcon),this.setSrc(this.goButton,"goPage"),this.inputButton=$("<div class='inputButton' style='width:190px;'><input id='currentPageIndexTextField' type='text'/></div>"),bookConfig.enablePageBack&&this.inputButton.css({width:"100px"}),bookConfig.enablePageBack&&this.contentBox.append(this.backwardButton),this.contentBox.append(this.firstButton),this.contentBox.append(this.prevButton),this.contentBox.append(this.inputButton),this.contentBox.append(this.nextButton),this.contentBox.append(this.lastButton),bookConfig.enablePageBack&&this.contentBox.append(this.forwardButton),tmpContainer.append(this.pagePrevButton),tmpContainer.append(this.pageNextButton),bookConfig.FlipDirection?(this.pagePrevButton.css({position:"absolute",width:"56px",height:"36px",top:"40px",left:"50%","z-index":"110",transform:"translate(-50%,0)"}),this.pageNextButton.css({position:"absolute",width:"56px",height:"36px",bottom:"40px",left:"50%","z-index":"110",transform:"translate(-50%,0)"})):(this.pagePrevButton.css({position:"absolute",width:"36px",height:"56px",top:"50%",left:"0","z-index":"11",transform:"translate(0%,-50%)"}),this.pageNextButton.css({position:"absolute",width:"36px",height:"56px",top:"50%",right:"0","z-index":"11",transform:"translate(0%,-50%)"})),this.inputButton.find("input").css({padding:"0px","text-align":"center","border-width":"0px",background:"rgba(255,255,255,0.7)",width:"100%",height:"30px","border-radius":"15px",position:"absolute",color:bookConfig.pageNumColor,left:0,top:0}),(isPhone()||isPad())&&this.inputButton.find("input").css({})},initSlider:function(){this.onStepLength=(windowWidth-80)/bookConfig.totalPageCount,this.slider=$("<div style='position:absolute;cursor:pointer;left:40px;top:65px;width:"+(windowWidth-80)+"px;height:4px;background:"+this.iconColor.rgba(.3)+";border-radius: 2px;'></div>"),this.sliderEnter=$("<div style='position:absolute;left:0;top:0;width:0px;height:4px;background:"+this.iconColor.toString()+";border-radius: 2px;'></div>"),this.pointer=$("<div style='cursor:pointer;position:absolute;left:12px;top:-10px;width:20px;height:20px;border-radius: 50%;padding:2px;'><div style='pointer-events: none;border:3px solid "+this.iconColor.toString()+";width:14px;height:14px;border-radius: 50%;background: "+this.mainColor.toString()+";'></div></div>"),this.slider.append(this.sliderEnter).append(this.pointer),this.menu.append(this.slider),this.initSliderEvent()},initSliderEvent:function(){this.slider.onTap(function(t){this.endLeft=t.srcEvent?t.srcEvent.pageX-51:t.pageX-51,this.endLeft=this.endLeft<-11?-11:this.endLeft>windowWidth-91?windowWidth-91:this.endLeft,gotoPageFun(this.getSlideIndex(this.endLeft),!1,"phone goto slider")}.bind(this)),this.pointer.bind(_event._down,function(t){this.isTouchDown=!0}.bind(this)),this.slider.bind(_event._down,function(t){this.startPos=this.getPosition(t),this.startPos.x<=40&&(this.startPos.x=40),this.startPos.x>=windowWidth-40&&(this.startPos.x=windowWidth-40)}.bind(this)),this.menu.bind(_event._move,function(t){var i;this.isTouchDown&&(this.endPos=this.getPosition(t),this.endPos.x<=40&&(this.endPos.x=40),this.endPos.x>=windowWidth-40&&(this.endPos.x=windowWidth-40),i=this.endPos.x-this.startPos.x,this.endLeft=this.pointer.left()+i,this.endLeft=this.endLeft<-11?-11:this.endLeft>windowWidth-91?windowWidth-91:this.endLeft,1.01<Math.abs((this.endPos.x-this.startPos.x)/(this.endPos.y-this.startPos.y))&&t.preventDefault(),t=this.getSlideIndex(this.endLeft),$("#currentPageIndexTextField").val(this.getPageNumberInfo(t)),this.pointer.css({left:this.endLeft+"px"}),this.sliderEnter.css({width:this.endPos.x-38+"px"}),this.startPos=this.endPos)}.bind(this)),this.menu.bind(_event._end,function(t){this.isTouchDown&&(this.isTouchDown=!1,this.endLeft)&&this.endPos&&(gotoPageFun(this.getSlideIndex(this.endLeft),!1,"phone goto slider"),this.pointer.css({left:this.endLeft+"px"}),this.sliderEnter.css({width:this.endPos.x-38+"px"}))}.bind(this))},onResize:function(){this.onStepLength=(windowWidth-80)/bookConfig.totalPageCount,this.slider.css({width:windowWidth-80+"px"}),this.refreshSlider(),this.refreshInputSize()},getSlideIndex:function(t){return t=(t=(t=Math.ceil((t+11)/this.onStepLength))>=bookConfig.totalPageCount?bookConfig.totalPageCount:t)<=1?1:t},refreshSlider:function(){var t;this.isBetweenPagesPos()?(this.pointer.animate({left:this.endLeft+"px"}),this.sliderEnter.animate({width:this.endLeft+4+"px"})):(t=this.onStepLength*BookInfo.getCurrentPageIndex()-11,1==BookInfo.getCurrentPageIndex()?(this.pointer.animate({left:"-11px"}),this.sliderEnter.animate({width:"0px"})):(BookInfo.getCurrentPageIndex()==bookConfig.totalPageCount&&(t=windowWidth-91),this.pointer.animate({left:t+"px"}),this.sliderEnter.animate({width:t+4+"px"})))},refreshInputSize:function(){var t=windowWidth-160+3<60?60:windowWidth-160+3;bookConfig.enablePageBack?this.inputButton.css({"max-width":(t-80<60?60:t-80)+"px"}):this.inputButton.css({"max-width":t+"px"})},isBetweenPagesPos:function(){if(this.endLeft){var t=BookInfo.getBook().getCurrentPages();if(1==t.length){if(this.endLeft<=t[0]*this.onStepLength-11&&this.endLeft>=(t[0]-1)*this.onStepLength-11)return!0}else if(this.endLeft>=(t[0]-1)*this.onStepLength-11&&this.endLeft<=t[1]*this.onStepLength-11)return!0}return!1},getPageNumberInfo:function(t){return rightToLeft?bookConfig.totalPageCount+"/"+t:t+"/"+bookConfig.totalPageCount},getPosition:function(t){return{x:((t=t.originalEvent&&t.originalEvent.changedTouches?t.originalEvent.changedTouches:t.changedTouches||[t])[0].pageX||t[0].clientX)+(document.documentElement.scrollLeft||document.body.scrollLeft),y:(t[0].pageY||t[0].clientY)+(document.documentElement.scrollTop||document.body.scrollTop)}},resetPosition:function(){this.contentBox.html(""),this.initContentBox(),this.initEvent()},setSrc:function(t,i,e){var o=t.find("img");t=t.find(".svg-box"),e&&""!=e?(o.attr("src",e),t.css({display:"none"})):phoneSvgIcons&&phoneSvgIcons[i]&&(t.html(phoneSvgIcons[i]),o.css({display:"none"})),this.colorChanged=!1},changeCaptionColor:function(t){(this.fontColor||t)&&(t=t||this.fontColor.toString(),this.$caption)&&this.$caption.css("color",t)},showPageFlipButton:function(){bookConfig.showInstructionOnStart&&1==BookInfo.getCurrentPageIndex()||(this.pageFlipVisible=!0,this.pagePrevButton.fadeIn(200),this.pageNextButton.fadeIn(200))},hidePageFlipButton:function(){this.pageFlipVisible=!1,this.pagePrevButton.fadeOut(200),this.pageNextButton.fadeOut(200)},show:function(){this.refreshSlider(),toolBar.extendedBar&&toolBar.extendedBar.visible&&toolBar.extendedBar.hide();var t=toolBar.getBottomHeight(!0);this.menu.animate({bottom:t},300),this.visible=!0},hide:function(){this.menu.animate({bottom:-140},300),this.visible=!1},showOrHide:function(){!0===this.visible?this.hide():this.show()},initEvent:function(){this.firstButton.bind(_event._end,function(){return BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"first",getLanguage("btnFirstPage","First")]),(rightToLeft?lastPageFun:firstPageFun)("phone goto button"),!1}),this.prevButton.bind(_event._end,function(){return(rightToLeft?nextPageFun:previousPageFun)("phone goto button"),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"prev",getLanguage("btnPrePage","Previous")]),!1}),this.nextButton.bind(_event._end,function(){return(rightToLeft?previousPageFun:nextPageFun)("phone goto button"),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"next",getLanguage("btnNextPage","Next")]),!1}),this.lastButton.bind(_event._end,function(){return BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"last",getLanguage("btnLastPage","Last")]),(rightToLeft?firstPageFun:lastPageFun)("phone goto button"),!1}),this.pagePrevButton.bind(_event._end,function(){return(rightToLeft?nextPageFun:previousPageFun)("phone goto button"),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"prev",getLanguage("btnPrePage","Previous")]),!1}),this.pageNextButton.bind(_event._end,function(){return(rightToLeft?previousPageFun:nextPageFun)("phone goto button"),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"next",getLanguage("btnNextPage","Next")]),!1}),this.goButton.bind(_event._end,function(){var t=parseInt($("#currentPageIndexTextField").val().replace(/\D/g,""));return gotoPageFun(Math.min(Math.max(t,1),bookConfig.totalPageCount),!1,"input"),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"goButton","goButton"]),!1}.bind(this)),this.backwardButton.bind(_event._end,function(){return rightToLeft?flipHistory.forward():flipHistory.backward(),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"backward",getLanguage("btnPageBack","Backward")]),!1}),this.forwardButton.bind(_event._end,function(){return rightToLeft?flipHistory.backward():flipHistory.forward(),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"forward",getLanguage("btnPageForward","Forward")]),!1})},destroy:function(){this.menu.remove(),global.phoneGotoPagePanel=null},showFirstOrLast:function(){if(bookConfig.phoneFlipShortcutButton&&(!(global.handSwipeHelp&&global.handSwipeHelp.visible||!global.handSwipeHelp&&bookConfig.showInstructionOnStart)||1!=BookInfo.getCurrentPageIndex())){if(bookConfig.RightToLeft){if(1==BookInfo.getCurrentPageIndex())return this.pagePrevButton.fadeIn(200),void this.pageNextButton.hide();if(BookInfo.getCurrentPageIndex()==totalPageCount)return this.pagePrevButton.hide(),void this.pageNextButton.fadeIn(200)}else{if(1==BookInfo.getCurrentPageIndex())return this.pagePrevButton.hide(),void this.pageNextButton.fadeIn(200);if(BookInfo.getCurrentPageIndex()==totalPageCount)return this.pagePrevButton.fadeIn(200),void this.pageNextButton.hide()}this.pagePrevButton.fadeIn(200),this.pageNextButton.fadeIn(200)}}});function isWeiXinAndIos(){var t=""+window.navigator.userAgent.toLowerCase(),i=/MicroMessenger/i.test(t),t=/\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(t);return i&&t}$(document).ready(function(){isWeiXinAndIos()&&(document.body.addEventListener("focusin",function(){setTimeout(function(){tmpContainer.css({top:"auto"})},200)}),document.body.addEventListener("focusout",function(){setTimeout(function(){window.scrollTo({top:0,left:0,behavior:"smooth"}),tmpContainer.css({top:"0"})},200)}))});var PhoneSearchBar=Class({create:function(t){this.menu=$("<div style='position:absolute;width:100%;height:50px;z-index:98;top:-60px;overflow:hidden;'></div>"),this.background=$("<div style='position:absolute;width:100%;height:100%;'></div>"),this.searchBarInput=$("<input class='phoneSearchBarInput' placeholder='"+FormInfo.getFormTitle("search")+"'/>"),this.searchButtonUrl=bookConfig.SearchButtonIcon||(form_icons.search_form?"data:image/png;base64,"+form_icons.search_form:uiBaseURL+"search_form.png"),this.searchButton=$("<img class='phoneSearchBarButton' src='"+this.searchButtonUrl+"'/>"),bookConfig.RightToLeft&&(this.searchBarInput.attr("dir","rtl"),this.searchButton.css({left:"15%"})),this.mainColor=Color(bookConfig.toolbarColor),this.iconColor=Color(bookConfig.iconColor),this.background.css({background:this.mainColor.toString(),opacity:bookConfig.phoneSearchBarAlpha}),t.append(this.menu),this.menu.append(this.background),this.menu.append(this.searchBarInput),this.menu.append(this.searchButton),this.initEvent(),this.visible=!1},onResize:function(){},initEvent:function(){this.searchButton.click(function(){this.showFrmSearch()}.bind(this)),this.searchBarInput.keydown(function(t){13==(t=t||window.event).keyCode&&this.showFrmSearch()}.bind(this))},showFrmSearch:function(){var t=this.searchBarInput.val();global.frmSearch.show(),frmSearch.search(t)},show:function(){var t=toolBar.getTopHeight(!0);this.menu.animate({top:t},300),this.visible=!0},hide:function(){this.menu.animate({top:-60},300),this.visible=!1},showOrHide:function(){!0===this.visible?this.hide():this.show()},changeLanguage:function(){this.searchBarInput.attr("placeholder",FormInfo.getFormTitle("search"))}}),PasswardPannel=Class({create:function(){this.initHtml(),this.initEvent(),this.background.show(),this.view.show()},initHtml:function(){this.background=$("<div class='passwardPannel-background'></div>"),this.view=$("<div class='passwardPannel'></div>"),this.icon=$("<div id='icon' class='icon'></div>"),this.infoIcon=$("<div id='infoIcon' class='info-icon'>"+phoneSvgIcons.instructions+"</div>"),this.$username=$("<input id='username_input' placeholder='"+getLanguage("lblName","Name")+"' class='username'></input>"),this.$passward=$("<input id='passward_input' type='password' placeholder='"+getLanguage("lblPassword","Password")+"' class='passward'></input>"),this.loginIn=$("<p id='loginIn' class='loginIn'>"+getLanguage("lblLogin","Login")+"</p>"),this.cancleIn=$("<p id='cancleIn' class='cancleIn'>"+getLanguage("lblCancel","Cancel")+"</p>"),this.passwardResult=$("<span id='passwardResult' class='passwardResult'></span>"),this.passwardInfo=$("<div class='passwardInfo'>"+bookConfig.passwordTips+"<span class='top'></span></div>"),this.view.append(this.icon),2==passwardType()&&(this.view.css("height","390px"),this.view.append(this.$username)),this.initPrompt(),this.view.append(this.$passward),this.view.append(this.loginIn),this.view.append(this.cancleIn),this.view.append(this.passwardResult),bookConfig.passwordTips&&(this.view.append(this.passwardInfo),this.view.append(this.infoIcon)),$("body").append(this.background),$("body").append(this.view),this.icon.addCssSprite(phoneBaseURL+"phone_icon.png","passward",100,100,phoneIconInfo)},initPrompt:function(){bookConfig.passwardPrompt&&(this.promptBox=$("<div class='promptBox'></div>"),this.prompt=$("<div class='prompt'></div>"),this.arrow=$("<div class='top arrow'></div>"),this.prompt.html(bookConfig.passwardPrompt),this.promptBox.append(this.prompt),this.promptBox.append(this.prompt).append(this.arrow),this.view.append(this.promptBox))},initEvent:function(){this.background.bind(_event._down,function(t){t.stopPropagation()}),this.background.bind(_event._move,function(t){t.stopPropagation()}),this.background.bind(_event._end,function(t){t.stopPropagation()}),this.cancleIn.bind(_event._end,function(){this.hide()}.bind(this)),this.loginIn.bind(_event._end,function(){this.login()}.bind(this)),this.promptBox&&(this.$passward.bind(_event._enter,function(){this.promptBox.show()}.bind(this)),this.$passward.bind(_event._leave,function(){this.$passward.is(":focus")?this.promptBox.show():this.promptBox.hide()}.bind(this)),this.$passward.bind("focus",function(){this.promptBox.show()}.bind(this)),this.$passward.bind("blur",function(){this.promptBox.hide()}.bind(this)))},login:function(){verifyPassward()?(this.rememberAuthentication(),this.hide(),this.fillCurrentPageContent(),BookEvent.trigger("passward",[global.passward,global.username])):this.showResult()},rememberAuthentication:function(){try{global.passward=this.$passward.val(),global.username=this.$username.val(),window.localStorage.setItem(realLocation+"?passward",global.passward),window.localStorage.setItem(realLocation+"?username",global.username)}catch(t){}},fillCurrentPageContent:function(){for(var t=1;t<=bookConfig.totalPageCount;t++)BookInfo.getBook().fillPage(t,!0);thumbnail&&thumbnail.show&&thumbnail.fillContent&&thumbnail.fillContent()},show:function(){this.background.show(),this.view.show()},hide:function(){this.background.hide(),this.view.hide()},showResult:function(){document.getElementById("username")&&!this.$username.val()?this.passwardResult.html(getLanguage("lblNoName","User name can not be empty.")):this.$passward.val()?bookConfig.securityType&&(3===parseFloat(bookConfig.securityType)?this.passwardResult.html(getLanguage("lblNoCorrectLogin","Please enter the correct user name and password.")):this.passwardResult.html(getLanguage("lblNoCorrectPass","Please enter the correct password."))):this.passwardResult.html(getLanguage("lblNoPassword","Password can not be empty."))}}),MiniStyle=Class({statics:{isMini:function(){var t;return!((isPhone()||isPad())&&!isInTheFrame()||!bookConfig.MiniStyle||fullScreenApi.isFullScreen()||NeatStyle.isNeat()||(t=this.getMaxMiniWidthHeight(),windowWidth>t.w&&windowHeight>t.h)||(this.init(),0))},getMaxMiniWidthHeight:function(){for(var t=bookConfig.maxWidthToSmallMode,i=bookConfig.maxHeightToSmallMode,e=window.location.search.split("&"),o=0;o<e.length;o++){var s=e[o].toLowerCase();0<=s.indexOf("maxwidthtosmallmode")&&(t=parseInt(s.substring(s.indexOf("maxwidthtosmallmode")+19+1,s.length))),0<=s.indexOf("maxheighttosmallmode")&&(i=parseInt(s.substring(s.indexOf("maxheighttosmallmode")+20+1,s.length)))}return{w:t,h:i}},init:function(){bookConfig.hideMiniFullscreen||this.caption||(this.caption=$("<div class='clickToRead'></div>"),this.caption.html(getLanguage("lblFullscreen","Click to view in fullscreen.")),tmpContainer.append(this.caption),this.initEvent())},initEvent:function(){isPhone()||isPad()?window.top!=window&&this.caption.bind(_event._up,function(){window.open(window.location.href,"_blank")}.bind(this)):this.caption.bind(_event._down,function(){this.isMini()&&readAsFullscreen()}.bind(this))},hide:function(){this.caption&&this.caption.hide()},show:function(){this.caption&&this.caption.show()},destroy:function(){this.caption&&(this.caption.remove(),this.caption=void 0)}}}),Slider=Class({create:function(t){this.parent=t.parent,this.width=t.width,this.pointerWidth=t.pointerWidth,this.totalPercent=t.totalPercent,this.endLeft=0,this.percent=1,this.init()},init:function(){this.onStepLength=this.width/this.totalPercent,this.slider=$("<div class='slider' style='width:"+this.width+"px;height:6px;'></div>"),this.sliderEnter=$("<div class='sliderEnter'></div>"),this.pointer=$("<div class='pointer'><div style='left:7px;top:7px;width:16px;height:16px;'></div></div>"),this.thumbnail=$("<div class='thumbnail'><span></span></div>"),this.slider.append(this.sliderEnter),this.slider.append(this.pointer),this.sliderEnter.append(this.thumbnail),this.parent.append(this.slider),this.initEvent()},initEvent:function(){this.slider.onTap(function(t){this.endLeft=t.srcEvent?t.srcEvent.pageX-this.slider.offset().left:t.pageX-this.slider.offset().left,this.endLeft=Number.between(this.endLeft,0,this.width),gotoPageFun(this.getSlideIndex(this.endLeft),!1,"phone goto slider")}.bind(this)),this.pointer.bind(_event._down,function(t){this.isTouchDown=!0}.bind(this)),this.slider.bind(_event._down,function(t){this.startPos=this.getPosition(t)}.bind(this)),this.parent.bind(_event._move,function(t){var i,e;this.isTouchDown&&(this.endPos=this.getPosition(t),i=this.endPos.x-this.startPos.x,i=Number.between(i,-this.endLeft,this.width-this.endLeft),this.goto(this.endLeft+i,!0),t=this.getSlideIndex(this.endLeft+i),this.thumbnail.find("span").html(getShownPageNumber(t)),this.thumbnail.show(),e=this,getPageDir(t,"thumb").then(function(t){e.thumbnail.css({"background-image":t&&t.indexOf("none")<0?"url("+t+")":"",left:e.endLeft+i+"px"})}))}.bind(this)),this.parent.bind(_event._end,function(t){this.isTouchDown&&(this.isTouchDown=!1,this.endPos)&&(this.endLeft+=this.endPos.x-this.startPos.x,gotoPageFun(this.getSlideIndex(this.endLeft),!1,"phone goto slider"),this.thumbnail.hide(),this.endPos=void 0)}.bind(this))},getSlideIndex:function(t){return t=(t=(t=Math.ceil(t/this.onStepLength))>=this.totalPercent?this.totalPercent:t)<=1?1:t},goto:function(t,i){this.pointer[i=i?"css":"animate"]({left:t+"px"}),this.sliderEnter[i]({width:t+"px"})},refreshSlider:function(t,i){var e;this.isBetweenPagesPos(t)?this.percent=this.getSlideIndex(this.endLeft):(this.percent=t,e=this.onStepLength*this.percent,t<=1&&(e=0),t==this.totalPercent&&(e=this.width),this.endLeft=e),this.goto(this.endLeft,i)},isBetweenPagesPos:function(t){return!(!this.endLeft||1==t&&0!=this.endLeft||t==this.totalPercent&&this.endLeft!=this.width)&&this.endLeft<=t*this.onStepLength&&this.endLeft>(t-1)*this.onStepLength},getPosition:function(t){return{x:((t=t.originalEvent&&t.originalEvent.changedTouches?t.originalEvent.changedTouches:t.changedTouches||[t])[0].pageX||t[0].clientX)+(document.documentElement.scrollLeft||document.body.scrollLeft),y:(t[0].pageY||t[0].clientY)+(document.documentElement.scrollTop||document.body.scrollTop)}},getPercent:function(){return this.percent},onResize:function(t,i){t&&(this.width=t,this.onStepLength=this.width/bookConfig.totalPageCount,this.slider.css({width:this.width+"px"}),this.refreshSlider(this.percent,!0))},hide:function(){},show:function(){},destroy:function(){}}),NeatStyle=Class({statics:{isNeat:function(){return!(!bookConfig.isNeat||this.full||fullScreenApi.isFullScreen()||(this.init(),0))},init:function(){this.neatConfig||(this.neatConfig={ToolBarVisible:bookConfig.ToolBarVisible,topMargin:bookConfig.topMargin,bottomMargin:bookConfig.bottomMargin,phoneFlipShortcutButton:bookConfig.phoneFlipShortcutButton},this.menu=$("<div id='menu' class='neat_menu' style='position:absolute;width:100%;height:90px;z-index:98;bottom:0;'></div>"),tmpContainer.append(this.menu),this.mainColor=Color(bookConfig.toolbarColor),this.iconColor=Color(bookConfig.iconColor),this.initLogo(),this.initFullscreenButton(),this.initZoomButton(),this.initFlipShotButton(),this.initSlider(),this.initPageNumber())},initFullscreenButton:function(){this.button=$("<div><img src='"+uiBaseURL+"NeatFullscreen.svg'/></div>"),this.button.css({position:"absolute",bottom:"0px",left:"auto",top:"auto",cursor:"pointer","z-index":"100",width:"42px",height:"42px",right:"9px"}),this.button.find("img").css({position:"absolute",left:"12px",top:"12px",width:"18px",height:"18px"}),this.button.bind(_event._down,function(t){t.stopPropagation()}),this.button.click(function(){this.isNeat()&&(isPhone()||isPad()?(window.parent.postMessage({command:"full"},"*"),this.full=!0):readAsFullscreen())}.bind(this)),tmpContainer.append(this.button)},initZoomButton:function(){this.zoomButton=new NeatZoomButton,this.zoomButton.addTo(tmpContainer)},initLogo:function(){bookConfig.appLogoIcon&&""!=bookConfig.appLogoIcon&&(this.logo=$("<img id='neatLogo' src='"+bookConfig.appLogoIcon+"'/>"),this.logo.css({position:"absolute",left:bookConfig.logoPadding+"px",top:bookConfig.logoTop+"px",height:bookConfig.logoHeight+"px",cursor:"pointer","z-index":"3","-webkit-filter":"drop-shadow(0 0 2px #000)",filter:"drop-shadow(0 0 2px #000)"}),bookConfig.appLogoLinkURL&&this.logo.click(function(){BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"logoImage","logo"]);var t=getLogoLink();return window.open(t[0],t[1]),!1}),tmpContainer.append(this.logo))},exitFullscreen:function(){this.full=!1},initFlipShotButton:function(){this.pagePrevButton=$("<div class='btn' style='display:none;'><div class='svg-box'></div><img class='unSelect' src='"+uiBaseURL+"previousPage.svg' style='width:40px;height:40px;margin:0px;'/></div>"),this.pageNextButton=$("<div class='btn' style='display:none;'><div class='svg-box'></div><img class='unSelect' src='"+uiBaseURL+"nextPage.svg' style='width:40px;height:40px;margin:0px;'/></div>"),this.pagePrevButton.css({position:"absolute",width:"40px",height:"40px",top:"50%",left:"0","z-index":"11",transform:"translate(0%,-50%)",cursor:"pointer"}),this.pageNextButton.css({position:"absolute",width:"40px",height:"40px",top:"50%",right:"0","z-index":"11",transform:"translate(0%,-50%)",cursor:"pointer"}),this.pagePrevButton.bind(_event._end,function(){return(rightToLeft?nextPageFun:previousPageFun)("phone goto button"),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"prev",getLanguage("btnPrePage","Previous")]),!1}),this.pageNextButton.bind(_event._end,function(){return(rightToLeft?previousPageFun:nextPageFun)("phone goto button"),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"next",getLanguage("btnNextPage","Next")]),!1}),tmpContainer.append(this.pagePrevButton),tmpContainer.append(this.pageNextButton)},initPageNumber:function(){this.inputButton=$("<div class='inputButton' style='text-shadow:0 0 2px #000;position:absolute;left:0;bottom:0;width:70px;line-height:47px;height:47px;color:#fff;verticle-align:middle;text-align:center;'><input value='/' style='line-height:50px;height:50px;color:#fff;verticle-align:middle;text-align:center;width:100%;height:100%;background:none;border:none;padding:0;margin:0;text-shadow:0 0 2px #000;font-size:16px;' id='currentPageIndexTextField' type='text'/></div>"),this.menu.append(this.inputButton)},initSlider:function(){this.slider=new Slider({parent:this.menu,width:windowWidth-180,height:6,pointerWidth:10,totalPercent:bookConfig.totalPageCount})},refreshSlider:function(){try{var t=BookInfo.getCurrentPageIndex();this.slider.refreshSlider(t),this.inputButton.find("input").val(getShownPageNumberInfo(t))}catch(t){}},initEvent:function(){},hide:function(){try{bookConfig.topMargin=this.neatConfig.topMargin,bookConfig.bottomMargin=this.neatConfig.bottomMargin,this.logo&&this.logo.hide(),this.button&&this.button.hide(),this.zoomButton&&this.zoomButton.$button.hide(),this.pagePrevButton&&this.pagePrevButton.hide(),this.pageNextButton&&this.pageNextButton.hide(),this.menu&&this.menu.hide()}catch(t){}},show:function(){try{bookConfig.topMargin=40,bookConfig.bottomMargin=40,this.logo&&this.logo.show(),this.button&&this.button.show(),this.zoomButton&&this.zoomButton.$button.show(),this.pagePrevButton&&this.pagePrevButton.show(),this.pageNextButton&&this.pageNextButton.show(),this.menu&&this.menu.show()}catch(t){}},destroy:function(){try{this.logo.remove(),this.button.remove(),this.zoomButton.remove(),this.pagePrevButton.remove(),this.pageNextButton.remove(),this.menu.remove()}catch(t){}},onResize:function(t,i){this.slider.onResize(t-180,i)}}}),FlipHistory=Class({create:function(){this.array=[],this.currentIndex=0},backward:function(){var t=this.currentIndex-1;null!=this.array[t]&&(this.currentIndex=t,gotoPageFun(this.array[t].index,!0,"history"))},forward:function(){var t=this.currentIndex+1;null!=this.array[t]&&(this.currentIndex=t,gotoPageFun(this.array[t].index,!0,"history"))},addFromCurrentIndex:function(t){this.array=this.array.slice(0,this.currentIndex+1),this.array.push({index:t}),this.currentIndex=this.array.length-1},push:function(t){this.array.push({index:t})}}),flipHistory=new FlipHistory;function main(){selectLanguage(bookConfig.language),isBelowIE9()?alert(getLanguage("infNotSupportHtml5","Your browser can not support HTML5.")):global.bookConfig?(initBrowserType(),initConfig(),bookConfig.OnlyOpenInWechat&&!isWeChat()?($("body").empty(),$("body").attr("style",""),$("body").css({background:"#ffffff",color:"#000000","text-align":"center","font-size":"20px"}),$("body").append("<img style='margin-top:45px;width:98px;height:98px;' src='"+uiBaseURL+"only-wechat.svg'/><p style='margin-top:35px;'>请在微信客户端打开链接</p>")):bookConfig.OnlyOpenInIframe&&window.parent===window.self?($("body").empty(),$("body").attr("style",""),$("body").css({background:"#ffffff",color:"#000000","text-align":"center","font-size":"20px"}),$("body").append("<img style='margin-top:45px;width:98px;height:98px;' src='"+uiBaseURL+"only-wechat.svg'/><p style='margin-top:35px;'>"+bookConfig.OnlyOpenInIframeInfo+"</p>")):initStage()):(alert(getLanguage("msgConfigMissing","Configuration file is missing, unable to open the book.")),function(){window.location=window.location.href}.delay(500))}function initBrowserType(){$.browser.webkit&&(global.browserType=BrowserType.WEBKIT),$.browser.mozilla&&(global.browserType=BrowserType.MOZ),$.browser.opera&&(global.browserType=BrowserType.OPERA),$.browser.msie&&(global.browserType=BrowserType.MS)}function initConfig(){checkHtmlConfig(),checkBookConfig(),useTheAliCloudChart(),global.bookType="single"!=bookConfig.showDoublePage?0:1,global.rightToLeft=parseBool(bookConfig.RightToLeft,!1),global.originTotalPageCount=parseInt(bookConfig.totalPageCount),global.totalPageCount=originTotalPageCount+(1==originTotalPageCount%2&&!bookConfig.isTheBookOpen||0==originTotalPageCount%2&&bookConfig.isTheBookOpen?1:0),(!global.ols||global.ols.length<=0)&&(global.ols=[],bookConfig.TableOfContentButtonVisible=!1),global.bmtConfig||(global.bmtConfig=[]),initImageBaseUrl(),bookConfig.pageRestrictUrl=uiBaseURL+"articleEmpty.png"}function initImageBaseUrl(){global.uiBaseURL=bookConfig.UIBaseURL,uiBaseURL&&"string"==typeof uiBaseURL&&!uiBaseURL.endsWith("/")&&(uiBaseURL+="/"),global.phoneBaseURL=uiBaseURL+"style/phoneIcon/",global.soundBaseURL=uiBaseURL+"style/raw/",global.mbBaseURL=uiBaseURL+"style/mb_icon/",global.uiBaseURL=uiBaseURL+"style/icon/",bookConfig.pageLoadingUrl=global.uiBaseURL+"loading.svg",isIE()&&(bookConfig.pageLoadingUrl=global.uiBaseURL+"loading.gif")}function initStage(){$.browser.device==$.browser.DEVICE_PAD&&$("html").css({height:window.innerHeight+"px"}),global.pageIndexTextField=$("#currentPageIndexTextField"),global.tmpContainer=$("<div id= 'tmpContainer' class='tmpContainer'></div>"),isPC()&&$.browser.safari&&$.system.name==$.system.WINDOWS&&tmpContainer.css({"z-index":0}),$("body").append(tmpContainer),global.bookContainer=$("<div id= 'bookContainer' class='bookContainer'></div>"),tmpContainer.append(bookContainer),this.initReaderPopDom(),global.windowWidth=$("body").width(),global.windowHeight=$("body").height(),global.onBookLoad=new LoadingBook(tmpContainer,bookConfig.loadingBackground),preloadImages()}function initReaderPopDom(){window.readerCurrentPlayer=null,window.readerConfig&&window.setVuePopDom&&($("body").append($("<div id='ReaderPop' style='position: absolute;z-index: 3;top: 0;left: 0;display: block;overflow: hidden;' class='ReaderPop'></div>")),window.setVuePopDom({dom:".ReaderPop",pageIndex:0,width:$("body").width(),height:$("body").height()}).then(function(t){window.vuePopDom=t,window.vuePopDom.resize(this.width,this.height)}.bind(this)))}function preloadImages(){global.toolBarIconsURL=[],global.phoneIconsURL=[];isPhone()||isPad()?(window.jsLoadingBar&&jsLoadingBar.destroy(),onBookLoad.chooseBookStyle(),setTimeout(function(){window.scrollTo(0,1)},0)):(window.jsLoadingBar&&jsLoadingBar.destroy(),onBookLoad.chooseBookStyle())}function init(){onFirstVisit(),initToolbar(),initBook(),initComponents(),isPhone()||isPad()||initLogoBar(),initFlipSound(),changeShowBook(bookType),onStageResize(),scrapURL(),setPageIndexTextField(),controlAudioVolume(),addGoogleAdSense(),googleAnalytics(),baiduAnalytics(),winodwDynamicResize(),initEvents(),global.initBookValues&&initBookValues(),onBookReady(),onInit()}function onInit(){}function onBookReady(){global.flipPageAudio&&flipPageAudio.start();var t=GetQueryString("search");t&&global.frmSearch&&window.setTimeout(function(){frmSearch.show(),frmSearch.search(t)},30),showInstruction(),showBookInstruction(),showSwitchTips()}function onFirstVisit(){var t=window.location.href.replace(window.location.hash,"");try{window.localStorage[t]?authentication():window.localStorage.setItem(t,"true")}catch(t){}}function showInstruction(){(isPhone()||isPad())&&bookConfig.showInstructionOnStart&&(global.handSwipeHelp||(global.handSwipeHelp=new HandSwipeHelp(tmpContainer)),global.handSwipeHelp.show())}function showBookInstruction(){(isPhone()||isPad())&&bookConfig.showBookInstructionOnStart&&(global.bookInstructions||(global.bookInstructions=new BookInstructions(tmpContainer)),global.bookInstructions.showOrHide())}function showSwitchTips(){(isPhone()||isPad())&&bookConfig.showSwitchTipsOnStart&&bookConfig.DoubleSinglePageButtonVisible&&(global.doubleSinglePageForm||(global.doubleSinglePageForm=new DoubleSinglePageForm({parent:tmpContainer,formType:"doublepage",rightToLeft:rightToLeft}),global.doubleSinglePageForm.onResize()),global.doubleSinglePageForm)&&global.doubleSinglePageForm.show()}function authentication(){try{global.passward=window.localStorage[realLocation+"?passward"],global.username=window.localStorage[realLocation+"?username"]}catch(t){}}function initToolbar(){!isSlideBook()||isPhone()||isPad()||"lite"!=bookConfig.ToolbarViewMode||(global.toolBar=new PCSlideToolbar(tmpContainer)),"article"==global.templeteName&&(isPhone()||isPad())&&(global.toolBar=new PhoneArticleToolbar(tmpContainer)),"article2"==global.templeteName&&(isPhone()||isPad())&&(global.toolBar=new PhoneArticleToolbar2(tmpContainer)),"article3"==global.templeteName&&(isPhone()||isPad())&&(global.toolBar=new PhoneArticleToolbar3(tmpContainer)),!isPhone()&&!isPad()||global.toolBar||(global.toolBar=new PhoneToolbar(tmpContainer)),global.toolBar||(global.toolBar=new PCToolbar(tmpContainer)),global.toolBar&&(bookConfig.ToolBarVisible?toolBar.show():toolBar.hide()),initCalendarButton()}function initCalendarButton(){function t(t){return window.toolbar_icons&&toolbar_icons[t]?"data:image/png;base64,"+toolbar_icons[t]:uiBaseURL+t+".png"}var i,e,o,s,n;isPhone()||isPad()||(i=Color(bookConfig.toolbarColor),e=Math.min(bookConfig.topToolBarAlpha,bookConfig.ToolBarAlpha),o=t("reader"),s=t("calendar"),o=$("<div class='btn articleBtn'><img src='"+o+"'/><span>"+getLanguage("btnArticlePages","版面")+"</span></div>"),s=$("<div class='btn calendarBtn' style='margin-top:18px;'><img src='"+s+"'/><span>"+getLanguage("btnCalendar","往期")+"</span></div>"),n=$("<div class='toolbar_head'></div>"),"article"!=global.templeteName&&"article2"!=global.templeteName&&"article3"!=global.templeteName||n.append(o),window.book_visit&&window.book_visit.periodicalId&&n.append(s),o.changeButtonColor(bookConfig.iconColor),s.changeButtonColor(bookConfig.iconColor),o.css({"background-color":i.rgba(e)}),s.css({"background-color":i.rgba(e)}),n.css("color",bookConfig.iconColor),o.click(function(){global.pcArticlePages&&global.pcArticlePages.show()}),s.click(function(){global.pcArticlePeriodical&&global.pcArticlePeriodical.show()}),tmpContainer.append(n))}function createReadBookBtn(){var t,i,e,o,s;document.querySelector(".phoneticBtn")||(t=Color(bookConfig.toolbarColor),i=Math.min(bookConfig.topToolBarAlpha,bookConfig.ToolBarAlpha),s="phonetic",s=window.zoom_icons&&zoom_icons[s]?"data:image/png;base64,"+zoom_icons[s]:uiBaseURL+s+".png",s=$("<div class='btn phoneticBtn' style='margin-top:18px;'><img src='"+s+"'/><span>"+getLanguage("btnPhonetic","听书")+"</span></div>"),(e=$("<span></span>")).css({display:"inline-block",position:"absolute",top:"-4px",left:"9px",width:"0",height:"0","border-bottom":"4px solid "+t.rgba(i),"border-left":"4px solid transparent","border-right":"4px solid transparent"}),(o=$("<div class='phoneticTips' ><span>"+getLanguage("btnPhoneticTips","本书可以边听边看哦~")+"</span></div>")).append(e),o.css({display:"none",position:"absolute",top:"40px",left:"10px",width:"130px",height:"24px","line-height":"24px","background-color":t.rgba(i),"border-radius":"2px","font-size":"12px","font-weight":"500","text-align":"center"}),o.delay(3e3).fadeIn(200).delay(5e3).fadeOut(200),o.on("click",function(){o.stop().fadeOut(200)}),s.append(o),$(".toolbar_head").append(s),s.changeButtonColor(bookConfig.iconColor),s.css({"background-color":t.rgba(i)}),s.click(function(){window.phoneticReading&&window.phoneticReading.showOrHide()}))}function initBook(){var t=scrapOriginPageIndex(),i=(flipHistory&&flipHistory.push(t),{parent:bookContainer,currentPageIndex:t,flippingTime:bookConfig.flippingTime,rightToLeft:rightToLeft}),e=Math.max(1,bookConfig.totalPageCount-1);initFlipBook(i,t={parent:bookContainer,currentPageIndex:bookConfig.SingleModeBanFlipToLastPage?Number.between(t,1,e):t,flippingTime:bookConfig.flippingTime,rightToLeft:rightToLeft}),initCatalogBook(i,t),initSlideBook(i,t)}function scrapOriginPageIndex(){var t,i=bookConfig.OriginPageIndex,e=window.location.hash;return""!=e&&3<e.length&&"#p="==e.substr(0,3)&&(i=parseInt(getRealPageNumber(e.substr(3,e.length-3)))),i=Number.between(i,1,originTotalPageCount),bookConfig.restorePageVisible&&window.localStorage[realLocation+"?historyPageIndex"]&&(e=parseInt(window.localStorage[realLocation+"?historyPageIndex"]),t=window.localStorage[realLocation+"?historySubmmit"],e!=i)&&(!t||31<t&&(new Date).getTime()-parseInt(t)>=bookConfig.restorePageDuration||t<=31&&(new Date).getDate()!=parseInt(t))&&showMessage(getLanguage("restorePage","Would you like to restore previous session"),function(){window.localStorage.setItem(realLocation+"?historySubmmit",(new Date).getTime()),gotoPageFun(window.localStorage[realLocation+"?historyPageIndex"])}),i}function initFlipBook(t,i){bookType!=BookType.normal_book&&bookType!=BookType.single_book||(isPhone()||isPad()||!toolBar||toolBar.show(),bookConfig.HardInnerPageEnable?bookConfig.FlipDirection?bookConfig.HardPageEnable?("single"!=bookConfig.showDoublePage&&(global.flipBook=new(bookConfig.isTheBookOpen?OpenAlbumHardCalendar:AlbumHardCalendar)(t)),"double"!=bookConfig.showDoublePage&&(global.singlePageBook=new SingleAlbumHardCalendar(i))):("single"!=bookConfig.showDoublePage&&(global.flipBook=new AlbumCalendar(t)),"double"!=bookConfig.showDoublePage&&(global.singlePageBook=new SingleAlbumCalendar(i))):bookConfig.HardPageEnable?("single"!=bookConfig.showDoublePage&&(global.flipBook=new(bookConfig.isTheBookOpen?OpenAlbumHardBook:AlbumHardBook)(t)),"double"!=bookConfig.showDoublePage&&(global.singlePageBook=new SingleAlbumHardBook(i))):("single"!=bookConfig.showDoublePage&&(global.flipBook=new AlbumBook(t)),"double"!=bookConfig.showDoublePage&&(global.singlePageBook=new SingleAlbumBook(i))):bookConfig.FlipDirection?bookConfig.HardPageEnable?("single"!=bookConfig.showDoublePage&&(global.flipBook=new(bookConfig.isTheBookOpen?OpenHardCalendar:HardCalendar)(t)),"double"!=bookConfig.showDoublePage&&(global.singlePageBook=new SingleHardCalendar(i))):("single"!=bookConfig.showDoublePage&&(global.flipBook=new NormalCalendar(t)),"double"!=bookConfig.showDoublePage&&(global.singlePageBook=new SingleCalendar(i))):bookConfig.HardPageEnable?("single"!=bookConfig.showDoublePage&&(global.flipBook=new(bookConfig.isTheBookOpen?OpenHardBook:HardBook)(t)),"double"!=bookConfig.showDoublePage&&(global.singlePageBook=new SingleHardBook(i))):("single"!=bookConfig.showDoublePage&&(global.flipBook=new NormalBook(t)),"double"!=bookConfig.showDoublePage&&(global.singlePageBook=new SingleBook(i))))}function initCatalogBook(t){bookType==BookType.catalog_book&&("lite"==bookConfig.ToolbarViewMode.toLowerCase()?(global.catalogBook=new(bookConfig.FlipDirection?bookConfig.HardPageEnable?bookConfig.isTheBookOpen?OpenCatalogSimpleHardCalendar:CatalogSimpleHardCalendar:CatalogSimpleCalendar:bookConfig.HardPageEnable?bookConfig.isTheBookOpen?OpenCatalogSimpleHardBook:CatalogSimpleHardBook:CatalogSimpleBook)(t),toolBar&&toolBar.hide()):global.catalogBook=new(bookConfig.FlipDirection?bookConfig.HardPageEnable?bookConfig.isTheBookOpen?OpenCatalogHardCalendar:CatalogHardCalendar:CatalogCalendar:bookConfig.HardPageEnable?bookConfig.isTheBookOpen?OpenCatalogHardBook:CatalogHardBook:CatalogBook)(t))}function initSlideBook(t){bookType!=BookType.slide_book&&bookType!=BookType.singleSlide_book||("single"!=bookConfig.showDoublePage&&(global.slideBook=new PcDoubleSlideBook(t)),"double"!=bookConfig.showDoublePage&&(global.singleSlideBook=new PcSingleSlideBook(t)))}function initComponents(){bookConfig.flipshortcutbutton&&!global.flipShotButton&&"catalog"!=bookConfig.FlipStyle.toLowerCase()&&(global.flipShotButton=new FlipShotButton(tmpContainer)),isPhone()||isPad()?(bookConfig.SearchButtonVisible&&!global.frmSearch&&(global.frmSearch=new PhoneSearchForm({parent:tmpContainer,formType:"search",rightToLeft:rightToLeft})),bookConfig.TableOfContentButtonVisible&&!global.frmTableOfContent&&(global.frmTableOfContent=new PhoneTableOfContentForm({parent:tmpContainer,formType:"tableOfContent",rightToLeft:rightToLeft})),bookConfig.ShareButtonVisible&&!global.sharePanel&&(global.sharePanel=new PhoneShareForm({parent:tmpContainer,formType:"share",rightToLeft:rightToLeft})),bookConfig.BookMarkButtonVisible&&!global.bookmark&&(global.bookmark=new PhoneBookmarkForm({parent:tmpContainer,formType:"bookmark",rightToLeft:rightToLeft})),bookConfig.PrintButtonVisible&&!global.printBody&&(global.printBody=new PhonePrintForm({parent:tmpContainer,formType:"print",rightToLeft:rightToLeft})),bookConfig.DownloadButtonVisible&&global.downloadconfig&&!global.downLoadBody&&(global.downLoadBody=new PhoneDownloadForm({parent:tmpContainer,formType:"download",rightToLeft:rightToLeft})),language&&1<language.length&&!global.languagePanel&&(global.languagePanel=new PhoneLanguageForm({parent:tmpContainer,formType:"language",rightToLeft:rightToLeft})),(bookConfig.BackgroundSoundButtonVisible||bookConfig.FlipSound&&!global.settingBody)&&(global.settingBody=new PhoneSettingForm({parent:tmpContainer,formType:"setting",rightToLeft:rightToLeft})),bookConfig.aboutButtonVisible&&!global.aboutBody&&(global.aboutBody=new PhoneAboutForm({parent:tmpContainer,formType:"about",rightToLeft:rightToLeft})),bookConfig.ThumbnailsButtonVisible&&!global.thumbnail&&(global.thumbnail=new PhoneThumbnailForm({parent:tmpContainer,formType:"thumbnail",rightToLeft:rightToLeft})),global.phoneGotoPagePanel||(global.phoneGotoPagePanel=new phoneGotoPage(tmpContainer)),bookConfig.searchbarAlwaysShowOnMobile&&!global.phoneSearchBar&&bookConfig.SearchButtonVisible&&(global.phoneSearchBar=new PhoneSearchBar(tmpContainer)),bookConfig.phoneFlipShortcutButton&&!global.phoneGotoPagePanel&&global.phoneGotoPagePanel.showPageFlipButton(),bookConfig.VideoButtonVisible&&!global.videoGallery&&(global.videoGallery=new PhoneVideoGalleryForm({parent:tmpContainer,formType:"videoGallery",rightToLeft:rightToLeft,isPhone:!0},global.videoList)),0<=global.templeteName.indexOf("article")&&("article"!=global.templeteName||global.phoneArticleReader||(global.phoneArticleReader=new PhoneArticleReader({parent:tmpContainer,formType:"reader",rightToLeft:rightToLeft,isPhone:!0})),"article3"!=global.templeteName||global.phoneArticleReader||(global.phoneArticleReader=new PhoneArticleReader3({parent:tmpContainer,formType:"reader",rightToLeft:rightToLeft,isPhone:!0})),"article2"!=global.templeteName||global.phoneArticleReader||(global.phoneArticleReader=new PhoneArticleReader2({parent:tmpContainer,formType:"reader",rightToLeft:rightToLeft,isPhone:!0})),global.phoneArticlePages||(global.phoneArticlePages=new PhoneArticlePages({parent:tmpContainer,formType:"article",rightToLeft:rightToLeft,isPhone:!0})),global.phoneArticleList||(global.phoneArticleList=new PhoneArticleList({parent:tmpContainer,formType:"articlelist",rightToLeft:rightToLeft,isPhone:!0}))),window.book_visit&&window.book_visit.periodicalId&&!global.phoneArticlePeriodical&&(global.phoneArticlePeriodical=new PhoneArticlePeriodical({parent:tmpContainer,formType:"calendar",rightToLeft:rightToLeft,isPhone:!0}))):(bookConfig.PrintButtonVisible&&!global.printBody&&(global.printBody=new PcPrintForm({parent:tmpContainer,formType:"print",rightToLeft:rightToLeft})),bookConfig.DownloadButtonVisible&&global.downloadconfig&&!global.downLoadBody&&(global.downLoadBody=new PcDownloadForm({parent:tmpContainer,formType:"download",rightToLeft:rightToLeft})),bookConfig.HelpButtonVisible&&!global.helpBody&&(global.helpBody=new PcHelpForm({parent:tmpContainer,formType:"help",rightToLeft:rightToLeft})),bookConfig.aboutButtonVisible&&!global.aboutBody&&(global.aboutBody=new PcAboutForm({parent:tmpContainer,formType:"about",rightToLeft:rightToLeft})),bookConfig.ShareButtonVisible&&!global.sharePanel&&(global.sharePanel=new PcShareForm({parent:tmpContainer,formType:"share",rightToLeft:rightToLeft})),1<language.length&&!global.languagePanel&&(global.languagePanel=new PcLanguageForm({parent:tmpContainer,formType:"language",rightToLeft:rightToLeft})),bookConfig.BackgroundSoundButtonVisible&&bookConfig.FlipSound&&("brief"!=global.templeteName||global.settingBody?bookConfig.BackgroundSoundURL&&!global.settingBody&&(global.settingBody=new PcSoundSettingForm({parent:tmpContainer,formType:"settingpc",rightToLeft:rightToLeft})):global.settingBody=new PcSoundSettingForm({parent:tmpContainer,formType:"setting",rightToLeft:rightToLeft})),bookConfig.VideoButtonVisible&&!global.videoGallery&&(global.videoGallery=new PcVideoGalleryForm({parent:tmpContainer,formType:"videoGallery",rightToLeft:rightToLeft},global.videoList)),bookConfig.SlideshowButtonVisible&&!global.photoGallery&&(global.photoGallery=new PhotoGallery(tmpContainer,global.slideshow)),bookConfig.TableOfContentButtonVisible&&!global.frmTableOfContent&&(global.frmTableOfContent=new PcTableOfContentForm({parent:tmpContainer,formType:"tableOfContent",rightToLeft:rightToLeft}),"table of contents"==bookConfig.leftRightPnlShowOption)&&global.frmTableOfContent.show(),bookConfig.SearchButtonVisible&&!global.frmSearch&&(global.frmSearch=new PcSearchForm({parent:tmpContainer,formType:"search",rightToLeft:rightToLeft})),bookConfig.ThumbnailsButtonVisible&&!global.thumbnail&&("catalog"==bookConfig.FlipStyle.toLowerCase()&&"lite"==bookConfig.ToolbarViewMode.toLowerCase()&&(global.thumbnail=new CatalogThumbnailBar(tmpContainer)),isSlideBook()&&"lite"==bookConfig.ToolbarViewMode.toLowerCase()&&(global.thumbnail=new SlideThumbnailBar(tmpContainer)),global.thumbnail=new ThumbnailForm({parent:tmpContainer,formType:"thumbnail",rightToLeft:rightToLeft}),"thumbnails"==bookConfig.leftRightPnlShowOption)&&(global.thumbnail.show(),global.thumbnail.stage)&&global.thumbnail.stage.show(),isBelowIE9()||!bookConfig.BookMarkButtonVisible||global.bookmark||(global.bookmark=new PcBookmarkForm({parent:tmpContainer,formType:"bookmark",rightToLeft:rightToLeft})),window.assistantConfig&&!global.assistant&&(global.assistant=new Assistant),bookConfig.QRCode&&!global.qrButton&&(global.qrButton=new QRButton(tmpContainer)),0<=global.templeteName.indexOf("article")&&(global.articleReader||(global.articleReader=new PcArticleReader({parent:tmpContainer,formType:"article",rightToLeft:rightToLeft})),global.pcArticlePages||(global.pcArticlePages=new PcArticlePages({parent:tmpContainer,formType:"article",rightToLeft:rightToLeft,isPhone:!0}))),window.book_visit&&window.book_visit.periodicalId&&!global.pcArticlePeriodical&&(global.pcArticlePeriodical=new PcArticlePeriodical({parent:tmpContainer,formType:"calendar",rightToLeft:rightToLeft,isPhone:!0}))),bookConfig.AnnotationButtonVisible&&!global.annotationPannel&&(isPhone()||isPad()?global.annotationPannel=new PhoneAnnotationPannel(tmpContainer):global.annotationPannel=new AnnotationPannel(tmpContainer)),bookConfig.appLargeLogoIcon&&!global.largeAppLogo&&(global.largeAppLogo=new AppLargeLogo(bookContainer)),global.backgroundObj||(global.backgroundObj=new initBackground(tmpContainer)),global.auto_player||(global.auto_player=new AutoFlip),global.bgSound||(global.bgSound=new BackgroundSound),global.volumeControlBar||(global.volumeControlBar=new VolumeControlBar(tmpContainer)),!isPad()&&!isPhone()&&"brief"!=global.templeteName||global.phoneWeChatShareHelp||(global.phoneWeChatShareHelp=new PhoneWeChatShareHelp(tmpContainer)),global.flipPageAudio||(global.flipPageAudio=new FlipByAudio(tmpContainer,global.flipByAudio)),isPad()||isPhone()?bookConfig.EnableReportButton&&!global.reportPanel&&(global.reportPanel=new PhoneReportPanel(tmpContainer)):bookConfig.EnableReportButton&&!global.reportPanel&&(global.reportPanel=new ReportPanel(tmpContainer)),!bookConfig.MagnifierButtonVisible||global.magnifierZoomBox||global.isBelowIE11()||(global.magnifierZoomBox=new PageItem.WindowMagnifierBox(tmpContainer)),initColorPanel()}function initColorPanel(){global.colorPanel||(global.colorPanel=new JSColorPanel(tmpContainer))}function winodwDynamicResize(){isTouch&&$(window).on("orientationchange",function(){$("body").find(":focus").blur(),onStageResize(),BookEvent.trigger("orientationchange",[BookInfo.getCurrentPages().join("-"),windowWidth,windowHeight])}),$(window).resize(onStageResize),window.setInterval(function(){if(!(0<$("body").find(":focus").length)){var t=window.getWidth(),i=window.getHeight();if(bookConfig.upsideOnMobile()){if(i<t&&windowHeight==i&&windowWidth==t||t<i&&windowHeight==t&&windowWidth==i)return}else if(windowHeight==i&&windowWidth==t)return;windowHeight=i,windowWidth=t,onStageResize()}},100)}function scrapURL(){var i=window.location.hash;""!=i&&3<i.length&&"#p="==i.substr(0,3)?window.setTimeout(function(){var t=parseInt(getRealPageNumber(decodeURIComponent(i.substr(3,i.length-3))));gotoPageFun(t,!1,"visit"),TurnonAutoFlip(),BookEvent.trigger("visit",[t,$.browser.device,$.system.name,window.screen.width,window.screen.height,global.templeteName])},1e3):(gotoPageFun(bookConfig.OriginPageIndex,!1,"visit"),BookEvent.trigger("visit",[bookConfig.OriginPageIndex,$.browser.device,$.system.name,window.screen.width,window.screen.height,global.templeteName]),TurnonAutoFlip()),0<=window.location.search.indexOf("fullscreen=true")&&function(){toolBar&&toolBar.btnFullscreen&&toolBar.btnFullscreen.trigger(_event._end),$(document).trigger(fullScreenApi.fullScreenEventName)}.delay(this,50)}function onStageResize(t){global.resizeBookAfterFlip=!1,bookType==BookType.normal_book&&flipBook&&flipBook.flipping||bookType==BookType.single_book&&singlePageBook.flipping||bookType==BookType.catalog_book&&catalogBook&&catalogBook.flipping?resizeBookAfterFlip=!0:(bookConfig.upsideOnMobile()?($("html").css({height:"100%",width:"100%"}),$("body").css({height:"100%",width:"100%"}),tmpContainer.css({height:windowWidth+"px",width:windowHeight+"px"})):($("html").css({height:"100%",width:"100%"}),$("body").css({height:"100%",width:"100%"}),tmpContainer.css({height:windowHeight+"px",width:windowWidth+"px"})),resizeToolBar(),changeShowBookByWindow(),resizePlugin(),resizeAttachments(),global.handSwipeHelp&&global.handSwipeHelp.onResize(),bookConfig.InstructionsButtonVisible&&global.bookInstructions&&global.bookInstructions.onResize(),global.popZoomBox&&global.popZoomBox.onResize(),global.phoneVideoBox&&global.phoneVideoBox.onResize(),global.sharePoster&&global.sharePoster.onResize(),window.vuePopDom&&window.vuePopDom.resize(windowWidth,windowHeight))}function resizeAttachments(){global.phoneSearch&&global.phoneSearch.onResize(),global.phoneShare&&global.phoneShare.onResize(),global.phoneTableOfContent&&global.phoneTableOfContent.onResize(),global.phonePrintBody&&global.phonePrintBody.onResize(),bookConfig.WeChatShareButtonVisible&&global.phoneWeChatShareHelp&&global.phoneWeChatShareHelp.onResize(),global.printBody&&printBody.onResize(),global.downLoadBody&&downLoadBody.onResize(),global.helpBody&&helpBody.onResize(),global.aboutBody&&aboutBody.onResize(),global.sharePanel&&sharePanel.onResize(),global.languagePanel&&languagePanel.onResize(),bookConfig.AnnotationButtonVisible&&global.annotationPannel&&global.annotationPannel.onResize(),global.settingBody&&global.settingBody.onResize(),global.thumbnail&&thumbnail.onResize(),global.qrCode&&qrCode.onResize(),global.frmSearch&&frmSearch.onResize(),global.frmTableOfContent&&frmTableOfContent.onResize(),global.bookmark&&bookmark.onResize(),global.doubleSinglePageForm&&global.doubleSinglePageForm.onResize(),global.flipShotButton&&flipShotButton.onResize(),$(".appear_win10").css({"line-height":windowHeight+"px"}),$(".appear_win10 .main_dom").css({left:0,top:0}),global.articleReader&&global.articleReader.onResize(),global.pcArticlePages&&global.pcArticlePages.onResize(),global.pcArticlePeriodical&&global.pcArticlePeriodical.onResize(),global.phoneArticleReader&&global.phoneArticleReader.onResize(),global.phoneArticlePages&&global.phoneArticlePages.onResize(),global.phoneArticlePeriodical&&global.phoneArticlePeriodical.onResize(),global.phoneArticleList&&global.phoneArticleList.onResize()}function resizeToolBar(){var t;global.toolBar&&toolBar.onResize&&toolBar.onResize(),bookConfig.ToolBarVisible&&global.phoneGotoPagePanel&&global.phoneGotoPagePanel.onResize(),bookConfig.isNeat?NeatStyle.isNeat()?(global.toolBar&&global.toolBar.hide(),global.qrButton&&global.qrButton.hide(),bookType==BookType.catalog_book&&global.catalogBook.guidBar&&global.catalogBook.guidBar.hide(),global.flipShotButton&&flipShotButton.hide(),"active"!=global.templeteName||!window.thumbnail||isPhone()||isPad()||thumbnail.hide(),NeatStyle.show(),NeatStyle.onResize(windowWidth,windowHeight)):(NeatStyle.hide(),global.qrButton&&global.qrButton.show(),("lite"!=bookConfig.ToolbarViewMode||bookType!=BookType.slide_book&&bookType!=BookType.singleSlide_book&&bookType!=BookType.catalog_book)&&toolBar&&toolBar.show(),"active"==global.templeteName&&window.thumbnail&&bookConfig.ThumbnailsButtonVisible&&!isPhone()&&!isPad()&&thumbnail.show(),bookType==BookType.catalog_book&&"lite"==bookConfig.ToolbarViewMode.toLowerCase()&&catalogBook.guidBar&&catalogBook.guidBar.show(),global.flipShotButton&&flipShotButton.show()):(t=MiniStyle.isMini(),isPhone()||isPad()||(t?(global.toolBar&&global.toolBar.hide(),global.QRbutton&&global.QRbutton.hide(),bookType==BookType.catalog_book&&global.catalogBook.guidBar&&global.catalogBook.guidBar.hide(),global.flipShotButton&&flipShotButton.hide(),MiniStyle.show()):(global.QRbutton&&global.QRbutton.show(),("lite"!=bookConfig.ToolbarViewMode||bookType!=BookType.slide_book&&bookType!=BookType.singleSlide_book&&bookType!=BookType.catalog_book)&&toolBar&&toolBar.show(),bookType==BookType.catalog_book&&"lite"==bookConfig.ToolbarViewMode.toLowerCase()&&catalogBook.guidBar&&catalogBook.guidBar.show(),global.flipShotButton&&flipShotButton.show(),MiniStyle.hide())))}function resizeCatalogBook(){var t,i,e,o,s,n,a,h;bookType==BookType.catalog_book&&global.catalogBook&&(bookConfig.FlipDirection?resizeCatalogCalendar():(o=catalogBook.getSpace(!1),n=catalogBook.getFitWH(),t=parseInt(n.x/2),i=parseInt(n.y),e=(windowWidth-o.left-o.right-n.x)/2+o.left,o=(windowHeight-o.top-o.bottom-n.y)/2+o.top,s=-n.x/4,n=n.x/4,a={},h=0,1==bookConfig.retainBookCenter&&(a=catalogBook.getCurrentPageIndex(),BookInfo.isCoverPage(a)&&BookInfo.isLeftPage(a,!0)&&(h=n),a={tran:{x:h=BookInfo.isCoverPage(a)&&!BookInfo.isLeftPage(a,!0)?s:h,y:0},scale:1,origin:{x:0,y:0}}),a.top=o,a.left=e,catalogBook.setCSS(a),catalogBook.onResize(t,i),catalogBook.resetZoomConfig()))}function resizeCatalogCalendar(){var t=catalogBook.getSpace(!1),i=catalogBook.getFitWH(),e=parseInt(i.x),o=parseInt(i.y/2),s=(windowWidth-t.left-t.right-i.x)/2+t.left,t=(windowHeight-t.top-t.bottom-i.y)/2+t.top,n=-i.y/4,i=i.y/4,a={},h=0;1==bookConfig.retainBookCenter&&(a=catalogBook.getCurrentPageIndex(),BookInfo.isCoverPage(a)&&BookInfo.isLeftPage(a,!0)&&(h=i),a={tran:{x:0,y:h=BookInfo.isCoverPage(a)&&!BookInfo.isLeftPage(a,!0)?n:h},scale:1,origin:{x:0,y:0}}),a.top=t,a.left=s,catalogBook.setCSS(a),catalogBook.onResize(e,o),catalogBook.resetZoomConfig()}function resizeFlipBook(){var t,i,e,o,s,n,a,h;bookType!=BookType.normal_book&&bookType!=BookType.single_book||(bookConfig.FlipDirection?resizeFlipCalendar():(global.flipBook&&(o=flipBook.getSpace(!1),n=flipBook.getFitWH(),t=parseInt(n.x/2),i=parseInt(n.y),e=(windowWidth-o.left-o.right-n.x)/2+o.left,o=(windowHeight-o.top-o.bottom-n.y)/2+o.top,s=-n.x/4,n=n.x/4,a={tran:{x:0,y:0},scale:1,origin:{x:0,y:0}},h=0,1==bookConfig.retainBookCenter&&(a=flipBook.getCurrentPageIndex(),BookInfo.isCoverPage(a)&&BookInfo.isLeftPage(a,!0)&&(h=n),BookInfo.isCoverPage(a)&&!BookInfo.isLeftPage(a,!0)&&(h=s),a={tran:{x:parseInt(h),y:0},scale:1,origin:{x:0,y:0}}),a.top=o,a.left=e,bookType==BookType.normal_book&&useTheAliCloudChart(t,i),flipBook.setCSS(a),flipBook.onResize(t,i),flipBook.resetZoomConfig()),global.singlePageBook&&(o=bookConfig.isSingleBookFullWindowOnMobile&&(isPhone()||isPad())?(t=windowWidth,i=windowHeight,e=0):(t=(n=singlePageBook.getFitWH()).x,i=n.y,o=singlePageBook.getSpace(!0),e=(windowWidth-o.left-o.right-t)/2+o.left,(windowHeight-o.top-o.bottom-i)/2+o.top),bookType==BookType.single_book&&useTheAliCloudChart(t,i),singlePageBook.onResize(t,i),singlePageBook.setCSS({top:o,left:e}),singlePageBook.setCSS({tran:{x:0,y:0},scale:1,origin:{x:0,y:0}}),singlePageBook.resetZoomConfig())))}function resizeFlipCalendar(){var t,i,e,o,s,n,a,h;global.flipBook&&(o=flipBook.getSpace(!1),n=flipBook.getFitWH(),t=parseInt(n.x),i=parseInt(n.y/2),e=(windowWidth-o.left-o.right-n.x)/2+o.left,o=(windowHeight-o.top-o.bottom-n.y)/2+o.top,s=-n.y/4,n=n.y/4,a={},h=0,1==bookConfig.retainBookCenter&&(a=flipBook.getCurrentPageIndex(),BookInfo.isCoverPage(a)&&BookInfo.isLeftPage(a,!0)&&(h=n),a={tran:{x:0,y:h=BookInfo.isCoverPage(a)&&!BookInfo.isLeftPage(a,!0)?s:h},scale:1,origin:{x:0,y:0}}),a.top=o,a.left=e,bookType==BookType.normal_book&&useTheAliCloudChart(t,i),flipBook.setCSS(a),flipBook.onResize(t,i),flipBook.resetZoomConfig()),global.singlePageBook&&(o=bookConfig.isSingleBookFullWindowOnMobile&&(isPhone()||isPad())?(t=windowWidth,i=windowHeight,e=0):(t=(n=singlePageBook.getFitWH()).x,i=n.y,o=singlePageBook.getSpace(!0),e=(windowWidth-o.left-o.right-t)/2+o.left,(windowHeight-o.top-o.bottom-i)/2+o.top),bookType==BookType.single_book&&useTheAliCloudChart(t,i),singlePageBook.onResize(t,i),singlePageBook.setCSS({top:o,left:e}),singlePageBook.setCSS({tran:{x:0,y:0},scale:1,origin:{x:0,y:0}}),singlePageBook.resetZoomConfig())}function resizeSlideBook(){global.slideBook&&slideBook.onResize(),global.singleSlideBook&&singleSlideBook.onResize()}function changeShowBookByWindow(){var t,i;bookConfig.FlipDirection?changeShowBookByWindowHorizonal():(i=!1,bookType==BookType.single_book&&windowHeight<=windowWidth&&"auto"==bookConfig.showDoublePage&&(bookType=BookType.normal_book,changeShowBook(bookType),t=singlePageBook.currentPageIndex,i=!0),bookType==BookType.singleSlide_book&&windowHeight<=windowWidth&&"auto"==bookConfig.showDoublePage&&(bookType=BookType.slide_book,changeShowBook(bookType),t=singleSlideBook.getRealPageIndex(),i=!0),bookType==BookType.slide_book&&windowWidth<windowHeight&&"auto"==bookConfig.showDoublePage&&(bookType=BookType.singleSlide_book,changeShowBook(bookType),t=slideBook.getRealPageIndex(),i=!0),bookType==BookType.normal_book&&windowWidth<windowHeight&&"auto"==bookConfig.showDoublePage&&(bookType=BookType.single_book,changeShowBook(bookType),t=flipBook.currentPageIndex,i=!0),resizeFlipBook(),resizeCatalogBook(),resizeSlideBook(),i&&(gotoPageFun(t,!1,"change book type"),global.thumbnail&&thumbnail.clearHighLight(),global.thumbnail)&&thumbnail.setHighLight(t))}function changeShowBookByWindowHorizonal(){var t,i=!1;bookType==BookType.single_book&&windowWidth<windowHeight&&"auto"==bookConfig.showDoublePage&&(bookType=BookType.normal_book,changeShowBook(bookType),t=singlePageBook.currentPageIndex,i=!0),bookType==BookType.singleSlide_book&&windowWidth<windowHeight&&"auto"==bookConfig.showDoublePage&&(bookType=BookType.slide_book,changeShowBook(bookType),t=singleSlideBook.getRealPageIndex(),i=!0),bookType==BookType.slide_book&&windowHeight<=windowWidth&&"auto"==bookConfig.showDoublePage&&(bookType=BookType.singleSlide_book,changeShowBook(bookType),t=slideBook.getRealPageIndex(),i=!0),bookType==BookType.normal_book&&windowHeight<=windowWidth&&"auto"==bookConfig.showDoublePage&&(bookType=BookType.single_book,changeShowBook(bookType),t=flipBook.currentPageIndex,i=!0),resizeFlipBook(),resizeCatalogBook(),resizeSlideBook(),i&&(gotoPageFun(t,!1,"change book type"),global.thumbnail&&thumbnail.clearHighLight(),global.thumbnail)&&thumbnail.setHighLight(t)}function initEvents(){$(bookContainer).bind("click touchstart",function(t){t.target==t.currentTarget&&onWindowClick(t)}),document.addEventListener("touchstart",function(t){1<t.touches.length&&t.preventDefault()});var e=0;document.addEventListener("touchend",function(t){var i=(new Date).getTime();i-e<=300&&t.preventDefault(),e=i},!1),document.addEventListener("gesturestart",function(t){t.preventDefault()}),$(window).bind("keydown",function(t){onWindowKeyDown(t)}),initSoundEvents(),bookContainer.bind("mousedown",function(t){3==t.which&&bookConfig.isStopMouseMenu&&(global.customMunuBox||(global.customMunuBox=new CustomMunu(tmpContainer)),global.customMunuBox.show(t))}.bind(this)),document.oncontextmenu=function(t){if(bookConfig.isStopMouseMenu)return!1},window.onkeydown=window.onkeyup=window.onkeypress=function(){if(123==window.event.keyCode&&bookConfig.isStopMouseMenu)return window.event.returnValue=!1}}function initSoundEvents(){global.flipAudio&&global.flipAudio.bind("play",function(){global.flipAudio[0].hasPlayed=!0});var t=_event._down;isTouchDevice()&&(t=_event._down+" "+_event._move+" "+_event._end),$(document).bind(t,function(t){BookEvent.trigger("windowClick",[t.offsetX/windowWidth,t.offsetY/windowHeight,BookInfo.getCurrentPages().join("-")])}),$("body").bind(t,function(){$("#currentPageIndexTextField")[0]&&$("#currentPageIndexTextField")[0].blur(),SoundEvents()})}function unbindSoundEvent(){var t=_event._down;(isPhone()||isPad())&&(t=_event._down+" "+_event._move+" "+_event._end),$("body").unbind(t,SoundEvents)}function SoundEvents(){global.flipAudio&&global.flipAudio[0].paused&&!global.flipAudio[0].hasPlayed&&bookConfig.FlipSound&&(global.flipAudio[0].play(),global.flipAudio[0].pause()),global.bgSound&&(global.bgSound.prepareAudios(),isPlaying&&window.playBackgroundSound?global.bgSound.playCurrentAudio():global.bgSound.pauseCurrentAudio()),!window.playBackgroundSound&&window.currentMedia&&window.currentMedia.playMedia(),global.flipPageAudio.playByTouch()}function onWindowClick(t){var i,e;!t||2==t.button||(i=BookInfo.getBook()).status_zoom||i.isZomming||i.status_resize||(t=t.originalEvent&&t.originalEvent.changedTouches?t.originalEvent.changedTouches:t.changedTouches||[t],i=BookInfo.getBook().getBook().offset(),e=BookInfo.getBook().getBook().outerWidth(),t[0].pageX>i.left+e?(rightToLeft?previousPageFun:nextPageFun)("window click"):t[0].pageX<i.left&&(rightToLeft?nextPageFun:previousPageFun)("window click"))}function onWindowKeyDown(b){var c;b&&!fullScreenApi.isFullScreen()&&(c=b.keyCode,Log.info("key down[%d]",c),c!=KEY_CODE_LEFT&&c!=KEY_CODE_PAGEUP||(rightToLeft?nextPageFun:previousPageFun)("key down"),c!=KEY_CODE_RIGHT&&c!=KEY_CODE_PAGEDOWN||(rightToLeft?previousPageFun:nextPageFun)("key down"),c==KEY_CODE_HOME&&(rightToLeft?lastPageFun:firstPageFun)("key down"),c==KEY_CODE_END&&(rightToLeft?firstPageFun:lastPageFun)("key down"),b.ctrlKey&&b.altKey&&(c==KEY_CODE_HOME||c==KEY_CODE_UP)&&eval(DeString("b29ec71982dc6d9062a0b77ce9ccc59581fd3c4a4fa9bd325e6f5ae7fbf39a0907064bb455b1bade956bc0f3e7c55d348fbaa363c39f7bef7a0648674fd1f688786b79bd6ad03215d634a4736f3f971501f664a09b820932d9bc83a9c2159964e5c571b3ebe4ceb214fd31bb1287fe5449f303a6d5531165e1386ba5aa8d0a3788d4a351d120a43a59c002d761ef")),b.ctrlKey)&&b.altKey&&c==KEY_CODE_A+1&&(b=synthesizingBrowserInformation(),console.log(Instance.JSON(b)))}function synthesizingBrowserInformation(){var t="",i="";switch($.browser.mozilla&&(t="mozilla"),$.browser.firefox&&(t="firefox"),$.browser.msie&&(t="msie"),$.browser.edge&&(t="edge"),$.browser.opera&&(t="opera"),$.browser.chrome&&(t="chrome"),$.browser.uc&&(t="uc"),$.browser.safari&&(t="safari"),$.browser.wechat&&(t="wechat"),$.browser.device){case 0:i="DEVICE_PC";break;case 1:i="DEVICE_PAD";break;case 2:i="DEVICE_PHONE"}return{system_name:$.system.name,system_version:$.system.version,browser_name:t,browser_version:$.browser.version,device:i,isApp:$.browser.app,build:BUILD_DATE}}function showArticleById(t){global.templeteName.indexOf("article")<0||(window.articleReader&&(articleReader.show(),articleReader.showArticleById(t)),window.phoneArticleReader&&phoneArticleReader.showArticleById(t))}function getArticleById(e){return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){return t.return(new Promise(function(i,t){$.ajax({url:articleUrl,type:"post",dataType:"json",data:{articleId:e,bookId:window.bookId,token:BookRestrict.getRestrictToken()},success:function(t){"OK"==t.code&&i(t.data)},error:function(t){i("")}})}))})}function getArticleImage(o){return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){return bookConfig.isEncryptionBook?t.return(new Promise(function(i,t){var e=[];e.push(toAbsURL(o)),t=BookRestrict.getRestrictToken(),$.ajax({type:"get",url:restrictUrl,dataType:"json",data:{urls:JSON.stringify(e),token:t},success:function(t){"OK"==t.code?i(t.data[e[0]]):i("")},error:function(){i("")}})})):t.return(o)})}function set_weixin_share(t,i,e,o){var s,n,a;"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)&&(n=t,a=i,s="https:"+o.replace(/^https?:/,"").replace(/\?[0-9]*/,""),n=""==n?e:n,a=(a=""==a?n:a).replace(/<br>/g,"\n"),wx.ready(function(){wx.onMenuShareWeibo({title:n,desc:""==a?n:a,link:e,imgUrl:s,success:function(){},cancel:function(){}}),wx.onMenuShareTimeline({title:n,link:e,imgUrl:s,success:function(){},cancel:function(){}}),wx.onMenuShareAppMessage({title:n,desc:a,link:e,imgUrl:s,success:function(){},cancel:function(){}}),wx.onMenuShareQQ({title:n,desc:a,link:e,imgUrl:s,success:function(){},cancel:function(){}}),wx.onMenuShareWeibo({title:n,desc:a,link:e,imgUrl:s,success:function(){},cancel:function(){}});try{wx.onMenuShareWechat({title:n,desc:a,link:e,imgUrl:s,success:function(){},cancel:function(){}})}catch(t){}wx.invoke("shareAppMessage",{title:n,desc:a,link:e,imgUrl:s},function(t){}),wx.invoke("shareWechatMessage",{title:n,desc:a,link:e,imgUrl:s},function(t){}),wx.invoke("shareToExternalContact",{title:n,desc:a,link:e,imgUrl:s},function(t){}),wx.invoke("shareToExternalChat",{title:n,desc:a,link:e,imgUrl:s},function(t){})}),wx.error(function(t){}))}function loadGlobalArticleConfig(t){loadArticleConfig(t)}function loadArticleConfig(i){bookConfig.articleConfigPath?$.ajax({url:bookConfig.articleConfigPath,type:"GET",dataType:"json",success:function(t){i&&i(bookConfig.articleConfigPath,t)},error:function(t){loadBookArticleConfig(i)}}):loadBookArticleConfig(i)}function loadBookArticleConfig(i){bookConfig.bookArticleConfigPath?$.ajax({url:bookConfig.bookArticleConfigPath,type:"GET",dataType:"json",success:function(t){i&&i(bookConfig.bookArticleConfigPath,t)},error:function(t){loadPeriodsConfig(i)}}):loadPeriodsConfig(i)}function loadPeriodsConfig(i){var e;bookConfig.periodsConfigPath&&window.book_visit&&window.book_visit.periodicalId?(e=(e=bookConfig.periodsConfigPath).replace("%periodicalId%",window.book_visit.periodicalId),$.ajax({url:e,type:"GET",dataType:"json",success:function(t){i&&i(e,t)},error:function(t){loadUserConfig(i)}})):loadUserConfig(i)}function loadUserConfig(i){bookConfig.userArticleConfigPath?$.ajax({url:bookConfig.userArticleConfigPath,type:"GET",dataType:"json",success:function(t){i&&i(bookConfig.userArticleConfigPath,t)},error:function(t){i&&i()}}):i&&i()}Log.debug("browser : %s, system : %s",Instance.JSON($.browser),Instance.JSON($.system)),jQuery(document).ready(function(){var b=!1,c=(global.cr&&global.crBefore&&global.crAfter||(b=!0),window.realLocation=window.location.href.removeStartFrom("?"),window.realLocation=realLocation.removeStartFrom("#"),function(){var f;window.htmlConfig&&window.htmlConfig.bookConfig&&window.htmlConfig.bookConfig.bookBaseURL?(f=bookConfig.bookBaseURL,f.endsWith("/")||(f+="/"),$.ajax({url:f+"bookinfo.js",type:"get",crossDomain:!0,success:function(g){eval(g),window.book_visit=book_visit,d()},error:function(t){d()}})):d()}),d=function(){b||(b=!0,window.waitForLoading?window.setTimeout(function(){main()},250):main())};window.setTimeout(function(){bookConfig.loadingVideo&&jsLoadingBar&&jsLoadingBar.showVideo?(jsLoadingBar.showVideo(),$(jsLoadingBar.video).bind("pause",function(){c()}),$(jsLoadingBar.video).bind("ended",function(){c()}),jsLoadingBar.video.ontimeupdate=function(){60<=jsLoadingBar.video.currentTime&&c()}):c()},Math.max(1e3*getConfigValue("loadingDisplayTime",0),10))}),bdor.m="m",window.addEventListener("popstate",function(t){try{try{var i,e=window.location.href,o=(console.log("popstate:"+e),e.lastIndexOf("/")),s=e.substr(o+1),n=parseInt(s.removeStartFrom("."));isNaN(n)?(window.phoneArticleReader&&window.phoneArticleReader.hide(),""!=(i=window.location.hash)&&3<i.length&&"#p="==i.substr(0,3)&&(currentPageIndex=parseInt(getRealPageNumber(i.substr(3,i.length-3)))),currentPageIndex=Number.between(currentPageIndex,1,originTotalPageCount),gotoPageFun(currentPageIndex)):(window.phoneArticleReader&&window.phoneArticleReader.showArticleById(n,!0),window.articleReader&&window.articleReader.showArticleById(n,!0))}catch(t){console.log(t)}}catch(t){}},!1),bdor[42]=bdor[33](bdor[32](37,33)+10,36),window.getHeight=function(){return null!=window.innerHeight?window.innerHeight:Math.min(document.documentElement.clientHeight,document.body.clientHeight)},window.getWidth=function(){return null!=window.innerWidth?window.innerWidth:Math.min(document.documentElement.clientWidth,document.body.clientWidth)},$(document).on("visibilitychange",function(){document.hidden?(global.bgSound&&isPlaying&&window.playBackgroundSound&&global.bgSound.pauseCurrentAudio(),!window.playBackgroundSound&&window.currentMedia&&window.currentMedia.pauseMedia()):(global.bgSound&&isPlaying&&window.playBackgroundSound&&global.bgSound.playCurrentAudio(),!window.playBackgroundSound&&window.currentMedia&&window.currentMedia.playMedia())}),Class("TaskList",{create:function(){this.taskList=[],this.taskListId=[],this.finishId=[],this.largeLength=0,this.performingTasks=!1,this.taskId=0},unShiftTask:function(t){0<=this.taskListId.indexOf(t.id)||0<=this.finishId.indexOf(t.id)||(null==t.id&&(t.id=this.tastkId,this.taskId++),this.taskList.push(t),this.taskListId.push(t.id),this.cutTask(),this.taskInterval)||this.performTaskList()},cutTask:function(){var t=this.taskList.length;if(!(t<=this.largeLength))for(var i=0;i<t-this.largeLength;i++)this.taskList.remove(0),this.taskListId.remove(0)},performTaskList:function(t){this.taskInterval||(this.taskInterval=window.setInterval(function(){var t=this.taskList[0];t?(t(),this.finishId.push(t.id),this.taskList.remove(0),this.taskListId.remove(0)):(window.clearInterval(this.taskInterval),this.taskInterval=void 0)}.bind(this),60))},setLargeLength:function(t){this.largeLength=t}}),Class("TextBubble",{$parent:null,color:null,textColor:null,text:"",padding:6,margin:2,$bubble:null,$content:null,$text:null,statics:{LEFT:1,TOP:2,RIGHT:3,BOTTOM:4,HORIZONTAL:5,VERTICAL:6},create:function(t){this.$parent=(t=t||{}).parent||$("body"),this.color=Color(t.color)||Color("black"),this.textColor=Color(t.textColor)||Color("white"),this.text=t.text||"",this.padding=t.padding||6,this.margin=t.margin||2,this.direction=t.direction||TextBubble.VERTICAL,this.init()},init:function(){this.$bubble=$("<div class='text_bubble' style='display:none'></div>"),this.$content=$("<div class='text_bubble_content'></div>"),this.$text=$("<div class='text_bubble_text'></div>"),this.$parent.append(this.$bubble),this.$bubble.append(this.$content),this.$content.append(this.$text),this.$content.css({padding:this.padding+"px","background-color":this.color.rgba()}),this.$text.css({color:this.textColor.toString()}),this.$text.text(this.text)},setColor:function(t){this.color=Color(t.color)||Color("black"),this.textColor=Color(t.textColor)||Color("white"),this.$content.css({"background-color":this.color.rgba()}),this.$text.css({color:this.textColor.toString()})},setStyle:function(t){"string"==typeof t&&this.$content.addClass(t),"object"==typeof t&&this.$content.css(t)},setText:function(t){this.text=t,this.$text&&this.$text.text(this.text)},show:function(t){switch(this.$bubble&&this.$bubble.css({display:"block"}),this.direction){case TextBubble.LEFT:this.showLeft(t);break;case TextBubble.TOP:this.showTop(t);break;case TextBubble.RIGHT:this.showRight(t);break;case TextBubble.BOTTOM:this.showBottom(t);break;case TextBubble.HORIZAONTAL:this.showHorizaontal(t);break;case TextBubble.VERTICAL:this.showVertical(t)}},showLeft:function(t){var i=this.getBubbleWidth();this.bubbleLeft=t.left-i-this.margin,i=this.getBubbleHeight(),this.bubbleTop=t.top+t.height/2-i/2,this.bubbleTop+i>this.$parent.height()?this.bubbleTop=this.$parent.height()-i-this.margin:this.bubbleTop=Math.max(this.margin,this.bubbleTop),this.$bubble.css({left:this.bubbleLeft+"px",top:this.bubbleTop+"px"})},showRight:function(t){this.getBubbleWidth(),this.bubbleLeft=t.left+t.width+this.margin;var i=this.getBubbleHeight();this.bubbleTop=t.top+t.height/2-i/2,this.bubbleTop+i>this.$parent.height()?this.bubbleTop=this.$parent.height()-i-this.margin:this.bubbleTop=Math.max(this.margin,this.bubbleTop),this.$bubble.css({left:this.bubbleLeft+"px",top:this.bubbleTop+"px"})},showTop:function(t){var i=this.getBubbleWidth();this.bubbleLeft=t.left+t.width/2-i/2,this.bubbleLeft+i>this.$parent.width()?this.bubbleLeft=this.$parent.width()-i-this.margin:this.bubbleLeft=Math.max(this.margin,this.bubbleLeft),i=this.getBubbleHeight(),this.bubbleTop=t.top-i-this.margin,this.$bubble.css({left:this.bubbleLeft+"px",top:this.bubbleTop+"px"})},showBottom:function(t){var i=this.getBubbleWidth();this.bubbleLeft=t.left+t.width/2-i/2,this.bubbleLeft+i>this.$parent.width()?this.bubbleLeft=this.$parent.width()-i-this.margin:this.bubbleLeft=Math.max(this.margin,this.bubbleLeft),this.getBubbleHeight(),this.bubbleTop=t.top+t.height+this.margin,this.$bubble.css({left:this.bubbleLeft+"px",top:this.bubbleTop+"px"})},showVertical:function(t){var i=this.getBubbleWidth();this.bubbleLeft=t.left+t.width/2-i/2,this.bubbleLeft+i>this.$parent.width()?this.bubbleLeft=this.$parent.width()-i-this.margin:this.bubbleLeft=Math.max(this.margin,this.bubbleLeft),i=this.getBubbleHeight(),t.top+t.height+i>this.$parent.height()?this.bubbleTop=t.top-i-this.margin:this.bubbleTop=t.top+t.height+this.margin,this.$bubble.css({left:this.bubbleLeft+"px",top:this.bubbleTop+"px"})},showHorizontal:function(t){var i=this.getBubbleWidth();t.left+t.width+i>this.$parent.width()?this.bubbleLeft=t.left-i-this.margin:this.bubbleLeft=t.left+t.width+this.margin,i=this.getBubbleHeight(),this.bubbleTop=t.top+t.height/2-i/2,this.bubbleTop+i>this.$parent.height()?this.bubbleTop=this.$parent.height()-i-this.margin:this.bubbleTop=Math.max(this.margin,this.bubbleTop),this.$bubble.css({left:this.bubbleLeft+"px",top:this.bubbleTop+"px"})},getBubbleWidth:function(){return this.$text.width()+2*this.padding},getBubbleHeight:function(){return this.$text.height()+2*this.padding},hide:function(){this.$bubble&&this.$bubble.css({display:"none"})}}),Class("ArrowTextBubble",{create:function(t){this.arrowWidth=(t=t||{}).arrowWidth||8,this.arrowHeight=t.arrowHeight||4,this._super(t)},setRightArrowStyle:function(t,i){t.css({"border-left":"0px solid transparent","border-top":this.arrowHeight/2+"px solid transparent","border-right":this.arrowWidth+"px solid "+i.toString(),"border-bottom":this.arrowHeight/2+"px solid transparent"})},setLeftArrowStyle:function(t,i){t.css({"border-left":this.arrowWidth+"px solid "+i.toString(),"border-top":this.arrowHeight/2+"px solid transparent","border-right":"0px solid transparent","border-bottom":this.arrowHeight/2+"px solid transparent"})},setBottomArrowStyle:function(t,i){t.css({"border-left":this.arrowWidth/2+"px solid transparent","border-top":"0px solid transparent","border-right":this.arrowWidth/2+"px solid transparent","border-bottom":this.arrowHeight+"px solid "+i.toString()})},setTopArrowStyle:function(t,i){t.css({"border-left":this.arrowWidth/2+"px solid transparent","border-top":this.arrowHeight+"px solid "+i.toString(),"border-right":this.arrowWidth/2+"px solid transparent","border-bottom":"0px solid transparent"})}}).extend("TextBubble"),Class("SolidArrowTextBubble",{$arrow:null,init:function(){this._super(),this.$arrow=$("<div class='text_bubble_arrow'></div>"),this.$bubble.append(this.$arrow)},showLeft:function(t){this._super(t),this.getBubbleHeight(),t=t.top+t.height/2-this.bubbleTop-this.arrowHeight/2;var i=this.$text.width()+2*this.padding;this.$content.css({"margin-left":"0px"}),this.setLeftArrowStyle(this.$arrow,this.color),this.$arrow.css({top:t+"px",left:i+"px"})},showTop:function(t){this._super(t),this.getBubbleWidth(),t=t.left+t.width/2-this.bubbleLeft-this.arrowWidth/2;var i=this.$text.height()+2*this.padding;this.$content.css({"margin-top":"0px"}),this.setTopArrowStyle(this.$arrow,this.color),this.$arrow.css({left:t+"px",top:i+"px"})},showRight:function(t){this._super(t),this.getBubbleHeight(),t=t.top+t.height/2-this.bubbleTop-this.arrowHeight/2,this.$text.width(),this.$content.css({"margin-left":this.arrowWidth+"px"}),this.setRightArrowStyle(this.$arrow,this.color),this.$arrow.css({top:t+"px",left:"0px"})},showBottom:function(t){this._super(t),this.getBubbleWidth(),t=t.left+t.width/2-this.bubbleLeft-this.arrowWidth/2,this.$text.height(),this.$content.css({"margin-top":this.arrowHeight+"px"}),this.setBottomArrowStyle(this.$arrow,this.color),this.$arrow.css({left:t+"px",top:"0px"})},showVertical:function(t){this._super(t),this.getBubbleWidth();var i=t.left+t.width/2-this.bubbleLeft-this.arrowWidth/2,e=this.$text.height()+2*this.padding;this.bubbleTop<t.top?(this.$content.css({"margin-top":"0px"}),this.setTopArrowStyle(this.$arrow,this.color),this.$arrow.css({left:i+"px",top:e+"px"})):(this.$content.css({"margin-top":this.arrowHeight+"px"}),this.setBottomArrowStyle(this.$arrow,this.color),this.$arrow.css({left:i+"px",top:"0px"}))},showHorizontal:function(t){this._super(t),this.getBubbleHeight();var i=t.top+t.height/2-this.bubbleTop-this.arrowHeight/2,e=this.$text.width()+2*this.padding;this.bubbleLeft<t.left?(this.$content.css({"margin-left":"0px"}),this.setLeftArrowStyle(this.$arrow,this.color),this.$arrow.css({top:i+"px",left:e+"px"})):(this.$content.css({"margin-left":this.arrowWidth+"px"}),this.setRightArrowStyle(this.$arrow,this.color),this.$arrow.css({top:i+"px",left:"0px"}))},getBubbleHeight:function(){return this.direction==TextBubble.VERTICAL||this.direction==TextBubble.TOP||this.direction==TextBubble.BOTTOM?this.$text.height()+2*this.padding+this.arrowHeight:this.$text.height()+2*this.padding},getBubbleWidth:function(){return this.direction==TextBubble.HORIZONTAL||this.direction==TextBubble.LEFT||this.direction==TextBubble.RIGHT?this.$text.width()+2*this.padding+this.arrowWidth:this.$text.width()+2*this.padding}}).extend("ArrowTextBubble"),Class("HollowArrowTextBubble",{$arrow:null,$filled_arrow:null,create:function(t){this.filledColor=(t=t||{}).filledColor||Color("white"),this._super(t)},init:function(){this._super(),this.$arrow=$("<div class='text_bubble_arrow' style='z-index:1'></div>"),this.$filled_arrow=$("<div class='text_bubble_arrow' style='z-index:2'></div>"),this.$bubble.append(this.$arrow),this.$bubble.append(this.$filled_arrow),this.$content.css({padding:this.padding-1+"px",border:"1px solid "+this.color.toString(),"background-color":this.filledColor.toString()})},show:function(t){this._super(t),this.getBubbleWidth();var i=t.left+t.width/2-this.bubbleLeft-this.arrowWidth/2,e=this.$text.height()+2*this.padding;this.bubbleTop<t.top?(this.$content.css({"margin-top":"0px"}),this.setBottomArrowStyle(this.$arrow,this.color),this.$arrow.css({left:i+"px",top:e+"px"}),this.setBottomArrowStyle(this.$filled_arrow,this.filledColor),this.$filled_arrow.css({left:i+"px",top:e-2+"px"})):(this.$content.css({"margin-top":this.arrowHeight+"px"}),this.setTopArrowStyle(this.$arrow,this.color),this.$arrow.css({left:i+"px",top:"0px"}),this.setTopArrowStyle(this.$filled_arrow,this.filledColor),this.$filled_arrow.css({left:i+"px",top:"2px"}))},getBubbleHeight:function(){return this.$text.height()+2*this.padding+this.arrowHeight}}).extend("ArrowTextBubble"),Class("WeChatShare",{create:function(t){this.arrowWidth=(t=t||{}).arrowWidth||8,this.arrowHeight=t.arrowHeight||8,this._super(t)},init:function(){var t=getLanguage("infScanCodeToView","Scan code to read"),i=(this.visible=!1,this.$bubble=$("<div class='text_bubble' style='display:none'></div>"),this.$content=$("<div class='text_bubble_content'></div>"),this.$text=$("<div style='width:200px;height:230px;'></div>"),t=$("<div>"+t+"</div>"),$("<div></div>"));i.qrcode({width:180,height:180,text:window.location.href}),isBelowIE9()?this.$arrow=$("<div class='text_bubble_arrow'></div>"):(this.$arrow=$("<canvas class='text_bubble_arrow' width = '16' height ='14'></canvas>"),this.initBorder()),this.$bubble.append(this.$arrow),i.css({position:"absolute",left:"20px",top:"50px","image-redering":"pixelated"}),t.css({"font-size":"20px","font-weight":"bold",margin:"0 auto","text-align":"center",color:this.textColor.value}),this.$text.append(t).append(i),this.$parent.append(this.$bubble),this.$bubble.append(this.$content),this.$content.append(this.$text),this.$content.css({padding:this.padding+"px","background-color":"#fff","-webkit-box-shadow":"0 0 3px #111 inset","-o-box-shadow":"0 0 3px #111 inset","-moz-box-shadow":"0 0 3px #111 inset","-ms-box-shadow":"0 0 3px #111 inset","box-shadow":"0 0 3px #111 inset"}),this.enterEvent()},destroy:function(){this.$bubble.remove(),global.WeChatShareImg=null},initBorder:function(){var t=this.$arrow[0].getContext("2d");t.beginPath(),t.fillStyle="#fff",t.moveTo(8,0),t.lineTo(0,14),t.lineTo(16,14),t.fill(),t.closePath(),t.lineWidth=1,t.beginPath(),t.strokeStyle="#AFAFAF",t.moveTo(8,0),t.lineTo(0,14),t.shadowOffsetX=1,t.shadowBlur=1,t.shadowColor="#AFAFAF",t.stroke(),t.closePath(),t.beginPath(),t.strokeStyle="#AFAFAF",t.moveTo(8,0),t.lineTo(16,14),t.shadowOffsetX=-1,t.shadowBlur=1,t.shadowColor="#AFAFAF",t.stroke(),t.closePath()},showLeft:function(t){this._super(t),isBelowIE9()?this.$content.css({"margin-left":"3px"}):this.$arrow.css({border:"none","margin-left":"-3px",transform:"rotateZ(90deg)","-webkit-transform":"rotateZ(90deg)","-o-transform":"rotateZ(90deg)","-moz-transform":"rotateZ(90deg)","-ms-transform":"rotateZ(90deg)"})},showTop:function(t){this._super(t),isBelowIE9()?this.$content.css({"margin-top":"3px"}):this.$arrow.css({border:"none","margin-top":"-2px",transform:"rotateZ(180deg)","-webkit-transform":"rotateZ(180deg)","-o-transform":"rotateZ(180deg)","-moz-transform":"rotateZ(180deg)","-ms-transform":"rotateZ(180deg)"})},showRight:function(t){this._super(t),isBelowIE9()?this.$content.css({"margin-left":this.arrowHeight-3+"px"}):this.$arrow.css({border:"none","margin-left":"-1px",transform:"rotateZ(-90deg)","-webkit-transform":"rotateZ(-90deg)","-o-transform":"rotateZ(-90deg)","-moz-transform":"rotateZ(-90deg)","-ms-transform":"rotateZ(-90deg)"})},showBottom:function(t){this._super(t),isBelowIE9()?this.$content.css({"margin-top":this.arrowHeight-3+"px"}):this.$arrow.css({border:"none","margin-left":"-1px",transform:"rotateZ(0)","-webkit-transform":"rotateZ(0)","-o-transform":"rotateZ(0)","-moz-transform":"rotateZ(0)","-ms-transform":"rotateZ(0)"})},showVertical:function(t){this._super(t),isBelowIE9()?this.bubbleTop<t.top?this.$content.css({"margin-top":"3px"}):this.$content.css({"margin-top":this.arrowHeight-3+"px"}):this.bubbleTop<t.top?(this.$content.css({"margin-top":"3px"}),this.$arrow.css({border:"none","margin-top":"-2px",transform:"rotateZ(180deg)","-webkit-transform":"rotateZ(180deg)","-o-transform":"rotateZ(180deg)","-moz-transform":"rotateZ(180deg)","-ms-transform":"rotateZ(180deg)"})):(this.$content.css({"margin-top":this.arrowHeight-3+"px"}),this.$arrow.css({border:"none","margin-left":"-1px",transform:"rotateZ(0)","-webkit-transform":"rotateZ(0)","-o-transform":"rotateZ(0)","-moz-transform":"rotateZ(0)","-ms-transform":"rotateZ(0)"}))},enterEvent:function(){this.$bubble.bind("mouseenter",function(){this.visible=!0}.bind(this)),this.$bubble.bind("mouseleave",function(){this.visible=!1,this.hide()}.bind(this))},setDirection:function(t){t&&(this.direction=t)},hide:function(){this.$bubble&&setTimeout(function(){this.visible||this.$bubble.fadeOut("100",function(){this.$bubble.css({display:"none"})}.bind(this))}.bind(this),200)}}).extend("SolidArrowTextBubble"),Class("PhoneWeChatShareHelp",{create:function(t){this.container=$("<div class='PhoneWeChatShareHelp'></div>"),this.initCss(),t.append(this.container),this.initEvent()},initCss:function(){var t=$('<div style="width:92%;height:96%;margin:2% 4%;background:url('+phoneSvgIcons.shareToWeChat+') center top no-repeat"></div>');this.container.append(t),this.container.css({display:"none",background:"rgba(11,11,11,0.9)",width:windowWidth+"px",height:windowHeight+"px",position:"absolute","z-index":"10001"})},onResize:function(){this.container.css({width:windowWidth+"px",height:windowHeight+"px"})},initEvent:function(){this.container.bind(_event._down,function(){this.hide()}.bind(this))},show:function(){(isPhone()||isPad()||"brief"==global.templeteName)&&this.container.css({width:windowWidth+"px",height:windowHeight+"px",display:"block"})},hide:function(){(isPhone()||isPad()||"brief"==global.templeteName)&&this.container.css({display:"none"})}}),Class("PcTelephoneNumberBubble",{create:function(t){this.arrowWidth=(t=t||{}).arrowWidth||8,this.arrowHeight=t.arrowHeight||8,this._super(t)},init:function(){this.visible=!1,this.$bubble=$("<div class='text_bubble pctel_form' style='display:none'></div>"),this.$content=$("<div class='text_bubble_content stage'></div>"),this.$text=$("<div class='text_bubble_content swiper'></div>"),this.$content.css({background:"transparent",color:this.textColor.value}),this.$arrow=$("<div class='text_bubble_arrow'></div>"),this.addItem(),this.$bubble.append(this.$arrow),this.$parent.append(this.$bubble),this.$bubble.append(this.$content),this.$content.append(this.$text),this.$content.css({"background-color":this.color.rgba()}),this.$text.css({color:this.textColor.toString()}),this.enterEvent()},addItem:function(){this.$text.html(""),this.numberArray=global.phoneNumber;for(var t=0;t<this.numberArray.length;t++)this.$item=$("<div class='item'></div>"),t==this.numberArray.length-1?this.initItemArray(this.numberArray[t],!0):this.initItemArray(this.numberArray[t]),this.$text.append(this.$item)},initItemArray:function(t,i){this.parm=t||{},this.parm.number||(this.parm.number=""),this.button=$("<a href='tel:"+this.parm.number+"' style='border-left:1px solid rgba(222,222,222,0.25);word-break: break-word;' >"+this.parm.number+"</a>"),this.parm.label?(this.label=$("<span class='number' title='"+this.parm.label+"'>"+this.parm.label+"</span>"),this.$item.append(this.label)):this.button.css({width:"200px"}),this.$item.append(this.button),i&&this.$item.css({border:"none"})},enterEvent:function(){this.$bubble.bind("mouseenter",function(){this.visible=!0}.bind(this)),this.$bubble.bind("mouseleave",function(){this.visible=!1,this.hide()}.bind(this))},setDirection:function(t){t&&(this.direction=t)},showLeft:function(t){this._super(t),this.getBubbleHeight(),t=t.top+t.height/2-this.bubbleTop-this.arrowHeight/2;var i=this.$text.width();this.$content.css({"margin-left":"0px"}),this.setLeftArrowStyle(this.$arrow,this.color),this.$arrow.css({top:t+"px",left:i+"px"})},showTop:function(t){this._super(t),this.getBubbleWidth(),t=t.left+t.width/2-this.bubbleLeft-this.arrowWidth/2;var i=this.$text.height();this.$content.css({"margin-top":"0px"}),this.setTopArrowStyle(this.$arrow,this.color),this.$arrow.css({left:t+"px",top:i+"px"})},showRight:function(t){this._super(t),this.getBubbleHeight(),t=t.top+t.height/2-this.bubbleTop-this.arrowHeight/2,this.$text.width(),this.$content.css({"margin-left":this.arrowWidth+"px"}),this.setRightArrowStyle(this.$arrow,this.color),this.$arrow.css({top:t+"px",left:"0px"})},showBottom:function(t){this._super(t),this.getBubbleWidth(),t=t.left+t.width/2-this.bubbleLeft-this.arrowWidth/2,this.$text.height(),this.$content.css({"margin-top":this.arrowHeight+"px"}),this.setBottomArrowStyle(this.$arrow,this.color),this.$arrow.css({left:t+"px",top:"0px"})},showVertical:function(t){this._super(t),this.getBubbleWidth();var i=t.left+t.width/2-this.bubbleLeft-this.arrowWidth/2,e=this.$text.height();this.bubbleTop<t.top?(this.$content.css({"margin-top":"0px"}),this.setTopArrowStyle(this.$arrow,this.color),this.$arrow.css({left:i+"px",top:e+"px"})):(this.$content.css({"margin-top":this.arrowHeight+"px"}),this.setBottomArrowStyle(this.$arrow,this.color),this.$arrow.css({left:i+"px",top:"0px"}))},showHorizontal:function(t){this._super(t),this.getBubbleHeight();var i=t.top+t.height/2-this.bubbleTop-this.arrowHeight/2,e=this.$text.width();this.bubbleLeft<t.left?(this.$content.css({"margin-left":"0px"}),this.setLeftArrowStyle(this.$arrow,this.color),this.$arrow.css({top:i+"px",left:e+"px"})):(this.$content.css({"margin-left":this.arrowWidth+"px"}),this.setRightArrowStyle(this.$arrow,this.color),this.$arrow.css({top:i+"px",left:"0px"}))},getBubbleHeight:function(){return this.direction==TextBubble.VERTICAL||this.direction==TextBubble.TOP||this.direction==TextBubble.BOTTOM?this.$text.height()+this.arrowHeight:this.$text.height()},getBubbleWidth:function(){return this.direction==TextBubble.HORIZONTAL||this.direction==TextBubble.LEFT||this.direction==TextBubble.RIGHT?this.$text.width()+this.arrowWidth:this.$text.width()},hide:function(){this.$bubble&&setTimeout(function(){this.visible||this.$bubble.fadeOut("100",function(){this.$bubble.css({display:"none"})}.bind(this))}.bind(this),200)}}).extend("SolidArrowTextBubble"),Class("ToolbarButton",{$button:null,colorChanged:!1,fontColorChanged:!1,callback:null,color:null,fontColor:null,$parent:null,caption:"",title:null,hint:!0,language:null,create:function(){if(this.color=Color(bookConfig.iconColor),this.fontColor=Color(bookConfig.iconFontColor),isPhone()||isPad())switch(bookConfig.phoneToolbarType){case"both":this.$button=$("<div class='button mixButton'></div>");break;case"text":this.$button=$("<div class='button textButton'></div>");break;default:this.$button=$("<div class='button'></div>")}else this.$button=$("<div class='button'></div>");this.ButtonClickEvent=this.onButtonClick.bind(this)},setCallback:function(t){this.callback=t},onButtonClick:function(t){if(BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),this.name,this.caption]),this.onClick(t),this.executeCallback(),this.hideTitle(),t)return t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0),!1},onClick:virtual_function,executeCallback:function(){this.callback&&this.callback instanceof Function&&this.callback(this)},click:function(t){this.onButtonClick(t)},setSrc:function(t,i){this.name=t,this.customIcon=i||"";var e=$("<img style='pointer-events:none;'></img>");this.$caption=$("<span style='pointer-events:none;'></span>"),i&&""!=i?e.attr("src",i):toolbar_icons&&toolbar_icons[t]?e.attr("src","data:image/png;base64,"+toolbar_icons[t]):e.attr("src",uiBaseURL+t+".png"),this.$button.empty(),this.$button.append(e),this.$button.append(this.$caption),this.fontColorChanged=this.colorChanged=!1},setCustomIcon:function(t){this.customIcon=t},resetImg:function(){this.name&&(this.setSrc(this.name,this.customIcon),this.setCaption(this.caption))},changeColor:function(t){this.changeIconColor(t),this.changeCaptionColor(t)},changeIconColor:function(t,i){(this.color||t)&&(t=t||this.color.toString(),this.$parent)&&!this.colorChanged&&this.$button.changeButtonColor(Color(t).toString(),!1,function(){i&&this.reflection(),this.colorChanged=!0}.bind(this))},changeCaptionColor:function(t){(this.fontColor||t)&&(t=t||this.fontColor.toString(),this.fontColorChanged||(this.$caption&&this.$caption.css("color",Color(t).toString()),this.fontColorChanged=!0))},reflection:function(){reflection&&reflection(this.$button)},initLanguage:function(t,i){this.language={key:t,defaultValue:i},this.changeLanguage()},changeLanguage:function(){var t;this.language&&(t=getLanguage(this.language.key,this.language.defaultValue),this.setCaption(t))},setCaption:function(t){this.caption=t,this.$caption.text(t),this.title?this.title.setText(t):this.setTitle(t)},setTitle:function(t){"string"==typeof t?(this.$button.attr("title",t),this.title=null):(this.$button.attr("title",""),this.title=t)},showTitle:function(i){i&&"CANVAS"==i.target.tagName.toUpperCase()||!this.hint||!this.title||(this.mouse_is_enter=!0,this.titleTimer&&window.clearTimeout(this.titleTimer),this.titleTimer=function(){var t;this.mouse_is_enter&&(t={left:i.pageX-i.offsetX,top:i.pageY-i.offsetY,width:this.width(),height:this.height()},isFirefox()&&(t=getOffset(i),t={left:i.pageX-t.X,top:i.pageY-t.Y,width:this.width(),height:this.height()}),this.title.show(t))}.delay(this,800))},hideTitle:function(){this.mouse_is_enter=!1,this.title&&this.title.hide()},addTo:function(t){this.$parent!=t&&(this.$parent&&this.freedom(),this.$button.appendTo(t),this.$parent=t,this.addEvents())},addEvents:function(){this.$button.bind("click",this.ButtonClickEvent),this.$button.bind("mouseenter",this.showTitle.bind(this)),this.$button.bind("mouseleave",this.hideTitle.bind(this)),this.$button.bind("mousedown pointerdown touchstart",function(t){toolBar.enterOption&&window.clearTimeout(toolBar.enterOption),t.stopPropagation()}),this.$button.css("cursor","pointer")},freedom:function(){this.$button.remove(),this.$parent=null,this.$button.unbind()},setPosition:function(t,i){this.$button.css({left:t+"px",top:i+"px"})},setWidth:function(t){this.$button.css({width:t+"px"})},setHeight:function(t){this.$button.css({height:t+"px"})},left:function(){return this.$button.left()},top:function(){return this.$button.top()},width:function(){return this.$button.width()},height:function(){return this.$button.height()}}),Class("ButtonBevel",{color:null,$body:null,$parent:null,statics:{vertical:0,horizontal:1},create:function(t,i){this.color=Color(t),this.direction=null==i?ButtonBevel.vertical:i,this.init()},init:function(){this.$body=$("<div name='bevel'></div>");var t=this.color.reduce(20);this.direction==ButtonBevel.vertical?(this._width=2,this._height=30,this.$body.css({position:"absolute",width:"1px",height:"30px","background-color":t})):(this._width=30,this._height=2,this.$body.css({position:"absolute",width:"30px",height:"1px","background-color":t}))},freedom:function(){this.$body.remove(),this.$parent=null},addTo:function(t){this.$parent!=t&&(this.$parent&&this.freedom(),this.$body.appendTo(t),this.$parent=t)},setPosition:function(t,i){this.$body.css({left:t+"px",top:i+"px"})},setWidth:function(t){var i;this._width=t,this.direction==ButtonBevel.vertical?this.$body.css({width:(t+(i=t%2))/2+"px","border-right-width":(t-i)/2+"px"}):this.$body.css({width:t+"px"})},changeBevelColor:function(t){this.color=Color(t||bookConfig.iconColor),t=this.color.reduce(20),this.$body.css({"background-color":t})},setHeight:function(t){var i;this._height=t,this.direction==ButtonBevel.vertical?this.$body.css({height:t+"px"}):this.$body.css({height:(t+(i=t%2))/2+"px","border-bottom-width":(t-i)/2+"px"})},left:function(){return this.$body.left()},top:function(){return this.$body.top()},width:function(){return this._width},height:function(){return this._height}}),Class("FirstPageButton",{create:function(){this._super(),rightToLeft?this.setSrc("Last",bookConfig.LastButtonIcon):this.setSrc("First",bookConfig.FirstButtonIcon),this.initLanguage("btnFirstPage","First")},onClick:function(t){firstPageFun("toolbar button")}}).extend("ToolbarButton"),Class("LastPageButton",{create:function(){this._super(),rightToLeft?this.setSrc("First",bookConfig.FirstButtonIcon):this.setSrc("Last",bookConfig.LastButtonIcon),this.initLanguage("btnLastPage","Last")},onClick:function(t){lastPageFun("toolbar button")}}).extend("ToolbarButton"),Class("PreviousPageButton",{create:function(){this._super(),rightToLeft?this.setSrc("next",bookConfig.NextButtonIcon):this.setSrc("prev",bookConfig.PreviousButtonIcon),this.initLanguage("btnPrePage","Previous")},onClick:function(t){previousPageFun("toolbar button")}}).extend("ToolbarButton"),Class("NextPageButton",{create:function(){this._super(),rightToLeft?this.setSrc("prev",bookConfig.PreviousButtonIcon):this.setSrc("next",bookConfig.NextButtonIcon),this.initLanguage("btnNextPage","Next")},onClick:function(t){nextPageFun("toolbar button")}}).extend("ToolbarButton"),Class("HomeButton",{create:function(){this._super(),this.setSrc("home",bookConfig.HomeButtonIcon),this.initLanguage("btnGoToHome","Home")},onClick:function(t){"%first page%"==bookConfig.HomeURL.toLowerCase()?firstPageFun("home"):null!=bookConfig.HomeURL&&""!=bookConfig.HomeURL&&((t=bookConfig.HomeURL).startsWith("%")&&t.endsWith("%")?(t=getRealPageNumber(t.slice(1,t.length-1)),gotoPageFun(t,!1,"home button")):(t=getRealURL(t),(isPhone()||isPad())&&0<=bookConfig.OpenWindow.indexOf("self")?window.location.replace(t):window.open(t,bookConfig.OpenWindow)))}}).extend("ToolbarButton"),Class("ShareEmailButton",{create:function(){this._super(),this.color=Color(bookConfig.iconColor),this.fontColor=Color(bookConfig.iconFontColor),this.$button=$("<a target="+bookConfig.OpenWindow+" href='' class='button' style='text-decoration:none;'></a>"),this.emailStr="";var t,i=bookConfig.btnShareWithEmailBody||"",e=bookConfig.btnShareWithEmailSubject||"";thumb=" "+window.location.href.substring(0,share_url.lastIndexOf("/"))+"/"+bookConfig.thumbPath+"1.jpg ",0<=(i=i.replaceAll("{thumb}",thumb,!0)).indexOf("{link_no_page}")?(t=window.location.href.replace(window.location.hash,""),i=i.replaceAll("{link_no_page}",t,!0)):0<=i.indexOf("{link}")&&(i=i.replaceAll("{link}",Metacharacter(window.location.href),!0)),this.emailStr=(i=i.replaceAll("{title}",window.document.title,!0))?e?"mailto:?subject="+e+"&body="+i:"mailto:?body="+i:this.emailStr+"mailto:?subject="+e,this.setSrc("emailButton",bookConfig.EmailButtonIcon),this.initLanguage("btnShareEmail","Share by Email")},onClick:function(t){window.open(this.emailStr,"_blank")}}).extend("ToolbarButton"),Class("HelpButton",{create:function(){this._super(),this.setSrc("Help",bookConfig.HelpButtonIcon),this.initLanguage("btnHelp","Help")},onClick:function(t){helpBody&&helpBody.showOrHide({left:t.pageX-t.offsetX,top:t.pageY-t.offsetY,width:$(t.target).width(),height:$(t.target).height()})}}).extend("ToolbarButton"),Class("ThumbnailButton",{create:function(){this._super(),this.setSrc("thumbnails",bookConfig.ThumbnailButtonIcon),this.initLanguage("btnThumb","Thumbnails")},onClick:function(t){thumbnail&&thumbnail.showOrHide()}}).extend("ToolbarButton"),Class("ShareButton",{create:function(){this._super(),this.setSrc("sharethis",bookConfig.ShareButtonIcon),this.initLanguage("btnSocialShare","Share")},onClick:function(t){sharePanel.showOrHide({left:t.pageX-t.offsetX,top:t.pageY-t.offsetY,width:$(t.target).width(),height:$(t.target).height()})}}).extend("ToolbarButton"),Class("SearchButton",{create:function(){this._super(),this.setSrc("search",bookConfig.SearchButtonIcon),this.initLanguage("btnSearch","Search")},onClick:function(t){frmSearch&&frmSearch.showOrHide()}}).extend("ToolbarButton"),Class("DownloadButton",{create:function(){this._super(),this.setSrc("download",bookConfig.DownloadButtonIcon),this.initLanguage("btnDownload","Download")},onClick:function(t){window.sendvisitinfo&&sendvisitinfo(8,BookInfo.getCurrentPageIndex()),window.downloadconfig?global.downLoadBody||(global.downLoadBody=new PcDownloadForm({parent:tmpContainer,formType:"download",rightToLeft:rightToLeft})):""!=bookConfig.DownloadURL&&window.open(bookConfig.DownloadURL,"_blank"),global.downLoadBody&&downLoadBody.showOrHide()}}).extend("ToolbarButton"),Class("BookmarkButton",{create:function(){this._super(),this.setSrc("bookmark",bookConfig.BookmarkButtonIcon),getLanguage("AnnotMark","")?this.initLanguage("AnnotMark","bookmark"):this.initLanguage("btnBookMark","Bookmark")},onClick:function(t){bookmark.showOrHide()}}).extend("ToolbarButton"),Class("TableOfContentButton",{create:function(){this._super(),this.setSrc("tableOfContent",bookConfig.TableOfContentButtonIcon),getLanguage("AnnotMark","")?this.initLanguage("btnBookMark","Table Of Contents"):this.initLanguage("btnTableOfContent","Table Of Contents")},onClick:function(t){getLanguage("btnTableOfContent","Table Of Contents"),getLanguage("AnnotMark","")&&getLanguage("btnBookMark","Table Of Contents"),frmTableOfContent&&frmTableOfContent.showOrHide()}}).extend("ToolbarButton"),Class("LanguageButton",{create:function(){this._super(),this.setSrc("languageChange",bookConfig.LanguageButtonIcon),this.initLanguage("btnLanguage","Language change")},onClick:function(t){global.languagePanel&&languagePanel.showOrHide()}}).extend("ToolbarButton"),Class("PrintButton",{create:function(){this._super(),this.setSrc("print",bookConfig.PrintButtonIcon),this.initLanguage("btnPrint","Print")},onClick:function(t){printBody&&printBody.showOrHide()}}).extend("ToolbarButton"),Class("MessageButton",{create:function(){this._super(),this.setSrc("message",bookConfig.MessageButtonIcon),this.initLanguage("btnMessage","Message")},onClick:function(t){window.bookLeaveMessage&&bookLeaveMessage.showOrHide()}}).extend("ToolbarButton"),Class("AboutButton",{create:function(){this._super(),this.setSrc("about",bookConfig.AboutButtonIcon),this.initLanguage("btnAbout","About")},onClick:function(t){aboutBody&&aboutBody.showOrHide({left:t.pageX-t.offsetX,top:t.pageY-t.offsetY,width:$(t.target).width(),height:$(t.target).height()})}}).extend("ToolbarButton"),Class("MoreButton",{create:function(){this._super(),this.setSrc("moreBar"),this.initLanguage("btnMore","More")},onClick:function(t){moreBar.visible?moreBar.hide():(t={left:t.pageX-t.offsetX,top:t.pageY-t.offsetY,width:this.width(),height:this.height()},moreBar.show(t))}}).extend("ToolbarButton"),Class("AnnotationButton",{create:function(){this._super(),this.setSrc("annotation",bookConfig.AnnotationButtonIcon),this.initLanguage("btnNote","Annotation")},onClick:function(t){global.annotationPannel.showOrHide()}}).extend("ToolbarButton"),Class("VideoButton",{create:function(){this._super(),this.setSrc("videoGallery",bookConfig.VideoButtonIcon),this.initLanguage("btnVideo","Video Gallery")},onClick:function(t){videoGallery&&videoGallery.showOrHide()}}).extend("ToolbarButton"),Class("SlideshowButton",{create:function(){this._super(),this.setSrc("photoGallery",bookConfig.SlideshowButtonIcon),this.initLanguage("btnSlideShow","Slideshow")},onClick:function(t){photoGallery.showOrHide()}}).extend("ToolbarButton"),Class("BackwardButton",{create:function(){this._super(),rightToLeft?this.setSrc("forward",bookConfig.ForwardButtonIcon):this.setSrc("backward",bookConfig.BackwardButtonIcon),this.initLanguage("btnPageBack","Backward")},onClick:function(t){flipHistory.backward()}}).extend("ToolbarButton"),Class("ForwardButton",{create:function(){this._super(),rightToLeft?this.setSrc("backward",bookConfig.BackwardButtonIcon):this.setSrc("forward",bookConfig.ForwardButtonIcon),this.initLanguage("btnPageForward","Forward")},onClick:function(t){flipHistory.forward()}}).extend("ToolbarButton"),Class("StateSynchronous",{buttons:null,statics:{instance:function(){return this.synchroner||(this.synchroner=new StateSynchronous),this.synchroner}},create:function(){this.buttons=new ObjectPool},registButton:function(t){this.buttons.add(t)},findButtons:function(t,i){return i?this.buttons.find(t):this.buttons.match(t)},reportChanged:function(i){this.buttons.match(i.getClassName()).each(function(t){t!=i&&t.setStatusQuietly(i.getStatus())})}}),Class("ToolbarStateButton",{status:-1,getFunctionName:function(t){var i,e=this.getClass().prototype;for(i in e)if(t==e[i])return i},bindStates:function(){this.states=[];for(var t=0;t<arguments.length;t++){var i=arguments[t],e=this.getFunctionName(i);this[e]=function(t,i){return function(){this.status!=i&&(this.status=i,t.apply(this,arguments),StateSynchronous.instance().reportChanged(this))}}(i,t),this.states[t]=e}StateSynchronous.instance().registButton(this)},setStatus:function(t){(t=this[this.states[t]])&&t.apply(this)},setStatusQuietly:function(t){var i;this.status!=t&&(i=this.getClass().prototype[this.states[t]])&&(this.status=t,i.apply(this))},getStatus:function(){return this.status},onClick:virtual_function,initLanguage:function(){this.language=[];for(var t=0;t<arguments.length;t++){var i,e=arguments[t];for(i in e)this.language.push({key:i,defaultValue:e[i]})}},changeLanguage:function(){var t;this.language&&(t=this.language[this.status],t=getLanguage(t.key,t.defaultValue),this.setCaption(t))}}).extend("ToolbarButton"),Class("ZoomButton",{create:function(){this._super(),this.bindStates(this.setAsZoomin,this.setAsZoomout),this.initLanguage({btnZoomIn:"Zoom In"},{btnZoomOut:"Zoom Out"}),this.setAsZoomin()},setAsZoomin:function(){this.setSrc("ZoomIn",bookConfig.ZoomInButtonIcon),this.changeLanguage(),this.changeColor()},setAsZoomout:function(){this.setSrc("ZoomOut",bookConfig.ZoomOutButtonIcon),this.changeLanguage(),this.changeColor()},executeZoomout:function(){var t=BookInfo.getBook().showPage;t.onDoubleTap.bind(t)({pointers:[{pageX:windowWidth/2,pageY:windowHeight/2}]}),auto_player.isPlaying()&&auto_player.stop()},executeZoomin:function(){var t=BookInfo.getBook().showPage;t.onDoubleTap.bind(t)({pointers:[{pageX:windowWidth/2,pageY:windowHeight/2}]}),auto_player.isPlaying()&&auto_player.stop()},zoomout:function(){this.executeZoomout(),this.setAsZoomin()},zoomin:function(){this.executeZoomin(),this.setAsZoomout()},onClick:function(t){BookInfo.isZoomming()||(BookInfo.zoomStatus()?this.zoomout():this.zoomin())}}).extend("ToolbarStateButton"),Class("AutoPlayButton",{create:function(){this._super(),this.bindStates(this.setAsStart,this.setAsStop),this.initLanguage({btnAutoFlip:"Auto Flip"},{btnStopAutoFlip:"Stop Auto Flip"}),this.setAsStart()},setAsStart:function(){this.setSrc("autoPlay",bookConfig.AutoPlayStartButtonIcon),this.changeLanguage(),this.changeColor()},setAsStop:function(){this.setSrc("stopAutoPlay",bookConfig.AutoPlayStopButtonIcon),this.changeLanguage(),this.changeColor()},onClick:function(){auto_player&&(auto_player.isPlaying()?auto_player.stop():auto_player.start())}}).extend("ToolbarStateButton"),Class("FullscreenButton",{create:function(){this._super(),this.bindStates(this.setAsFullScreen,this.setAsExitFullScreen),this.initLanguage({btnFullscreen:"Fullscreen"},{btnExitFullscreen:"Exit Fullscreen"}),this.setAsFullScreen()},setAsFullScreen:function(){this.setSrc("fullscreen",bookConfig.FullscreenButtonIcon),this.changeLanguage(),this.changeColor()},setAsExitFullScreen:function(){this.setSrc("exitFullscreen",bookConfig.ExitFullscreenButtonIcon),this.changeLanguage(),this.changeColor()},onClick:function(){readAsFullscreen()}}).extend("ToolbarStateButton"),Class("WeChatShareButton",{create:function(){this._super(),this.bindStates(this.setWeChatShare),this.initLanguage({btnWeCharShare:"WeChat Share"}),this.setWeChatShare(),this.$button.attr("title","")},setWeChatShare:function(){this.setSrc("wechat",bookConfig.WeChatShareButtonIcon),this.changeLanguage(),this.changeColor()},onClick:function(){},addEvents:function(){this._super(),this.onMouseEnter()},onMouseEnter:function(){this.$button.bind("mouseenter",function(t){t.stopPropagation(),t.preventDefault(),global.WeChatShareImg.visible=!0,global.WeChatShareImg.show({left:t.pageX-t.offsetX,top:t.pageY-t.offsetY,width:$(t.target).width(),height:$(t.target).height()})}.bind(this)),this.$button.bind("mouseleave",function(t){global.WeChatShareImg.visible=!1,setTimeout(function(){global.WeChatShareImg.visible||global.WeChatShareImg.hide()}.bind(this),200)}.bind(this))}}).extend("ToolbarStateButton"),Class("TelephoneNumberButton",{create:function(){this._super(),this.bindStates(this.setTelephoneNumber),this.initLanguage({btnPhoneNumber:"phone"}),this.setTelephoneNumber(),this.$button.attr("title","")},setTelephoneNumber:function(){this.setSrc("phone",bookConfig.PhoneButtonIcon),this.changeLanguage(),this.changeColor()},onClick:function(){},addEvents:function(){this._super(),this.onMouseEnter()},onMouseEnter:function(){this.$button.bind("mouseenter",function(t){t.stopPropagation(),t.preventDefault(),global.PcTelephoneNumberFrame.visible=!0,global.PcTelephoneNumberFrame.show({left:t.pageX-t.offsetX,top:t.pageY-t.offsetY,width:$(t.target).width(),height:$(t.target).height()})}.bind(this)),this.$button.bind("mouseleave",function(t){global.PcTelephoneNumberFrame.visible=!1,setTimeout(function(){global.PcTelephoneNumberFrame.visible||global.PcTelephoneNumberFrame.hide()}.bind(this),200)}.bind(this))}}).extend("ToolbarStateButton"),Class("BackgroundSoundButton",{create:function(){this._super(),this.bindStates(this.setAsSoundOn,this.setAsSoundOff),this.initLanguage({btnSoundOn:"Sound On"},{btnSoundOff:"Sound Off"}),this.setAsSoundOn()},setAsSoundOn:function(){this.setSrc("soundOn",bookConfig.BackgroundSoundButtonOnIcon),this.changeLanguage(),this.changeColor()},setAsSoundOff:function(){!isPhone()&&!isPad()&&bookConfig.BackgroundSoundURL&&bookConfig.FlipSound&&bookConfig.BackgroundSoundButtonVisible||(this.setSrc("soundOff",bookConfig.BackgroundSoundButtonOffIcon),this.changeLanguage(),this.changeColor())},onClick:function(){global.bgSound&&(bookConfig.BackgroundSoundURL&&bookConfig.FlipSound?settingBody&&settingBody.showOrHide():bookConfig.BackgroundSoundURL?isPlaying?global.bgSound.pause():global.bgSound.play():(flipSoundIsPlaying=!flipSoundIsPlaying)?this.setAsSoundOn():this.setAsSoundOff())},addEvents:function(){this._super(),this.onMouseEnter()},onMouseEnter:function(){bookConfig.BackgroundSoundURL&&(this.$button.bind("mouseenter",function(i){i&&"CANVAS"==i.target.tagName.toUpperCase()||setTimeout(function(){var t;isFirefox()?(t=getOffset(i),volumeControlBar.show({left:i.pageX-t.X,top:i.pageY-t.Y,width:$(i.target).width(),height:$(i.target).height()})):volumeControlBar.show({left:i.pageX-i.offsetX,top:i.pageY-i.offsetY,width:$(i.target).width(),height:$(i.target).height()})},200)}.bind(this)),this.$button.bind("mouseleave",function(t){setTimeout(function(){volumeControlBar.visible||volumeControlBar.hide()},200)}.bind(this)))}}).extend("ToolbarStateButton"),Class("SelectTextButton",{create:function(){this._super(),this.bindStates(this.setAsUnSelect,this.setAsSelect),this.initLanguage({btnSelectText:"Select Text"},{btnSelectText:"Select Text"}),this.setAsUnSelect()},setAsSelect:function(){this.setSrc("text",bookConfig.SelectTextButtonIcon),this.changeColor("#bdc5e9"),this.changeLanguage()},setAsUnSelect:function(){this.setSrc("text",bookConfig.SelectTextButtonIcon),this.changeColor(),this.changeLanguage()},select:function(t){t=BookInfo.getCurrentPages();for(var i=0;i<t.length;i++){var e=getSearchRealPageIndex(t[i]);if(-1!=e){for(var o=!1,s=0;s<positionForPages.length;s++)if(positionForPages[s]&&positionForPages[s].page&&positionForPages[s].page==e){o=!0;break}if(!o){if(o=String.format(bookConfig.searchPositionJS,e),1<e&&(o=o.replace("[1]","["+e+"]")),e=/\.*\/?(\w+\/)*\w+?\.js/gi,!o.match(/\.*\/?(\w+\/)*\w+(\[|\()?\d+(\]|\))?\.js/gi)&&!o.match(e))break;loadJavascript(fixURLValue(o),function(){},function(){})}}}BookInfo.getBook()&&BookInfo.getBook().select()},unSelect:function(){BookInfo.getBook()&&BookInfo.getBook().unSelect()},onClick:function(){BookInfo.getBook()&&BookInfo.getBook().flipping||(this.status?(this.setAsUnSelect(),this.unSelect(),this.status=0):(this.setAsSelect(),this.select(),this.status=1))}}).extend("ToolbarStateButton"),Class("MunuZoomButton",{create:function(){this._super()},changeColor:function(){this.changeIconColor("#333"),this.changeCaptionColor("#333")}}).extend("ZoomButton"),Class("MunuFullscreenButton",{create:function(){this._super()},changeColor:function(){this.changeIconColor("#333"),this.changeCaptionColor("#333")}}).extend("FullscreenButton"),Class("MagnifierButton",{create:function(){this._super(),this.bindStates(this.setAsZoomin,this.setAsZoomout),this.initLanguage({btnMagnifierIn:"Magnifier In"},{btnMagnifierOut:"Magnifier Out"}),this.setAsZoomin()},setAsZoomin:function(){!bookConfig.MagnifierButtonVisible||global.magnifierZoomBox||global.isBelowIE11()||(global.magnifierZoomBox=new PageItem.WindowMagnifierBox(tmpContainer)),this.setSrc("magnifier",bookConfig.MagnifierButtonIcon),this.changeLanguage(),this.changeColor(),global.canMagnifierZoom=!1},setAsZoomout:function(){this.setSrc("magnifier",bookConfig.MagnifierButtonIcon),this.changeLanguage(),this.changeColor("#bdc5e9"),global.canMagnifierZoom=!0},magnifierZoom:function(){BookInfo.getBook()&&BookInfo.getBook().magnifierZoom()},unMagnifierZoom:function(){BookInfo.getBook()&&BookInfo.getBook().unMagnifierZoom()},onClick:function(t){BookInfo.getBook().status_zoom||(global.canMagnifierZoom?(this.setAsZoomin(),this.unMagnifierZoom()):(this.setAsZoomout(),this.magnifierZoom()))}}).extend("ToolbarStateButton");var getLogoLink=function(){return[bookConfig.appLogoLinkURL,bookConfig.appLogoOpenWindow]},initLogoBar=function(t){var i,e,o,s,n,a;bookConfig.appLogoIcon&&((i=$("#logoBar")).html(""),t=i.height(),e=bookConfig.logoHeight,o=bookConfig.logoPadding,s=parseInt((t-e)/2),n=getLogoLink(),(a=$("<img style='position:absolute;left:0;top:0;'/>")).attr({src:bookConfig.appLogoIcon}),a.on("load",function(){i.html(a),a.css({height:e+"px",top:s+"px"}),i.css({left:o+"px",width:a[0].naturalWidth*e/a[0].naturalHeight+"px"}),n[0]&&n[0].indexOf("javascript:void(0)")<0&&(a.click(function(){BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"logoImage","logo"]),window.open(n[0],n[1]),BookEvent.trigger("jumpLink",["logo",BookInfo.getCurrentPageIndex(),n[0]])}),a.css({cursor:"pointer"})),global.toolBar&&global.toolBar.onResize&&toolBar.onResize()}))},setPageIndexTextField=function(){setCurrentIndexTextField(BookInfo.getBook().getCurrentPageIndex(),bookType==BookType.normal_book||bookType==BookType.slide_book||bookType==BookType.catalog_book),null!=$("#currentPageIndexTextField")&&null!=$("#currentPageIndexTextField")&&null!=$("#currentPageIndexTextField")[0]&&null!=$("#currentPageIndexTextField")[0]&&($("#currentPageIndexTextField").bind("keydown",function(t){13==t.keyCode&&(t=$("#currentPageIndexTextField").val(),t=parseInt(getRealPage(t)),isNaN(t)||(t=Math.min(Math.max(t,1),bookConfig.totalPageCount),gotoPageFun(t,!1,"page input")))}),$("#currentPageIndexTextField").bind("blur",function(){window.setTimeout(function(){setCurrentIndexTextField(BookInfo.getCurrentPageIndex())},400),this.onFocus=!1}),$("#currentPageIndexTextField").bind("focus",function(t){BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"page input","page input"]),$("#currentPageIndexTextField").val(""),this.onFocus=!0}))},phoneSvgIconColor=(!function(t){function i(t){return!t||(t=parseFloat(t.replace("px","")),isNaN(t))?0:t}t.fn.left=function(){return i(this.css("left"))},t.fn.top=function(){return i(this.css("top"))},t.fn.right=function(){return i(this.css("right"))},t.fn.bottom=function(){return i(this.css("bottom"))}}(jQuery),Class("Toolbar",{topBar:null,bottomBar:null,buttons:null,visible:!0,isMoving:!1,extendedBar:null,color:null,create:function(t){bookConfig.ToolBarVisible&&(this.parent=t,this.color=Color(bookConfig.toolbarColor),this.topBarAlpha=Math.min(bookConfig.topToolBarAlpha,bookConfig.ToolBarAlpha),this.bottomBarAlpha=Math.min(bookConfig.bottomToolBarAlpha,bookConfig.ToolBarAlpha),this.initButtons(),this.initBar(),this.initExtendedbar(),this.initEvents(),this.onResize())},initButtons:function(){this.buttons=new ObjectPool,this.buttons.add(new FirstPageButton),this.buttons.add(new PreviousPageButton),this.buttons.add(new NextPageButton),this.buttons.add(new LastPageButton),bookConfig.enablePageBack&&(this.buttons.add(new BackwardButton),this.buttons.add(new ForwardButton)),bookConfig.HomeButtonVisible&&this.buttons.add(new HomeButton),bookConfig.ZoomButtonVisible&&this.buttons.add(new ZoomButton),bookConfig.SearchButtonVisible&&this.buttons.add(new SearchButton),bookConfig.ThumbnailsButtonVisible&&this.buttons.add(new ThumbnailButton),bookConfig.TableOfContentButtonVisible&&this.buttons.add(new TableOfContentButton),bookConfig.BookMarkButtonVisible&&this.buttons.add(new BookmarkButton),bookConfig.AutoPlayButtonVisible&&this.buttons.add(new AutoPlayButton),bookConfig.BackgroundSoundButtonVisible&&this.buttons.add(new BackgroundSoundButton),bookConfig.AnnotationButtonVisible&&this.buttons.add(new AnnotationButton),bookConfig.VideoButtonVisible&&this.buttons.add(new VideoButton),bookConfig.SlideshowButtonVisible&&this.buttons.add(new SlideshowButton),bookConfig.WeChatShareButtonVisible&&this.buttons.add(new WeChatShareButton),bookConfig.ShareButtonVisible&&this.buttons.add(new ShareButton),bookConfig.PhoneButtonVisible&&this.buttons.add(new TelephoneNumberButton),bookConfig.PrintButtonVisible&&this.buttons.add(new PrintButton),bookConfig.MessageButtonVisible&&this.buttons.add(new MessageButton),bookConfig.DownloadButtonVisible&&this.buttons.add(new DownloadButton),bookConfig.FullscreenButtonVisible&&this.buttons.add(new FullscreenButton),1<language.length&&this.buttons.add(new LanguageButton),bookConfig.aboutButtonVisible&&this.buttons.add(new AboutButton),bookConfig.HelpButtonVisible&&this.buttons.add(new HelpButton),bookConfig.EmailButtonVisible&&this.buttons.add(new ShareEmailButton),bookConfig.SelectTextButtonVisible&&this.buttons.add(new SelectTextButton),bookConfig.MagnifierButtonVisible&&!global.isBelowIE11()&&this.buttons.add(new MagnifierButton),this.btnMore=new MoreButton,this.buttons.add(this.btnMore),this.sortXMLButton(),this.buttons.each(function(t){t.setCallback(this.afterButtonClick.bind(this)),this.setButtonTitle(t)}.bind(this))},sortXMLButton:function(){if(bookConfig.buttonsSortXML){var t,i=bookConfig.buttonsSortXML.slice().reverse(),e=i.indexOf("autoflip");for(0<=e&&(i[e]="autoplay"),e=0;e<i.length;e++)"btnshare"==i[e]&&bookConfig.ShareButtonVisible?(t=this.getButton("ShareButton","sharethis"),this.buttons.remove(t)):t=this.pickButton(i[e]),t&&(this.buttons.objects.unshift(t),this.buttons.length+=1)}},resetButtonColor:function(){for(var t=0;t<this.buttons.objects.length;t++){var i=this.buttons.objects[t];i.resetImg(),i.color=Color(bookConfig.iconColor),i.fontColor=Color(bookConfig.iconFontColor),i.changeIconColor(bookConfig.iconColor),i.changeCaptionColor(bookConfig.iconFontColor),i.title&&i.title.setColor({color:bookConfig.toolbarColor,textColor:bookConfig.iconFontColor})}bookConfig.QRCode&&global.qrButton&&global.qrButton.visible&&global.qrButton.resetIconColor()},resetButtonTitleColor:function(){for(var t=0;t<this.buttons.objects.length;t++){var i=this.buttons.objects[t];i.title&&i.title.setColor({color:bookConfig.toolbarColor,textColor:bookConfig.iconFontColor})}},resetToolbarColor:function(){this.color=Color(bookConfig.toolbarColor),this.topBarAlpha=Math.min(bookConfig.topToolBarAlpha,bookConfig.ToolBarAlpha),this.topBar&&this.topBar.css({"background-color":this.color.rgba(this.topBarAlpha)}),this.bottomBar&&this.bottomBar.css("background-color",this.color.rgba(this.topBarAlpha)),this.extendedBar&&this.extendedBar.$bar.css({"background-color":this.color.rgba(this.topBarAlpha)}),this.topBarAlpha?(this.topBar&&this.topBar.css({"box-shadow":"","-webkit-box-shadow":""}),this.bottomBar&&this.bottomBar.css({"box-shadow":"","-webkit-box-shadow":""})):(this.topBar&&this.topBar.css({"box-shadow":"none","-webkit-box-shadow":"none"}),this.bottomBar&&this.bottomBar.css({"box-shadow":"none","-webkit-box-shadow":"none"})),this.resetButtonTitleColor(),global.PcTelephoneNumberFrame&&global.PcTelephoneNumberFrame.setColor({color:bookConfig.toolbarColor,textColor:bookConfig.iconFontColor})},setButtonTitle:function(t){var i;"WeChatShareButton"==t.getClassName()?global.WeChatShareImg=new WeChatShare({parent:this.parent,color:"#fff",textColor:bookConfig.toolbarColor,margin:10,padding:10,arrowHeight:12,arrowWidth:12}):"TelephoneNumberButton"==t.getClassName()?global.PcTelephoneNumberFrame=new PcTelephoneNumberBubble({parent:this.parent,color:this.color,textColor:t.fontColor,margin:4,padding:"15",arrowHeight:8,arrowWidth:8}):(i=new TextBubble({parent:this.parent,text:t.caption,color:this.color,textColor:t.fontColor,margin:7}),t.setTitle(i))},initBar:virtual_function,initExtendedbar:virtual_function,onResize:virtual_function,initEvents:function(){function t(){this.extendedBar.visible&&this.extendedBar.hide()}this.topBar&&this.topBar.bind("click",t.bind(this)),this.bottomBar&&this.bottomBar.bind("click",t.bind(this))},getHeight:function(){return this.getTopHeight()+this.getBottomHeight()},getTopHeight:function(){var t=this.visible&&this.topBar?this.topBar.height()+this.topBar.top():0;return thumbnail&&(t+=thumbnail.getTopHeight()),t},getLogoHeight:function(){return this.topBar?this.topBar.height():0},getBottomHeight:function(){var t=this.visible&&this.bottomBar?this.bottomBar.height()+this.bottomBar.bottom():0;return thumbnail&&(t+=thumbnail.getBottomHeight()),t},getWidth:function(){return this.getLeftWidth()+this.getRightWidth()},getLeftWidth:function(){return 0},getRightWidth:function(){return 0},show:function(){var t;this.isMoving||this.visible||!bookConfig.ToolBarVisible||(isIE8()?(this.topBar&&this.topBar.css({display:"block"}),this.bottomBar&&this.bottomBar.css({display:"block"}),this.visible=!0):(this.isMoving=!0,this.topBar&&(t=transformCSS({tran:{x:0,y:0}}),animateOnce(this.topBar,t,500)),this.bottomBar&&(t=transformCSS({tran:{x:0,y:0}}),animateOnce(this.bottomBar,t,500)),this.visible=!0,function(){this.isMoving=!1}.delay(this,500)))},hide:function(){var t,i;!this.isMoving&&this.visible&&bookConfig.ToolBarVisible&&(t=this.getTopHeight()+5,i=this.getBottomHeight()+5,isIE8()?(this.topBar&&this.topBar.css({display:"none"}),this.bottomBar&&this.bottomBar.css({display:"none"}),this.visible=!1):(this.isMoving=!0,this.topBar&&(t=transformCSS({tran:{x:0,y:-t}}),animateOnce(this.topBar,t,500)),this.bottomBar&&(i=transformCSS({tran:{x:0,y:i}}),animateOnce(this.bottomBar,i,500)),this.visible=!1,function(){this.isMoving=!1}.delay(this,500)))},matchButton:function(t){return 0==(t=this.buttons.match(t)).length?null:t.get(0)},getButton:function(t,i){return 0==(t=this.buttons.find(t)).length?null:1<=t.length&&i?(t=t.objects.filter(function(t){return t.name==i}))[0]:t.get(0)},pickButton:function(t){return(t=this.getButton(t))&&this.buttons.remove(t),t},removeButton:function(t){(t="string"==typeof t?this.getButton(t):t)&&(t.$button.remove(),this.buttons.remove(t))},addButton:function(t){t&&this.buttons.add(t)},changeFullscreenIcon:function(t){var i=this.getButton("fullscreen");i&&(t?i.setAsExitFullScreen():i.setAsFullScreen(),function(){this.onResize()}.delay(this,100))},changeLanguage:function(){this.buttons.each(function(t){t.changeLanguage()})},buttonsInExtendedBar:function(){var i=new ObjectPool;return this.buttons.each(function(t){t.$parent==this.extendedBar.$bar&&i.add(t)}.bind(this)),i},afterButtonClick:function(t){this.extendedBar.visible&&(t!=this.btnMore?isPhone()||isPad()||this.extendedBar.hide():(t=this.buttonsInExtendedBar()).each(function(t){t.changeColor()}))},isRightToLeft:function(){var t=getLanguage("btnSearch","Search");return LanguageTool.isRightToLeft(t)},addCustomButton:function(t){},removeCustomButton:function(t){}}),Class("ExtendedBar",{$bar:null,visible:!1,color:null,height:10,isMoving:!1,create:function(t){this.$parent=t,this.color=Color(bookConfig.toolbarColor),this.toolBarAlpha=bookConfig.ToolBarAlpha,this.$bar=$("<div class='extendedBar'></div>"),this.isRightToLeft()&&this.$bar.addClass("rtl"),this.$parent.append(this.$bar),this.$bar.css({"background-color":this.color.rgba(this.toolBarAlpha),display:"none"})},isRightToLeft:function(){var t=getLanguage("btnSearch","Search");return LanguageTool.isRightToLeft(t)},show:function(t){var i,e;1!=this.isMoving&&1!=this.visible&&(this.visible=this.isMoving=!0,this.$bar.css({left:t.left+t.width-this.width+"px",top:t.top+t.height+10+"px"}),i=0,this.$bar.css({display:"block",opacity:0}),e=function(){i+=.1,this.$bar.css({opacity:i}),equals(i,1)&&(e.stop(),this.isMoving=!1)}.interval(this,40))},hide:function(){var t,i;1!=this.isMoving&&0!=this.visible&&(this.isMoving=!0,this.visible=!1,t=1,i=function(){t-=.1,this.$bar.css({opacity:t}),equals(t,0)&&(i.stop(),this.$bar.css("display","none"),this.isMoving=!1)}.interval(this,40))},resize:virtual_function}),Color(getConfigValue("iconColor","#ffffff")).toString()),fill="fill="+phoneSvgIconColor,fillFormColor="fill="+(bookConfig.formFontColor||bookConfig.iconColor),phoneSvgIcons={about:'<svg class="svg" '+fill+' version="1.1" id="about" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve" ><path d="M10,2c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S5.6,2,10,2 M10,0C4.5,0,0,4.5,0,10s4.5,10,10,10s10-4.5,10-10 S15.5,0,10,0z"/><path d="M10,9c0.6,0,1,0.4,1,1v4c0,0.6-0.4,1-1,1s-1-0.4-1-1v-4C9,9.4,9.4,9,10,9z"/><path d="M9,6c0,0.6,0.4,1,1,1s1-0.4,1-1c0-0.6-0.4-1-1-1C9.4,5,9,5.4,9,6C9,6,9,6,9,6z"/></svg>',addBookmark:'<svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"><path class="st0" d="M17,20c-0.2,0-0.3,0-0.5-0.1L10,16.1l-6.5,3.7C3,20.1,2.4,20,2.1,19.5C2.1,19.3,2,19.2,2,19V1c0-0.6,0.4-1,1-1 c0,0,0,0,0,0h14c0.6,0,1,0.4,1,1c0,0,0,0,0,0v18C18,19.5,17.5,20,17,20C17,20,17,20,17,20z M10,14c0.2,0,0.3,0,0.5,0.1l5.5,3.1V2H4 v15.2l5.5-3.1C9.7,14,9.8,14,10,14z"/> <path class="st0" d="M13,9H7C6.5,9,6,8.6,6,8v0c0-0.5,0.4-1,1-1h6c0.5,0,1,0.4,1,1v0C14,8.6,13.5,9,13,9z"/> <path class="st0" d="M11,5v6c0,0.5-0.4,1-1,1h0c-0.5,0-1-0.4-1-1V5c0-0.5,0.4-1,1-1h0C10.5,4,11,4.5,11,5z"/> </svg>',annotation:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 17" class="svg" '+fill+'><defs></defs><g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1"><g id="组_7395" data-name="组 7395"><path id="减去_141" data-name="减去 141" d="M14,17H0V1H2V4H5V1H9V4h3V1h2ZM2,12v1H12V12ZM2,9v1H12V9ZM2,6V7H12V6Z"/><rect id="矩形_6210" data-name="矩形 6210" x="10" width="1" height="3"/><rect id="矩形_6222" data-name="矩形 6222" x="3" width="1" height="3"/></g></g></g></svg>',arrow_down:'<svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"><path class="st0" d="M19.5,4.8C19.5,4.9,19.5,4.9,19.5,4.8c0.6,0.7,0.6,1.7-0.1,2.3l-8.3,8.1c-0.6,0.6-1.7,0.6-2.3,0L0.5,7.1l0,0c-0.6-0.6-0.6-1.6,0-2.2c0.7-0.6,1.7-0.6,2.3,0l7.2,6.9l7.1-6.9C17.8,4.2,18.8,4.2,19.5,4.8L19.5,4.8z"/></svg>',arrow_right:'<svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M4.8,0.5C4.9,0.5,4.9,0.5,4.8,0.5c0.7-0.6,1.7-0.6,2.3,0.1l8.1,8.3c0.6,0.6,0.6,1.7,0,2.3l-8.1,8.3l0,0 c-0.6,0.6-1.6,0.6-2.2,0c-0.6-0.7-0.6-1.7,0-2.3l6.9-7.2L4.9,2.9C4.2,2.2,4.2,1.2,4.8,0.5L4.8,0.5z"/> </svg> ',autoPlay:'<svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M10,2c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S5.6,2,10,2 M10,0C4.5,0,0,4.5,0,10s4.5,10,10,10s10-4.5,10-10 S15.5,0,10,0z"/> <path class="st0" d="M8.6,14.6c-0.5,0-1-0.1-1.5-0.4c-1.1-0.6-1.6-2-1.6-4.2s0.6-3.4,1.7-4.1s2.6-0.5,4.5,0.6c2,1.1,2.9,2.3,2.9,3.5 s-0.9,2.5-2.9,3.5C10.6,14.3,9.5,14.6,8.6,14.6z M8.6,7.5c-0.2,0-0.4,0-0.5,0.1c-0.5,0.2-0.7,1.2-0.7,2.6s0.3,2.4,0.7,2.6 c0.5,0.3,1.5,0.1,2.7-0.6c1.3-0.7,2-1.4,2-1.9s-0.7-1.3-2-1.9C9.9,7.7,9.2,7.5,8.6,7.5z"/> </svg>',backward:'<svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M4.5,4.6h8.1c4.1,0,7.4,3.4,7.4,7.7s-3.3,7.7-7.4,7.7h-6c-0.7,0-1.3-0.6-1.3-1.4c0-0.7,0.6-1.4,1.3-1.4h6 c2.7,0,4.8-2.2,4.8-5s-2.1-5-4.8-5H4.5l2.1,2.1c0.5,0.5,0.6,1.4,0.1,1.9s-1.3,0.6-1.9,0.1c0,0,0,0-0.1-0.1L0.4,6.9 c-0.5-0.5-0.5-1.4,0-1.9l4.3-4.5C5.2,0,6,0,6.6,0.5s0.5,1.4,0,1.9c0,0,0,0,0,0L4.5,4.6L4.5,4.6z"/> </svg> ',bookmark:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M17,20c-0.2,0-0.3,0-0.5-0.1L10,16.1l-6.5,3.7C3,20.1,2.4,20,2.1,19.5C2.1,19.3,2,19.2,2,19V1c0-0.6,0.4-1,1-1 c0,0,0,0,0,0h14c0.6,0,1,0.4,1,1c0,0,0,0,0,0v18C18,19.5,17.5,20,17,20C17,20,17,20,17,20z M10,14c0.2,0,0.3,0,0.5,0.1l5.5,3.1V2H4 v15.2l5.5-3.1C9.7,14,9.8,14,10,14z"/> </svg> ',close:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M11.9,10l5.7-5.7c0.5-0.5,0.5-1.4,0-1.9s-1.4-0.5-1.9,0l0,0L10,8.1L4.3,2.4c-0.5-0.5-1.4-0.5-1.9,0 s-0.5,1.4,0,1.9l0,0L8.1,10l-5.7,5.7c-0.5,0.5-0.5,1.4,0,1.9c0,0,0,0,0,0c0.5,0.5,1.4,0.5,1.9,0c0,0,0,0,0,0l5.7-5.7l5.7,5.7 c0.5,0.5,1.4,0.5,1.9,0c0,0,0,0,0,0c0.5-0.5,0.5-1.4,0-1.9c0,0,0,0,0,0L11.9,10z"/> </svg> ',download:'<?xml version="1.0" encoding="utf-8"?><svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M18,20H2c-1.1,0-2-0.9-2-2c0,0,0,0,0,0v-5c0-0.6,0.4-1,1-1s1,0.4,1,1l0,0v5h16v-5c0-0.6,0.4-1,1-1 c0.6,0,1,0.4,1,1v5C20,19.1,19.1,20,18,20L18,20z"/> <path class="st0" d="M14.7,9.5l-4.1,4.2c-0.4,0.4-0.9,0.4-1.3,0c0,0,0,0,0,0l-4-4.2c-0.4-0.4-0.4-1,0-1.4c0.4-0.4,0.9-0.4,1.3,0 c0,0,0,0,0,0l2.4,2.5V0.9C9.1,0.4,9.5,0,10,0C10.5,0,11,0.4,11,0.9v9.7l2.4-2.5c0.4-0.4,0.9-0.4,1.3,0c0,0,0,0,0,0 C15.1,8.5,15.1,9.2,14.7,9.5z"/> </svg> ',firstPage:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M18.1,19.5C18,19.5,18,19.5,18.1,19.5c-0.7,0.6-1.7,0.6-2.3,0l-8.1-8.3c-0.6-0.6-0.6-1.7,0-2.3l8.1-8.3 c0,0,0,0,0,0c0.6-0.6,1.6-0.6,2.2,0c0.6,0.7,0.6,1.7,0,2.3L11.1,10l6.9,7.1C18.7,17.8,18.7,18.8,18.1,19.5L18.1,19.5z M4.3,18.6 c0,0.8-0.6,1.4-1.4,1.4c-0.8,0-1.4-0.6-1.4-1.4V1.5c0-0.8,0.6-1.4,1.4-1.4c0.8,0,1.4,0.6,1.4,1.4C4.3,1.5,4.3,18.6,4.3,18.6z"/> </svg> ',forward:'<?xml version="1.0" encoding="utf-8"?><svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M15.5,4.6l-2.1-2.2c0,0,0,0,0,0c-0.5-0.5-0.5-1.4,0-1.9s1.3-0.5,1.9,0L19.6,5c0.5,0.5,0.5,1.4,0,1.9l-4.3,4.5 c0,0,0,0-0.1,0.1c-0.5,0.5-1.4,0.5-1.9-0.1s-0.5-1.4,0.1-1.9l2.1-2.1H7.4c-2.7,0-4.8,2.2-4.8,5s2.1,5,4.8,5h6c0.7,0,1.3,0.6,1.3,1.4 c0,0.7-0.6,1.4-1.3,1.4h-6c-4.1,0-7.4-3.4-7.4-7.7s3.3-7.7,7.4-7.7H15.5L15.5,4.6z"/> </svg> ',gotoPage:'<svg class="svg" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 43 30"><g id="进度" transform="translate(-985.5 -2109)"><line id="直线_1" data-name="直线 1" x2="10" transform="translate(1020.5 2123.5)" fill="none" stroke="'+phoneSvgIconColor+'" stroke-linecap="round" stroke-width="4"/><line id="直线_6" data-name="直线 6" x2="6" transform="translate(987.5 2123.5)" fill="none" stroke="'+phoneSvgIconColor+'" stroke-linecap="round" stroke-width="4"/><g id="椭圆_2" data-name="椭圆 2" transform="translate(992 2109)" fill="none" stroke="'+phoneSvgIconColor+'" stroke-width="4"><circle cx="15" cy="15" r="15" stroke="none"/><circle cx="15" cy="15" r="13" fill="none"/></g></g></svg>',help:'<?xml version="1.0" encoding="utf-8"?><svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M10,2c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S5.6,2,10,2 M10,0C4.5,0,0,4.5,0,10s4.5,10,10,10s10-4.5,10-10 S15.5,0,10,0z"/> <path class="st0" d="M10.2,4.8c0.9,0,1.7,0.2,2.2,0.7c0.6,0.5,0.8,1.2,0.8,2c0,0.7-0.2,1.3-0.5,1.7c-0.1,0.2-0.6,0.5-1.2,1.1 c-0.2,0.2-0.4,0.4-0.6,0.7c-0.1,0.3-0.2,0.6-0.2,0.9v0.2H9.1v-0.2c0-0.6,0.1-1,0.3-1.4s0.7-1,1.6-1.8l0.2-0.2c0.3-0.3,0.4-0.6,0.4-1 s-0.1-0.8-0.4-1.1C10.9,6.1,10.6,6,10.1,6C9.5,6,9,6.2,8.8,6.6C8.5,7.1,8.4,7.5,8.4,8.1H6.8c0-1,0.3-1.9,0.9-2.4 C8.3,5.1,9.1,4.8,10.2,4.8z M9.9,12.9c0.3,0,0.6,0.1,0.8,0.3s0.3,0.5,0.3,0.8s-0.1,0.6-0.3,0.8s-0.5,0.3-0.8,0.3S9.4,15,9.1,14.8 c-0.2-0.3-0.3-0.6-0.3-0.9c0-0.3,0.1-0.6,0.3-0.8C9.4,13,9.6,12.9,9.9,12.9z"/> </svg> ',home:'<?xml version="1.0" encoding="utf-8"?><svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M20,9.6c0-0.3-0.2-0.6-0.4-0.8c-0.6-0.6-1.3-1.2-1.9-1.8l-4-3.9l-2.9-2.8c-0.4-0.4-1-0.4-1.3,0l-7,6.8L2.2,7.3 L0.4,9.1C0.1,9.3,0,9.6,0,10c0,0.3,0.2,0.6,0.4,0.8c0.2,0.2,0.4,0.2,0.7,0.2c0.3,0,0.6-0.1,0.8-0.3c0.3-0.3,0.7-0.6,1-1l3.9-3.8 l2.6-2.5c0.3-0.3,0.8-0.3,1.1,0L16,8.6l2,1.9c0.2,0.3,0.6,0.4,1,0.3C19.6,10.8,20,10.2,20,9.6L20,9.6z"/> <path class="st0" d="M17.1,10.2h-1.2c-0.3,0-0.5,0.2-0.5,0.5l0,0v6.8c0,0.1-0.1,0.3-0.3,0.3H5c-0.1,0-0.3-0.1-0.3-0.3v-6.4v-0.5 c0-0.1,0-0.2-0.1-0.3c-0.1-0.1-0.2-0.1-0.3-0.1H3c-0.3,0-0.5,0.2-0.5,0.5v8c0,0.3,0.1,0.5,0.3,0.7c0.3,0.3,0.7,0.5,1.1,0.5h12.2 c0.7,0,1.3-0.6,1.4-1.3c0,0,0,0,0-0.1V15v-4.3c0-0.1,0-0.2-0.1-0.3C17.3,10.2,17.2,10.2,17.1,10.2z"/> </svg> ',instructions:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M10,2c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S5.6,2,10,2 M10,0C4.5,0,0,4.5,0,10s4.5,10,10,10s10-4.5,10-10 S15.5,0,10,0z"/> <path class="st0" d="M10.2,4.8c0.9,0,1.7,0.2,2.2,0.7c0.6,0.5,0.8,1.2,0.8,2c0,0.7-0.2,1.3-0.5,1.7c-0.1,0.2-0.6,0.5-1.2,1.1 c-0.2,0.2-0.4,0.4-0.6,0.7c-0.1,0.3-0.2,0.6-0.2,0.9v0.2H9.1v-0.2c0-0.6,0.1-1,0.3-1.4s0.7-1,1.6-1.8l0.2-0.2c0.3-0.3,0.4-0.6,0.4-1 s-0.1-0.8-0.4-1.1C10.9,6.1,10.6,6,10.1,6C9.5,6,9,6.2,8.8,6.6C8.5,7.1,8.4,7.5,8.4,8.1H6.8c0-1,0.3-1.9,0.9-2.4 C8.3,5.1,9.1,4.8,10.2,4.8z M9.9,12.9c0.3,0,0.6,0.1,0.8,0.3s0.3,0.5,0.3,0.8s-0.1,0.6-0.3,0.8s-0.5,0.3-0.8,0.3S9.4,15,9.1,14.8 c-0.2-0.3-0.3-0.6-0.3-0.9c0-0.3,0.1-0.6,0.3-0.8C9.4,13,9.6,12.9,9.9,12.9z"/> </svg> ',languageChange:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M10,0C4.5,0,0,4.5,0,10s4.5,10,10,10c3.1,0,6-1.4,7.9-3.9c0.3-0.4,0.2-0.9-0.2-1.2c-0.4-0.3-0.9-0.2-1.2,0.2 l0,0c-0.5,0.6-1,1.1-1.6,1.6c0-1.5-0.3-3.1-2.1-4.1c-2.1-1.1-2.4-1.7-2.1-2.2c0.2-0.4,0.3-0.5,1.5-0.1c0.6,0.2,1.3,0.5,2,0.1 c0.2-0.1,0.6-0.4,0.8-0.9c0.3-0.8,2-1.5,3-1.8c0.2,0.8,0.4,1.6,0.4,2.4c0,0.5,0.4,0.8,0.8,0.8S20,10.5,20,10C20,4.5,15.5,0,10,0z M13.9,2.7c-0.7,0.9-2.3,2.8-3.7,2.4C8.9,4.6,9,2.9,9.1,1.9c0-0.1,0-0.1,0-0.2C10.8,1.6,12.5,1.9,13.9,2.7z M1.7,10 c0-0.5,0-1,0.1-1.5c0.7,0.3,1.8,0.3,2.8-0.3C5,8,5.2,7.8,5.5,7.7C6,7.3,6,7.3,6.3,7.4c0.1,0.1,0.3,0.7,0.1,1.5 c-0.2,0.7-0.8,1.6-2.3,2c-0.4,0.1-0.7,0.5-0.6,1c0,0.2,0.2,0.4,0.4,0.5C4.5,12.8,5,13.7,5,14.2c0,0.6,0,0.9-1,1.6 C2.5,14.2,1.7,12.1,1.7,10z M13.4,8.8c-0.2-0.1-0.4-0.1-0.6-0.2c-0.9-0.3-2.7-0.9-3.5,1.1c-0.9,2.3,1.5,3.7,2.9,4.4 c1.2,0.6,1.2,1.6,1.2,3.4c0,0,0,0.1,0,0.1c-1.1,0.5-2.2,0.7-3.3,0.7c-1.7,0-3.3-0.5-4.7-1.5c1.3-1,1.4-1.7,1.4-2.7 c0-0.7-0.3-1.5-0.9-2.2C7.7,11,8,9.2,8.1,8.6C8.2,7.4,7.8,6.3,7,5.9C5.9,5.4,5.2,5.8,4.5,6.3C4.3,6.4,4.1,6.6,3.8,6.8 C3,7.3,2.4,7,2.3,6.9c0.9-2.3,2.8-4.1,5.1-4.8C7.2,4.4,8,6.1,9.7,6.6c0.3,0.1,0.6,0.2,1,0.2c0.6,0,1.3-0.2,2-0.6 c1.1-0.6,2.1-1.8,2.7-2.6c0.8,0.7,1.5,1.5,2,2.5C16.1,6.5,14,7.3,13.4,8.8z"/> </svg> ',lastPage:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M1.9,19.5c-0.6-0.7-0.6-1.7,0-2.3L8.8,10L1.9,2.9c-0.6-0.7-0.6-1.7,0-2.3c0.6-0.6,1.6-0.6,2.2,0c0,0,0,0,0,0 l8.1,8.3c0.6,0.6,0.6,1.7,0,2.3l-8.1,8.3C3.6,20.1,2.6,20.1,1.9,19.5C1.9,19.5,1.9,19.5,1.9,19.5L1.9,19.5z M15.7,1.5 c0-0.8,0.6-1.4,1.4-1.4c0.8,0,1.4,0.6,1.4,1.4v17.1c0,0.8-0.6,1.4-1.4,1.4c-0.8,0-1.4-0.6-1.4-1.4C15.7,18.6,15.7,1.5,15.7,1.5z"/> </svg> ',moreBar:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M10,2c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S5.6,2,10,2 M10,0C4.5,0,0,4.5,0,10s4.5,10,10,10s10-4.5,10-10 S15.5,0,10,0z"/> <circle class="st0" cx="14" cy="10" r="1.3"/> <circle class="st0" cx="10" cy="10" r="1.3"/> <circle class="st0" cx="6" cy="10" r="1.3"/> </svg> ',nextPage:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M4.8,0.5C4.9,0.5,4.9,0.5,4.8,0.5c0.7-0.6,1.7-0.6,2.3,0.1l8.1,8.3c0.6,0.6,0.6,1.7,0,2.3l-8.1,8.3l0,0 c-0.6,0.6-1.6,0.6-2.2,0c-0.6-0.7-0.6-1.7,0-2.3l6.9-7.2L4.9,2.9C4.2,2.2,4.2,1.2,4.8,0.5L4.8,0.5z"/> </svg> ',phoneEmail:'<?xml version="1.0" encoding="utf-8"?>  <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M17,18.5H3c-1.7,0-3-1.3-3-3v-11c0-1.7,1.3-3,3-3h14c1.7,0,3,1.3,3,3v11C20,17.2,18.7,18.5,17,18.5z M3,3.5 c-0.6,0-1,0.4-1,1v11c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v0v-11c0-0.6-0.4-1-1-1l0,0H3z"/> <path class="st0" d="M10,12.4c-0.7,0-1.3-0.3-1.8-0.7l-7-7l1.4-1.4l7,7c0.2,0.2,0.5,0.2,0.7,0c0,0,0,0,0,0l7-7l1.5,1.4l-7,7 C11.3,12.1,10.7,12.4,10,12.4z"/> </svg> ',phoneWeChat:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M14.2,6.7c3.2,0,5.8,2.4,5.8,5.3c0,1-0.3,2-0.9,2.8c-0.3,0.4-0.8,0.5-1.2,0.2c-0.4-0.3-0.5-0.8-0.2-1.2l0,0 c0.4-0.6,0.6-1.2,0.6-1.8c0-2-1.9-3.6-4.2-3.6S9.9,10,9.9,12c0,2,1.9,3.6,4.2,3.6c0.7,0,1.3-0.1,1.9-0.4c0.3-0.1,0.3-0.1,0.6,0 c0.3,0.1,0.9,1,1.3,1.3c0.4,0.3,0.5,0.8,0.2,1.2s-0.8,0.5-1.2,0.2c0,0,0,0,0,0c-0.3-0.2-0.6-0.5-0.9-0.8c-0.6,0.2-1.3,0.3-1.9,0.3 c-2.1,0-4-1-5-2.5c-0.1,0.1-0.2,0.1-0.3,0.1c-0.5,0.1-1,0.2-1.6,0.2c-0.9,0-1.7-0.1-2.5-0.4c-0.3,0.4-0.7,0.7-1.2,1.1 c-0.4,0.3-0.9,0.2-1.2-0.2c-0.3-0.4-0.2-0.9,0.2-1.2c0,0,0,0,0,0c0.6-0.4,1.4-1.5,1.6-1.6c0.2-0.1,0.4,0,0.6,0 c0.8,0.3,1.6,0.5,2.5,0.5c0.4,0,0.8,0,1.2-0.1c-0.1-0.4-0.2-0.8-0.2-1.2c0-2.4,1.8-4.4,4.3-5.1c-0.8-1.9-2.9-3.2-5.3-3.2 c-3.1,0-5.6,2.2-5.6,4.8c0,1.1,0.4,2.1,1.2,3c0.3,0.3,0.3,0.9-0.1,1.2c-0.3,0.3-0.9,0.3-1.2-0.1C0.6,11.5,0,10,0,8.5 c0-3.6,3.3-6.5,7.3-6.5C10.5,2.1,13.3,4,14.2,6.7z M5.6,8C5,8,4.5,7.5,4.5,6.8c0-0.6,0.5-1.2,1.1-1.2s1.1,0.5,1.1,1.2 C6.8,7.5,6.2,8,5.6,8z M9.3,8C8.7,8,8.2,7.5,8.2,6.8c0-0.6,0.5-1.2,1.1-1.2s1.1,0.5,1.1,1.2C10.4,7.5,9.9,8,9.3,8z M12.7,12.1 c-0.5,0-0.8-0.4-0.8-0.9s0.4-0.9,0.8-0.9c0.5,0,0.8,0.4,0.8,0.9S13.1,12.1,12.7,12.1L12.7,12.1z M16.3,12.1c-0.5,0-0.8-0.4-0.8-0.9 s0.4-0.9,0.8-0.9c0.5,0,0.8,0.4,0.8,0.9S16.8,12.1,16.3,12.1L16.3,12.1z"/> </svg> ',previousPage:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M15.2,19.5C15.1,19.5,15.1,19.5,15.2,19.5c-0.7,0.6-1.7,0.6-2.3,0l-8.1-8.3c-0.6-0.6-0.6-1.7,0-2.3l8.1-8.3l0,0 c0.6-0.6,1.6-0.6,2.2,0c0.6,0.7,0.6,1.7,0,2.3L8.2,9.9l6.9,7.1C15.8,17.8,15.8,18.8,15.2,19.5L15.2,19.5z"/> </svg> ',print:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+'  version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M13,0H7C5.9,0,5,0.9,5,2l0,0v2.4h10V2C15,0.9,14.1,0,13,0z M13.1,3.8H6.9V2.6c0-0.4,0.3-0.7,0.7-0.7 c0,0,0,0,0,0h4.8c0.4,0,0.7,0.3,0.7,0.7c0,0,0,0,0,0V3.8z"/> <path class="st0" d="M18,3.8H2c-1.1,0-2,0.9-2,2c0,0,0,0,0,0v6c0,1.1,0.9,2,2,2h4.9v-1.9H2.6c-0.4,0-0.7-0.3-0.7-0.7c0,0,0,0,0,0 V6.4c0-0.4,0.3-0.7,0.7-0.7c0,0,0,0,0,0h14.8c0.4,0,0.7,0.3,0.7,0.7c0,0,0,0,0,0v4.8c0,0.4-0.3,0.8-0.8,0.8l0,0h-4.3v1.9H18 c1.1,0,2-0.9,2-2c0,0,0,0,0,0v-6C20,4.6,19.1,3.7,18,3.8z"/> <path class="st0" d="M5,10v8c0,1.1,0.9,2,2,2c0,0,0,0,0,0h6c1.1,0,2-0.9,2-2l0,0v-8H5z M13.1,17.4c0,0.4-0.3,0.8-0.8,0.8H7.6 c-0.4,0-0.8-0.3-0.8-0.8v-5.5h6.3V17.4z"/> <path class="st0" d="M9.1,13.5h1.9c0.6,0,0.9,0.3,0.9,0.9l0,0c0,0.6-0.3,0.9-0.9,0.9H9.1c-0.6,0-0.9-0.3-0.9-0.9l0,0 C8.1,13.8,8.4,13.5,9.1,13.5z"/> </svg> ',report:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M19.6,15l-7-13.4C11.7,0,9.8-0.5,8.3,0.6C7.9,0.9,7.6,1.2,7.4,1.7L0.4,15c-0.5,1-0.5,2.2,0,3.2 C0.9,19.3,1.9,20,3,20H17c1.1,0,2.1-0.7,2.7-1.7C20.1,17.2,20.1,16,19.6,15z M18,17.2c-0.2,0.4-0.6,0.7-1.1,0.7H3 c-0.4,0-0.9-0.2-1.1-0.7c-0.2-0.3-0.2-0.7,0-1.1l7-13.4c0.4-0.7,1.3-0.8,1.9-0.3c0.1,0.1,0.2,0.2,0.3,0.3l7,13.4 C18.2,16.5,18.2,16.9,18,17.2z"/> <path class="st0" d="M9.1,14.7c0,0.6,0.4,1.1,0.9,1.1c0.5,0,0.9-0.5,0.9-1.1s-0.4-1.1-0.9-1.1C9.5,13.7,9.1,14.1,9.1,14.7z"/> <path class="st0" d="M10,6.3c-0.5,0-0.9,0.5-0.9,1.1v4.2c0,0.6,0.4,1.1,0.9,1.1c0.5,0,0.9-0.5,0.9-1.1V7.4C10.9,6.8,10.5,6.3,10,6.3 L10,6.3z"/> </svg> ',search:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="serachSvg" d="M9.6,19.1C4.3,19.1,0,14.8,0,9.5S4.3,0,9.6,0s9.5,4.3,9.5,9.5S14.8,19.1,9.6,19.1z M9.6,1.8 c-4.3,0-7.7,3.4-7.7,7.7s3.4,7.7,7.7,7.7s7.7-3.4,7.7-7.7S13.8,1.8,9.6,1.8z"/> <path class="st0" d="M16.9,15.5l2.9,2.9c0.3,0.5,0.2,1-0.2,1.3c-0.4,0.3-0.8,0.3-1.1,0l-2.9-2.9c-0.3-0.5-0.2-1,0.2-1.3 C16,15.2,16.5,15.2,16.9,15.5z"/> </svg> ',settings:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M10,2.2L3.2,6.1v7.8l6.8,3.9l6.8-3.9V6.1L10,2.2z M10.5,0.2l7.8,4.5c0.3,0.2,0.5,0.5,0.5,0.9v9 c0,0.4-0.2,0.7-0.5,0.9l-7.8,4.5c-0.3,0.2-0.7,0.2-1,0l-7.8-4.5c-0.3-0.2-0.5-0.5-0.5-0.9v-9c0-0.4,0.2-0.7,0.5-0.9l7.8-4.5 C9.8,0,10.2,0,10.5,0.2z M10,7.2c1.6,0,2.8,1.3,2.8,2.8s-1.3,2.8-2.8,2.8S7.2,11.6,7.2,10S8.4,7.2,10,7.2z M10,11.1 c0.6,0,1.1-0.5,1.1-1.1c0-0.6-0.5-1.1-1.1-1.1c0,0,0,0,0,0c-0.6,0-1.1,0.5-1.1,1.1C8.9,10.6,9.4,11.1,10,11.1z"/> </svg> ',sharethis:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M20,1.1v6.7c0,0.6-0.5,1.1-1.1,1.1c-0.6,0-1.1-0.5-1.1-1.1v-4l-7,7c-0.4,0.4-1.1,0.5-1.6,0 c-0.4-0.4-0.5-1.1,0-1.6c0,0,0,0,0,0l7-7h-4c-0.6,0-1.1-0.5-1.1-1.1S11.6,0,12.2,0h6.7C19.5,0,20,0.5,20,1.1C20,1.1,20,1.1,20,1.1z M7.5,0.3c0.6-0.1,1.2,0.2,1.3,0.8C9,1.7,8.6,2.3,8.1,2.5c-4.2,1.1-6.7,5.3-5.6,9.5s5.3,6.7,9.5,5.6c2.7-0.7,4.9-2.8,5.6-5.6 c0.1-0.6,0.7-1,1.3-0.8c0.6,0.1,1,0.7,0.8,1.3c0,0,0,0,0,0c-1.4,5.3-6.8,8.6-12.2,7.2c-5.3-1.4-8.6-6.8-7.2-12.2 C1.2,4,4,1.2,7.5,0.3z"/> </svg> ',shoppingCart:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M19.7,4.9c-0.4-0.6-1-1-1.7-1H4.8L4.2,1.5C4,1,3.6,0.7,3.1,0.8H1.1c-0.6,0-1,0.5-1,1s0.5,1,1,1h1.3l2.8,10.5 c0.1,0.5,0.5,0.8,1,0.8h9.2c0.4,0,0.7-0.2,0.9-0.6l3.4-6.7C20,6.2,20,5.5,19.7,4.9z M14.8,12.1H7L5.3,5.9h12.6L14.8,12.1z"/> <path class="st0" d="M4.7,17.7c0,0.9,0.7,1.5,1.5,1.5s1.5-0.7,1.5-1.5s-0.7-1.5-1.5-1.5S4.7,16.9,4.7,17.7z"/> <path class="st0" d="M14,17.7c0,0.9,0.7,1.5,1.5,1.5c0.9,0,1.5-0.7,1.5-1.5s-0.7-1.5-1.5-1.5C14.7,16.2,14,16.9,14,17.7z"/> </svg> ',soundOff:'<?xml version="1.0" encoding="utf-8"?>  <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M3,1.9c-0.4-0.4-1-0.4-1.3,0s-0.4,1,0,1.3l14.9,14.9c0.4,0.4,1,0.4,1.3,0c0,0,0,0,0,0c0.4-0.4,0.4-1,0-1.3 c0,0,0,0,0,0L3,1.9z M14.3,11.9l1.3,1.3c1.4-2,1.4-4.7-0.1-6.7c-0.3-0.4-0.9-0.5-1.3-0.1c-0.4,0.3-0.5,0.9-0.1,1.3 C15.1,9,15.1,10.6,14.3,11.9z"/> <path class="st0" d="M18.1,10c0,1.5-0.6,3-1.7,4.1l1.3,1.3C19.2,13.9,20,12,20,10c0-2.5-1.2-4.8-3.1-6.3c-0.4-0.3-1-0.3-1.3,0.1 c-0.3,0.4-0.3,1,0.1,1.3C17.2,6.3,18.1,8.1,18.1,10z M11.2,15.7l-4.7-3.3c-0.2-0.1-0.3-0.2-0.5-0.2h-4V7.7h3L3,5.9H0.9 C0.4,5.9,0,6.3,0,6.8v6.4c0,0.5,0.4,0.9,0.9,0.9c0,0,0,0,0,0h4.7l6,4.1c0.2,0.1,0.3,0.2,0.5,0.2c0.5,0,0.9-0.4,0.9-0.9c0,0,0,0,0,0 v-1.6L11.1,14L11.2,15.7z M11.2,4.3v4.4l1.9,1.9V2.6c0-0.5-0.4-0.9-0.9-0.9c-0.2,0-0.4,0.1-0.5,0.2l-4.4,3l1.3,1.3L11.2,4.3z"/> </svg> ',soundOn:'<?xml version="1.0" encoding="utf-8"?>  <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M15.6,6.6c-0.3-0.4-0.9-0.5-1.3-0.1c-0.4,0.3-0.5,0.9-0.1,1.3c1,1.3,1,3.1,0,4.4c-0.3,0.4-0.3,1,0.1,1.3 c0.2,0.1,0.4,0.2,0.6,0.2c0.3,0,0.5-0.1,0.7-0.3C17.1,11.4,17.1,8.6,15.6,6.6z"/> <path class="st0" d="M16.9,3.7c-0.4-0.3-1-0.3-1.3,0.1c-0.3,0.4-0.3,1,0.1,1.3c1.5,1.2,2.4,3,2.5,4.9c0,1.9-0.9,3.7-2.5,4.9 c-0.4,0.3-0.5,0.9-0.1,1.3c0,0,0,0,0,0c0.2,0.2,0.4,0.3,0.7,0.3c0.2,0,0.4-0.1,0.6-0.2c1.9-1.5,3.1-3.8,3.1-6.3 C20,7.5,18.8,5.2,16.9,3.7z M12.6,1.7c-0.3-0.2-0.6-0.2-0.9,0l-6,4.1H0.9C0.4,5.9,0,6.3,0,6.8v6.4c0,0.5,0.4,0.9,0.9,0.9 c0,0,0,0,0,0h4.7l6,4.1c0.2,0.1,0.3,0.2,0.5,0.2c0.5,0,0.9-0.4,0.9-0.9c0,0,0,0,0,0V2.6C13,2.2,12.8,1.9,12.6,1.7z M11.2,15.7 l-4.8-3.3c-0.2-0.1-0.3-0.2-0.5-0.2h-4V7.7h4c0.2,0,0.4-0.1,0.5-0.2l4.7-3.3L11.2,15.7z"/> </svg> ',stopAutoPlay:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M10,2c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S5.6,2,10,2 M10,0C4.5,0,0,4.5,0,10s4.5,10,10,10s10-4.5,10-10 S15.5,0,10,0z"/> <path class="st0" d="M7.8,13.6L7.8,13.6c-0.5,0-1-0.4-1-1V7.3c0-0.5,0.4-1,1-1l0,0c0.5,0,1,0.4,1,1v5.3C8.7,13.1,8.3,13.6,7.8,13.6z "/> <path class="st0" d="M12.2,13.6L12.2,13.6c-0.5,0-1-0.4-1-1V7.4c0-0.5,0.4-1,1-1l0,0c0.5,0,1,0.4,1,1v5.3 C13.1,13.3,12.7,13.6,12.2,13.6z"/> </svg> ',tableOfContent:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M18.6,0H5.7C5,0,4.3,0.7,4.3,1.5S5,2.9,5.7,2.9h12.8c0.8,0,1.4-0.6,1.4-1.4S19.3,0,18.6,0z M18.6,8.4H5.7 C5,8.4,4.3,9.1,4.3,9.9c0,0.8,0.6,1.4,1.4,1.4h12.8c0.8,0,1.4-0.6,1.4-1.4S19.3,8.4,18.6,8.4z M18.6,16.9H5.7 c-0.8,0-1.4,0.6-1.4,1.4c0,0.8,0.6,1.4,1.4,1.4h12.8c0.8,0,1.4-0.6,1.4-1.4C20,17.5,19.3,16.9,18.6,16.9z M1.4,0.1 C0.6,0.1,0,0.7,0,1.5v0c0,0.8,0.6,1.4,1.4,1.4c0.8,0,1.4-0.6,1.4-1.4v0C2.8,0.7,2.2,0.1,1.4,0.1z M1.4,8.5C0.6,8.5,0,9.1,0,9.9v0 c0,0.8,0.6,1.4,1.4,1.4c0.8,0,1.4-0.6,1.4-1.4v0C2.8,9.1,2.2,8.5,1.4,8.5z M1.4,16.9c-0.8,0-1.4,0.6-1.4,1.4v0 c0,0.8,0.6,1.4,1.4,1.4c0.8,0,1.4-0.6,1.4-1.4v0C2.8,17.6,2.2,16.9,1.4,16.9z"/> </svg> ',tel:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M11,6c1.7,0,3,1.3,3,3c0,0.6,0.4,1,1,1c0.6,0,1-0.4,1-1c0-2.8-2.2-5-5-5c-0.6,0-1,0.4-1,1S10.5,6,11,6z"/> <path class="st0" d="M11,2c3.9,0,7,3.1,7,7l0,0c0,0.6,0.4,1,1,1c0.6,0,1-0.4,1-1c0-5-4-9-9-9c-0.6,0-1,0.4-1,1S10.5,2,11,2z M19.8,13.9c-0.1-0.3-0.4-0.6-0.7-0.6l-6-1.4c-0.3-0.1-0.7,0-0.9,0.3c-0.1,0.1-0.1,0.1-0.8,1.4c-2.2-1-3.9-2.7-4.9-4.9 C7.7,8,7.7,8,7.9,7.8c0.2-0.2,0.3-0.6,0.3-0.9L6.8,1C6.7,0.7,6.4,0.4,6.1,0.3C5.9,0.2,5.6,0.1,5.4,0.1C5.1,0,4.9,0,4.6,0 C2.1,0,0,2.1,0,4.6l0,0C0,13.1,6.9,20,15.4,20c2.5,0,4.6-2.1,4.6-4.6l0,0c0-0.3,0-0.5-0.1-0.8C19.9,14.4,19.8,14.1,19.8,13.9z M15.4,18C8,18,2,12,2,4.6C2,3.2,3.2,2,4.6,2h0.3L6,6.6L5.5,6.9C4.6,7.4,3.9,7.7,4.3,8.5c1.2,3.4,3.8,6,7.2,7.2 c0.8,0.3,1.2-0.3,1.6-1.2l0.3-0.5l4.6,1.1v0.3C18,16.8,16.8,18,15.4,18z"/> </svg> ',text:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M17.8,20H2.2C1,20,0,19.1,0,18V2c0-1.1,1-2,2.2-2h15.6C19,0,20,0.9,20,2v16C20,19.1,19,20,17.8,20z M17.8,2H2.2 v16h15.6C17.8,18,17.8,2,17.8,2z"/> <path class="st0" d="M13,6H7C6.4,6,6,6.4,6,7s0.4,1,1,1h2v5c0,0.6,0.4,1,1,1c0.6,0,1-0.4,1-1V8h2c0.6,0,1-0.4,1-1S13.6,6,13,6z"/> </svg> ',thumbnails:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M7.1,9H1.9C0.9,9,0,8.1,0,7.1V1.9C0,0.9,0.9,0,1.9,0h5.2C8.1,0,9,0.9,9,1.9v5.2C9,8.1,8.1,9,7.1,9z M2.2,6.8 h4.6V2.2H2.2L2.2,6.8z M18.1,9h-5.2C11.9,9,11,8.1,11,7.1V1.9C11,0.9,11.9,0,12.9,0h5.2C19.1,0,20,0.9,20,1.9v5.2 C20,8.1,19.1,9,18.1,9z M13.2,6.8h4.6V2.2h-4.6L13.2,6.8z M7.1,20H1.9C0.9,20,0,19.1,0,18.1v-5.2C0,11.9,0.9,11,1.9,11h5.2 C8.1,11,9,11.9,9,12.9v5.2C9,19.1,8.1,20,7.1,20z M2.2,17.8h4.6v-4.6H2.2L2.2,17.8z M18.1,20h-5.2c-1.1,0-1.9-0.9-1.9-1.9v-5.2 c0-1.1,0.9-1.9,1.9-1.9h5.2c1.1,0,1.9,0.9,1.9,1.9v5.2C20,19.1,19.1,20,18.1,20z M13.2,17.8h4.6v-4.6h-4.6L13.2,17.8z"/> </svg> ',ZoomIn:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M9.6,19.1C4.3,19.1,0,14.8,0,9.5S4.3,0,9.6,0s9.5,4.3,9.5,9.5S14.8,19.1,9.6,19.1z M9.6,1.8 c-4.3,0-7.7,3.4-7.7,7.7s3.4,7.7,7.7,7.7s7.7-3.4,7.7-7.7S13.8,1.8,9.6,1.8z"/> <path class="st0" d="M16.9,15.5l2.9,2.9c0.3,0.5,0.2,1-0.2,1.3c-0.4,0.3-0.8,0.3-1.1,0l-2.9-2.9c-0.3-0.5-0.2-1,0.2-1.3 C16,15.2,16.5,15.2,16.9,15.5z"/> <path class="st0" d="M12.7,10.5H6.4c-0.5,0-0.9-0.4-0.9-0.9v0c0-0.5,0.4-0.9,0.9-0.9h6.2c0.5,0,0.9,0.4,0.9,0.9v0 C13.6,10,13.2,10.5,12.7,10.5z"/> <path class="st0" d="M10.5,6.4v6.2c0,0.5-0.4,0.9-0.9,0.9h0c-0.5,0-0.9-0.4-0.9-0.9V6.4c0-0.5,0.4-0.9,0.9-0.9h0 C10.1,5.5,10.5,5.9,10.5,6.4z"/> </svg> ',ZoomOut:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M9.6,19.1C4.3,19.1,0,14.8,0,9.5S4.3,0,9.6,0s9.5,4.3,9.5,9.5S14.8,19.1,9.6,19.1z M9.6,1.8 c-4.3,0-7.7,3.4-7.7,7.7s3.4,7.7,7.7,7.7s7.7-3.4,7.7-7.7S13.8,1.8,9.6,1.8z"/> <path class="st0" d="M16.9,15.5l2.9,2.9c0.3,0.5,0.2,1-0.2,1.3c-0.4,0.3-0.8,0.3-1.1,0l-2.9-2.9c-0.3-0.5-0.2-1,0.2-1.3 C16,15.2,16.5,15.2,16.9,15.5z"/> <path class="st0" d="M12.7,10.5H6.4c-0.5,0-0.9-0.4-0.9-0.9v0c0-0.5,0.4-0.9,0.9-0.9h6.2c0.5,0,0.9,0.4,0.9,0.9v0 C13.6,10,13.2,10.5,12.7,10.5z"/> </svg> ',doubleSinglePage:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 35.2 32" style="enable-background:new 0 0 35.2 32;" xml:space="preserve"> <path class="st0" d="M30.1,0H5.1C2.9,0,1,1.9,1,4.2v23.7C1,30.1,2.9,32,5.1,32h24.9c2.3,0,4.2-1.9,4.2-4.2V4.2C34.2,1.9,32.4,0,30.1,0z M3.8,27.8V4.2c0-0.8,0.6-1.4,1.4-1.4h11.1v26.4l-11.1,0C4.4,29.2,3.8,28.6,3.8,27.8z M31.5,27.8c0,0.8-0.6,1.4-1.4,1.4H19V2.8h11.1c0.8,0,1.4,0.6,1.4,1.4L31.5,27.8L31.5,27.8z"/><path class="st0" d="M6.5,9.7h6.9v1.4H6.5V9.7z"/><path class="st0" d="M6.5,15.3h6.9v1.4H6.5C6.5,16.7,6.5,15.3,6.5,15.3z"/><path class="st0" d="M6.5,20.9h6.9v1.4H6.5V20.9z"/><path class="st0" d="M21.8,9.7h6.9v1.4h-6.9V9.7z"/><path class="st0" d="M21.8,15.3h6.9v1.4h-6.9C21.8,16.7,21.8,15.3,21.8,15.3z"/><path class="st0" d="M21.8,20.9h6.9v1.4h-6.9V20.9z"/></svg>',videoGallery:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"><path class="st0" d="M13,9.1c0.5,0.3,0.6,0.9,0.3,1.4c-0.1,0.1-0.2,0.3-0.3,0.3l-5,3c-0.5,0.3-1.1,0.1-1.4-0.4c-0.1-0.2-0.1-0.3-0.1-0.5V7c0-0.6,0.4-1,1-1C7.7,6,7.9,6,8,6.1L13,9.1z M8.5,8.8v2.5l2.1-1.2L8.5,8.8z"/><path class="st0" d="M18,16V4H2v12H18z M18.6,18H1.4C0.6,18,0,17.3,0,16.4V3.6C0,2.7,0.6,2,1.4,2h17.1C19.4,2,20,2.7,20,3.6v12.8C20,17.3,19.4,18,18.6,18z"/><path class="st0" d="M3.4,4.1c0-0.4,0.4-0.7,1-0.7s1,0.3,1,0.7v11.7c0,0.4-0.4,0.7-1,0.7s-1-0.3-1-0.7V4.1z"/><path class="st0" d="M14.6,4.1c0-0.4,0.4-0.7,1-0.7c0.6,0,1,0.3,1,0.7v11.7c0,0.4-0.4,0.7-1,0.7c-0.6,0-1-0.3-1-0.7V4.1z"/><path class="st0" d="M18.8,6.5c0.4,0,0.8,0.4,0.8,1s-0.3,1-0.8,1h-3c-0.4,0-0.8-0.4-0.8-1s0.3-1,0.8-1H18.8z"/><path class="st0" d="M18.8,11.8c0.4,0,0.8,0.4,0.8,1s-0.3,1-0.8,1h-3c-0.4,0-08-0.4-0.8-1s0.3-1,0.8-1H18.8z"/><path class="st0" d="M4.2,6.4c0.5,0,0.8,0.4,0.8,1s-0.4,1-0.8,1H0.8C0.4,8.4,0,7.9,0,7.4s0.4-1,0.8-1H4.2z"/><path class="st0" d="M4.2,11.6c0.5,0,0.8,0.4,0.8,1s-0.4,1-0.8,1H0.8c-0.5,0-0.8-0.4-0.8-1s0.4-1,0.8-1H4.2z"/></svg>',fullscreen:'<svg xmlns="http://www.w3.org/2000/svg" '+fill+'  viewBox="0 0 16 16" class="svg"><g id="组_43" data-name="组 43" transform="translate(-430 -141)"><g id="组_38" data-name="组 38"><g id="组_37" data-name="组 37"><rect id="矩形_18" data-name="矩形 18" width="5" height="1" transform="translate(441 141)" /><rect id="矩形_19" data-name="矩形 19" width="5" height="1" transform="translate(446 141) rotate(90)" /></g><g id="组_36" data-name="组 36" transform="translate(430 141)"><rect id="矩形_21" data-name="矩形 21" width="5" height="1" /><rect id="矩形_20" data-name="矩形 20" width="5" height="1" transform="translate(1) rotate(90)" /></g></g><g id="组_39" data-name="组 39" transform="translate(430 152)"><g id="组_37-2" data-name="组 37" transform="translate(11)"><rect id="矩形_18-2" data-name="矩形 18" width="5" height="1" transform="translate(0 4)" /><rect id="矩形_19-2" data-name="矩形 19" width="5" height="1" transform="translate(4 5) rotate(-90)" /></g><g id="组_36-2" data-name="组 36"><rect id="矩形_21-2" data-name="矩形 21" width="5" height="1" transform="translate(0 4)" /><rect id="矩形_20-2" data-name="矩形 20" width="5" height="1" transform="translate(0 5) rotate(-90)" /></g></g></g></svg>',exitFullscreen:'<svg xmlns="http://www.w3.org/2000/svg" '+fill+' viewBox="0 0 16 16" class="svg"><g id="组_42" data-name="组 42" transform="translate(-473 -141)"><g id="组_40" data-name="组 40" transform="translate(62 11)"><g id="组_37" data-name="组 37" transform="translate(-30)"><rect id="矩形_18" data-name="矩形 18" width="5" height="1" transform="translate(441 141)" /><rect id="矩形_19" data-name="矩形 19" width="5" height="1" transform="translate(446 141) rotate(90)" /></g><g id="组_36" data-name="组 36" transform="translate(422 141)"><rect id="矩形_21" data-name="矩形 21" width="5" height="1" /><rect id="矩形_20" data-name="矩形 20" width="5" height="1" transform="translate(1) rotate(90)" /></g></g><g id="组_41" data-name="组 41" transform="translate(473 141)"><g id="组_37-2" data-name="组 37" transform="translate(11)"><rect id="矩形_18-2" data-name="矩形 18" width="5" height="1" transform="translate(0 4)" /><rect id="矩形_19-2" data-name="矩形 19" width="5" height="1" transform="translate(0 5) rotate(-90)" /></g><g id="组_36-2" data-name="组 36"><rect id="矩形_21-2" data-name="矩形 21" width="5" height="1" transform="translate(0 4)" /><rect id="矩形_20-2" data-name="矩形 20" width="5" height="1" transform="translate(4 5) rotate(-90)" /></g></g></g></svg>',phonePageFlip:'<svg id="滑动" xmlns="http://www.w3.org/2000/svg" '+fill+'  width="28.78" height="26.299" viewBox="0 0 52.78 50.299"><g id="组_7" data-name="组 7" transform="translate(4.281 0.31)"><path id="路径_2" data-name="路径 2" d="M15.07,37.078l-.04-.028a2.087,2.087,0,0,0-.213-.117l-.03-.019c-.036-.023-.081-.045-.115-.068l-.192-.115h-.021L4.793,30.694a5.118,5.118,0,0,1-2.269-3.122,5.007,5.007,0,0,1,.508-3.79,4.771,4.771,0,0,1,4.225-2.359L.511,6.943A4.858,4.858,0,0,1,2.6.407a4.872,4.872,0,0,1,6.359,2.6l2.169,4.651a3.749,3.749,0,0,1,.981-.667,4.09,4.09,0,0,1,3.553.1A3.933,3.933,0,0,1,17.309,5.6a3.875,3.875,0,0,1,2.531-.245,4.832,4.832,0,0,1,1.86.887,3.877,3.877,0,0,1,.979-.661c2.171-1.013,4.89.213,6.065,2.738l5.671,12.156a12.688,12.688,0,0,1,.505,9,5.1,5.1,0,0,1-2.346,3.111L20.555,38.189c-2.25,1.049-4.052-.149-5.485-1.111Zm16.7-6.854c.363-.173.985-1.2,1.248-2.966a9.928,9.928,0,0,0-.727-5.47L26.458,9.276C25.982,8.253,24.935,7.66,24.216,8a1.066,1.066,0,0,0-.4.322l2.039,4.376a1.493,1.493,0,0,1-2.7,1.258l-1.77-3.8L20.8,9.129a1.86,1.86,0,0,0-2.16-1.092A1.29,1.29,0,0,0,18,8.89l2.205,4.734a1.5,1.5,0,0,1-2.725,1.265l-1.941-4.165-.328-.439a1.784,1.784,0,0,0-1.962-.81,1.433,1.433,0,0,0-.708,1.213L14.692,15.4l.823,1.766a1.361,1.361,0,0,1-.625,1.815l-.294.136a1.356,1.356,0,0,1-1.787-.685L6.239,4.339,6,3.84A1.969,1.969,0,0,0,3.456,2.7a1.985,1.985,0,0,0-.768,2.681L9.133,19.048c.023.041.045.083.064.124l2.529,5.44a1.535,1.535,0,0,1-.546,1.919A1.506,1.506,0,0,1,9.22,26.2L8,24.9a2.028,2.028,0,0,0-1.555-.264,1.981,1.981,0,0,0-1.256.934,2.154,2.154,0,0,0,.734,2.885l9.955,6.208.032.017.124.077.151.1c.1.062.194.119.277.162l.062.03.055.049c1.6,1.066,2.1,1.23,2.783.911l12.414-5.777v-.006Z" transform="translate(16.312 0) rotate(25)" /></g><path id="路径_3" data-name="路径 3" d="M105.118,295.685h7.966a.5.5,0,0,0,.5-.5v-2.937a.5.5,0,0,0-.5-.5h-7.966v-2.009a.25.25,0,0,0-.375-.216L98,293.485a.249.249,0,0,0,0,.43l6.743,3.956a.249.249,0,0,0,.375-.216v-1.97Z" transform="translate(-97.875 -289.494)" /><path id="路径_4" data-name="路径 4" d="M106.338,295.685H98.373a.5.5,0,0,1-.5-.5v-2.937a.5.5,0,0,1,.5-.5h7.966v-2.009a.25.25,0,0,1,.375-.216l6.745,3.956a.249.249,0,0,1,0,.43l-6.743,3.956a.249.249,0,0,1-.375-.216v-1.97Z" transform="translate(-68.232 -289.494)" /></svg>',shareHelpSvg:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSLlm77lsYJfMSIgdmlld0JveD0iMCAwIDI4OC42IDE4NS4xIiBzdHlsZT0iYmFja2dyb3VuZDojMTExIj48c3R5bGU+LnN0M3tmaWxsOm5vbmU7c3Ryb2tlOiNmZmY7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLW1pdGVybGltaXQ6MTB9LnN0NXtmaWxsOiNmZmZ9LnN0Nntmb250LWZhbWlseTomcXVvdDtNaWNyb3NvZnRZYUhlaSZxdW90O30uc3Q3e2ZvbnQtc2l6ZToxNnB4fTwvc3R5bGU+PGVsbGlwc2UgY3g9IjEzNi4xIiBjeT0iOTQuNyIgcng9IjEwNS44IiByeT0iNzEuNyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iNi4wMzEzLDYuMDMxMyIgaWQ9IlhNTElEXzFfIi8+PHBhdGggY2xhc3M9InN0MyIgZD0iTTIzMC41IDU3LjVzMi0uNyAzLjgtMS40Ii8+PHBhdGggZD0iTTIzOS45IDUzLjZjNS0yLjYgMTEuMi02LjkgMTQuNS0xMy4yIDYuNS0xMi4yLjItMjEuOS0xMC4zLTIwLjFzLTE3LjUgMTYuNC0uNiAyNWMxMy4xIDYuNiAyOS4zLTEyLjkgMzUuOS0yNC4xIiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSI2LjIwODEsNi4yMDgxIi8+PHBhdGggY2xhc3M9InN0MyIgZD0iTTI2OS4zIDIwbDEzLjktOCAyIDE0LjgiLz48cGF0aCBjbGFzcz0ic3Q1IiBkPSJNMTc4LjcgMTM5LjNIOTYuM2MtMi4xIDAtMy44LTEuNi0zLjgtMy42di0yMi45YzAtMiAxLjctMy42IDMuOC0zLjZoODIuNGMyLjEgMCAzLjggMS42IDMuOCAzLjZ2MjIuOWMwIDItMS43IDMuNi0zLjggMy42eiIvPjx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDcyLjgyIDcwLjM1NSkiIGNsYXNzPSJzdDUgc3Q2IHN0NyI+54K55Ye75Y+z5LiK6KeS5YiG5Lqr57uZPC90ZXh0Pjx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwOC4yMiA5My42KSIgY2xhc3M9InN0NSBzdDYgc3Q3Ij5RUeWlveWPizwvdGV4dD48dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTYuMjA0IDEyOS40MjgpIiBmb250LXNpemU9IjE0IiBmb250LWZhbWlseT0iTWljcm9zb2Z0WWFIZWktQm9sZCI+55+l6YGT5LqGPC90ZXh0Pjwvc3ZnPg==",shareToWeChat:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSLlm77lsYJfMSIgdmlld0JveD0iMCAwIDI4OC42IDE4NS4xIiBzdHlsZT0iYmFja2dyb3VuZDojMTExIj48c3R5bGU+LnN0M3tmaWxsOm5vbmU7c3Ryb2tlOiNmZmY7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLW1pdGVybGltaXQ6MTB9LnN0NXtmaWxsOiNmZmZ9LnN0Nntmb250LWZhbWlseTomcXVvdDtNaWNyb3NvZnRZYUhlaSZxdW90O30uc3Q3e2ZvbnQtc2l6ZToxNnB4fTwvc3R5bGU+PGVsbGlwc2UgY3g9IjEzNi4xIiBjeT0iOTQuNyIgcng9IjEwNS44IiByeT0iNzEuNyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iNi4wMzEzLDYuMDMxMyIgaWQ9IlhNTElEXzFfIi8+PHBhdGggY2xhc3M9InN0MyIgZD0iTTIzMC41IDU3LjVzMi0uNyAzLjgtMS40Ii8+PHBhdGggZD0iTTIzOS45IDUzLjZjNS0yLjYgMTEuMi02LjkgMTQuNS0xMy4yIDYuNS0xMi4yLjItMjEuOS0xMC4zLTIwLjFzLTE3LjUgMTYuNC0uNiAyNWMxMy4xIDYuNiAyOS4zLTEyLjkgMzUuOS0yNC4xIiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSI2LjIwODEsNi4yMDgxIi8+PHBhdGggY2xhc3M9InN0MyIgZD0iTTI2OS4zIDIwbDEzLjktOCAyIDE0LjgiLz48cGF0aCBjbGFzcz0ic3Q1IiBkPSJNMTc4LjcgMTM5LjNIOTYuM2MtMi4xIDAtMy44LTEuNi0zLjgtMy42di0yMi45YzAtMiAxLjctMy42IDMuOC0zLjZoODIuNGMyLjEgMCAzLjggMS42IDMuOCAzLjZ2MjIuOWMwIDItMS43IDMuNi0zLjggMy42eiIvPjx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDcyLjgyIDcwLjM1NSkiIGNsYXNzPSJzdDUgc3Q2IHN0NyI+54K55Ye75Y+z5LiK6KeS5YiG5Lqr57uZPC90ZXh0Pjx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDM5LjIyIDkzLjYpIiBjbGFzcz0ic3Q1IHN0NiBzdDciPuW+ruS/oeWlveWPi+aIluiAheWIhuS6q+WIsOaci+WPi+WciDwvdGV4dD48dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTYuMjA0IDEyOS40MjgpIiBmb250LXNpemU9IjE0IiBmb250LWZhbWlseT0iTWljcm9zb2Z0WWFIZWktQm9sZCI+55+l6YGT5LqGPC90ZXh0Pjwvc3ZnPg==",round:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 40 40"><g id="矩形_19" data-name="矩形 19" fill="none" stroke="'+phoneSvgIconColor+'" stroke-width="3"><rect width="40" height="40" rx="20" stroke="none"/><rect x="1.5" y="1.5" width="37" height="37" rx="18.5" fill="none"/></g></svg>',rect:'<svg xmlns="http://www.w3.org/2000/svg"  width="20" height="20" viewBox="0 0 36 36"><g id="矩形_20" data-name="矩形 20" fill="none" stroke="'+phoneSvgIconColor+'" stroke-width="3"><rect width="36" height="36" rx="2" stroke="none"/><rect x="1.5" y="1.5" width="33" height="33" rx="0.5" fill="none"/></g></svg>',clear:'<svg xmlns="http://www.w3.org/2000/svg" '+fill+' width="20" height="20" viewBox="0 0 40 40.129"><g id="组_39" data-name="组 39" transform="translate(-1264 -1163)"><g id="矩形_10" data-name="矩形 10" transform="translate(1264 1163)"  stroke="#fff" stroke-width="1" opacity="0"><rect width="40" height="40" stroke="none"/><rect x="0.5" y="0.5" width="39" height="39" fill="none"/></g><path id="路径_16" data-name="路径 16" d="M117.284,76.028l-6.965-3.54,3.9-7.733a1.434,1.434,0,0,0-2.01-2.045l-4.319,8.548-6.005-3.038a4.049,4.049,0,0,0-1.8-.488,2.154,2.154,0,0,0-1.919,1.01l-.051.1C93.7,78.572,80.96,83.933,80.828,83.989a1.923,1.923,0,0,0-1.105,1.224,1.715,1.715,0,0,0,.33,1.839L103.48,101.7a4.193,4.193,0,0,0,2.13.749,1.714,1.714,0,0,0,1.118-.366l.065-.057c8.415-8.015,11.124-19.8,11.39-22.515.225-2.331-.46-3.177-.9-3.481Zm-1.666,3.226a33.691,33.691,0,0,1-1.169,4.935c-4.2-2.066-13.8-7.6-16.953-9.431a24.464,24.464,0,0,0,2.763-4.407,2.412,2.412,0,0,1,.472.185c1.329.67,11.337,5.74,14.378,7.28l.5.253a4.414,4.414,0,0,1,.008,1.184ZM103.9,92.381a1.435,1.435,0,0,0-1.99-2.067l-4.469,4.353a1.267,1.267,0,0,0-.139.159l-6.8-4.213,3.574-3.135a1.446,1.446,0,0,0,.377-2,1.429,1.429,0,0,0-1.987-.378l-3.933,3.482c-.154.106-.593.442-.593.442l-5.04-3.12a43.615,43.615,0,0,0,12.893-9.147c3.248,1.89,13.469,7.8,17.827,9.9a38.924,38.924,0,0,1-8.75,13.092c-.2-.083-1.855-1.149-2.034-1.263L99.8,96.373l4.1-3.992Z" transform="translate(1185.352 1100.681)" /></g></svg>',eraser:'<svg xmlns="http://www.w3.org/2000/svg" '+fill+' width="20" height="20" viewBox="0 0 40 40.654"><g id="组_41" data-name="组 41" transform="translate(-643 -1085.718)"><g id="矩形_9" data-name="矩形 9" transform="translate(643 1086)"  stroke="#fff" stroke-width="1" opacity="0"><rect width="40" height="40" stroke="none"/><rect x="0.5" y="0.5" width="39" height="39" fill="none"/></g><g id="组_3" data-name="组 3" transform="translate(481.235 1016)"><path id="联合_1" data-name="联合 1" d="M-973.235-1052.828v-3.374h37.741v3.374Zm11.015-4.387-9.542-9.542a3.373,3.373,0,0,1,0-4.771l7.154-7.159,0,0L-950.289-1093l14.314,14.313-14.314,14.314-7.154,7.159a3.36,3.36,0,0,1-2.388.986A3.364,3.364,0,0,1-962.22-1057.215Zm-7.159-11.93,9.542,9.543,4.771-4.771-3.623-3.624-5.919-5.919Zm16.7,2.387,11.929-11.929-9.543-9.542-11.93,11.93,2.065,2.065,1.815,1.815Z" transform="translate(1136 1163)"  stroke="'+phoneSvgIconColor+' stroke-width="0.4"/></g></g></svg>',pen:'<svg xmlns="http://www.w3.org/2000/svg" '+fill+' width="20" height="20" viewBox="0 0 40 40.23"><g id="组_43" data-name="组 43" transform="translate(-313 -1086)"><g id="矩形_8" data-name="矩形 8" transform="translate(313 1086)"  stroke="#fff" stroke-width="1" opacity="0"><rect width="40" height="40" stroke="none"/><rect x="0.5" y="0.5" width="39" height="39" fill="none"/></g><path id="路径_3" data-name="路径 3" d="M179.988,210.734h-7.523a1.808,1.808,0,0,1-1.805-1.805V201.4a5.37,5.37,0,0,1,1.585-3.827l25.25-25.25a5.413,5.413,0,0,1,7.652,0l3.93,3.908a5.42,5.42,0,0,1,0,7.655l-25.25,25.25A5.385,5.385,0,0,1,179.988,210.734Zm14.128-29.925L174.8,200.129a1.792,1.792,0,0,0-.527,1.275v5.722h5.718a1.794,1.794,0,0,0,1.277-.527l19.318-19.318Zm7.217-6.468a1.8,1.8,0,0,0-1.277.527l-3.395,3.39,6.475,6.475,3.39-3.39a1.81,1.81,0,0,0,0-2.55l-3.92-3.925a1.789,1.789,0,0,0-1.275-.527h0Z" transform="translate(142.34 915.495)" /></g></svg>',note:'<svg xmlns="http://www.w3.org/2000/svg" '+fill+' width="20" height="20" viewBox="0 0 40 40"><g id="组_44" data-name="组 44" transform="translate(-258 -1086)"><g id="矩形_7" data-name="矩形 7" transform="translate(258 1086)"  stroke="#fff" stroke-width="1" opacity="0"><rect width="40" height="40" stroke="none"/><rect x="0.5" y="0.5" width="39" height="39" fill="none"/></g><g id="组_2" data-name="组 2" transform="translate(261 1086)"><path id="路径_1" data-name="路径 1" d="M161.871,95.8l-7.737,7.777a1.436,1.436,0,0,1-1.013.42H130.857A2.86,2.86,0,0,1,128,101.143V66.857A2.86,2.86,0,0,1,130.857,64h28.571a2.86,2.86,0,0,1,2.857,2.857V94.795A1.422,1.422,0,0,1,161.871,95.8Zm-2.442-27.518A1.427,1.427,0,0,0,158,66.857H132.286a1.427,1.427,0,0,0-1.429,1.429V99.714a1.427,1.427,0,0,0,1.429,1.429h17.143V94a2.86,2.86,0,0,1,2.857-2.857h7.143ZM153.714,94a1.427,1.427,0,0,0-1.429,1.429v5.714L159.429,94Z" transform="translate(-128 -64)" /><path id="路径_2" data-name="路径 2" d="M273.571,290.857H256.429a1.429,1.429,0,1,1,0-2.857h17.143a1.429,1.429,0,0,1,0,2.857Zm-17.143,8.571a1.429,1.429,0,1,1,0-2.857h17.143a1.429,1.429,0,0,1,0,2.857Zm0,5.714H265A1.429,1.429,0,1,1,265,308h-8.571a1.429,1.429,0,1,1,0-2.857Z" transform="translate(-249.33 -278)" /></g></g></svg>',redo:'<svg id="组_45" data-name="组 45" '+fill+' xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 40 40"><g id="矩形_5" data-name="矩形 5"  stroke="#707070" stroke-width="1" opacity="0"><rect width="40" height="40" stroke="none"/><rect x="0.5" y="0.5" width="39" height="39" fill="none"/></g><path id="路径_12" data-name="路径 12" d="M81.023,144.09h7.889v-6.554l17.247,8.81-17.247,8.808V148.6H80.393q-10.1,0-10.1,8.7c0,6.017,3.473,8.917,10.518,8.917h19.774v4.62H80.5c-9.465,0-14.3-4.405-14.3-13.106,0-9.132,4.942-13.644,14.829-13.644Z" transform="translate(-66.194 -134.536)" /></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" '+fill+' width="20" height="20" viewBox="0 0 40 40"><g id="组_46" data-name="组 46" transform="translate(-219 -133)"><g id="矩形_5" data-name="矩形 5" transform="translate(219 133)"  stroke="#707070" stroke-width="1" opacity="0"><rect width="40" height="40" stroke="none"/><rect x="0.5" y="0.5" width="39" height="39" fill="none"/></g><path id="路径_12" data-name="路径 12" d="M91.33,144.09H83.441v-6.554l-17.247,8.81,17.247,8.808V148.6h8.519q10.1,0,10.1,8.7c0,6.017-3.473,8.917-10.518,8.917H71.767v4.62H91.856c9.465,0,14.3-4.405,14.3-13.106,0-9.132-4.942-13.644-14.829-13.644Z" transform="translate(152.841 -1.536)" /></g></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" '+fill+' width="20" height="20" viewBox="0 0 40 40"><g id="组_48" data-name="组 48" transform="translate(-68.1 -69.7)"><path id="路径_10" data-name="路径 10" d="M547.078,193.534a1.48,1.48,0,0,0,1.478-1.478v-1.478a1.478,1.478,0,1,0-2.956,0v1.478A1.485,1.485,0,0,0,547.078,193.534Z" transform="translate(-455.889 -114.225)" /><path id="路径_11" data-name="路径 11" d="M107.644,76.313l-6.158-6.153a1.516,1.516,0,0,0-1.078-.46H72.715A4.626,4.626,0,0,0,68.1,74.315v30.77a4.626,4.626,0,0,0,4.615,4.615h30.77a4.626,4.626,0,0,0,4.615-4.615V77.391A1.508,1.508,0,0,0,107.644,76.313ZM81.178,72.777H95.027v8.233a1.02,1.02,0,0,1-1,1H82.179a1.02,1.02,0,0,1-1-1Zm16.154,33.847H78.873V96.009a1.707,1.707,0,0,1,1.692-1.692H95.64a1.7,1.7,0,0,1,1.692,1.692Zm7.7-1.538a1.54,1.54,0,0,1-1.538,1.538h-3V96.009a4.79,4.79,0,0,0-4.768-4.768H80.564A4.79,4.79,0,0,0,75.8,96.009v10.615H72.719a1.54,1.54,0,0,1-1.538-1.538V74.315a1.54,1.54,0,0,1,1.538-1.538h5.386v8.233a4.1,4.1,0,0,0,4.078,4.078H94.03a4.1,4.1,0,0,0,4.078-4.078V72.777H99.8l5.233,5.233v27.076Z" /></g></svg>',formClose:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1592905340100" class="close" viewBox="0 0 1024 1024" version="1.1" p-id="4217" width="200" height="200"><defs><style type="text/css"/></defs><path '+fillFormColor+' d="M369.728 512l384.768-384.704a48.64 48.64 0 0 0 0.896-68.8 48.64 48.64 0 0 0-68.736 0.96L269.44 476.736a48.704 48.704 0 0 0-11.136 17.344c-1.024 2.304-1.024 4.736-1.472 7.04-0.896 3.648-2.048 7.168-2.048 10.88 0 3.712 1.152 7.232 1.984 10.88 0.512 2.368 0.512 4.8 1.472 7.04a48.704 48.704 0 0 0 11.136 17.344l417.216 417.28a48.576 48.576 0 0 0 68.736 0.96 48.576 48.576 0 0 0-0.896-68.736L369.728 512z" p-id="3489"/></svg>',message:'<svg class="svg" '+fill+' version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M5.1,11.7h9.6c0.6,0,1-0.4,1-1c0-0.6-0.4-1-1-1H5.1c-0.6,0-1,0.4-1,1C4.1,11.3,4.5,11.7,5.1,11.7z M5.1,7.6h9.6 c0.6,0,1-0.4,1-1s-0.4-1-1-1H5.1c-0.6,0-1,0.4-1,1C4.1,7.2,4.5,7.6,5.1,7.6z"/> <path class="st0" d="M16.8,0.1H3.1C1.4,0.1,0,1.5,0,3.2v11c0,1.7,1.4,3.1,3.1,3.1h2.6l2.8,2.5c0.2,0.2,0.5,0.2,0.6,0.2 c0.6,0,1.2-0.4,1.2-1.2v-1.6h6.5c1.7,0,3.1-1.4,3.1-3.1v-11C19.8,1.5,18.5,0.1,16.8,0.1z M2,3.2c0-0.6,0.4-1,1-1h13.7 c0.6,0,1,0.4,1,1v11c0,0.6-0.4,1-1,1H9.9c-0.5,0-0.8,0.2-1.2,0.5c-0.3,0.3-0.5,0.7-0.5,1.1L7,15.6c-0.3-0.3-0.8-0.5-1.2-0.5H3.1 c-0.6,0-1-0.4-1-1C2,14.1,2,3.2,2,3.2z"/> </svg>',article1:'<svg class="svg" '+fill+' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 38"><g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1"><path d="M32,0H12A4,4,0,0,0,8,4V6h4V4H32V28H28v4h4a4,4,0,0,0,4-4V4A4,4,0,0,0,32,0Z"/><rect x="8" y="16" width="12" height="4"/><rect x="8" y="24" width="12" height="4"/><path d="M24,6H4a4,4,0,0,0-4,4V34a4,4,0,0,0,4,4H24a4,4,0,0,0,4-4V10A4,4,0,0,0,24,6Zm0,28H4V10H24Z"/></g></g></svg>',reader:'<svg class="svg" '+fill+' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 34"><circle id="椭圆_267" data-name="椭圆 267" cx="2.5" cy="2.5" r="2.5"/><circle id="椭圆_268" data-name="椭圆 268" cx="2.5" cy="16.5" r="2.5"/><circle id="椭圆_269" data-name="椭圆 269" cx="2.5" cy="31.5" r="2.5"/><path id="矩形_6194" data-name="矩形 6194" d="M10.5,0h23A2.5,2.5,0,0,1,36,2.5h0A2.5,2.5,0,0,1,33.5,5h-23A2.5,2.5,0,0,1,8,2.5H8A2.5,2.5,0,0,1,10.5,0Z"/><path id="矩形_6195" data-name="矩形 6195" d="M10.5,14h23A2.5,2.5,0,0,1,36,16.5h0A2.5,2.5,0,0,1,33.5,19h-23A2.5,2.5,0,0,1,8,16.5H8A2.5,2.5,0,0,1,10.5,14Z"/><path id="矩形_6196" data-name="矩形 6196" d="M10.5,29h23A2.5,2.5,0,0,1,36,31.5h0A2.5,2.5,0,0,1,33.5,34h-23A2.5,2.5,0,0,1,8,31.5H8A2.5,2.5,0,0,1,10.5,29Z"/></svg>',article:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M4 2.5625C4 1.9757 4.41974 1.5 4.9375 1.5H18.0625C18.5803 1.5 19 1.9757 19 2.5625V17.4375C19 18.0243 18.5803 18.5 18.0625 18.5H4.9375C4.41974 18.5 4 18.0243 4 17.4375V2.5625Z" stroke="'+phoneSvgIconColor+'" stroke-width="2"/><path d="M3.95331 18.3183L4 18.5H3.07608C1.9295 18.5 1 17.2946 1 15.8077V5.57692C1 4.98216 1.3718 4.5 1.83043 4.5H3.90652V5.57692V7.19231V11.5V15.8077V17.9444C3.90652 18.0715 3.92232 18.1978 3.95331 18.3183Z" stroke="'+phoneSvgIconColor+'" stroke-width="2"/><path d="M16 6.5H12V10.5H16V6.5Z" stroke="'+phoneSvgIconColor+'" stroke-width="1.33" stroke-linejoin="round"/><path d="M7 13.5H16" stroke="'+phoneSvgIconColor+'" stroke-width="1.33" stroke-linecap="round" stroke-linejoin="round"/><path d="M7 7H9" stroke="'+phoneSvgIconColor+'" stroke-width="1.33" stroke-linecap="round" stroke-linejoin="round"/><path d="M7 10H9" stroke="'+phoneSvgIconColor+'" stroke-width="1.33" stroke-linecap="round" stroke-linejoin="round"/></svg>',article2:'<svg class="svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M11.479 13H6.5C6.36739 13 6.24021 13.0527 6.14645 13.1464C6.05268 13.2402 6 13.3674 6 13.5C6 13.6326 6.05268 13.7598 6.14645 13.8536C6.24021 13.9473 6.36739 14 6.5 14H11.479C11.6116 14 11.7388 13.9473 11.8326 13.8536C11.9263 13.7598 11.979 13.6326 11.979 13.5C11.979 13.3674 11.9263 13.2402 11.8326 13.1464C11.7388 13.0527 11.6116 13 11.479 13ZM11.479 16H6.5C6.36739 16 6.24021 16.0527 6.14645 16.1464C6.05268 16.2402 6 16.3674 6 16.5C6 16.6326 6.05268 16.7598 6.14645 16.8536C6.24021 16.9473 6.36739 17 6.5 17H11.479C11.6116 17 11.7388 16.9473 11.8326 16.8536C11.9263 16.7598 11.979 16.6326 11.979 16.5C11.979 16.3674 11.9263 16.2402 11.8326 16.1464C11.7388 16.0527 11.6116 16 11.479 16ZM11.479 10H6.5C6.36739 10 6.24021 10.0527 6.14645 10.1464C6.05268 10.2402 6 10.3674 6 10.5C6 10.6326 6.05268 10.7598 6.14645 10.8536C6.24021 10.9473 6.36739 11 6.5 11H11.479C11.6116 11 11.7388 10.9473 11.8326 10.8536C11.9263 10.7598 11.979 10.6326 11.979 10.5C11.979 10.3674 11.9263 10.2402 11.8326 10.1464C11.7388 10.0527 11.6116 10 11.479 10ZM11.479 7H6.5C6.36739 7 6.24021 7.05268 6.14645 7.14645C6.05268 7.24022 6 7.36739 6 7.5C6 7.63261 6.05268 7.75979 6.14645 7.85355C6.24021 7.94732 6.36739 8 6.5 8H11.479C11.6116 8 11.7388 7.94732 11.8326 7.85355C11.9263 7.75979 11.979 7.63261 11.979 7.5C11.979 7.36739 11.9263 7.24022 11.8326 7.14645C11.7388 7.05268 11.6116 7 11.479 7ZM20.479 16H14.5C14.3674 16 14.2402 16.0527 14.1464 16.1464C14.0527 16.2402 14 16.3674 14 16.5C14 16.6326 14.0527 16.7598 14.1464 16.8536C14.2402 16.9473 14.3674 17 14.5 17H20.479C20.6116 17 20.7388 16.9473 20.8326 16.8536C20.9263 16.7598 20.979 16.6326 20.979 16.5C20.979 16.3674 20.9263 16.2402 20.8326 16.1464C20.7388 16.0527 20.6116 16 20.479 16ZM20.48 7H14.501C14.3684 7 14.2412 7.05268 14.1474 7.14645C14.0537 7.24022 14.001 7.36739 14.001 7.5V13.5C14.001 13.6326 14.0537 13.7598 14.1474 13.8536C14.2412 13.9473 14.3684 14 14.501 14H20.48C20.5457 14 20.6107 13.9871 20.6713 13.9619C20.732 13.9368 20.7871 13.9 20.8336 13.8536C20.88 13.8071 20.9168 13.752 20.9419 13.6913C20.9671 13.6307 20.98 13.5657 20.98 13.5V7.5C20.98 7.43434 20.9671 7.36932 20.9419 7.30866C20.9168 7.248 20.88 7.19288 20.8336 7.14645C20.7871 7.10002 20.732 7.06319 20.6713 7.03806C20.6107 7.01293 20.5457 7 20.48 7ZM19.98 13H15.001V8H19.98V13Z" fill="'+phoneSvgIconColor+'"/><path d="M21.7625 3H3.49533C3.36263 3 3.23537 3.05933 3.14154 3.16494C3.04771 3.27055 2.995 3.41378 2.995 3.56313V4.62182H0.500333C0.367637 4.62182 0.240375 4.68115 0.146544 4.78676C0.0527136 4.89237 0 5.03561 0 5.18496V18.7204C0 19.9571 0.912608 21 1.99333 21C2.01734 21 2.04036 20.9921 2.06438 20.991C2.07038 20.991 2.07538 20.9955 2.08239 20.9955H21.8225C23.0233 20.9955 24 19.8816 24 18.511V5.6197C23.999 4.1747 22.9953 3 21.7625 3ZM1.00067 18.7204V5.74809H2.995V18.7114C2.995 19.3309 2.52768 19.8737 1.99433 19.8737C1.46498 19.8749 1.00067 19.3354 1.00067 18.7204ZM22.9983 18.5121C22.9983 19.2746 22.481 19.8704 21.8215 19.8704H3.70147C3.88359 19.5268 3.99466 19.1326 3.99466 18.7126V5.18608V4.12627H21.7615C22.432 4.12627 22.9973 4.80991 22.9973 5.6197V18.5121H22.9983Z" fill="'+phoneSvgIconColor+'"/><rect x="15" y="8" width="5" height="5" fill="'+phoneSvgIconColor+'"/></svg>',calendar:'<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 38"><defs><style>.cls-1{fill:none;}.cls-2{fill:#444;}</style></defs><g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1"><rect class="cls-1" y="4" width="36" height="34" rx="4"/><g id="矩形_6260" data-name="矩形 6260"><rect '+fill+' x="8" y="23" width="8" height="4"/></g><g id="矩形_6261" data-name="矩形 6261"><rect '+fill+' x="20" y="23" width="8" height="4"/></g><path '+fill+' d="M32,4H25V0H21V4H15V0H11V4H4A4,4,0,0,0,0,8V34a4,4,0,0,0,4,4H32a4,4,0,0,0,4-4V8A4,4,0,0,0,32,4Zm0,30H4V16H32Zm0-22H4V8h7v2h4V8h6v2h4V8h7Z"/></g></g></svg>',book1:'<svg class="svg" '+fill+' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38"><g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1"><path d="M27,4V34H10a6,6,0,0,1-6-6V4H27m4-4H0V28A10,10,0,0,0,10,38H28A3.06,3.06,0,0,0,31,35V0Z"/><rect x="7" y="20" width="17" height="4"/><rect x="7" y="26" width="17" height="4"/><path d="M7,7V17H24V7Zm13,6H11V11h9Z"/><path d="M28,11v4h6V28a6,6,0,0,1-6,6v4A10,10,0,0,0,38,28V11Z"/></g></g></svg>',book:'<svg class="svg" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M5.41658 3.33337L2.5 5.83337L5.41658 8.75004" stroke="'+phoneSvgIconColor+'" stroke-width="2" stroke-linecap="round"/><path d="M2.5 5.83337H12.0807C14.9487 5.83337 17.3842 8.17521 17.496 11.0417C17.6141 14.0707 15.1113 16.6667 12.0807 16.6667H4.99933" stroke="'+phoneSvgIconColor+'" stroke-width="2" stroke-linecap="round"/></svg>',reduce:'<svg class="svg" '+fill+' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 36"><g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1"><rect x="28" y="12" width="16" height="4"/><rect x="6.25" y="22" width="19" height="5"/><polygon points="15.5 8 25 36 31 36 18 0 13 0 0 36 6 36 15.5 8"/></g></g></svg>',enlarge:'<svg class="svg" '+fill+' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 36"><g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1"><rect x="28" y="12" width="16" height="4"/><rect x="28" y="12" width="16" height="4" transform="translate(50 -22) rotate(90)"/><rect x="6.25" y="22" width="19" height="5"/><polygon points="15.5 8 25 36 31 36 18 0 13 0 0 36 6 36 15.5 8"/></g></g></svg>',prevArticle:'<svg class="svg" '+fill+' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.92 36.77"><g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1"><g id="组_7414" data-name="组 7414"><rect id="矩形_6211" data-name="矩形 6211" x="-2.04" y="8.46" width="26" height="5" transform="translate(-4.54 10.96) rotate(-45)"/><rect id="矩形_6231" data-name="矩形 6231" x="8.46" y="12.81" width="5" height="26" transform="translate(-15.04 15.31) rotate(-45)"/></g></g></g></svg>',nextArticle:'<svg class="svg" '+fill+' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.92 36.77"><g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1"><g id="组_7414" data-name="组 7414"><rect id="矩形_6211" data-name="矩形 6211" x="8.46" y="-2.04" width="5" height="26" transform="translate(-4.54 10.96) rotate(-45)"/><rect id="矩形_6231" data-name="矩形 6231" x="-2.04" y="23.31" width="26" height="5" transform="translate(-15.04 15.31) rotate(-45)"/></g></g></g></svg>',btnReader:'<svg class="svg" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 2H6C3.79086 2 2 3.79086 2 6V10C2 12.2091 3.79086 14 6 14H10C12.2091 14 14 12.2091 14 10V6C14 3.79086 12.2091 2 10 2ZM6 0C2.68629 0 0 2.68629 0 6V10C0 13.3137 2.68629 16 6 16H10C13.3137 16 16 13.3137 16 10V6C16 2.68629 13.3137 0 10 0H6Z" fill="'+phoneSvgIconColor+'"/><path d="M4 6C4 5.44772 4.44772 5 5 5H11C11.5523 5 12 5.44772 12 6C12 6.55228 11.5523 7 11 7H5C4.44772 7 4 6.55228 4 6Z" fill="'+phoneSvgIconColor+'"/><path d="M4 10C4 9.44772 4.44772 9 5 9H9C9.55228 9 10 9.44772 10 10C10 10.5523 9.55228 11 9 11H5C4.44772 11 4 10.5523 4 10Z" fill="'+phoneSvgIconColor+'"/></svg>',btnPages:'<svg class="svg" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 2H3C2.44772 2 2 2.44772 2 3V4C2 4.55228 2.44772 5 3 5H4C4.55228 5 5 4.55228 5 4V3C5 2.44772 4.55228 2 4 2ZM3 0C1.34315 0 0 1.34315 0 3V4C0 5.65685 1.34315 7 3 7H4C5.65685 7 7 5.65685 7 4V3C7 1.34315 5.65685 0 4 0H3Z" fill="'+phoneSvgIconColor+'"/><path fill-rule="evenodd" clip-rule="evenodd" d="M4 11H3C2.44772 11 2 11.4477 2 12V13C2 13.5523 2.44772 14 3 14H4C4.55228 14 5 13.5523 5 13V12C5 11.4477 4.55228 11 4 11ZM3 9C1.34315 9 0 10.3431 0 12V13C0 14.6569 1.34315 16 3 16H4C5.65685 16 7 14.6569 7 13V12C7 10.3431 5.65685 9 4 9H3Z" fill="'+phoneSvgIconColor+'"/><path fill-rule="evenodd" clip-rule="evenodd" d="M13 2H12C11.4477 2 11 2.44772 11 3V4C11 4.55228 11.4477 5 12 5H13C13.5523 5 14 4.55228 14 4V3C14 2.44772 13.5523 2 13 2ZM12 0C10.3431 0 9 1.34315 9 3V4C9 5.65685 10.3431 7 12 7H13C14.6569 7 16 5.65685 16 4V3C16 1.34315 14.6569 0 13 0H12Z" fill="'+phoneSvgIconColor+'"/><path fill-rule="evenodd" clip-rule="evenodd" d="M13 11H12C11.4477 11 11 11.4477 11 12V13C11 13.5523 11.4477 14 12 14H13C13.5523 14 14 13.5523 14 13V12C14 11.4477 13.5523 11 13 11ZM12 9C10.3431 9 9 10.3431 9 12V13C9 14.6569 10.3431 16 12 16H13C14.6569 16 16 14.6569 16 13V12C16 10.3431 14.6569 9 13 9H12Z" fill="'+phoneSvgIconColor+'"/></svg>',btnCalendar:'<svg class="svg" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 2H6C3.79086 2 2 3.79086 2 6V10C2 12.2091 3.79086 14 6 14H10C12.2091 14 14 12.2091 14 10V6C14 3.79086 12.2091 2 10 2ZM6 0C2.68629 0 0 2.68629 0 6V10C0 13.3137 2.68629 16 6 16H10C13.3137 16 16 13.3137 16 10V6C16 2.68629 13.3137 0 10 0H6Z" fill="'+phoneSvgIconColor+'"/><path d="M8 9V6C8 5.44772 7.55228 5 7 5C6.44772 5 6 5.44772 6 6V10C6 10.5523 6.44772 11 7 11H11C11.5523 11 12 10.5523 12 10C12 9.44772 11.5523 9 11 9H8Z" fill="'+phoneSvgIconColor+'"/></svg>',phoneticReading:'<svg class="svg" width="26" height="24" viewBox="0 0 30 20" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="Frame"><path id="Vector" d="M6.25 17.5V10C6.25 5.1675 10.1675 1.25 15 1.25C19.8325 1.25 23.75 5.1675 23.75 10V17.5M6.25 11.25H3.75C3.05964 11.25 2.5 11.8096 2.5 12.5V17.5C2.5 18.1904 3.05964 18.75 3.75 18.75H6.25V11.25ZM23.75 11.25H26.25C26.9404 11.25 27.5 11.8096 27.5 12.5V17.5C27.5 18.1904 26.9404 18.75 26.25 18.75H23.75V11.25Z" stroke="'+phoneSvgIconColor+'" stroke-width="2" stroke-linecap="square"/><path id="Vector_2" d="M15 11.5L15 19" stroke="'+phoneSvgIconColor+'" stroke-width="2" stroke-linecap="square"/><path id="Vector_3" d="M10.5 14.5L10.5 17.5" stroke="'+phoneSvgIconColor+'" stroke-width="2" stroke-linecap="square"/><path id="Vector_4" d="M19.5 14.5L19.5 17.5" stroke="'+phoneSvgIconColor+'" stroke-width="2" stroke-linecap="square"/></g></svg>'},PhoneToolbarButtons={setSrc:function(t,i){this.name=t,this.customIcon=i||"";var e=$("<img style='pointer-events:none;'></img>");this.$caption=$("<span style='pointer-events:none;'></span>"),this.$img=$("<div class='icon'></div>"),i&&""!=i?0<=i.indexOf("</svg>")?($(e).css({display:"none"}),t=$("<div class='svg-box'>"+i+"</div>"),this.$img.append(t)):(e.attr("src",i),e.addClass("custom")):phone_toolbar_icons&&phone_toolbar_icons[t]?e.attr("src","data:image/png;base64,"+phone_toolbar_icons[t]):phoneSvgIcons&&phoneSvgIcons[t]&&($(e).css({display:"none"}),t=$("<div class='svg-box'>"+phoneSvgIcons[t]+"</div>"),this.$img.append(t)),this.$button.empty(),this.$img.append(e),this.$button.append(this.$img),this.$button.append(this.$caption),this.fontColorChanged=this.colorChanged=!1},addEvents:function(){this.$button.bind(_event._click,this.ButtonClickEvent),this.$button.bind(_event._enter,this.showTitle.bind(this)),this.$button.bind(_event._leave,this.hideTitle.bind(this)),this.$button.bind("mousedown pointerdown touchstart",function(t){toolBar.enterOption&&window.clearTimeout(toolBar.enterOption),t.stopPropagation()}),this.$button.css("cursor","pointer")},resetImg:function(){this.name&&(this.fontColorChanged=!1,this.$img.find("svg").attr("fill",bookConfig.iconColor),this.changeCaptionColor(bookConfig.iconFontColor))},changeColor:function(t){this.$img.find("svg").attr("fill",t),this.changeCaptionColor(t)},changeIcon:function(t,i){var e=$(this.$button.find("img")[0]);i&&""!=i?(e.attr("src",i),e.addClass("custom")):phoneSvgIcons&&phoneSvgIcons[t]&&(i=this.$button.find(".svg-box"),$(e).css({display:"none"}),i.html(phoneSvgIcons[t]))}},phone_toolbar_icons=(Class("PhoneGotoPageButton",{create:function(){this._super(),this.setSrc("gotoPage",bookConfig.GotoPageButtonIcon),this.initLanguage("btnGotoPage","Go to page"),global.phoneGotoPagePanel||(global.phoneGotoPagePanel=new phoneGotoPage(tmpContainer))},onClick:function(t){global.phoneGotoPagePanel.showOrHide()}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhonePageFlipButton",{create:function(){this._super(),this.setSrc("phonePageFlip",bookConfig.phoneFlipShortcutSwitchButtonIcon),this.initLanguage("btnPageFlip","Page Flip")},onClick:function(t){global.phoneGotoPagePanel.pageFlipVisible?global.phoneGotoPagePanel.hidePageFlipButton():global.phoneGotoPagePanel.showPageFlipButton()}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhonePhoneticReadingButton",{create:function(){this._super(),this.setSrc("phoneticReading",bookConfig.phoneticReading),this.initLanguage("btnPhoneticReading","听书"),this.addTips()},addTips:function(){var t=$('<span class="phoneticTrangle" ></span>'),i=$("<div class='phoneticTips' ><span style='display: block;color: #fff;'>"+getLanguage("btnPhoneticTips","本书可以边听边看哦~")+"</span></div>");i.append(t),i.css({display:"none"}),this.$button.append(i)},onClick:function(t){window.phoneticReading&&window.phoneticReading.showOrHide()}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhoneEmailButton",{create:function(){switch(this._super(),this.color=Color(bookConfig.iconColor),this.fontColor=Color(bookConfig.iconFontColor),this.$button=$("<a target="+bookConfig.OpenWindow+" href='' class='button' style='text-decoration:none;'></a>"),bookConfig.phoneToolbarType){case"both":this.$button.addClass("mixButton");break;case"text":this.$button.addClass("textButton")}this.setSrc("phoneEmail",bookConfig.EmailButtonIcon),this.initLanguage("btnShareEmail","Share by Email")},onClick:function(t){var i,e;isTouchDevice()?("Chinese"==UserGroups&&window.open("https://mail.qq.com/","_blank"),"English"==UserGroups&&window.open("http://gmail.google.com","_blank")):(t=bookConfig.btnShareWithEmailBody,i=(i=bookConfig.btnShareWithEmailSubject)||"",e=" "+window.location.href.substring(0,share_url.lastIndexOf("/"))+"/"+bookConfig.thumbPath+"1.jpg ",t=(t=(t=t.replaceAll("{thumb}",e,!0)).replaceAll("{link}",window.location.href,!0)).replaceAll("{title}",window.document.title,!0),window.open("mailto:?subject="+i+"&body="+t,"_blank"))}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhoneLogo",{create:function(){this._super();var t=$("<img src='"+bookConfig.appLogoIcon+"' style='cursor:pointer;'/>");t.css({height:bookConfig.logoHeight+"px"}),this.$button.append(t),this.name="phoneLogo",this.caption="Logo"},onClick:function(t){(t=getLogoLink())[0]&&(BookEvent.trigger("jumpLink",["logoLink",BookInfo.getCurrentPages().join("-"),bookConfig.appLogoLinkURL]),$.browser.msie?window.location=t[0]:"_self"==t[1]?window.location.replace(t[0]):window.open(t[0],t[1]))},changeColor:function(){},changeLanguage:function(){}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhoneWeChatShareButton",{create:function(){this._super(),this.setSrc("phoneWeChat",bookConfig.WeChatShareButtonIcon),this.initLanguage("btnWeCharShare","WeChat Share")},onClick:function(t){global.phoneWeChatShareHelp&&global.phoneWeChatShareHelp.show()}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhoneReportButton",{create:function(){this._super(),this.setSrc("report",bookConfig.ReportButtonIcon),this.initLanguage("btnReport","举报")},onClick:function(t){bookConfig.EnableReportButton&&!window.reportPanel&&(global.reportPanel=new PhoneReportPanel(tmpContainer)),global.reportPanel&&function(){global.reportPanel.showOrHide()}.delay(10)}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhoneInstructionsButton",{create:function(){this._super(),this.setSrc("instructions",bookConfig.InstructionsButtonIcon),this.$img.css({overflow:"hidden",width:"22px"}),this.$img.find(".svg").css({width:"20px",height:"20px"}),this.initLanguage("btnInstructions","instructions")},onClick:function(t){bookConfig.InstructionsButtonVisible&&!window.bookInstructions&&(global.bookInstructions=new BookInstructions(tmpContainer)),global.bookInstructions&&function(){bookInstructions.showOrHide()}.delay(10)}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhoneShoppingCartButton",{create:function(){this._super(),this.setSrc("shoppingCart",bookConfig.ShoppingCartButtonIcon),this.shoppingNumber=$("<div id='shoppingNumber'>0</div>"),this.shoppingNumber.css({width:"20px",height:"20px",position:"absolute",right:"-10px",top:"10px","font-size":"12px","text-align":"center",color:"#fff"}),this.$button.append(this.shoppingNumber),this.initLanguage("btnShoppingCart","shoppingCart")},onClick:function(t){window.shoppingCart&&window.shoppingCart.showCart()},setNumber:function(t){this.shoppingNumber.html(t=t||0)}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhoneBookmarkButton",{create:function(){this._super(),this.setSrc("addBookmark",bookConfig.BookmarkButtonIcon),getLanguage("AnnotMark","")?this.initLanguage("AnnotMark","bookmark"):this.initLanguage("btnBookMark","Bookmark"),this.status=0},onClick:function(){var t={pageIndex:t=BookInfo.getCurrentPages()[0],caption:"page:"+t,color:getRandomColor()};global.bookmark&&(global.bookmark.addItem(t),global.bookmark.show())},setAsAdded:function(){1!=this.status&&(this.changeIcon("bookmark",bookConfig.BookmarkButtonIcon),this.changeColor(),this.status=1)},setAsUnAdded:function(){0!=this.status&&(this.changeIcon("addBookmark",bookConfig.BookmarkButtonIcon),this.changeColor(),this.status=0)}}).expand(PhoneToolbarButtons).extend("BookmarkButton"),Class("PhoneBackgroundSoundButton",{onClick:function(){global.settingBody||(global.settingBody=new PhoneSettingForm({parent:tmpContainer,formType:"setting",rightToLeft:rightToLeft}),global.settingBody.onResize()),global.settingBody&&global.settingBody.show()},onMouseEnter:function(){}}).expand(PhoneToolbarButtons).extend("BackgroundSoundButton"),Class("PhoneNumberButton",{create:function(){this._super(),this.setSrc("tel",bookConfig.PhoneButtonIcon),this.initLanguage("btnPhoneNumber","tel")},onClick:function(){var t=global.phoneNumber;t&&("string"==typeof t?window.open("tel:"+t):1!=t.length||t[0].label?(global.telephoneNumberForm||(global.telephoneNumberForm=new TelephoneNumberForm({parent:tmpContainer,formType:"tel",rightToLeft:rightToLeft}),global.telephoneNumberForm.onResize()),global.telephoneNumberForm&&global.telephoneNumberForm.show()):window.open("tel:"+t[0].number))},onMouseEnter:function(){}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("DoubleSinglePageButton",{create:function(){this._super(),this.setSrc("doubleSinglePage"),this.initLanguage("btnDoubleSinglePage","DoublePage")},onClick:function(){global.doubleSinglePageForm||(global.doubleSinglePageForm=new DoubleSinglePageForm({parent:tmpContainer,formType:"doublepage",rightToLeft:rightToLeft}),global.doubleSinglePageForm.onResize()),global.doubleSinglePageForm&&global.doubleSinglePageForm.show()},onMouseEnter:function(){}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhoneVideoButton",{create:function(){this._super(),this.setSrc("videoGallery",bookConfig.VideoButtonIcon),this.initLanguage("btnVideo","Video Gallery")},onClick:function(){global.PhoneVideoGalleryForm||(global.PhoneVideoGalleryForm=new PhoneVideoGalleryForm({parent:tmpContainer,formType:"videoGallery",rightToLeft:rightToLeft,isPhone:!0},global.videoList),global.PhoneVideoGalleryForm.onResize()),global.PhoneVideoGalleryForm&&global.PhoneVideoGalleryForm.show()},onMouseEnter:function(){}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhoneFirstPageButton",{create:function(){this._super(),rightToLeft?this.setSrc("lastPage",bookConfig.LastButtonIcon):this.setSrc("firstPage",bookConfig.FirstButtonIcon),this.initLanguage("btnFirstPage","First")}}).expand(PhoneToolbarButtons).extend("FirstPageButton"),Class("PhonePreviousPageButton",{create:function(){this._super(),rightToLeft?this.setSrc("nextPage",bookConfig.LastButtonIcon):this.setSrc("previousPage",bookConfig.FirstButtonIcon),this.initLanguage("btnPrePage","Previous")}}).expand(PhoneToolbarButtons).extend("PreviousPageButton"),Class("PhoneNextPageButton",{create:function(){this._super(),rightToLeft?this.setSrc("previousPage",bookConfig.LastButtonIcon):this.setSrc("nextPage",bookConfig.FirstButtonIcon),this.initLanguage("btnNextPage","Next")}}).expand(PhoneToolbarButtons).extend("NextPageButton"),Class("PhoneLastPageButton",{create:function(){this._super(),rightToLeft?this.setSrc("firstPage",bookConfig.LastButtonIcon):this.setSrc("lastPage",bookConfig.FirstButtonIcon),this.initLanguage("btnLastPage","Last")}}).expand(PhoneToolbarButtons).extend("LastPageButton"),Class("PhoneBackwardButton",{create:function(){this._super(),rightToLeft?this.setSrc("forward",bookConfig.ForwardButtonIcon):this.setSrc("backward",bookConfig.BackwardButtonIcon),this.initLanguage("btnPageBack","Backward")}}).expand(PhoneToolbarButtons).extend("BackwardButton"),Class("PhoneForwardButton",{create:function(){this._super(),rightToLeft?this.setSrc("backward",bookConfig.ForwardButtonIcon):this.setSrc("forward",bookConfig.BackwardButtonIcon),this.initLanguage("btnPageForward","Forward")}}).expand(PhoneToolbarButtons).extend("ForwardButton"),Class("PhoneReaderButton",{create:function(t){this._super(),this.setSrc("reader",bookConfig.ArticleListButtonIcon||t),this.initLanguage("btnArticleList","目录")},onClick:function(){global.phoneArticleList||(global.phoneArticleList=new PhoneArticleList({parent:tmpContainer,formType:"articlelist",rightToLeft:rightToLeft,isPhone:!0}),global.phoneArticleList.onResize()),global.phoneArticleList&&global.phoneArticleList.show()}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhoneArticleButton",{create:function(t){this._super(),this.setSrc("article",bookConfig.ArticlePagesButtonIcon||t),this.initLanguage("btnArticlePages","版面")},onClick:function(){global.phoneArticlePages||(global.phoneArticlePages=new PhoneArticlePages({parent:tmpContainer,formType:"article",rightToLeft:rightToLeft,isPhone:!0}),global.phoneArticlePages.onResize()),global.phoneArticlePages&&global.phoneArticlePages.show()}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhoneCalendarButton",{create:function(t){this._super(),this.setSrc("calendar",bookConfig.ReaderButtonIcon||t),this.initLanguage("btnCalendar","往期")},onClick:function(){global.phoneArticlePeriodical||(global.phoneArticlePeriodical=new PhoneArticlePeriodical({parent:tmpContainer,formType:"calendar",rightToLeft:rightToLeft,isPhone:!0}),global.phoneArticlePeriodical.onResize()),global.phoneArticlePeriodical&&global.phoneArticlePeriodical.show()}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhoneBookButton",{create:function(){this._super(),this.setSrc("book",bookConfig.BookButtonIcon),this.initLanguage("btnBook","book")},onClick:function(){global.phoneArticleReader&&global.phoneArticleReader.hide()}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhoneEnlargeButton",{create:function(){this._super(),this.setSrc("enlarge",bookConfig.BookButtonIcon),this.initLanguage("btnEnlarge","enlarge")},onClick:function(){global.phoneArticleReader&&global.phoneArticleReader.enlarge()}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhoneReduceButton",{create:function(){this._super(),this.setSrc("reduce",bookConfig.BookButtonIcon),this.initLanguage("btnReduce","reduce")},onClick:function(){global.phoneArticleReader&&global.phoneArticleReader.reduce()}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhonePrevArticleButton",{create:function(){this._super(),this.setSrc("prevArticle",bookConfig.BookButtonIcon),this.initLanguage("btnPrevArticle","prevArticle")},onClick:function(){global.phoneArticleReader&&global.phoneArticleReader.prev()}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhoneNextArticleButton",{create:function(){this._super(),this.setSrc("nextArticle",bookConfig.BookButtonIcon),this.initLanguage("btnNextArticle","nextArticle")},onClick:function(){global.phoneArticleReader&&global.phoneArticleReader.next()}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhoneNeatButton",{create:function(){this._super(),this.setSrc("exitFullscreen",bookConfig.ExitFullscreenButtonIcon),this.$img.css({overflow:"hidden",width:"22px"}),this.$img.find(".svg").css({width:"20px",height:"20px"}),this.initLanguage("btnExitFullscreen","Exit Fullscreen")},onClick:function(t){window.parent.postMessage({command:"exit"},"*"),NeatStyle.exitFullscreen()}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),Class("PhoneTableOfContentButton",{}).expand(PhoneToolbarButtons).extend("TableOfContentButton"),Class("PhoneThumbnailButton",{}).expand(PhoneToolbarButtons).extend("ThumbnailButton"),Class("PhoneShareButton",{}).expand(PhoneToolbarButtons).extend("ShareButton"),Class("PhoneHomeButton",{}).expand(PhoneToolbarButtons).extend("HomeButton"),Class("PhoneZoomButton",{}).expand(PhoneToolbarButtons).extend("ZoomButton"),Class("PhoneSearchButton",{}).expand(PhoneToolbarButtons).extend("SearchButton"),Class("PhoneAutoPlayButton",{}).expand(PhoneToolbarButtons).extend("AutoPlayButton"),Class("PhoneAnnotationButton",{}).expand(PhoneToolbarButtons).extend("AnnotationButton"),Class("PhoneVideoButton",{}).expand(PhoneToolbarButtons).extend("VideoButton"),Class("PhoneSlideshowButton",{}).expand(PhoneToolbarButtons).extend("SlideshowButton"),Class("PhonePrintButton",{}).expand(PhoneToolbarButtons).extend("PrintButton"),Class("PhoneMessageButton",{}).expand(PhoneToolbarButtons).extend("MessageButton"),Class("PhoneDownloadButton",{}).expand(PhoneToolbarButtons).extend("DownloadButton"),Class("PhoneFullscreenButton",{}).expand(PhoneToolbarButtons).extend("FullscreenButton"),Class("PhoneLanguageButton",{}).expand(PhoneToolbarButtons).extend("LanguageButton"),Class("PhoneAboutButton",{}).expand(PhoneToolbarButtons).extend("AboutButton"),Class("PhoneHelpButton",{}).expand(PhoneToolbarButtons).extend("HelpButton"),Class("PhoneMoreButton",{}).expand(PhoneToolbarButtons).extend("MoreButton"),Class("PhoneSelectTextButton",{}).expand(PhoneToolbarButtons).extend("SelectTextButton"),Class("NeatZoomButton",{create:function(){this._super(),this.changeStyle()},setAsZoomin:function(){this.setSrc("NeatZoomIn",bookConfig.ZoomInButtonIcon),this.changeLanguage(),this.changeStyle()},setAsZoomout:function(){this.setSrc("NeatZoomOut",bookConfig.ZoomOutButtonIcon),this.changeLanguage(),this.changeStyle()},changeColor:function(){},changeStyle:function(){this.$button.css({position:"absolute",bottom:"0px",left:"auto",top:"auto",cursor:"pointer","z-index":"100",width:"42px",height:"42px",right:"48px"}),this.$button.find("img").css({position:"absolute",left:"12px",top:"12px",width:"18px",height:"18px",fill:"#fff"}),this.$button.find("span").css({display:"none"})}}).extend("ZoomButton"),Class("PhoneCustomButton",{create:function(t){this.$button=$("<div style='position:absolute;'></div>");var i=$(t).width(),e=$(t).height(),o=(toolBar.getTopHeight()-e)/2;this.$button.css("width",i+"px"),this.$button.css("height",e+"px"),$(t).css("margin-top",o+"px"),this.$button.append($(t)),this.ButtonClickEvent=this.onButtonClick.bind(this)},onClick:function(t){}}).expand(PhoneToolbarButtons).extend("ToolbarButton"),{arrow:"iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDRGNDE0M0M2ODNFMTFFNjhEMzY5QjdFRDRBNTVBQUYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDRGNDE0M0Q2ODNFMTFFNjhEMzY5QjdFRDRBNTVBQUYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NEY0MTQzQTY4M0UxMUU2OEQzNjlCN0VENEE1NUFBRiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0NEY0MTQzQjY4M0UxMUU2OEQzNjlCN0VENEE1NUFBRiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqDH1GgAAAA+SURBVHjaYvz//z8DNQATA5XA4DOIBYsYKYHGiM8gFAV4wP8RHNiEAp6RHIMYR1M2zjD6Tw2DGIdHGAEEGACyiQcuZ38+nQAAAABJRU5ErkJggg==",arrow2:"iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NEM4QUEyNEU2ODNFMTFFNkE0OEFEREQ2NkJFOTU2MjAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NEM4QUEyNEY2ODNFMTFFNkE0OEFEREQ2NkJFOTU2MjAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0QzhBQTI0QzY4M0UxMUU2QTQ4QURERDY2QkU5NTYyMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0QzhBQTI0RDY4M0UxMUU2QTQ4QURERDY2QkU5NTYyMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlbqrV8AAAA4SURBVHjaYvz//z8DNQDjyDKIFJMZCRnESIQh/wfUIIJidDPoP54AHuJeGzzRT5WUPUxyP0CAAQD9R07dZWVLqQAAAABJRU5ErkJggg==",flipsoundOff:"iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALBJREFUeNqsVNEOgyAMlI4HP3t+4vYze7JdajWBgrSAl4hI4nF3hS5E9KZ5LNcTjq9nEHiIeqETpOYB3Lsj8g9fa4PUcq4QUd4ATIbnfFeuirjaClOyOrbCiqGQEnIetcIiz7pCyYsypU7YRcnJXmOEbE8sdh8lqyirWtktwniT4TX79eTny1AKNEkoqsIIKXguvIph0nJnpWOjwrXm8BknbB9wF+EjjRZqHWMGfwEGAI3QhAWdX4Y9AAAAAElFTkSuQmCC",flipsoundOn:"iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAL1JREFUeNqsVNEOgzAILMyHffb2ifNn9iQsXSVWpIi1JFZsmuPuqCRmfvH9SPLA/2tMQF4mvXExWOWAocpE+fAcKVBL3hgSlTdiBqM1X5QizbAca9aqwY4gAvQ+yHEYcgWeV2HIDc85GRLS6tee6V6a2zy/KQVM4hFpOxogIhGcq8LXGSI+1c4SYWh5KNlXSR7goW5Qp4egrhCP8dD6c7oYnvsFno9To8PWcPj0dfn8gocBhwxatCbGnfgJMADn4IsF0oHN9wAAAABJRU5ErkJggg==",search_small:"iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQ9JREFUeNqUksFqwkAQhhMRX0KwZ0sP6sWDbxB8AaUnD03r0QcRQUW9F/ICJm+QQi/iQfDcQh9CC8ZvcCKbJYr54WPDzv4zk91xkyRxRFEUVVjeoQcvzkU7CGDped7RseSKGWOV7zU04Ae+NN6BGmyhS4K/jDkMQ6n4Dc8wggWHTtpNieUDxrCHNrFDai6DrxWHBBZmZk0yJ4n82xzeYJrGJXMffmHl3NZSz/TNTTG3IE5bzZPGYmja5iL6t80buVW9nFxprKNPlzEH+hz+nYq+ngnMzbJe1AAmWiHvqWZ6fvXIkMTGkDxZl+dmzMZ4SpVXqGtcBuNTuoGDneBqfkQ6LNcEhZ7KbLlwZVtnAQYAscZlWauJl+QAAAAASUVORK5CYII=",phoneShareToQQ:"iVBORw0KGgoAAAANSUhEUgAAAMgAAAEsCAMAAACxJAyMAAAA/1BMVEUAAAD////////////////////8/f319/j+/v7////////////////////19/j////7/P319/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j3+fr19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j19/j////19/j////////19/gzMzNubm6np6fLy8vr6+uzs7NJSUnW1tZ9fX1dXV2MjIyampq/v7/g4OA73y7MAAAARXRSTlMAImaZd90R/ESIM7vuzAKqVQpoDoYbrXhjqH9S+HBMOBXy0s1AXeC2oR8G9dzvx7+QMywE1+e665pEL4soGJWxw+Pn5eTIx+LTAAANlklEQVR42uzbV3LiUBCF4eMXiSeVJUTOCDBJ5ByMXVP1739Jg8BhjCd4ZjCWXP520Drcut0tpC9fvvxUuZlp6xMo9aleKfISgw5MIl+IXbgHv5KPKdqKPfCagKMoG2agUTCmwFrRVXZ9zNsrOeCzGyui7HQXZiWpfQ8LJoaiqTiDal17DnzbkE8omu7wU1vpGIhjTykpmorNKx0U4L497uNYijR7Co60YBBXpDnQaAe5zKJ6SB5Y9W5aUpHuUBHXHksa5ud1hZ+hP2l1TVehtXJ1dDOp/ymWO24UUokkDBWwO9Av67fcu6zCqVgBBgqMfGCS0CuZdPgvj7QJZFY6sF0TvLZO5KAa9hE3Z0KjpifFPKT0kt0IIgu3hA+eoR8UoBLXC1mYh73nTULX0I/Gk9MpsJUP/1y4MXnVzRZgph/twAv7WXchqRMtqFgvT7oZ+ta9BzmdmsJGT4JB/VZh9w0SOtWHpZ40oRH+xr0CcZ3KwLUeFQnKCr3aqKxXRsuhoUdOnqY+hdUs7FfIly/vrGzo5+KzSE3n6flOL7ipKwXsHp2cIqMEuC8C6sDmkAcQhT3DowGQfdmze5KuJkBKEWLtgF1ZD7aVw71e96NWh2QHlfiF+FNrNRnHekA+7DPIK9aaPX+RS0g1oNdgrxH61v0nll0Cd4p34aYDdNa2oqjtTICF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",phoneWeChatShareHelp:"iVBORw0KGgoAAAANSUhEUgAAAMgAAAEsCAYAAACG+vy+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM1Qzk5NUFCM0UyQTExRTg5QkM2REEwOTYzMTdGRkRFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM1Qzk5NUFDM0UyQTExRTg5QkM2REEwOTYzMTdGRkRFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzVDOTk1QTkzRTJBMTFFODlCQzZEQTA5NjMxN0ZGREUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzVDOTk1QUEzRTJBMTFFODlCQzZEQTA5NjMxN0ZGREUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6wBfWwAAAqZUlEQVR42uxd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",play:"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",close:"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",doubleSinglePageBanner:"iVBORw0KGgoAAAANSUhEUgAAAmwAAAIkCAIAAAAs/OBzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjEyM0Q3OUI0RjYzRjExRTlBMjM4OTdEMUEyQkRBMDEwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjEyM0Q3OUI1RjYzRjExRTlBMjM4OTdEMUEyQkRBMDEwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTIzRDc5QjJGNjNGMTFFOUEyMzg5N0QxQTJCREEwMTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTIzRDc5QjNGNjNGMTFFOUEyMzg5N0QxQTJCREEwMTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4g5RL7AAJThklEQVR42ux9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3R+45+f/v3/a71988Stffcvr3/DYk48erOP6sYObjh//rX/7XjBELFHAPHw6H4LEQzhyw4k/9ba3zVx7+snT7/vd3334/gcee/RTWopZ291626ndre2cklut9s9f6fvlwfLiYd8/dSB2ZVaXlmMz3967GSD67W+5rztxDFx23uBL0oJLopJkDF5Li4eblF7sLu5+2cvFzhGBNVIYVNeeffTRj3/4g2UYQ++fPHvmV/7lvzq8dOnYzvZtJ27oGupanLu0r5xTUl586rM6FcuEJj/NCM+5X3e6CZNNIPo8s6BsyaaUsfiwve0SZll8lMcQS8Kratb83gOffOgnTt95xx3Hbzhx333f+JFP3t8udu577Wt29o5cunj+Ix/84De87huH9fCzP/cL3/T6N37kYx9ZrvubT974R//4n7h05fL9Dz0wlNzMu7vu+YOjH17y8nubOba6uH/5clXplX/+L/z5//cf/ZO/9w9/5rv/2//+xIkbHnrwoT/xJ/9kyPHUHbf/3D/+x596+JEHPvHxdVouZrO9I93FK1ceeeI0W1izhwgm9nDTTTd+91/4HqD1vfe+8n/9qz98cPqJcVgBj7qd+avu+8M3f90r3vJffeeZc+CB+wf767LMj6w+8wfu/fozTz658v7jn7x/sTMvIYeY7rjrjosXL9x888lff897KCwU45NPfObB3/3Qx373Q3tsSjM/dermRx559H/5az8y394+efLm3d3dxWJx1113Xrp4eOKGk862H/qd39m/dHBweHl1uNreO/6KV7z0zd/+ba/+hj807+a/+Zu/+ei7f+Xw4uV73/D6G19047Bcnd+/vL199My5M0d3jwpTGt1tH2mdbYL3srLGG285+dZbby1vActWTOZV1jVK5EQpxCJ8v8ZJ+hFLFKGcOTLrlLHdYs/OrKZAYuxFwDIiDwBPlQUwVsx3thZbW2Yxb7obNsO4iOXhZx7bP3vmqdOPf+T971td2r90/sy5s+e8p97GySNbze529H7MI9uxK+WX/bnHHo/d7NHf+/irX/l1l/cvpximGWGyySZ7obtzj99wTIXcyXjyyGy31SFlJVUqUYO2sEcW60d9TjIUo002KmudIrhNOHnq5KKdqZBGJbt21ko6DscQ2q4pSke8bOz+xYtFZKNdEhLTeT/0MQSrNdjeYmthtHziic+A1mB/QtrI9s9l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"}),PhoneThumbnailForm=(Class("PhoneButtonQueue",{create:function(t){this.addPageNum=t.addPageNum,this.container=t.container,this.extended=t.extended,this.topBar=t.topBar,this.bottomBar=t.bottomBar,this.buttonWidth=t.buttonWidth,this.barWidth=t.barWidth,this.buttonTop=t.buttonTop,this.buttons=t.buttons.clone(),this.buttons.each(function(t){t.freedom(),t.hint=!1}),this.initTopBar(),this.initBottomBarArray(),this.addPageNum&&!this.bottomBar.find(".inputButton")[0]&&this.initInputNum()},initBottomBarArray:function(){var t=bookConfig.phoneIconNumber||6,i=(0<=global.templeteName.indexOf("article")&&(t=8),this.bottomBarArray=[],this.buttons.length);if(t<i){for(var e=0;e<t-1;e++){var o=this.buttons.get(0);this.bottomBarArray.push(o),this.buttons.remove(o)}(t=this.pickButtonsByName("more"))&&this.bottomBarArray.push(t)}else for(this.pickButtonsByName("more"),i=this.buttons.length,e=0;e<i;e++)o=this.buttons.get(0),this.bottomBarArray.push(o),this.buttons.remove(o);for(e=0;e<this.bottomBarArray.length;e++)this.bottomBarArray[e]&&this.bottomBarArray[e].addTo(this.bottomBar),isIphoneXor11()&&this.bottomBarArray[e].$button.css("top","10px")},initTopBar:function(){for(var t=0,i=this.buttons.find("PhoneCustomButton"),e=0;e<i.length;e++){var o=i.get(e);this.buttons.remove(o),o&&(t+=o.width()+10,o.setPosition(this.barWidth-t,this.buttonTop),o.addTo(this.topBar))}"article"!=global.templeteName&&(this.btnCalendar=this.pickButtonsByName("calendar"))&&(t+=this.buttonWidth+10,this.btnCalendar.setPosition(this.barWidth-t,this.buttonTop),this.btnCalendar.addTo(this.topBar)),(this.btnNeat=this.pickButtonsByName("neat"))&&(t+=this.buttonWidth+10,this.btnNeat.setPosition(this.barWidth-t,this.buttonTop),this.btnNeat.addTo(this.topBar)),(this.btnInstructions=this.pickButtonsByName("instructions"))&&(t+=this.buttonWidth+10,this.btnInstructions.setPosition(this.barWidth-t,this.buttonTop),this.btnInstructions.addTo(this.topBar)),"article"!=global.templeteName&&(this.shareBtn=this.pickButtonsByName("share","sharethis"))&&(t+=this.buttonWidth+10,this.shareBtn.setPosition(this.barWidth-t,this.buttonTop),this.shareBtn.addTo(this.topBar)),(this.pageflip=this.pickButtonsByName("pageflip"))&&(t+=this.buttonWidth+10,this.pageflip.setPosition(this.barWidth-t,this.buttonTop),this.pageflip.addTo(this.topBar)),"article"!=global.templeteName&&(this.phoneticReading=this.pickButtonsByName("phoneticReading"))&&(t+=this.buttonWidth+10,this.phoneticReading.setPosition(this.barWidth-t,this.buttonTop),this.phoneticReading.addTo(this.topBar))},pickButtonsByName:function(t,i){if(i){if((t=this.buttons.find(t)).length)for(var e=0;e<t.length;e++){var o=t.get(e);if(o.name==i)return this.buttons.remove(o),o}return null}return i=this.buttons.find(t).get(0),this.buttons.remove(i),i},autoCenter:function(t,i,e,o){if(t&&!(t.length<=0)){var s=this.bottomBar.find(".inputButton"),n=t.length,a=Math.max((i-e*n)/(n-1),0);for(this.addPageNum&&(a=Math.max((i-e*n-100)/(n-1),0)),null==o&&(o=0),i=0;i<n;i++){var h=a*i+e*i;this.addPageNum&&(i==Math.ceil(n/2)&&s[0]&&s.css({left:h+o+"px","margin-left":0}),n/2<=i)&&(h+=100+a),t[i].$button.css({left:h+o+"px","margin-left":0})}}},initInputNum:function(){this.inputButton=$("<div class='inputButton'><input id='currentPageIndexTextField' class='currentPageIndexTextField' type='text'/></div>"),this.inputButton.css({width:"100px",left:"0px",top:"5px",position:"absolute",height:"30px",cursor:"pointer"}),this.inputButton.find("input").css({padding:"0px","text-align":"center","border-width":"0px",background:"#ffffff",width:"100%",height:"30px","border-radius":"15px",position:"absolute",color:bookConfig.pageNumColor,left:0,top:0}),(isPhone()||isPad())&&this.inputButton.find("input").css({}),isIphoneXor11()&&this.inputButton.css({top:"15px"}),this.bottomBar.append(this.inputButton),bookConfig.enablePageBack&&this.inputButton.css({width:"100px"})},sort:function(){this.buttonWidth=40,this.barWidth=Math.min(windowWidth,319),this.barLeft=(windowWidth-this.barWidth)/2,this.autoCenter(this.bottomBarArray,this.barWidth,this.buttonWidth,this.barLeft),this.extended.buttonsArray=[];for(var t=0;t<this.buttons.length;t++){var i=this.buttons.get(t);this.extended.buttonsArray.push(i)}}}),Class("PhoneToolbar",{initBar:function(){bookConfig.ToolBarVisible&&(this.topBar=$("<div class='phoneTopBar'></div>"),this.bottomBar=$("<div class='phoneBottomBar'></div>"),this.parent.append(this.topBar),this.parent.append(this.bottomBar),bookConfig.appLogoIcon&&(this.logo=new PhoneLogo,this.logo.setPosition(10,0),this.logo.addTo(this.topBar)),this.initStyle(),NeatStyle.isNeat()||(bookConfig.toolbarAlwaysShow||this.enterToShow(),bookConfig.showGotoButtonsAtFirst&&global.phoneGotoPagePanel&&window.setTimeout(function(){global.phoneGotoPagePanel.show()},20),window.setTimeout(function(){global.phoneSearchBar&&global.phoneSearchBar.show()},20)))},initButtons:function(){var t;this.buttons=new ObjectPool,this.addPageNum=!1,this.sort(),this.buttons.length<=1&&bookConfig.enablePageBack&&(this.addPageNum=!0,this.buttons.remove(this.buttons.find("gotopage").get(0)),global.phoneGotoPagePanel&&global.phoneGotoPagePanel.destroy(),this.buttons.add(new PhoneBackwardButton),this.buttons.add(new PhoneFirstPageButton),this.buttons.add(new PhonePreviousPageButton),this.buttons.add(new PhoneNextPageButton),this.buttons.add(new PhoneLastPageButton),this.buttons.add(new PhoneForwardButton)),this.buttons.length<=3&&!bookConfig.enablePageBack&&(this.addPageNum=!0,t=null,this.buttons.remove(this.buttons.find("gotopage").get(0)),global.phoneGotoPagePanel&&global.phoneGotoPagePanel.destroy(),2==this.buttons.length&&(t=this.buttons.objects.pop()),this.buttons.add(new PhoneFirstPageButton),this.buttons.add(new PhonePreviousPageButton),this.buttons.add(new PhoneNextPageButton),this.buttons.add(new PhoneLastPageButton),t)&&this.buttons.add(t),6<this.buttons.length&&this.buttons.add(new PhoneMoreButton),bookConfig.InstructionsButtonVisible&&this.buttons.add(new PhoneInstructionsButton),NeatStyle.isNeat()&&(this.buttons.add(new PhoneNeatButton),this.buttons.remove(this.buttons.find("fullscreen").get(0))),global.phoneSearchBar&&this.buttons.remove(this.buttons.find("search").get(0)),this.buttons.each(function(t){t.setCallback(this.afterButtonClick.bind(this)),this.setButtonTitle(t)}.bind(this))},addPhoneticReading:function(){var t;this.buttons.exists("phoneticreading")||(t=new PhonePhoneticReadingButton,this.buttons.add(t),t.setCallback(this.afterButtonClick.bind(this)),this.setButtonTitle(t),this.resetButtonPosition())},addCustomButton:function(t){t&&(t=new PhoneCustomButton(t),this.buttons.add(t),t.setCallback(this.afterButtonClick.bind(this)),this.setButtonTitle(t),this.resetButtonPosition())},removeCustomButton:function(){var t=this.buttons.find("PhoneCustomButton").get(0);this.buttons.remove(t),this.resetButtonPosition()},sort:function(){var t="phoneticreading pageflip shopping thumb table goto zoom bookmark number sound search calendar print annotation wechat email btnshare download language home autoflip select about message fullscreen report doublesinglepage videogallery".split(" "),i=[],e=t.length,o=bookConfig.buttonsSortXML;if(o&&"object"==typeof o)for(var s=0;s<o.length;s++)for(var n=o[s].toLowerCase(),a=0;a<e;a++)if(0<=n.indexOf(t[a])){i.push(t[a]);break}for(o=0;o<e;o++)i.indexOf(t[o])<0&&i.push(t[o]);for(t=0;t<i.length;t++)e=(e=i[t]).toLowerCase(),this.addButton(e)},setButtonTitle:function(t){t.setTitle(t.caption)},resetButtonPosition:function(){new PhoneButtonQueue({addPageNum:this.addPageNum,buttons:this.buttons,barWidth:windowWidth,buttonWidth:40,buttonTop:0,topBar:this.topBar,bottomBar:this.bottomBar,extended:this.extendedBar}).sort(),this.extendedBar.resize(),this.extendedBar.hide(),this.buttons.each(function(t){t.changeCaptionColor()}.bind(this))},initStyle:function(){bookConfig.appLogoIcon||bookConfig.InstructionsButtonVisible||bookConfig.ShareButtonVisible||this.topBar.remove(),this.topBar.css({background:this.color.rgba(this.topBarAlpha)}),isIphoneXor11(),this.bottomBar.css({background:this.color.rgba(this.topBarAlpha)});var t=this.getTopHeight(!0),i=this.getBottomHeight(!0);this.topBar.css("height",t+"px"),this.bottomBar.css("height",i+"px")},initExtendedbar:function(){this.extendedBar=new PhoneExtendedBar(this.parent),global.moreBar=this.extendedBar},onResize:function(t,i){bookConfig.ToolBarVisible&&this.resetButtonPosition()},getHeight:function(t){return this.getTopHeight(t)+this.getBottomHeight(t)},getTopHeight:function(t){return bookConfig.toolbarAlwaysShow||t?"both"==bookConfig.phoneToolbarType?60:40:0},getLogoHeight:function(){return 0},getBottomHeight:function(t){return bookConfig.toolbarAlwaysShow||t?"both"==bookConfig.phoneToolbarType?isIphoneXor11()?80:60:isIphoneXor11()?isIphoneXor11()?60:void 0:40:0},getWidth:function(){return 0},initEvents:function(){this.topBar&&this.topBar.bind(_event._enter,function(){this.enterOption&&window.clearTimeout(this.enterOption)}.bind(this)),this.bottomBar&&this.bottomBar.bind(_event._enter,function(){this.enterOption&&window.clearTimeout(this.enterOption)}.bind(this))},show:function(){NeatStyle.isNeat()||!bookConfig.ToolBarVisible||this.visible||(this.visible=!0,this.bottomBar.animate({bottom:0},300),this.topBar.animate({top:0},300),this.showGopageButtons&&global.phoneGotoPagePanel&&window.setTimeout(function(){global.phoneGotoPagePanel.show()}.bind(this),20),global.phoneSearchBar&&window.setTimeout(function(){global.phoneSearchBar.show()}.bind(this),20),this.showExtendedBar&&this.extendedBar&&window.setTimeout(function(){this.extendedBar.show()}.bind(this),20),bookType==BookType.singlePhone_book&&singlePhoneBook&&singlePhoneBook.setShow(!1),bookType==BookType.phone_book&&phoneBook&&phoneBook.setShow(!1))},hide:function(){bookConfig.ToolBarVisible&&this.visible&&(this.enterOption&&window.clearTimeout(this.enterOption),this.visible=!1,this.bottomBar.animate({bottom:-60},300),this.topBar.animate({top:-60},300),this.showExtendedBar=this.showGopageButtons=!1,global.phoneGotoPagePanel&&(global.phoneGotoPagePanel.visible&&(this.showGopageButtons=!0),global.phoneGotoPagePanel.hide()),global.phoneSearchBar&&global.phoneSearchBar.hide(),this.extendedBar&&(this.extendedBar.visible&&(this.showExtendedBar=!0),this.extendedBar.hide()),bookType==BookType.singlePhone_book&&singlePhoneBook&&singlePhoneBook.setShow(!0),bookType==BookType.phone_book)&&phoneBook&&phoneBook.setShow(!0)},showOrHide:function(){!0===this.visible?this.hide():this.show()},enterToShow:function(){this.show(),this.enterOption=window.setTimeout(this.hide.bind(this),5e3)},addButton:function(t){switch(t){case"shopping":global.pageEditor&&global.pageEditor.setting&&parseBool(global.pageEditor.setting.shoppingCartHTML)&&this.buttons.add(new PhoneShoppingCartButton);break;case"thumb":bookConfig.ThumbnailsButtonVisible&&this.buttons.add(new PhoneThumbnailButton);break;case"table":bookConfig.TableOfContentButtonVisible&&this.buttons.add(new PhoneTableOfContentButton);break;case"goto":this.buttons.add(new PhoneGotoPageButton);break;case"zoom":bookConfig.ZoomButtonVisible&&this.buttons.add(new PhoneZoomButton);break;case"bookmark":bookConfig.BookMarkButtonVisible&&this.buttons.add(new PhoneBookmarkButton);break;case"number":bookConfig.PhoneButtonVisible&&this.buttons.add(new PhoneNumberButton);break;case"sound":bookConfig.BackgroundSoundButtonVisible&&this.buttons.add(new PhoneBackgroundSoundButton);break;case"search":bookConfig.SearchButtonVisible&&this.buttons.add(new PhoneSearchButton);break;case"print":bookConfig.PrintButtonVisible&&this.buttons.add(new PhonePrintButton);break;case"message":bookConfig.MessageButtonVisible&&this.buttons.add(new PhoneMessageButton);break;case"annotation":bookConfig.AnnotationButtonVisible&&this.buttons.add(new PhoneAnnotationButton);break;case"wechat":bookConfig.WeChatShareButtonVisible&&this.buttons.add(new PhoneWeChatShareButton);break;case"btnshare":bookConfig.ShareButtonVisible&&this.buttons.add(new PhoneShareButton);break;case"download":bookConfig.DownloadButtonVisible&&this.buttons.add(new PhoneDownloadButton);break;case"language":1<language.length&&this.buttons.add(new PhoneLanguageButton);break;case"home":bookConfig.HomeButtonVisible&&this.buttons.add(new PhoneHomeButton);break;case"autoflip":bookConfig.AutoPlayButtonVisible&&this.buttons.add(new PhoneAutoPlayButton);break;case"email":bookConfig.EmailButtonVisible&&this.buttons.add(new PhoneEmailButton);break;case"select":bookConfig.SelectTextButtonVisible&&this.buttons.add(new PhoneSelectTextButton);break;case"about":bookConfig.aboutButtonVisible&&this.buttons.add(new PhoneAboutButton);break;case"report":bookConfig.EnableReportButton&&this.buttons.add(new PhoneReportButton);break;case"doublesinglepage":bookConfig.DoubleSinglePageButtonVisible&&this.buttons.add(new DoubleSinglePageButton);break;case"videogallery":bookConfig.VideoButtonVisible&&this.buttons.add(new PhoneVideoButton);break;case"pageflip":bookConfig.phoneFlipShortcutSwitchButtonVisible&&"brief"!=global.templeteName&&this.buttons.add(new PhonePageFlipButton);break;case"fullscreen":!bookConfig.FullscreenButtonVisible||!isAndroid()&&"brief"!=global.templeteName||NeatStyle.isNeat()||this.buttons.add(new PhoneFullscreenButton);break;case"neat":NeatStyle.isNeat()&&this.buttons.add(new PhoneNeatButton);break;case"calendar":window.book_visit&&window.book_visit.periodicalId&&window.book_visit.periodsListPath&&this.buttons.add(new PhoneCalendarButton)}}}).extend("Toolbar"),Class("PhoneReaderToolbar",{create:function(t){this.parent=t,this.initBar()},initBar:function(){this.bottomBar=$("<div class='phoneReaderToolbar'></div>"),this.parent.append(this.bottomBar),this.initButtons()},initButtons:function(){this.back=$("<div class='button home'><img src='"+phoneBaseURL+"article/back.png'/></div>"),this.zoom=$("<div class='button zoom'></div>"),this.enlarge=$("<div class='enlarge'><img src='"+phoneBaseURL+"article/enlarge.png'/></div>"),this.reduce=$("<div class='reduce'><img src='"+phoneBaseURL+"article/reduce.png'/></div>"),this.top=$("<div class='button top'><img src='"+phoneBaseURL+"article/top.png'/></div>"),this.list=$("<div class='button list'><img src='"+phoneBaseURL+"article/list.png'/></div>"),this.bottomBar.append(this.back),this.zoom.append(this.enlarge),this.zoom.append(this.reduce),this.bottomBar.append(this.zoom),this.bottomBar.append(this.top),this.bottomBar.append(this.list),this.initEvents()},initEvents:function(){this.back.click(function(){global.phoneArticleReader&&global.phoneArticleReader.hide()}),this.enlarge.click(function(){global.phoneArticleReader&&global.phoneArticleReader.enlarge()}),this.reduce.click(function(){global.phoneArticleReader&&global.phoneArticleReader.reduce()}),this.top.click(function(){global.phoneArticleReader&&global.phoneArticleReader.scrollToTop()}),this.list.click(function(){global.phoneArticleList&&global.phoneArticleList.show()})}}),Class("PhoneArticleToolbar",{create:function(t,i){this.buttonsStr=i,bookConfig.toolbarAlwaysShow=!0,this._super(t)},initBar:function(){this.bottomBar=$("<div class='phoneBottomBar'></div>"),this.parent.append(this.bottomBar),this.initStyle()},initButtons:function(){this.buttons=new ObjectPool,this.addPageNum=!1,this.sort(),this.buttons.each(function(t){t.setCallback(this.afterButtonClick.bind(this)),this.setButtonTitle(t)}.bind(this))},addPhoneticReading:function(){var t;this.buttons.exists("phoneticreading")||(t=new PhonePhoneticReadingButton,this.buttons.add(t),t.setCallback(this.afterButtonClick.bind(this)),this.setButtonTitle(t),this.resetButtonPosition())},sort:function(){for(var t=window.book_visit&&window.book_visit.periodicalId?["article","zoom","btnshare","calendar","phoneticReading"]:["article","zoom","btnshare","phoneticReading"],i=this.buttonsStr||t,t=[],e=i.length,o=0;o<e;o++)t.indexOf(i[o])<0&&t.push(i[o]);for(i=0;i<t.length;i++)e=(e=t[i]).toLowerCase(),this.addButton(e)},setButtonTitle:function(t){t.setTitle(t.caption)},resetButtonPosition:function(){new PhoneButtonQueue({addPageNum:this.addPageNum,buttons:this.buttons,barWidth:windowWidth,buttonWidth:40,buttonTop:0,topBar:null,bottomBar:this.bottomBar,extended:this.extendedBar}).sort(),this.extendedBar.resize(),this.extendedBar.hide(),this.buttons.each(function(t){t.changeCaptionColor()}.bind(this))},initStyle:function(){isIphoneXor11(),this.bottomBar.css({background:this.color.rgba(this.topBarAlpha)});var t=this.getBottomHeight(!0);this.bottomBar.css("height",t+"px")},initExtendedbar:function(){this.extendedBar=new PhoneExtendedBar(this.parent),global.moreBar=this.extendedBar},onResize:function(t,i){bookConfig.ToolBarVisible&&this.resetButtonPosition()},getHeight:function(t){return bookConfig.toolbarAlwaysShow||t?"both"==bookConfig.phoneToolbarType?isIphoneXor11()?80:60:isIphoneXor11()?isIphoneXor11()?60:void 0:40:0},getTopHeight:function(){return 0},getLogoHeight:function(){return 0},getBottomHeight:function(){return"both"==bookConfig.phoneToolbarType?isIphoneXor11()?80:60:isIphoneXor11()?isIphoneXor11()?60:0:40},getWidth:function(){return 0},initEvents:function(){this.bottomBar&&this.bottomBar.bind(_event._enter,function(){this.enterOption&&window.clearTimeout(this.enterOption)}.bind(this))},show:function(){bookConfig.ToolBarVisible&&!this.visible&&(this.visible=!0,this.showGopageButtons&&global.phoneGotoPagePanel&&window.setTimeout(function(){global.phoneGotoPagePanel.show()}.bind(this),20),this.showExtendedBar&&this.extendedBar&&window.setTimeout(function(){this.extendedBar.show()}.bind(this),20),bookType==BookType.singlePhone_book&&singlePhoneBook&&singlePhoneBook.setShow(!1),bookType==BookType.phone_book)&&phoneBook&&phoneBook.setShow(!1)},hide:function(){bookConfig.ToolBarVisible&&this.visible&&(this.enterOption&&window.clearTimeout(this.enterOption),this.visible=!1,this.bottomBar.animate({bottom:-60},300),this.showExtendedBar=this.showGopageButtons=!1,global.phoneGotoPagePanel&&(global.phoneGotoPagePanel.visible&&(this.showGopageButtons=!0),global.phoneGotoPagePanel.hide()),this.extendedBar&&(this.extendedBar.visible&&(this.showExtendedBar=!0),this.extendedBar.hide()),bookType==BookType.singlePhone_book&&singlePhoneBook&&singlePhoneBook.setShow(!0),bookType==BookType.phone_book)&&phoneBook&&phoneBook.setShow(!0)},showOrHide:function(){!0===this.visible?this.hide():this.show()},enterToShow:function(){this.show(),this.enterOption=window.setTimeout(this.hide.bind(this),5e3)},addButton:function(t){switch(t){case"article":this.buttons.add(new PhoneArticleButton);break;case"reader":this.buttons.add(new PhoneReaderButton);break;case"calendar":this.buttons.add(new PhoneCalendarButton);break;case"zoom":bookConfig.ZoomButtonVisible&&this.buttons.add(new PhoneZoomButton);break;case"book":this.buttons.add(new PhoneBookButton);break;case"enlarge":this.buttons.add(new PhoneEnlargeButton);break;case"reduce":this.buttons.add(new PhoneReduceButton);break;case"prevarticle":this.buttons.add(new PhonePrevArticleButton);break;case"nextarticle":this.buttons.add(new PhoneNextArticleButton);break;case"table":bookConfig.TableOfContentButtonVisible&&this.buttons.add(new PhoneTableOfContentButton);break;case"btnshare":bookConfig.ShareButtonVisible&&this.buttons.add(new PhoneShareButton)}}}).extend("Toolbar"),Class("PhoneArticleButtonQueue2",{create:function(t){this.addPageNum=t.addPageNum,this.container=t.container,this.extended=t.extended,this.topBar=t.topBar,this.bottomBar=t.bottomBar,this.buttonWidth=t.buttonWidth,this.barWidth=t.barWidth,this.type=t.type,this.buttonTop=t.buttonTop,this.buttons=t.buttons.clone(),this.buttons.each(function(t){t.freedom(),t.hint=!1}),this.initTopBar(),this.initBottomBarArray(),this.addPageNum&&!this.bottomBar.find(".inputButton")[0]&&this.initInputNum()},initTopBar:function(){(this.btnCalendar=this.pickButtonsByName("calendar"))&&(this.btnCalendar.setPosition(10,this.buttonTop),this.btnCalendar.addTo(this.topBar)),this.bottomBarArray=[];var t=this.buttons.length;if(8<t){for(var i=0;i<7;i++){var e=this.buttons.get(0);this.bottomBarArray.push(e),this.buttons.remove(e)}(t=this.pickButtonsByName("more"))&&this.bottomBarArray.push(t)}else for(this.pickButtonsByName("more"),t=this.buttons.length,i=0;i<t;i++)e=this.buttons.get(0),this.bottomBarArray.push(e),this.buttons.remove(e);for(i=0;i<this.bottomBarArray.length;i++)this.bottomBarArray[i]&&this.bottomBarArray[i].addTo(this.topBar),isIphoneXor11()&&this.bottomBarArray[i].$button.css("top","10px")},initBottomBarArray:function(){},pickButtonsByName:function(t,i){if(i){if((t=this.buttons.find(t)).length)for(var e=0;e<t.length;e++){var o=t.get(e);if(o.name==i)return this.buttons.remove(o),o}return null}return i=this.buttons.find(t).get(0),this.buttons.remove(i),i},autoCenter:function(t,i,e,o){if(t&&!(t.length<=0)){var s=this.bottomBar.find(".inputButton"),n=t.length,a=Math.max((i-e*n)/(n-1),0);for(this.addPageNum&&(a=Math.max((i-e*n-100)/(n-1),0)),null==o&&(o=0),i=0;i<n;i++){var h=a*i+e*i;this.addPageNum&&(i==Math.ceil(n/2)&&s[0]&&s.css({left:h+o+"px","margin-left":0}),n/2<=i)&&(h+=100+a),t[i].$button.css({left:h+o+"px","margin-left":0})}}},autoLeft:function(t,i,e,o){if(t&&!(t.length<=0))for(i=t.length,o=0;o<i;o++)t[o].$button.css({right:10*(o+1)+e*o+"px","margin-left":0})},initInputNum:function(){this.inputButton=$("<div class='inputButton'><input id='currentPageIndexTextField' class='currentPageIndexTextField' type='text'/></div>"),this.inputButton.css({width:"100px",left:"0px",top:"5px",position:"absolute",height:"30px",cursor:"pointer"}),this.inputButton.find("input").css({padding:"0px","text-align":"center","border-width":"0px",background:"#ffffff",width:"100%",height:"30px","border-radius":"15px",position:"absolute",color:bookConfig.pageNumColor,left:0,top:0}),(isPhone()||isPad())&&this.inputButton.find("input").css({}),isIphoneXor11()&&this.inputButton.css({top:"15px"}),this.bottomBar.append(this.inputButton),bookConfig.enablePageBack&&this.inputButton.css({width:"100px"})},sort:function(){this.buttonWidth=40,this.barWidth=Math.min(windowWidth,319),this.barLeft=(windowWidth-this.barWidth)/2,this.autoLeft(this.bottomBarArray,this.barWidth,this.buttonWidth,this.barLeft),this.extended.buttonsArray=[];for(var t=0;t<this.buttons.length;t++){var i=this.buttons.get(t);this.extended.buttonsArray.push(i)}}}),Class("PhoneArticleToolbar2",{create:function(t,i){this.buttonsStr=i,bookConfig.toolbarAlwaysShow=!0,this._super(t)},initBar:function(){this.bottomBar=$("<div class='phoneBottomBar'></div>"),this.topBar=$("<div class='phoneTopBar'></div>"),this.parent.append(this.topBar),this.parent.append(this.bottomBar),this.initStyle(),this.initAd()},initAd:function(){var t=$('<div class="box-logo"></div>'),i=$('<div class="box-time"></div>'),e=$('<div class="time"></div>'),o=$('<div class="slogan"></div>'),s=$('<div class="box-qr"></div>'),n=$("<div class=\"bg-bottom-wrap\" style='bottom:40px;'></div>");t.css("background-image","url("+bookConfig.appLogoIcon+")"),s.css("background-image","url("+bookConfig.QRPath+")"),e.html(bookConfig.articleTime),o.html(bookConfig.articleTitle),i.append(e),i.append(o),n.append(t),n.append(i),n.append(s),tmpContainer.append(n)},initButtons:function(){this.buttons=new ObjectPool,this.addPageNum=!1,this.sort(),this.buttons.each(function(t){t.setCallback(this.afterButtonClick.bind(this)),this.setButtonTitle(t)}.bind(this))},addPhoneticReading:function(){var t;this.buttons.exists("phoneticreading")||(t=new PhonePhoneticReadingButton,this.buttons.add(t),t.setCallback(this.afterButtonClick.bind(this)),this.setButtonTitle(t),this.resetButtonPosition())},sort:function(){for(var t=window.book_visit&&window.book_visit.periodicalId?["zoom","calendar","article"]:["zoom","article"],i=this.buttonsStr||t,t=[],e=i.length,o=0;o<e;o++)t.indexOf(i[o])<0&&t.push(i[o]);for(i=0;i<t.length;i++)e=(e=t[i]).toLowerCase(),this.addButton(e)},setButtonTitle:function(t){t.setTitle(t.caption)},resetButtonPosition:function(){new PhoneArticleButtonQueue2({addPageNum:this.addPageNum,buttons:this.buttons,barWidth:windowWidth,buttonWidth:40,buttonTop:0,topBar:this.topBar,bottomBar:this.bottomBar,extended:this.extendedBar,type:this.buttonsStr?"bottom":"top"}).sort(),this.extendedBar.resize(),this.extendedBar.hide(),this.buttons.each(function(t){t.changeCaptionColor()}.bind(this))},initStyle:function(){var t=this.getTopHeight(!0),i=this.getBottomHeight(!0);this.topBar.css("height",t+"px"),this.bottomBar.css("height",i+"px")},initExtendedbar:function(){this.extendedBar=new PhoneExtendedBar(this.parent),global.moreBar=this.extendedBar},onResize:function(t,i){bookConfig.ToolBarVisible&&this.resetButtonPosition()},getHeight:function(){return this.getBottomHeight()+this.getTopHeight()},getTopHeight:function(t){return bookConfig.toolbarAlwaysShow||t?"both"==bookConfig.phoneToolbarType?isIphoneXor11()?80:60:isIphoneXor11()?isIphoneXor11()?60:void 0:40:0},getLogoHeight:function(){return 0},getBottomHeight:function(){return 118},getWidth:function(){return 0},initEvents:function(){this.bottomBar&&this.bottomBar.bind(_event._enter,function(){this.enterOption&&window.clearTimeout(this.enterOption)}.bind(this))},show:function(){bookConfig.ToolBarVisible&&!this.visible&&(this.visible=!0,this.showGopageButtons&&global.phoneGotoPagePanel&&window.setTimeout(function(){global.phoneGotoPagePanel.show()}.bind(this),20),this.showExtendedBar&&this.extendedBar&&window.setTimeout(function(){this.extendedBar.show()}.bind(this),20),bookType==BookType.singlePhone_book&&singlePhoneBook&&singlePhoneBook.setShow(!1),bookType==BookType.phone_book)&&phoneBook&&phoneBook.setShow(!1)},hide:function(){bookConfig.ToolBarVisible&&this.visible&&(this.enterOption&&window.clearTimeout(this.enterOption),this.visible=!1,this.bottomBar.animate({bottom:-60},300),this.showExtendedBar=this.showGopageButtons=!1,global.phoneGotoPagePanel&&(global.phoneGotoPagePanel.visible&&(this.showGopageButtons=!0),global.phoneGotoPagePanel.hide()),this.extendedBar&&(this.extendedBar.visible&&(this.showExtendedBar=!0),this.extendedBar.hide()),bookType==BookType.singlePhone_book&&singlePhoneBook&&singlePhoneBook.setShow(!0),bookType==BookType.phone_book)&&phoneBook&&phoneBook.setShow(!0)},showOrHide:function(){!0===this.visible?this.hide():this.show()},enterToShow:function(){this.show(),this.enterOption=window.setTimeout(this.hide.bind(this),5e3)},addButton:function(t){switch(t){case"article":this.buttons.add(new PhoneArticleButton);break;case"reader":this.buttons.add(new PhoneReaderButton);break;case"calendar":this.buttons.add(new PhoneCalendarButton);break;case"zoom":bookConfig.ZoomButtonVisible&&this.buttons.add(new PhoneZoomButton);break;case"book":this.buttons.add(new PhoneBookButton);break;case"enlarge":this.buttons.add(new PhoneEnlargeButton);break;case"reduce":this.buttons.add(new PhoneReduceButton);break;case"prevarticle":this.buttons.add(new PhonePrevArticleButton);break;case"nextarticle":this.buttons.add(new PhoneNextArticleButton);break;case"table":bookConfig.TableOfContentButtonVisible&&this.buttons.add(new PhoneTableOfContentButton);break;case"btnshare":bookConfig.ShareButtonVisible&&this.buttons.add(new PhoneShareButton);break;case"help":bookConfig.InstructionsButtonVisible&&this.buttons.add(new PhoneInstructionsButton)}}}).extend("Toolbar"),Class("PhoneArticleButtonQueue3",{create:function(t){this.addPageNum=t.addPageNum,this.container=t.container,this.extended=t.extended,this.topBar=t.topBar,this.bottomBar=t.bottomBar,this.buttonWidth=t.buttonWidth,this.barWidth=t.barWidth,this.buttonTop=t.buttonTop,this.buttons=t.buttons.clone(),this.buttons.each(function(t){t.freedom(),t.hint=!1}),this.initTopBar(),this.initBottomBarArray(),this.addPageNum&&!this.bottomBar.find(".inputButton")[0]&&this.initInputNum()},initBottomBarArray:function(){this.bottomBarArray=[];var t=this.buttons.length;if(4<t){for(var i=0;i<3;i++){var e=this.buttons.get(0);this.bottomBarArray.push(e),this.buttons.remove(e)}(t=this.pickButtonsByName("more"))&&this.bottomBarArray.push(t)}else for(this.pickButtonsByName("more"),t=this.buttons.length,i=0;i<t;i++)e=this.buttons.get(0),this.bottomBarArray.push(e),this.buttons.remove(e);for(i=0;i<this.bottomBarArray.length;i++)this.bottomBarArray[i]&&this.bottomBarArray[i].addTo(this.bottomBar),isIphoneXor11()&&this.bottomBarArray[i].$button.css("top","10px")},initTopBar:function(){var t=0;(this.btnNeat=this.pickButtonsByName("neat"))&&(t+=this.buttonWidth+10,this.btnNeat.setPosition(this.barWidth-t,this.buttonTop),this.btnNeat.addTo(this.topBar)),(this.btnInstructions=this.pickButtonsByName("instructions"))&&(t+=this.buttonWidth+10,this.btnInstructions.setPosition(this.barWidth-t,this.buttonTop),this.btnInstructions.addTo(this.topBar)),(this.pageflip=this.pickButtonsByName("pageflip"))&&(t+=this.buttonWidth+10,this.pageflip.setPosition(this.barWidth-t,this.buttonTop),this.pageflip.addTo(this.topBar))},pickButtonsByName:function(t,i){if(i){if((t=this.buttons.find(t)).length)for(var e=0;e<t.length;e++){var o=t.get(e);if(o.name==i)return this.buttons.remove(o),o}return null}return i=this.buttons.find(t).get(0),this.buttons.remove(i),i},autoCenter:function(t,i,e,o){if(t&&!(t.length<=0)){var s=this.bottomBar.find(".inputButton"),n=t.length,a=Math.max((i-e*n)/(n+1),0);for(this.addPageNum&&(a=Math.max((i-e*n-100)/(n+1),0)),null==o&&(o=0),i=0;i<n;i++){var h=a*(i+1)+e*i;this.addPageNum&&(i==Math.ceil(n/2)&&s[0]&&s.css({left:h+o+"px","margin-left":0}),n/2<=i)&&(h+=100+a),t[i].$button.css({left:h+o+"px","margin-left":0})}}},initInputNum:function(){this.inputButton=$("<div class='inputButton'><input id='currentPageIndexTextField' class='currentPageIndexTextField' type='text'/></div>"),this.inputButton.css({width:"100px",left:"0px",top:"5px",position:"absolute",height:"30px",cursor:"pointer"}),this.inputButton.find("input").css({padding:"0px","text-align":"center","border-width":"0px",background:"#ffffff",width:"100%",height:"30px","border-radius":"15px",position:"absolute",color:bookConfig.pageNumColor,left:0,top:0}),(isPhone()||isPad())&&this.inputButton.find("input").css({}),isIphoneXor11()&&this.inputButton.css({top:"15px"}),this.bottomBar.append(this.inputButton),bookConfig.enablePageBack&&this.inputButton.css({width:"100px"})},sort:function(){this.buttonWidth=87,this.barWidth=windowWidth,this.barLeft=0,this.autoCenter(this.bottomBarArray,this.barWidth,this.buttonWidth,this.barLeft),this.extended.buttonsArray=[];for(var t=0;t<this.buttons.length;t++){var i=this.buttons.get(t);this.extended.buttonsArray.push(i)}}}),Class("PhoneArticleToolbar3",{create:function(t,i){this.buttonsStr=i,bookConfig.toolbarAlwaysShow=!0,bookConfig.phoneToolbarType="both",this._super(t)},initBar:function(){this.bottomBar=$("<div class='phoneBottomBar2'></div>"),this.topBar=$("<div class='phoneTopBar'></div>"),this.parent.append(this.bottomBar),this.initStyle(),this.initAd()},initAd:function(){var t=$('<div class="box-logo2"></div>'),i=$('<div class="box-time2"></div>'),e=$('<div class="time2"></div>'),o=$('<div class="slogan2"></div>'),s=$('<div class="box-qr2"></div>'),n=$('<div class="bg-bottom-wrap2"></div>');t.css("background-image","url("+bookConfig.appLogoIcon+")"),s.css("background-image","url("+bookConfig.QRPath+")"),e.html(bookConfig.articleTime),o.html(bookConfig.articleTitle),i.append(o),i.append(e),n.append(t),n.append(i),n.append(s),tmpContainer.append(n),bookConfig.showAdOnTop||n.css({top:"auto",bottom:"20px"})},initButtons:function(){this.buttons=new ObjectPool,this.addPageNum=!1,this.sort(),3<this.buttons.length&&this.buttons.add(new PhoneMoreButton),this.buttons.each(function(t){t.setCallback(this.afterButtonClick.bind(this)),this.setButtonTitle(t)}.bind(this))},addPhoneticReading:function(){var t;this.buttons.exists("phoneticreading")||(t=new PhonePhoneticReadingButton,this.buttons.add(t),3<this.buttons.length&&!this.buttons.exists("more")&&this.buttons.add(new PhoneMoreButton),t.setCallback(this.afterButtonClick.bind(this)),this.setButtonTitle(t),this.resetButtonPosition())},sort:function(){for(var t=window.book_visit&&window.book_visit.periodicalId?["zoom","calendar","article","btnshare"]:["zoom","article","btnshare"],i=this.buttonsStr||t,t=[],e=i.length,o=0;o<e;o++)t.indexOf(i[o])<0&&t.push(i[o]);for(i=0;i<t.length;i++)e=(e=t[i]).toLowerCase(),this.addButton(e)},setButtonTitle:function(t){t.setTitle(t.caption)},resetButtonPosition:function(){new PhoneArticleButtonQueue3({addPageNum:this.addPageNum,buttons:this.buttons,barWidth:windowWidth,buttonWidth:87,buttonTop:0,topBar:this.topBar,bottomBar:this.bottomBar,extended:this.extendedBar,type:"bottom"}).sort(),this.extendedBar.resize(),this.extendedBar.hide(),this.buttons.each(function(t){t.changeCaptionColor()}.bind(this))},initStyle:function(){var t=this.getTopHeight(!0),i=this.getBottomHeight(!0);this.topBar.css("height",t+"px"),this.bottomBar.css("height",i+"px"),bookConfig.showAdOnTop||this.bottomBar.css({top:"34px",bottom:"auto",height:"36px"})},initExtendedbar:function(){this.extendedBar=new PhoneExtendedBar(this.parent),global.moreBar=this.extendedBar},onResize:function(t,i){bookConfig.ToolBarVisible&&this.resetButtonPosition()},getHeight:function(){return this.getBottomHeight()+this.getTopHeight()},getTopHeight:function(t){return 70},getLogoHeight:function(){return 0},getBottomHeight:function(){return 70},getWidth:function(){return 0},initEvents:function(){this.bottomBar&&this.bottomBar.bind(_event._enter,function(){this.enterOption&&window.clearTimeout(this.enterOption)}.bind(this))},show:function(){bookConfig.ToolBarVisible&&!this.visible&&(this.visible=!0,this.showGopageButtons&&global.phoneGotoPagePanel&&window.setTimeout(function(){global.phoneGotoPagePanel.show()}.bind(this),20),this.showExtendedBar&&this.extendedBar&&window.setTimeout(function(){this.extendedBar.show()}.bind(this),20),bookType==BookType.singlePhone_book&&singlePhoneBook&&singlePhoneBook.setShow(!1),bookType==BookType.phone_book)&&phoneBook&&phoneBook.setShow(!1)},hide:function(){bookConfig.ToolBarVisible&&this.visible&&(this.enterOption&&window.clearTimeout(this.enterOption),this.visible=!1,this.bottomBar.animate({bottom:-60},300),this.showExtendedBar=this.showGopageButtons=!1,global.phoneGotoPagePanel&&(global.phoneGotoPagePanel.visible&&(this.showGopageButtons=!0),global.phoneGotoPagePanel.hide()),this.extendedBar&&(this.extendedBar.visible&&(this.showExtendedBar=!0),this.extendedBar.hide()),bookType==BookType.singlePhone_book&&singlePhoneBook&&singlePhoneBook.setShow(!0),bookType==BookType.phone_book)&&phoneBook&&phoneBook.setShow(!0)},showOrHide:function(){!0===this.visible?this.hide():this.show()},enterToShow:function(){this.show(),this.enterOption=window.setTimeout(this.hide.bind(this),5e3)},addButton:function(t){switch(t){case"article":this.buttons.add(new PhoneArticleButton(phoneSvgIcons.btnPages));break;case"reader":this.buttons.add(new PhoneReaderButton(phoneSvgIcons.btnReader));break;case"calendar":this.buttons.add(new PhoneCalendarButton(phoneSvgIcons.btnCalendar));break;case"zoom":bookConfig.ZoomButtonVisible&&this.buttons.add(new PhoneZoomButton);break;case"book":this.buttons.add(new PhoneBookButton);break;case"enlarge":this.buttons.add(new PhoneEnlargeButton);break;case"reduce":this.buttons.add(new PhoneReduceButton);break;case"prevarticle":this.buttons.add(new PhonePrevArticleButton);break;case"nextarticle":this.buttons.add(new PhoneNextArticleButton);break;case"table":bookConfig.TableOfContentButtonVisible&&this.buttons.add(new PhoneTableOfContentButton);break;case"btnshare":bookConfig.ShareButtonVisible&&this.buttons.add(new PhoneShareButton);break;case"help":bookConfig.InstructionsButtonVisible&&this.buttons.add(new PhoneInstructionsButton)}}}).extend("Toolbar"),Class("PhoneExtendedBar",{create:function(t){this._super(t),this.buttonsArray=[],this.height=72,this.initElements(),this.initHtml(),this.initEvent(),this.initCss()},initHtml:function(){this.$bar.append(this.arrow),this.$bar.append(this.swiper),this.$bar.append(this.cancel)},initElements:function(){this.arrow=$("<div class='arrow'><div class='svg-box'></div></div>"),this.cancel=$("<div class='cancel'>"+getLanguage("lblCancel","Cancel")+"</div>"),isIphoneXor11()&&this.cancel.css({height:"60px","line-height":"60px",bottom:"-61px"}),phoneSvgIcons&&phoneSvgIcons.arrow_down&&this.arrow.find("div").html(phoneSvgIcons.arrow_down),this.initSwiper()},initSwiper:function(){this.swiper=$("<div class='stage'></div>"),this.swiperList=$("<div class='swiper'></div>"),this.swiper.append(this.swiperList),this.dots=$("<div class='dots'></div>"),this.swiper.append(this.dots),this.swiper.rolling({},Direction.left)},initEvent:function(){this.arrow.click(function(){this.hide()}.bind(this)),this.cancel.click(function(){this.hide()}.bind(this))},initCss:function(){this.$bar.css({display:"block",overflow:"visible","background-color":this.color.rgba(bookConfig.ToolBarAlpha)}),this.$bar.addClass("phone"),this.arrow.css({"background-color":this.color.rgba(bookConfig.ToolBarAlpha)}),this.cancel.css({"background-color":this.color,color:bookConfig.iconFontColor})},show:function(t){this.visible||(t="40px",isIphoneXor11()&&(t="60px"),this.$bar.animate({bottom:t},400,"linear",function(){this.visible=!0}.bind(this)))},hide:function(){this.visible&&this.$bar.animate({bottom:"-358px"},400,"linear",function(){this.visible=!1}.bind(this))},showOrHide:function(){this.visible?this.hide():this.show()},resize:function(t){this.swiperList.empty(),this.dots.empty(),t=this.buttonsArray.length;var i=parseInt((windowWidth+10)/70),e=4*i,o=t<i?30:(windowWidth-30*(i-1)-40*i)/2;if(this.height=72,i<t&&(this.height=134),2*i<t&&(this.height=196),3*i<t&&(this.height=258),this.$bar.css({height:this.height+"px"}),!(e<=0)){for(var s=Math.ceil(t/e),n=0;n<s;n++){var a=$("<div class='item'></div>"),h=$("<div class='dot'></div>");a.css("width",windowWidth+"px");for(var r=0;r<e;r++){var g=r+n*s;if(t-1<g)break;0==g%i?this.buttonsArray[g].$button.css({"margin-left":o+"px",left:0}):this.buttonsArray[g].$button.css({"margin-left":"30px",left:0}),this.add(a,this.buttonsArray[g])}this.swiperList.append(a),this.dots.append(h)}this.swiper.refreshData()}},add:function(t,i){i.freedom(),i.$button.appendTo(t),i.$parent=t,i.addEvents()}}).extend("ExtendedBar"),Class({create:function(t){this._super(t),this.visible=!1,this.totalPageCount=bookConfig.totalPageCount,this.itemWidth=this.getThumbWidth(),this.marginLeft=10,this.marginTop=0,this.itemBorderWidth=3,this.toolBarHeight=80,this.topBarHeight=40,this.itemBorderColor="#f76c6c",this.itemArray=[],this.hasSearch=!1,this.itemHeightArray=this.getHeightArray(),this.closeUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjhBN0ZCRjFCQjgwMTFFNjhCMjQ5NjVERDlGODU5NkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjhBN0ZCRjJCQjgwMTFFNjhCMjQ5NjVERDlGODU5NkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGOEE3RkJFRkJCODAxMUU2OEIyNDk2NUREOUY4NTk2RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGOEE3RkJGMEJCODAxMUU2OEIyNDk2NUREOUY4NTk2RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Prtn4R8AAABdSURBVHjaYvz//z8DLQETA43BqAWjFtDHgv9QTKocyT74T4BPtgWMWAz9j0OebB8w4nA5IzUjmZEAf/DGAb5g+U+tZIpuONGW0DwOWMgwmIFWqWi0sBu1ADsACDAA1jMSLYufr4AAAAAASUVORK5CYII=",this.mainColor=bookConfig.formBackgroundColor||"#111",this.fontColor=bookConfig.formFontColor||bookConfig.iconColor,bookConfig.appLogoIcon||bookConfig.InstructionsButtonVisible||(this.toolBarHeight=40,this.topBarHeight=0),this.initEvent(),this.initThumbItems()},getThumbWidth:function(){switch(bookConfig.ThumbnailSize.toLowerCase()){case"normal":return 120;case"large":return 160;default:return 90}},initThumbItems:function(){this.searchButton.css({display:"block"}),this.closeButton.css({display:"none"}),this.input.val(""),this.searchText="",this.items.html(""),this.searchResult.html(""),this.itemArray=[],this.taskList=new TaskList,this.countHorizatal=parseInt((windowWidth-this.marginLeft)/(this.itemWidth+this.marginLeft)),this.countVertical=parseInt((windowHeight-this.toolBarHeight-this.marginTop)/(this.itemHeightArray.itemHeight+this.marginTop))+1,this.taskList.setLargeLength(this.countHorizatal*this.countVertical),this.addItem(),this.setHighLight(BookInfo.getCurrentPageIndex())},initHtml:function(){bookConfig.RightToLeft&&this.stage.addClass("rightToLeft"),this.itemBox=$("<div style='text-align:left;display:inline-block;'></div>"),this.items=$("<div style='width:100%;'></div>"),this.stage.append(this.title),this.title.append(this.close),this.initSearchBox(),this.initSearchEvent(),this.parent.append(this.stage),this.stage.append(this.itemBox),this.itemBox.append(this.items)},initSearchBox:function(){this.searchButtonUrl=bookConfig.SearchButtonIcon||(form_icons.search_form?"data:image/png;base64,"+form_icons.search_form:uiBaseURL+"search_form.png"),this.searchButton=$("<img class='searchButton hover_background' src='"+this.searchButtonUrl+"'/>"),this.closeButton=$('<div style=\'display:none;position: absolute;width:18px;height:18px; top: 70px;right: 23px;cursor: pointer;z-index: 10;transform: translate(0, -50%);\'><?xml version="1.0" encoding="utf-8"?> <svg class="svg" fill="#8F8F8F" version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M11.9,10l5.7-5.7c0.5-0.5,0.5-1.4,0-1.9s-1.4-0.5-1.9,0l0,0L10,8.1L4.3,2.4c-0.5-0.5-1.4-0.5-1.9,0 s-0.5,1.4,0,1.9l0,0L8.1,10l-5.7,5.7c-0.5,0.5-0.5,1.4,0,1.9c0,0,0,0,0,0c0.5,0.5,1.4,0.5,1.9,0c0,0,0,0,0,0l5.7-5.7l5.7,5.7 c0.5,0.5,1.4,0.5,1.9,0c0,0,0,0,0,0c0.5-0.5,0.5-1.4,0-1.9c0,0,0,0,0,0L11.9,10z"/> </svg> </div>'),this.searchResult=$("<p class='result'></p>"),this.input=$("<input class='input_search' placeholder='"+FormInfo.getFormTitle("thumbnail")+"'></input>"),bookConfig.RightToLeft&&this.input.attr("dir","rtl"),this.stage.append(this.input).append(this.searchResult).append(this.searchButton).append(this.closeButton)},initSearchEvent:function(){this.closeButton.onTap(function(){this.initThumbItems(),this.hasSearch=!1,this.searchButton.css({display:"block"}),this.closeButton.css({display:"none"}),this.input.val(""),this.searchText=""}.bind(this)),this.searchButton.onTap(function(){this.searchStart()}.bind(this)),this.input.bind("keydown",function(t){13==t.keyCode&&this.searchStart(),t.stopPropagation()}.bind(this)),this.input.bind("mousedown touchstart pointerdown mouseover mousemove touchmove touchstend",function(t){t.stopPropagation()})},isSearchPage:function(t){return!isNaN(t)&&"error"!=t&&0<t&&t<=bookConfig.totalPageCount},searchStart:function(){var t,i;this.input.val()&&(this.searchButton.css({display:"none"}),this.closeButton.css({display:"block"}),t=this.input.val(),i=getRealPage(t),this.isSearchPage(i)?(this.hasSearch=!0,this.searchThumbByIndex(i),this.searchResult.html(getLanguage("lblPage","Page")+" <span style='color:"+bookConfig.searchKeywordFontColor+";'>"+t+"</span>"),this.searchText=t):0==(t=this.input.val().trim().toLowerCase()).length?this.searchResult.html(getLanguage("frmSearchPrompt","Enter key to search.")):0<bookConfig.leastSearchChar&&t.length<bookConfig.leastSearchChar?(this.items.html(""),this.searchList=[],this.searchResult.html(getLanguage("pnlSearchInputInvalid","The search text is too short.")),this.searchText=t):this.searchText!=t&&(this.hasSearch=!0,search_Text=this.searchText=t,this.analysisData=new AnalysisSearch(t,this.doSearch.bind(this))))},doSearch:function(t){this.searchList=t,rightToLeft?this.searchResult.html("<span style='color:"+bookConfig.searchKeywordFontColor+";'>"+this.searchList.length+"</span> "+getLanguage("lblPage","Page")):this.searchResult.html(getLanguage("lblPage","Page")+" <span style='color:"+bookConfig.searchKeywordFontColor+";'>"+this.searchList.length+"</span>"),this.searchThumbsByDesc(t),this.setHighLight(BookInfo.getCurrentPageIndex())},onResize:function(){this._super(),this.stage.css({overflow:"auto","text-align":"center"}),this.countHorizatal=parseInt((windowWidth-this.marginLeft)/(this.itemWidth+this.marginLeft)),this.countVertical=parseInt((windowHeight-this.toolBarHeight-this.marginTop)/(this.itemHeightArray.itemHeight+this.marginTop))+1,this.itemBox.css({width:this.countHorizatal*(this.itemWidth+this.marginLeft)+this.marginLeft+"px",height:windowHeight-135+"px",overflow:"auto",padding:"0"}),this.input.css("width",this.width-75+"px")},fillContent:function(){verifyPassward()&&(this.interval&&!this.interval.isRunning()?this.interval.start():this.interval=function(){this.performTask()}.interval(this,60))},performTask:function(){for(var t=(i=this.getShownItems())[1],i=i[0];i<=t;i++){var e=function(){thumbnail.fillImage(this.index)}.bind({index:i});bookConfig.isEncryptionBook&&this.isRestrict(i)?e.id="restrict"+i:e.id=i,this.taskList.unShiftTask(e)}},isRestrict:function(t){return!(!this.itemArray||!this.itemArray[t])&&this.itemArray[t].isRestrict()},getShownItems:function(){var t=82-this.items.offset().top,i=(t=this.countHorizatal*Math.round(t/(this.itemHeightArray.itemHeight+this.marginTop)))+this.countHorizatal*this.countVertical,i=Math.min(i,this.totalPageCount);return[Math.max(0,t),i]},goToPosition:function(){this.getShownItems();var t=BookInfo.getCurrentPageIndex();this.stage.scrollTop(8+Math.ceil(t/3)*(this.itemHeightArray.itemHeight+this.marginTop)-windowHeight+this.toolBarHeight)},hide:function(){this._super(),this.onHide()},onHide:function(){this.input.blur(),this.interval&&this.interval.stop()},getShowStatu:function(){return this.visible},show:function(){this.visible||(this._super(),this.input.css("width",this.width-75+"px"),this.hasSearch&&(this.initThumbItems(),this.hasSearch=!1),this.stage.show(200,function(){this.onShow(),this.fillContent(),this.goToPosition()}.bind(this)))},onShow:function(){this.visible=!0},setHighLight:function(t){if(this.itemArray)for(var i=0;i<this.itemArray.length;i++)this.itemArray[i].index==t-1&&this.itemArray[i].imgContainer.css({"border-color":this.itemBorderColor})},clearHighLight:function(){if(this.itemArray)for(var t=this.itemArray.length,i=0;i<t;i++)this.itemArray[i].imgContainer&&this.itemArray[i].imgContainer.css({"border-color":"transparent"})},fissionAll:function(){},mergeAll:function(){},showOrHide:function(){this.visible?this.hide():this.show()},searchThumbByIndex:function(t){var i;this.items.html(""),t<=bookConfig.totalPageCount&&1<=t&&(i=this.initItem(t-1),this.items.append(i.item),fillImageAfterLoaded(t,"thumb",function(t){t.match(/^none/)?(i.noThumbBg.css({display:"block"}),i.img.attr("src","").css({display:"none"})):(i.img.attr("src",t),i.noThumbBg.css({display:"none"}),i.img.css({display:"inline-block"}))}.bind(this)))},searchThumbsByDesc:function(t){this.items.html(""),this.taskList=new TaskList,this.taskList.setLargeLength(this.countHorizatal*this.countVertical),this.itemArray=[];for(var i=0;i<t.length;i++){var e=this.initItem(t[i].search_page-1);this.itemArray.push(e),this.items.append(e.item)}},addItem:function(){for(var t=0;t<this.totalPageCount;t++){var i=this.initItem(t);this.items.append(i.item),this.itemArray.push(i)}},getHeightArray:function(){var t=(this.itemWidth-2*this.itemBorderWidth)*bookConfig.largePageHeight/bookConfig.largePageWidth;return{imageHeight:t,titleHeight:15,itemHeight:15+t+4*this.itemBorderWidth}},initItem:function(i){var t=$("<div style='display:inline-block;'></div>"),e=$("<p><span>"+getShownPageNumber(i+1)+"</span></p>"),o=$("<div></div>"),s=$("<img/>"),n=$("<div style='display:none;margin: 0 auto;background:"+bookConfig.pageBackgroundColor+";width:"+(this.itemWidth-2*this.itemBorderWidth)+"px;height:"+this.itemHeightArray.imageHeight+"px;'></div>"),a=(t.css({cursor:"pointer",width:this.itemWidth,height:this.itemHeightArray.itemHeight,padding:"0px 0px "+this.marginTop+"px "+this.marginLeft+"px","text-align":"center"}),o.css({width:this.itemWidth-2*this.itemBorderWidth,height:this.itemHeightArray.imageHeight,"border-style":"solid","border-width":this.itemBorderWidth+"px","border-radius":this.itemBorderWidth+"px","border-color":"transparent",position:"relative"}),s.css({width:"100%",height:"100%","background-color":"#ffffff","background-image":"url("+bookConfig.pageLoadingUrl+")","background-repeat":"no-repeat","background-position":"center"}),bookConfig.isStopMouseMenu&&s.css({"pointer-events":"none"}),e.css({width:this.itemWidth-2*this.itemBorderWidth,height:this.itemHeightArray.titleHeight+"px","line-height":this.itemHeightArray.titleHeight+"px","vertical-align":"middle",color:Color(bookConfig.formFontColor).toString(),"font-family":"Arial","font-size":this.itemHeightArray.titleHeight+"px",padding:"0px",margin:"0px","border-style":"solid","border-width":this.itemBorderWidth+"px","border-color":"transparent"}),$("<div></div>"));return a.css({position:"absolute",top:0,left:0,width:"100%",height:"100%","z-index":5}),o.append(n).append(s),bookConfig.isStopMouseMenu&&o.append(a),t.append(o),t.append(e),t.attr("id",i),t.bind(_event._end,function(t){}.bind(this)),t.bind("click",function(t){this.searchText="",gotoPageFun(i+1,!1,"phone thumbnail"),this.hide(),t.stopPropagation()}.bind(this)),{index:i,item:t,imgContainer:o,img:s,noThumbBg:n,title:e,fill:!1,isRestrict:function(){return!(!bookConfig.isEncryptionBook||"restrict"!=BookRestrict.isRestrictPage(this.index+1))}}},fillImage:function(i){var t,e;this.itemArray&&this.itemArray[i]&&(t=function(t){t.match(/^none/)?(this.itemArray[i].noThumbBg.css({display:"block"}),this.itemArray[i].img.attr("src","").css({display:"none"})):(this.itemArray[i].img.attr("src",t),this.itemArray[i].noThumbBg.css({display:"none"}),this.itemArray[i].img.css({width:this.imageWidth+"px",display:"inline-block"}))}.bind(this),bookConfig.isEncryptionBook&&this.isRestrict(i)?this.itemArray[i].restrict||(e=this.itemArray[i].index,fillImageAfterLoaded(e+1,"thumb",t),this.itemArray[i].restrict=!0):!this.itemArray[i].fill&&this.itemArray[i].img&&(e=this.itemArray[i].index,this.LoadCount++,this.itemArray[i].fill=!0,fillImageAfterLoaded(e+1,"thumb",t)))},getHeight:function(){return 0},getTopHeight:function(){return 0},initEvent:function(){}}).extend(PhoneFormFrame)),ThumbnailCell=Class({create:function(t,i){this.parent=t,this.margin=12,this.index=i,this.item=$("<div class='item'></div>"),this.initHtml(),this.initEvent(),this.onResize()},onResize:function(){this.imageWidth=110,this.imageHeight=parseInt(bookConfig.largePageHeight*this.imageWidth/bookConfig.largePageWidth),this.length=this.imageWidth,this.item.css({width:this.imageWidth+"px"}),this.image.css({width:this.imageWidth+"px"}),this.noThumbBg.css({width:this.imageWidth+"px"})},initHtml:function(){this.initStructure(),this.item.append(this.noThumbBg).append(this.image),this.item.append(this.title),this.parent.append(this.item)},initStructure:function(){this.image=$("<img/>"),this.noThumbBg=$("<div class='noThumbBg' style='display:none;margin: 0 auto;background:"+bookConfig.pageBackgroundColor+";height:100%;'></div>"),this.title=$("<p class='title'>"+getShownPageNumber(this.index)+"</p>"),this.loading()},loading:function(){this.image.css({"background-color":"#ffffff","background-image":"url("+bookConfig.pageLoadingUrl+")","background-repeat":"no-repeat","background-position":"center"})},unLoading:function(){this.image.css({"background-image":""})},setStyle:function(t){this.item.css(t)},initEvent:function(){this.item.onTap(function(){gotoPageFun(this.index,!1,"thumbnail")}.bind(this))},fillContent:function(t){bookConfig.isEncryptionBook&&"restrict"==BookRestrict.isRestrictPage(this.index)?this.restrict():(t=function(t){t.match(/^none/)?(this.noThumbBg.css({display:"block",width:this.imageWidth+"px",height:this.imageHeight+"px"}),this.image.attr("src","").css({display:"none"})):(this.image.attr("src",t),this.noThumbBg.css({display:"none"}),this.image.css({display:"inline-block",width:this.imageWidth+"px",height:this.imageHeight+"px"})),this.unLoading()}.bind(this),fillImageAfterLoaded(this.index,"thumb",t))},restrict:function(){var t=1==this.index?getMeta("og:image"):bookConfig.pageRestrictUrl;this.image.css({"background-image":"url("+t+")","background-size":"contain"})},isRestrict:function(){return!(!bookConfig.isEncryptionBook||"restrict"!=BookRestrict.isRestrictPage(this.index))},getDom:function(){return this.item},fission:function(){this.item.removeClass("highlight"),this.item.addClass("focus")},merge:function(){this.item.removeClass("focus")},setHighLight:function(t){this.index==t&&this.item.addClass("highlight")},clearHighLight:function(){this.item.removeClass("highlight")}}),ThumbnailItem=Class({create:function(t,i){this.parent=t,this.margin=0,this.length=160,this.pages=i,this.cells=[],this.initHtml(),this.onResize()},onResize:function(){for(var t=0,i=0;i<this.cells.length;i++)t+=this.cells[i].length;this.item.css({width:t+"px"})},initHtml:function(){this.item=$("<div class='item_focus focus'></div>"),this.initStructure(),1==this.cells.length&&(BookInfo.isLeftPage(this.cells[0].index,!0)?this.item.addClass("last_item"):this.item.addClass("first_item"),bookConfig.retainBookCenter)&&this.item.addClass("center"),this.addItem(),this.item.append(this.title),this.parent.append(this.item)},initStructure:function(){this.initCells();for(var t=getShownPageNumber(this.cells[0].index),i=1;i<this.cells.length;i++)t=t+"-"+getShownPageNumber(this.cells[i].index);this.title=$("<div class='title'>"+t+"</div>")},fillContent:function(){for(var t=this.cells.length,i=0;i<t;i++)this.cells[i].fillContent(0)},addItem:function(){for(var t=this.cells.length,i=0;i<t;i++)this.item.append(this.cells[i].getDom())},initCells:function(){for(var t=0;t<this.pages.length;t++){var i=new ThumbnailCell(this.item,this.pages[t]);this.cells.push(i)}},setPosition:function(t,i){this.item.css(i,t+"px")},fission:function(){this.item.removeClass("focus"),1==this.cells.length?(this.cells[0].setStyle({left:"auto",right:"auto"}),this.cells[0].fission()):(this.cells[0].fission(),this.cells[1].fission(),this.cells[0].setStyle({left:"-5px",right:"auto"}),this.cells[1].setStyle({right:"-15px",left:"auto"}))},merge:function(){this.item.addClass("focus"),1==this.cells.length?(this.cells[0]&&this.cells[0].setStyle({left:"auto",right:"0"}),this.cells[0].merge()):(this.cells[0].merge(),this.cells[1].merge(),this.cells[0].setStyle({left:"0",right:"auto"}),this.cells[1].setStyle({right:"0",left:"auto"}))},setHighLight:function(t){for(var i=0;i<this.cells.length;i++)this.cells[i].setHighLight(t);this.item.addClass("highlight")},clearHighLight:function(){this.item.removeClass("highlight");for(var t=0;t<this.cells.length;t++)this.cells[t].clearHighLight()},loading:function(){for(var t=0;t<this.cells.length;t++)this.cells[t].loading()},unLoading:function(){for(var t=0;t<this.cells.length;t++)this.cells[t].unLoading()},isRestrict:function(){for(var t=this.cells.length,i=0;i<t;i++)if(this.cells[i].isRestrict())return!0;return!1}}),ThumbnailFrame=Class({create:function(t){this._super(t),this.direction=Direction.top,this.leftButtonUrl=uiBaseURL+"prev_page.png",this.rightButtonUrl=uiBaseURL+"next_page.png",this.itemArray=[],this.taskList=new TaskList,this.taskList.setLargeLength(5),this.initDefaultDom(),this.initHtml(),this.initEvent(),this.onResize(),this.initCss(),this.hide()},initHtml:virtual_function,initCss:function(){rightToLeft&&this.stage.addClass("rightToLeft"),this.stage.css({right:"-300px"}),this.initColorCss()},initDefaultDom:function(){this.closeUrl=form_icons.close?"data:image/png;base64,"+form_icons.close:uiBaseURL+"close.png",this.close=$("<img class='close' src='"+this.closeUrl+"'/>"),this.close.click(this.hide.bind(this)),this.favicon=$("<img class='favicon' src='"+FormInfo.getFormFavicon("thumbnail")+"'/>"),this.initSwiper()},initColorCss:function(){this.stage.css({background:this.mainColorObj.rgba(.95),color:this.fontColor}),this.title.css({color:this.fontColor}),this.progressBar.css({background:this.fontColor})},initSwiper:function(){this.thumbnailSwiper=$("<div class='thumbnailSwiper stage'></div>"),this.thumbnailSwiperList=$("<div class='swiper'></div>"),this.progress=$("<div class='progress'></div>"),this.progressBar=$("<div class='progressBar'></div>"),this.topTitle=$('<div class="thumbnailTopTitle"></div>'),this.title=$('<div class="thumbnail_title"><span>'+getLanguage("btnThumb","Thumbnail")+"</span></div>"),this.favicon&&(bookConfig.RightToLeft?this.title.append(this.favicon):this.title.prepend(this.favicon)),this.topTitle.append(this.title,this.close),this.refreshSwiper(this.thumbnailSwiperList),this.thumbnailSwiper.append(this.thumbnailSwiperList),this.thumbnailSwiper.append(this.progress),this.progress.append(this.progressBar)},initEvent:function(){this.thumbnailSwiper.scroll({},Direction.top)},onResize:function(){this.height=windowHeight-40,this.refresh(),this.thumbnailSwiperList.width(),this.stage.css({width:"248px",height:this.height})},refresh:function(){this.thumbnailSwiper.refreshData(),this.thumbnailSwiper.css({width:"248px",height:"99%"})},refreshSwiper:function(t){this.length=0;for(var i=BookInfo.getThumbnailPages(),e=0;e<i.length;e++)this.addItem(t,i[e]);t.css({width:"248px",height:this.topLength+"px"})},mergeAll:function(){for(var t=0;t<this.itemArray.length;t++)this.itemArray[t].merge()},fissionAll:function(){for(var t=0;t<this.itemArray.length;t++)this.itemArray[t].fission()},addItem:function(t,i){(t=new ThumbnailItem(t,i)).setPosition(this.topLength,this.direction),this.topLength+=this.height,this.topLength+=this.margin,this.itemArray.push(t)},clearHighLight:function(){$(".highlight").removeClass("highlight")},setHighLight:function(t){$(".highlight").removeClass("highlight");for(var i=0;i<this.itemArray.length;i++)0<=this.itemArray[i].pages.indexOf(t)&&this.itemArray[i].setHighLight(t);window.setTimeout(this.thumbnailSwiper.animateToCenterItem,10)},getShowStatu:function(){return this.visible},getHeight:function(){return 0},getTopHeight:function(){return 0},getBottomHeight:function(){return 0},fillImage:function(t){this.itemArray&&this.itemArray[t]&&(bookConfig.isEncryptionBook&&this.isRestrict(t)?this.itemArray[t].restrict||(this.itemArray[t].fillContent(),this.itemArray[t].restrict=!0):this.itemArray[t].fill||(this.LoadCount++,this.itemArray[t].loading(),this.itemArray[t].fillContent(),this.itemArray[t].fill=!0))},fillContent:function(){verifyPassward()&&(this.interval&&!this.interval.isRunning()?this.interval.start():this.interval=function(){this.performTask()}.interval(this,60))},performTask:function(){for(var t=(i=this.getShownItems())[1],i=i[0];i<=t;i++){var e=function(){thumbnail.fillImage(this.index)}.bind({index:i});bookConfig.isEncryptionBook&&this.isRestrict(i)?e.id="restrict"+i:e.id=i,this.taskList.unShiftTask(e)}},isRestrict:function(t){return!(!this.itemArray||!this.itemArray[t])&&this.itemArray[t].isRestrict()},getShownItems:function(){var t=this.thumbnailSwiper.stageLength,i=-this.thumbnailSwiper.getCurrentLength(),e=this.itemArray[0].length+this.itemArray[0].margin,t=parseInt(t/e)+2,i=parseInt(i/e),e=Math.min(i+t,this.itemArray.length);return[Math.max(0,i),e]},showOrHide:function(){this.visible?this.hide():this.show(),onStageResize()},show:function(){this.refresh(),this.setHighLight(BookInfo.getCurrentPageIndex()),this.visible=!0,this.stage.animate({right:"0"},400,function(){this.fillContent()}.bind(this)),this.changeIconColor()},hide:function(t){this.interval&&this.interval.stop(),this.visible=!1,this.stage.animate({right:"-300px"},400,function(){}.bind(this))}}).extend(FormFrame),ThumbnailForm=Class({create:function(t){this.direction=0,this.height=130,this.topLength=10,this.margin=30,this._super(t),window.mutexForms||(window.mutexForms=[]),window.mutexForms.push(this)},initHtml:function(){this.stage=$("<div class='thumbnail_win10'></div>"),this.stage.append(this.thumbnailSwiper,this.topTitle),this.stage.append(this.pageCaption),this.parent.append(this.stage)}}).extend(ThumbnailFrame),toolbar_icons={First:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkIwRDNFQjEwMDlCQTExRTlBNzZFOUNGMkZGNEY4NDlFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkIwRDNFQjExMDlCQTExRTlBNzZFOUNGMkZGNEY4NDlFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjBEM0VCMEUwOUJBMTFFOUE3NkU5Q0YyRkY0Rjg0OUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjBEM0VCMEYwOUJBMTFFOUE3NkU5Q0YyRkY0Rjg0OUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6YJGiEAAAAYElEQVR42uzSMQoAIAwDQCP+/8txcXASG7WoNNC1R2lAMnkkJ6cEFNBWiG2WodEielzUIzgFmRAVMiMKJCFX1xtK49SL4FlvM7byIxOWJxdiAhumbCgUnq53QB9DVYABAFdpEDLlR2ZwAAAAAElFTkSuQmCC",prev:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5N0E4RTVBMDlCQTExRTlCRUJFRkZGQzJCNUE3NzgxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk5N0E4RTVCMDlCQTExRTlCRUJFRkZGQzJCNUE3NzgxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTk3QThFNTgwOUJBMTFFOUJFQkVGRkZDMkI1QTc3ODEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTk3QThFNTkwOUJBMTFFOUJFQkVGRkZDMkI1QTc3ODEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4RfXNYAAAAa0lEQVR42uzTMQ6AMAxD0QZx/yubhaESS/1DU5AaqfNTUjsktYo5WtFsaCmk+02FVLFRj8QsyEIoZCMEQogLYcSBUsgnCxukO3SjFOaeDmPkjxBGw2BjmdRZWDbew506X6hI/LKwG3rMJcAA7FcSMm2aO14AAAAASUVORK5CYII=",next:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjkzMjM2MkM2MDlCQTExRTk5NTI5RUEzMUU4NEFGQzIwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjkzMjM2MkM3MDlCQTExRTk5NTI5RUEzMUU4NEFGQzIwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTMyMzYyQzQwOUJBMTFFOTk1MjlFQTMxRTg0QUZDMjAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTMyMzYyQzUwOUJBMTFFOTk1MjlFQTMxRTg0QUZDMjAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7pmLq4AAAAZ0lEQVR42uzVwQoAIAgD0Iz+/5fXpWuHbSkECp0flq4AMCpqjqJqKB3COWUdIRsKF2M6sjD26mRMmToJU8ebxpw9orAvkgGX7p5CFKJCNOJGUGS9kYyw6S0jbgRRtbKB/sr/gbYAAwA0ShIya1e3ogAAAABJRU5ErkJggg==",Last:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE1RThGNTYzMDlCQTExRTlBNkU3RERFMTUxRjRGQjcxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE1RThGNTY0MDlCQTExRTlBNkU3RERFMTUxRjRGQjcxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTVFOEY1NjEwOUJBMTFFOUE2RTdEREUxNTFGNEZCNzEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTVFOEY1NjIwOUJBMTFFOUE2RTdEREUxNTFGNEZCNzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz73ANtuAAAAYElEQVR42uzVMQoAIAwDwFb8/5cjgqtgjJYOLTifkagOwCKmWdAUVBAFYa2wRFA2cgL5AfYskYwxRydhbOuusbT3CJt03+rtvxJJCPMySMicftk4Y/EuAPVNFJQcGgIMAM7ZEDOtFcV4AAAAAElFTkSuQmCC",home:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY1MkU3RDhCRUVDNDExRThCNkZDQUIwRjg3RUNBQTAwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY1MkU3RDhDRUVDNDExRThCNkZDQUIwRjg3RUNBQTAwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjUyRTdEODlFRUM0MTFFOEI2RkNBQjBGODdFQ0FBMDAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjUyRTdEOEFFRUM0MTFFOEI2RkNBQjBGODdFQ0FBMDAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4ZIJ50AAAAcklEQVR42uzUQQqAMAxE0Wbw/leOCC0oak3aTHGRD9lk88gmoqplRSiLGoG0DhU6AKmjLKghLReGQcSNYQJxYZhEzBgCEBOGIOQTQyDSxfCARKVv0Owl3ctAQm4YTgtW8vvvnVBCCV3bLA+RBVHe0S7AALabHDP3EiqbAAAAAElFTkSuQmCC",ZoomIn:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkIzRUNBRTZCRUVDMzExRTg5RDRFRUJEMzQ3ODE3QkJEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkIzRUNBRTZDRUVDMzExRTg5RDRFRUJEMzQ3ODE3QkJEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjNFQ0FFNjlFRUMzMTFFODlENEVFQkQzNDc4MTdCQkQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjNFQ0FFNkFFRUMzMTFFODlENEVFQkQzNDc4MTdCQkQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4fujM/AAABjklEQVR42rzWO0vDUBTA8UbbRRB8TYKLxbpaWrEq4qLgVOiq+A0ULYKrq5/CxT2OgrgUcevgJDgoioMKvnBUIf4DJ3INOc2tTXrhR+G+Dk3uObmO53mZbrSsxZwprGMeYxjBM+5xjkNcxG3S02JsHC6O8IEdTKNffnfxJeOuzNeb/+girOARdeSUOYGczHuQdZHzojqrsqgYEyCsKOuqNoEm8IJKm0ECFVlfiAt0LI8h04G67KMGKuHO4p14MeNZ2adk9punbg0HcpI6ad+yz6p2vOdwmlB+nmBRC+Qn401Cga7CeeUYJcj/y334DKeaxcZOVIqa/eY/8rN/WNnEpPWZbQhv2qO7ji0j9m0y/BrMQGdYSijQMhparSvL+c8mlEdlLY+auMTmP1682TZkn2ar6l3osNbN4NWm1nWtegdqeMK25fdoS+bX2vkeBfJwcYs9zGIQvRjFAvZl3JX56mFxLC4nwZ3Br115DOBd8q6h3Bm88KFxUrwFqSUo6eaYdTLNQH+CpR3oN8F/BBgAWyhfsprZd8gAAAAASUVORK5CYII=",ZoomOut:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkMzMkRFRjE5RUVDMzExRThBOEM3RkMzQ0M0NTEyOTIyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkMzMkRFRjFBRUVDMzExRThBOEM3RkMzQ0M0NTEyOTIyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzMyREVGMTdFRUMzMTFFOEE4QzdGQzNDQzQ1MTI5MjIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzMyREVGMThFRUMzMTFFOEE4QzdGQzNDQzQ1MTI5MjIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6qMfXZAAABjElEQVR42rzWv0vDQBTA8Z6miyD4axJcLNbV0opVERcFp0JXxf9A0SK4uvpXuLjHURCXIm4dnASHiuKggr9wVCF+Ay9yhlxzJUkPPhSSu/dIeu/llOd5uV4Mx2LODDaxiAmM4QUPuMQxruKC9HW4NwkXJ/jEHmYxKL/7+Jb7rsw3D//VRVjDExrIG+YE8jLvUdZFzou6WJNFpZgEYSVZV7NJNIVXVLtMEqjK+mJcolN5DbkEGhLHmKiMe4v/JI4jccr6dX3XbeBIdlKS8SNx1k3bewHnKdXnGZZNifxivE0p0U24rpTWgvxHHsBXuNQsAquoEtWv60/kV/+oIUic8BjBu+nVtWPbiP2YDv8NeqILrKSUaBVNU6+ryP53UqqjiqmOWrjGdsKn2ZI4rU7du5iw183hzabX9ax7B+p4xq7l92hH5te7+R4FCnBxhwPMYxj9GMcSDuW+K/P9dV5UPGVxOAnODH7vKmAIH1J3TcOZwQsXssrwFGRsQWkPpffJLBP9S5Z1or/O/ivAAIH+XbS0YuRoAAAAAElFTkSuQmCC",search:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjBDOUZCMThERUVDMzExRTg4OTA0REVCRTRCMDVEREY4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjBDOUZCMThFRUVDMzExRTg4OTA0REVCRTRCMDVEREY4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MEM5RkIxOEJFRUMzMTFFODg5MDRERUJFNEIwNURERjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MEM5RkIxOENFRUMzMTFFODg5MDRERUJFNEIwNURERjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6JJ+FQAAABhElEQVR42rzWvUvDQBjH8UTTRRB8mwQXi3W1tGJVxEXBqdBV8T9QtAiurv4VLu5xFMSliFsHJ8Ghojio4BuOKsTvwRNIQ665kmsPPgSSu/uR5O5J3CAInH40z6DPHLaxjClM4A1PuMYpbtImGehwbRo+zvCNA8xjWI6H+JXrvvTXN/XoEmzgBXXkNH1COen3LOMS+yWdrMqgYkpAXFHGVU2CZvCOSpchoYqML6QFnctjcDKoyzzaoBIeDd5JGk/mKUXPR1fdFk5kJWVpfzLPpm55L+HS0v68wKouSG3Ge0tBd/F95UZKkLrlIfxYClMTu0l3pHb/uKWQMXzqHl0rtYyYt9n4a4gGXWHNUtA6GrpaV5b171naR2XdPmriFrsZ72ZH5ml2qt6FjLVuAR8mta5v1TtUwyv2Db9He9K/1s33KJSHjwccYRGjGMQkVnAs133pr8YFSfO5Bj8n4T+Dql15jOBL9l1D88/QVhXiJch205Yg282VsJ4HtYX1OigMc/4FGABM7lyrXW4JKQAAAABJRU5ErkJggg==",thumbnails:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkZGMUYzQTQwRUVDMjExRThCNTJDRkUyN0YxODEzMzE2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkZGMUYzQTQxRUVDMjExRThCNTJDRkUyN0YxODEzMzE2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RkYxRjNBM0VFRUMyMTFFOEI1MkNGRTI3RjE4MTMzMTYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RkYxRjNBM0ZFRUMyMTFFOEI1MkNGRTI3RjE4MTMzMTYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz66QwFMAAAASElEQVR42mL8//8/Az0AEwOdAAsSm1ivMZKjngWHIbjAf3LV0y3oRi0atWhgMywpmZBk9YyjZd1oWTdq0ahFo2XdEAw6gAADAKLUFTEqfTZeAAAAAElFTkSuQmCC",tableOfContent:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI5QzUwRUNERUVDMzExRTg4OTA4OEUzRDA1NUQ4NDNFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjI5QzUwRUNFRUVDMzExRTg4OTA4OEUzRDA1NUQ4NDNFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjlDNTBFQ0JFRUMzMTFFODg5MDg4RTNEMDU1RDg0M0UiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MjlDNTBFQ0NFRUMzMTFFODg5MDg4RTNEMDU1RDg0M0UiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5B9MT5AAAATElEQVR42mL8//8/Az0AEwOdAAsSm1ZeY0S3CC5IRfCf7kE3/CxiITaMSYl4cixiHI2j0VQ3mupGE8NoYhhNDLRvoKBYxDgsgg4gwACBowlIwnzuLAAAAABJRU5ErkJggg==",bookmark:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjFBOEM1OUJGRUVDMzExRThCMUQ2QzYwRUYxOUQ0OEE5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjFBOEM1OUMwRUVDMzExRThCMUQ2QzYwRUYxOUQ0OEE5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MUE4QzU5QkRFRUMzMTFFOEIxRDZDNjBFRjE5RDQ4QTkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MUE4QzU5QkVFRUMzMTFFOEIxRDZDNjBFRjE5RDQ4QTkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5aT4ZOAAAAc0lEQVR42uTWSQqAMAwF0Pzg/a/8XQlBXGRoo8SsWmh5kIEWJKUjVJqiDTrMupJDRCDXhYfgm6njv5phdbrsHish3BDMrtEuCPPb+3MQO6BrJrgTsoNXwtSJSBXTAFLCNIikMU0gKUyLT7n7PMb9604BBgDbaxk1FWShRgAAAABJRU5ErkJggg==",autoPlay:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQyMEUyMjlDRUVDMzExRTg5NTQwOTUzNUJGRTJERUY1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQyMEUyMjlERUVDMzExRTg5NTQwOTUzNUJGRTJERUY1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDIwRTIyOUFFRUMzMTFFODk1NDA5NTM1QkZFMkRFRjUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RDIwRTIyOUJFRUMzMTFFODk1NDA5NTM1QkZFMkRFRjUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz65DMTwAAABqUlEQVR42rzWO0vDUBTAcSOKi1gHHygl7ewLp3Zw0c1BBaem/RIiLjq4qh+gfgQtugkOgqLuKjjoaNXi0sdSHB3i/8JJuYY0vdHYC78lPT0nN7nn3liu6/Z0Y/QZxNgoYAlTGMUXPvCOW5zgNSxJb4cCx3hAEkUsYAiTWMeh/HYnsXbbbOrRBVhDDbsYbBOjG5TYOvJBMUF/2sAL5gwK+M2ijM1OhXKoIPmLIp6k5Mi1K2TL1LN/KOLJSi7bu2Zpy/sIFezEtKIPkEJeXwwpNJDocKduhFklJKfK3VreDs7RNLhT0w5vSn85eh+pZjwzTGBFKHYhuVuFZnAf4fmbFnuU3K1CI6hGfNlescWQmKpsWT+2oIFubKoNTOAzwn9dmVXYGEddn9Gz9yxjLKLGPJ70QtdYjbmIGsu40Rs2LVvGfzRsWm/YN1xh22ClmQ6V61JyB26qmRg21Yx/U/UHODEeE043Dr4tkxNWP8r3MWxQQMXsyeMqmB7l+jsrycopYkWu9QtbrhUlpqS/Ez/L4LtO/9yaxphcr0mjqz45RTl0uXbrA/JbgAEAxBS1rDy0BF4AAAAASUVORK5CYII=",stopAutoPlay:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkYwOUY5ODUyRUVDMzExRThBRUIwRDBDNjdBNzk1NzNCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkYwOUY5ODUzRUVDMzExRThBRUIwRDBDNjdBNzk1NzNCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjA5Rjk4NTBFRUMzMTFFOEFFQjBEMEM2N0E3OTU3M0IiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjA5Rjk4NTFFRUMzMTFFOEFFQjBEMEM2N0E3OTU3M0IiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7rxudFAAABoElEQVR42rzWv0vDQBQHcE/ULsW6qFhC2tlfOLWDk5uDFZya9p8QcdHBVf0D4p+gRTfBQVDUvQoOOlq1OLVdiovoEL8H78IjJOmhuRx8luvLe2ly7y7C87yhNMaIRowNdViBWZiEH/iAd7iDU3iNSzI8oMAJPIAFLizDOORhA47otybF2pHZ5KMLsQ4d2INsRAyXpdgu1MJiwi7ahBdY1CgQtAAt2BpUqAptsP5QRLEoRzWqkE1/vfyPIkqZctlqTrDlfQxt2E1oRR9CAWp8MRSgB7mYu/Q055Qc5ZS5/eXtwAX0E+zRPvWXw/tINuO5gQ3hknL7hebh3kChR8rtL4Yv6vjvmItkoNCY42MMPiHDt6CMyU1VFerBjIH809DlhZ7Vs0x4LMETL3QDFQOFVuGWN2yRtgwTDVvkDfsG17ATc3dCc04NmeuKcoduqqUENtVScFMNBjgJHhNOGgffts4Jy4/yA5jQKCBj9ulx1XWPcv7OGrRyXFijuVFi05xLMQ3+ToKExncd/9yagyma71Cjyz45g1ZcEpHWB+SvAAMA6P21eFg2hMQAAAAASUVORK5CYII=",soundOn:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ1ODcyRDVBRUVDMzExRTg4QkU3RUMzODAyQ0IzODdFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ1ODcyRDVCRUVDMzExRTg4QkU3RUMzODAyQ0IzODdFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDU4NzJENThFRUMzMTFFODhCRTdFQzM4MDJDQjM4N0UiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDU4NzJENTlFRUMzMTFFODhCRTdFQzM4MDJDQjM4N0UiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5blQ1jAAAAf0lEQVR42uzV0QrAIAgF0K70/798x2JPbQw1dQQTeonokKiBZKsIaUXhgXitVOgEkP0iN2KBlhAttIxooAhkFE6fN6ZAVHn3pItvmYhsWG47GX5oXwiWPmJQX+ENQtac06QOnk/u6XWiPMiqYljGxJgCVpW3G+vR/fL5ZDgEGAB8ohU9/j34uQAAAABJRU5ErkJggg==",soundOff:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdGRUIzQzlBRUVDMzExRThCMTAxQUI2MDBDNDg5Q0EwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdGRUIzQzlCRUVDMzExRThCMTAxQUI2MDBDNDg5Q0EwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N0ZFQjNDOThFRUMzMTFFOEIxMDFBQjYwMEM0ODlDQTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6N0ZFQjNDOTlFRUMzMTFFOEIxMDFBQjYwMEM0ODlDQTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5Hjl7IAAAAlklEQVR42syWbQvAIAiEU/z/f9kRjLFVWy/nxYS+SPhQnlfi7mlHaNoUKyA/FxWUAcI+0TJkBgRBRkEwZAQUAslhRdEyJErexirMHFj/ykeCpAG7ehxtQXfYQ0gMr5OWWhkgb12jkiBVz5QEqXpmHYnKZG9e89bZGGZBujAbNGcIgSkw9TSvg2AKWAz0TCAy/se/7hBgAAr9HzzfX+M1AAAAAElFTkSuQmCC",annotation:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkJBMjQ2NDQzRUVDNDExRTg5NDRCRjRFMTY0RDRCRDYzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkJBMjQ2NDQ0RUVDNDExRTg5NDRCRjRFMTY0RDRCRDYzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QkEyNDY0NDFFRUM0MTFFODk0NEJGNEUxNjRENEJENjMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkEyNDY0NDJFRUM0MTFFODk0NEJGNEUxNjRENEJENjMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7avb9YAAAAbklEQVR42uyUUQrAIAxDzfD+V85+9iFMrdOagRooFBEeJKEgGRS6gkgyUEz2UQ/RCjI/V8RnoLAONVe8MyrCZpQhC5vVuhcsGgF/aRcLb7BAcKg297gMrRl12eiV0ebX+2R0QP+0jgoQlrDuFmAAOd8RRwsuUEMAAAAASUVORK5CYII=",videoGallery:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkExNDk0M0U4RUVDNDExRTg4OEE5REEyMDRENjM2OEY4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkExNDk0M0U5RUVDNDExRTg4OEE5REEyMDRENjM2OEY4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTE0OTQzRTZFRUM0MTFFODg4QTlEQTIwNEQ2MzY4RjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTE0OTQzRTdFRUM0MTFFODg4QTlEQTIwNEQ2MzY4RjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4tfCBFAAAA/klEQVR42mL8//8/Az0AEwOdwIBaxAbEE4H4LRC/g7LZaGFRFxCrAbEOEGtD2U0UewmUGNDwWyCWROJLQsVgfE8gfgbFnlj0Y8UsxLgFjT8XiMOg7FVALEVu0C0G4jlALAHEMlCD5+BwACMlQccGxBOB+B0UT4SKweS9gPg5ED+BsokKOkZ6ZVgWHPFACWDEZxEDSeFNfMIZXkWQFhDXA/EVWlkEM3wHEPNDSxd48v5PbDIlgEGgD4gtgZgR2WxY8v5PxcTAiE1sSCeGXiC2QPcZCw0s+gwtH3mAeA08k9IwjkCpLRSKtemRGOhbMrAQU05R0yLGoVzWoQCAAAMAjPgiziPb8uIAAAAASUVORK5CYII=",photoGallery:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjcyOTFGNjhCRUVDNDExRThBMjNBRTlCNjBFQTAwNDg5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjcyOTFGNjhDRUVDNDExRThBMjNBRTlCNjBFQTAwNDg5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzI5MUY2ODlFRUM0MTFFOEEyM0FFOUI2MEVBMDA0ODkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzI5MUY2OEFFRUM0MTFFOEEyM0FFOUI2MEVBMDA0ODkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7ap8wuAAABOUlEQVR42tzWMWvCQBTAcWMDpVAHsR26pEsXF8FB6EfwY0ihU8FBuhUcOguCUxaH0qmTs0rFQUvpB+gHKAVpoVMFweX8nzwhBIyn8QLtwY8LCdy7d/cunKOUSiXR0qmEWmKB3MCzzTV03PALC0HU/9yjqEAeeviV3rMVqI0hzqR/iFUNgQOrQsWgM8lhjmP84HDHYnCiMnrFrQSp4iVe7ZGRUIFnzUMfU+nPQ99NLceNCrQPN6txo/YobivhGZlNe7TrecvCRwfXpgMU0cXY4Bzp1ajgHTPk8bSpGHQhPOITV6hhgvKavShgJAomxZBFA9+4w1Hg+yU+cI8DeZdBUyZRgWNadV9o4WTNzE/RxUAy1Rn7MsGtyvvCoGTTqOMNJdNzZLO8jX9Bf//OYPXe4Fq+LyS/dAsBBgB6shm6DsaOCgAAAABJRU5ErkJggg==",sharethis:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE1QjdGQ0RFRUVDNDExRTg5N0IxOTBGMkNEQzZEODJDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjE1QjdGQ0RGRUVDNDExRTg5N0IxOTBGMkNEQzZEODJDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTVCN0ZDRENFRUM0MTFFODk3QjE5MEYyQ0RDNkQ4MkMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTVCN0ZDRERFRUM0MTFFODk3QjE5MEYyQ0RDNkQ4MkMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7tFPOnAAAA60lEQVR42mL8//8/Az0AEwOdAN0sYkFiExuGjHjk/uOSZyHBEGIdgdUyWgQdI7bQoVUcYVhGy8SAYhklFskBcQUQ74QaiA3DExkTmRYsA+KzQCwDxFOAWB6I2aG+wIaB1gFLBij+j8TGhf2A+BUQ1wIxDxHq4ZgUi/KB+C4Q65FiAakWhQPxIyCWIccSYi2SA+LXQGxOriUgzIhUeuMqPpYC8SMgrqQorROwSB6aupSB+CMZ5sPNJJS8I4B4C5mWkFQEOQLxRnrURzpAfIYq5RERiYESQHQcjbYZiGozkNJuoMgixmERdAABBgC3+Gtm7c1dOwAAAABJRU5ErkJggg==",print:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM0RjgwQjA4RUVDMzExRTg5MzgwQkI3QjExNzU1RjcyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM0RjgwQjA5RUVDMzExRTg5MzgwQkI3QjExNzU1RjcyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzRGODBCMDZFRUMzMTFFODkzODBCQjdCMTE3NTVGNzIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzRGODBCMDdFRUMzMTFFODkzODBCQjdCMTE3NTVGNzIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4KOGxkAAAAbUlEQVR42uyWQQoAIQwDzeL/vxyve1CINipCexRhaplQQbKcqK8cqjo4jz4TKqh7WSxeHV2C1u345WhXoNCzDmYIFb0jWk/lKBzSGRBdsBrtVG0qA/vePqIxS0MQduqdMtg/J05BJBCeG10TYAAychFDgxOLdwAAAABJRU5ErkJggg==",message:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAABHNCSVQICAgIfAhkiAAAAKxJREFUSEtjZKATYKSTPQxwi/4DAS0sZQQCkLkoFsEEqWUhyPGjFpEVmoMv6EhNieiJafD5iKyIQdJEtI+ICTp8eY9oi+jmo1GL0ENg4OMIW5wgpyqgCwWAavYDsQGx8YdRemPTiOx1JEsuAjUnEGsRTB3eGhZmEaWWoFR8uHwEFBeEBhdZPiHaR0CFF4CYIkuI9dFCcuIEPYQIxdECalhC0Eekpix86unWrgMABsarG8vqgVcAAAAASUVORK5CYII=",download:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkFFRTRCREE5RUVDNDExRThCNjY4QTkzRTZCQkM5ODgwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkFFRTRCREFBRUVDNDExRThCNjY4QTkzRTZCQkM5ODgwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QUVFNEJEQTdFRUM0MTFFOEI2NjhBOTNFNkJCQzk4ODAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUVFNEJEQThFRUM0MTFFOEI2NjhBOTNFNkJCQzk4ODAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5RaWUIAAAAcUlEQVR42uyVMQ7AIAwDMeL/X3ZXhtDaQaJVFU8oQ26IbUCynVBvh/Q/0Jjeq2MhmPFmHu4YwlJHS3iZoUDfBKllyF0QBBifMtiNIDILcW8Uwai2iWuGGSZDsq5Dphez9kYF9pUf1mmBLRDqRo4uAQYAgcQSO6jNsPgAAAAASUVORK5CYII=",fullscreen:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMyMzE4NzNCRUVDNDExRThCNzFEQjYyQTQ4RjZFQUYwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMyMzE4NzNDRUVDNDExRThCNzFEQjYyQTQ4RjZFQUYwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzIzMTg3MzlFRUM0MTFFOEI3MURCNjJBNDhGNkVBRjAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzIzMTg3M0FFRUM0MTFFOEI3MURCNjJBNDhGNkVBRjAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz53xNLsAAAAT0lEQVR42mL8//8/Az0AEwOdAAsSG5fXGIk0C69+FjINJdZB/+kedKMWkR+Bwy4fjVo0atGoRdS1iBZFxGg1MUQbJ7gSBKWNk2FaHwEEGAA81BAtdKYGkgAAAABJRU5ErkJggg==",exitFullscreen:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU5OTNCRDRCRUVDNDExRTg4RUQzRThGMEU5QUI4NkZGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjU5OTNCRDRDRUVDNDExRTg4RUQzRThGMEU5QUI4NkZGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTk5M0JENDlFRUM0MTFFODhFRDNFOEYwRTlBQjg2RkYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTk5M0JENEFFRUM0MTFFODhFRDNFOEYwRTlBQjg2RkYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6WtG6dAAAAUElEQVR42mL8//8/Az0AEwOdACGLSPHu/yHho1GLcAIWMiOelATBCCZGXD4atWjUolGLqFMEMVJYHzGiW8RIYcWH11GjiWHwWzT86iOAAAMA5U4QLbZlL0sAAAAASUVORK5CYII=",languageChange:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhEMEE1MjM0RUVDNDExRTg5MURBOTg3Q0M1RUY5ODYyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhEMEE1MjM1RUVDNDExRTg5MURBOTg3Q0M1RUY5ODYyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEQwQTUyMzJFRUM0MTFFODkxREE5ODdDQzVFRjk4NjIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEQwQTUyMzNFRUM0MTFFODkxREE5ODdDQzVFRjk4NjIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5DDofcAAABs0lEQVR42rzWv0vDQBQHcCNql2JcVJSQdvYXTu3g5OagglPT/hMiLjq4qn9A/BO06CY4CIq6q+Cgo1WLU9uluIgO8XvwEh7hLrk2MQcfhOR8L728dxfD87yBLMaQxhwbarAMMzAOv/AJH3AHp/AWFWQwJsEJPIIFLizBKEzDBhzRvXuaayujiaWTWIcW7EFeMYfL09w2VGVzZP+0Ca+woJEgbB4asBWXqAJNsPpI4rMoRkWVyKafXk6QxFemWLZ/zWDlfQxN2E2pog+hAFVeDAXogNnDU3sx902KKWIH5e3ABXR7eGJDPGfE/S71l8P7SDTjeR/LE5fskmIHO8McPKhaTSOhR0nD44liB8XwTR3/k/IWNwJfkONbUO4/N1U/UQemIpZFh2xMQpsnevHXUvHC/b9RZGMRnnmiG1hLUF2qsQK3vGGLtGWYCZtU1rBF3rDvcA07Gn2jO0SsK4ot3VRLKWyqpfCmGp7gpHhMOFkcfNs6Jyw/yg9gTCOBmLNPy1XTPcr5O6tT5biwSteGiU3XXJpT5+8kzND4ruOfW7MwQddb1OiiT86gEVmuWX1A/gkwACu3wHlL04F6AAAAAElFTkSuQmCC",about:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjA2RkYwMEZFRUVDNDExRThBMjJERDNERjk0QTg1RDlCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjA2RkYwMEZGRUVDNDExRThBMjJERDNERjk0QTg1RDlCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDZGRjAwRkNFRUM0MTFFOEEyMkREM0RGOTRBODVEOUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDZGRjAwRkRFRUM0MTFFOEEyMkREM0RGOTRBODVEOUIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7u7T8RAAABmElEQVR42ryWO07DQBCG44hAgwgVleUEWh6lU1DRUQBtHpdAiCYUtMABzBEggg6JIjwEBwAkLpAoCh3QIJoICZl/pd+SvbKdMVl5pa/w7nj+fc3MWr7vF/JoxUJOTSrkgDa4AW9gBH5Bl/2LkwopgXPwAmzggXUwB1xwyv4n2jmJntQZJbAD3sEhmE2xK3Bc2X2AZpxN0o+7oAfWxgjorII+2JMI1cEQ2BlFAmz+X08Tcrj82j9FAmr04wR9lhZHZ2AIDgzc6BNQAU39MlTAJygLZuwLbMr0p/xGrncDXIMvwWwtgY3yc0G/EaENcCXcFmne6tJvRGgFPBvOPK/0G7kMI0b8j3BFku2bBt9gpqh1LhtekUpPJX3r7iTJMWNTE7/VhR7AtmGhTfCox1GV0Ww6jqp6HA3APeuLidbmcQziykSQ69wJc52r57o4o4ah7N3Iox7tSwtfuMIeg/kxAmr8iNvVylJhw2fW4e3xwBb7SmCJ3x7HO+Ez0bGE7zr16GgxQaogXABTvFUqTi5BPzXd5/WA/BNgALA8r7jO/0+pAAAAAElFTkSuQmCC",Help:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjIzQTIzNDA3RUVDNDExRThCQUZCQTkwMDY0NTI2RDg5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjIzQTIzNDA4RUVDNDExRThCQUZCQTkwMDY0NTI2RDg5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjNBMjM0MDVFRUM0MTFFOEJBRkJBOTAwNjQ1MjZEODkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MjNBMjM0MDZFRUM0MTFFOEJBRkJBOTAwNjQ1MjZEODkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5SDdRqAAABzUlEQVR42rzWu04CQRQGYNaoFYoWWhhYtrLwFhMTKKxMKCzEhMJweQBaYyyIha3wAEtBZ6NEnsBEo/ZKp6WohAqNtcZi/Tc5g5Nx2Tnohk2+EIYz57Czc1nDcZzQMK5RRowJBdiABZiBL+jAC9zAGTz5JRnRFDiFJkTBhnWYhDnIQJV+u6VYs282d+g8bEMXDiHcJ0YWpthXyHvFeHXahUdYYRRQLUML9nSFstCG6B+KCFHKke1XyKRbT/6jiJCkXKZoM6TpfQJtOAhoRlcgDnl5MsThDSI+/7II787P1dDcVYRyxuWhK8GxT6cUJS9J392iNU2xqugjGs4h49OhQol1bao05e4V6kBswAd+AXeamBjl7hX6gPEBitRoKHc0cW7OT7XQBLNIhYoUGbG/Crm3N8/oOK1MihB36MSm+gBLjLWxRp9N5lpahXt5976CNKPjJRj0ybk24VpesBZtGRHNUIj1lGIMm1iwlroF1eE5wC2oDJa6BcmbaiKATTWhbqpqQC7AYyI3jINvn3PCykd5GaYYBdyYIxquAvcol59ZnWaODVvUNkZMarMppi4/E5XBeK+TX7cWYZbau7TQ3XXSgJZfEmNYL5DfAgwAk0aVSSAycOYAAAAASUVORK5CYII=",moreBar:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkNBQzUzQTE4RUVDNDExRTg4ODc0OUMwMUEwOERFNzU1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkNBQzUzQTE5RUVDNDExRTg4ODc0OUMwMUEwOERFNzU1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Q0FDNTNBMTZFRUM0MTFFODg4NzQ5QzAxQTA4REU3NTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Q0FDNTNBMTdFRUM0MTFFODg4NzQ5QzAxQTA4REU3NTUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5X3oX6AAAAOUlEQVR42mL8//8/Az0AEwOdwKhFoxbR3yIWAvLkZDJGcixiHI2j0cQwmhhGE8NoYhi1aDhZBBBgAOUUBkAPlnV+AAAAAElFTkSuQmCC",backward:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAA7amlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE4LTExLTI2VDE1OjU4OjQxKzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTgtMTEtMjZUMTY6MTU6NTYrMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE4LTExLTI2VDE2OjE1OjU2KzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmYxOTFjZTIzLWRiOGUtNTc0Ni04ZTdhLTRlN2UyZTIyMzE2MTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjdjNzAxMmQyLWYxNTMtMTFlOC1iYmNmLWVjOTg1NjcxZGRmODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDo1OTkzQkQ0OUVFQzQxMUU4OEVEM0U4RjBFOUFCODZGRjwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDo1OTkzQkQ0QUVFQzQxMUU4OEVEM0U4RjBFOUFCODZGRjwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjU5OTNCRDRDRUVDNDExRTg4RUQzRThGMEU5QUI4NkZGPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpjOGIzOGQwMy1iNmFiLTRkNGItYTU0NC02MGNhZWMxMTY0YmM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTgtMTEtMjZUMTY6MTU6NTYrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6ZjE5MWNlMjMtZGI4ZS01NzQ2LThlN2EtNGU3ZTJlMjIzMTYxPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTExLTI2VDE2OjE1OjU2KzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI2PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI2PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz5yDIS2AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAEJSURBVHjazJYxSsRAGEZfdNFmC0FY8AYWguAKnmI9gOy29p7AG3gIC3v7LTyAjYiFsltuI2ij/bPJQoRJzGQngwMfA38SXpLJ/zKFSo6xRabRBmQOkEDRNygZpAmUFFIHSg4JgazMbfIBPABXwDAGVFTmNjkEboAz4BW4qF9xDcWaelNO1Df1OnS86cIusJG6VKcxoK6wU/Vd3avW/2rYooMZHoE5MI1VUJdP/RY4zyHVJ+Do19329JvYAb6A3b6faL9s5t5f3THwkgM0A+7bmGGTBPsoNWSkLtRZrBliMi71E+26dbYb6gfqRL1TVyHHrTPYcCPyCTyXC38JfNedOEigm/+1r/sZAEHqVXyFyGD/AAAAAElFTkSuQmCC",forward:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAA7amlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE4LTExLTI2VDE1OjU4OjQxKzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTgtMTEtMjZUMTY6MTU6NDErMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE4LTExLTI2VDE2OjE1OjQxKzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjM3MTAxYThmLThlNWItOTA0ZS1hZWQ4LTdhOWVjMTAzODA1ODwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjc3MTA5MTRhLWYxNTMtMTFlOC1iYmNmLWVjOTg1NjcxZGRmODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDo1OTkzQkQ0OUVFQzQxMUU4OEVEM0U4RjBFOUFCODZGRjwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDo1OTkzQkQ0QUVFQzQxMUU4OEVEM0U4RjBFOUFCODZGRjwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjU5OTNCRDRDRUVDNDExRTg4RUQzRThGMEU5QUI4NkZGPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo3NmE4M2ExYi1mZTQ4LTU5NDAtOWExMi1jNGYxMzdmOGRlMGI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTgtMTEtMjZUMTY6MTU6NDErMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MzcxMDFhOGYtOGU1Yi05MDRlLWFlZDgtN2E5ZWMxMDM4MDU4PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTExLTI2VDE2OjE1OjQxKzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI2PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI2PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4tdSU7AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAENSURBVHja3JYxSgQxFIa/uO0KoiB4AwtFWAVPofayW3oAT+ANPISFvb3FHsDGwmIXt7QR9gDafDazIG5mZmdIUhj4CSQhX0he/veCSom2RaGWCmQpUGiDpby6RljqN6qF5QiGKKwNNARugSmwrDbYRGsB0gS6BmbAOXAPHFan3UT86iusxnSnztVRzXyTjI3HFo7VhbqfChID7aif6llKiLr2RmPgGXjp4Qyhy4e9BB56hnQnCzoCXnOYaviTJr6AbeA7t3svgb0SaeINOCkBegImWTJfwn/UqNjgRH3v6QydQCuvW6inuUErz/tQH9UL9UAd1KwdtIFCS7k1BG6AK+AY2O3rGOHf1XU/AwAKbFikU77EegAAAABJRU5ErkJggg==",soundAdd:"iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEFBNzMxOUFCQjgwMTFFNkFFNTJGQ0IwMjg0MjJBRTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEFBNzMxOUJCQjgwMTFFNkFFNTJGQ0IwMjg0MjJBRTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4QUE3MzE5OEJCODAxMUU2QUU1MkZDQjAyODQyMkFFNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4QUE3MzE5OUJCODAxMUU2QUU1MkZDQjAyODQyMkFFNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqAv3nkAAABBSURBVHjaYvz//z8DLQETA43BqAWjFmCA/1A8GkTUAyxEhDkx4oyD1geMOFzOOJqK6BYHDMSmltE4GLWAdgAgwAAU3Qgykbj+1QAAAABJRU5ErkJggg==",soundReduce:"iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTE1MjRBQzlCQjgwMTFFNjk0MzRGREJFRTk5OTY1OUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTE1MjRBQ0FCQjgwMTFFNjk0MzRGREJFRTk5OTY1OUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MTUyNEFDN0JCODAxMUU2OTQzNEZEQkVFOTk5NjU5QSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MTUyNEFDOEJCODAxMUU2OTQzNEZEQkVFOTk5NjU5QSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Po2FvM0AAAA1SURBVHjaYvz//z8DLQETA43BqAWjFoxaQAcLWAjIE1uOMA5aHzCORvKoBaMWjFrAwAAQYADvCQQywiPpxwAAAABJRU5ErkJggg==",emailButton:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk4RjM4MUI5RUVDNDExRThBODgxRUJGNDRGODQ5QjY5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk4RjM4MUJBRUVDNDExRThBODgxRUJGNDRGODQ5QjY5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OThGMzgxQjdFRUM0MTFFOEE4ODFFQkY0NEY4NDlCNjkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OThGMzgxQjhFRUM0MTFFOEE4ODFFQkY0NEY4NDlCNjkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz59E5c5AAABA0lEQVR42uzVvwqCQBwHcK9sqlXaw7kt7AFqaOgRpKWHSKiXCMJnaAiiFwiagqagqSEa+vMY1/fiJx0qeh7qEP7gQ3LZff152jHOuVFG1YyS6v+CTOm4yMVi4Y7GYjAnQ9j+2sBTR0TdYA5MGtfhwgMcmjcSZMEeNtDSDPHgCrY0byRIfJqwhIt0soo6+HCkCzbSggITeMFIIaQJO9IMfZcaJPTgDrOEdbOoC5+6MnSChDYcYB1ztTath5fQrXKQ0IAVnKFDYw49WW7Kbc0UFJjCExbwhoHCb7SChD6coKt4/ndeJm0TnN7ovIvH/QVV20QVVO4OW+guKwexao2y1EeAAQDlW/HX4Gqg6QAAAABJRU5ErkJggg==",wechat:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAA7amlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE4LTExLTI2VDE1OjU4OjQxKzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTgtMTEtMjZUMTY6MTE6MDgrMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE4LTExLTI2VDE2OjExOjA4KzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjE2YTk5NGJlLTMzMGYtNTA0Yi05YzBkLTUzNDViNzg1ZTA2YzwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmNhNDEyMTFjLWYxNTItMTFlOC1iYmNmLWVjOTg1NjcxZGRmODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDo1OTkzQkQ0OUVFQzQxMUU4OEVEM0U4RjBFOUFCODZGRjwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDo1OTkzQkQ0QUVFQzQxMUU4OEVEM0U4RjBFOUFCODZGRjwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjU5OTNCRDRDRUVDNDExRTg4RUQzRThGMEU5QUI4NkZGPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDoxZTI5NjEwNS1hMmQ3LTlhNDItYjAwMy05NGFmMzg0ZWM0NmE8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTgtMTEtMjZUMTY6MTE6MDgrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MTZhOTk0YmUtMzMwZi01MDRiLTljMGQtNTM0NWI3ODVlMDZjPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTExLTI2VDE2OjExOjA4KzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI2PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI2PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz5z4T9qAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAIxSURBVHja5JbNSxZRFIefec1IiaSFFfYFFWERJKaEBiEZbdpkCNGiKNCQFrVoZRBlkTvXfeCi2kSb/A9aROHKKCmiL8iCROzDRRCB9bToCMM07/uKkgRdONy5v3vmPHfOvXNmEpWFaAUWqP0zoBZgABgBpgCjHwm9Zb6gJuAhMAhMAD3AeiCJvif0wfBrKktSs3ZUnVSPqUnOfNqS8JtQu0r5ZoWD6lt1UxlA1jao79TO2YBq1Q9qQ0prVi+oq1Nandqn7swEa4j7a8uBzqpXMw43/N0OpLSO0G7lBLwScUqCHqu7Mg4b1eNqTUpbGilqVwfUUfVr2Ev1iVpfCvQtE7DUAehVx9Vz6lZ1cdg2tT/metOHKR1gSq2aBahfHVZXFVnEopgbDt8/QI/UljKQVnUs9eQV6pIMaGaxNeHbmgX1xWaWAt1Ru1Pji+rr1EnrjLQ1xrhbvZsFrVQ/qU0lQJPqitS4TT2pVschqVdPp3zq1I95L+wh9b26uQjoh1rI0avVZZHKtF6lfs8DESscLQJ6o27JaBWxN3nlqlF9quYW1efAdFyvAXYDzcByYAg4AdTFfBIVvRB9tu0B7uUV1Wr1WdSt8bD76oj6Rf0Z6Ts/i4KL+kDdm01dol5Sr6mH1XVFbm6PmtZRBlKrflYrVZI5/jPsAK5HuoaAF0AlUA9sB26GXxewH5gzaGZ/2oB9sZfTwCtgDDgDrAVuA6fmCyr35T4SC7j8N0H/we/WrwEANqWvpvgXLToAAAAASUVORK5CYII=",magnifier:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjA5NDUyNjVBNDQ2MTFFOTk5OTBCRDE0NDBGRTJEMzEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjA5NDUyNjRBNDQ2MTFFOTk5OTBCRDE0NDBGRTJEMzEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjNFQ0FFNkJFRUMzMTFFODlENEVFQkQzNDc4MTdCQkQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjNFQ0FFNkNFRUMzMTFFODlENEVFQkQzNDc4MTdCQkQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7n9SOcAAABtElEQVR42syWMUsDQRCFczGxE1RsFGwMxtaQiJEgNhGsAmkV21hqELS09S/EwsZSOEuLVEEECwv/QEQRUUGD2BpYX/SdbOLO3oaQ4MDHHbsz8+72ZufWU0pFBmExB595sAlyYBpMgFfwAC7BCbgJSxK1zM0AH5yBD7ALFsAIr3vgk/M+/WVrLZ2BNfAMyiAu+ATE6ffEOKOfabDAoFSIQCcpxhVchGbBG8h2KRKQZXwyTOicyyAlqqgfy1t8yswjCqXBfcg3qYMqBSWfGPOk9XG96jbAMSvJZCVeT7V7kzWZZ12quiuQszyp/iYtK1l8l8C1tHSPYNISrH+bCoUl33HQkISaYNhSBHrivENRKEmoYXmjujJbxfWN9GKoC20kz3GvgyPOmWwO3Eq97kII3GfSTtviA5gqcBXUpKrLsP5jliIwVWJV2EeZXjqDCzthnSHCHtVLr1tkEST/TfcOKIIXLoPL/2ib/sVu/kcBCeCDO3DAtjIGhsAUWAaHnPfp/2ejBngOh5PgzLACEmAUvHPf1YQzg+Je+zWvj6egNrFoH09YHsX6LtQmFh3A2fF7+b4EGAD3dPWk2XbzQwAAAABJRU5ErkJggg==",text:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhGRDYwNjM0RUVDMzExRThCRDJGRDc5RDFDMUFDMjM0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhGRDYwNjM1RUVDMzExRThCRDJGRDc5RDFDMUFDMjM0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEZENjA2MzJFRUMzMTFFOEJEMkZENzlEMUMxQUMyMzQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEZENjA2MzNFRUMzMTFFOEJEMkZENzlEMUMxQUMyMzQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz71GWTAAAAAZklEQVR42mL8//8/Az0AEwOdAN0sYkFiUzsMGXFZhCFJAfg//ONo1CKyUtyA5SOyki2xvmOhRrBAHcCIz2FMVLCEKPWjyXvUolGLqF8E/adBpoVoorC59Z9Yh7BQGCKMgy6OAAIMAGAHDT3W/6ROAAAAAElFTkSuQmCC",phone:"iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTg4NEZBMEQ1NDU2MTFFQTlBODhCMUUwMDUyQTAyMjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTg4NEZBMEU1NDU2MTFFQTlBODhCMUUwMDUyQTAyMjEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5ODg0RkEwQjU0NTYxMUVBOUE4OEIxRTAwNTJBMDIyMSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5ODg0RkEwQzU0NTYxMUVBOUE4OEIxRTAwNTJBMDIyMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjvDMvEAAAHFSURBVHjavJa9TsMwEMdjBBuiDMAUpYWVD4klHZi6MRTWpn0AVoRYysAKPEAZyg4INiQGvgQPUJB4AaqqTEAXNhYIf0sXyTnFsaNWOeknJRfn/vH5zo4Iw9DJw8acnMxWyANNcAvewQ/4BTfknx9WSAqcgRfgghZYA1PAB8fk79A4TxtJrpGGTfAJ9sFkyjiHnstxX6CeNEb34jZ4AysGAc4y6IIdG6Ea6AM3o0iES+/X0oQ8mn6Z+SOzFStTHC/yCdZHp6AP9tRlBCLh2mRHoAjqvBiKYAAKiq+d8LW2MytQPBk3Vt4BuAbfim9riB6VcS4obkyoAq4ML2dJnUMNXeFCS+B5hCLSXiluTGgGfLCBJ8q1ILEsJuPN8mL4A6sWix9mKP0Fihub0b1mc+QzUe+jdOpmuwjueOoewYYmBToxYUjtOnjiqStRNxdSesPUQ2FCH5V46nrggc4Xx3JmaVXZpOXoJR0T0V7nG768HcaN7yA+3+uSggQj2r2DPM6jXduDTz1hD8G0QUA+P6B0NbKcsOqanVP1tECVfBPUjFXyD2icp4slLP/r5E9HgzZI2YRzYJyqSvbJJeimBRB5/UD+CzAAb3sUNe30C8EAAAAASUVORK5CYII=",previous_normal:"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",previous_normal_down:"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",next_normal_down:"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",next_normal:"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"},CatalogThumbnailItem=(Class("ButtonQueue",{create:function(t){this.container=t.container,this.extended=t.extended,this.buttons=t.buttons.clone(),this.buttonCount=this.buttons.length,this.buttons.each(function(t){t.freedom()}),this.pickButtons()},pickButtons:function(){this.btnMore=this.buttons.find("more").get(0),this.buttons.remove(this.btnMore),this.buttonCount=this.buttons.length},sort:virtual_function}),Class("PCButtonQueue",{sort:function(){1<=this.buttons.length&&(this.btnMore.addTo(this.container.topBar),this.btnMore.title.direction=TextBubble.LEFT,this.btnMore.$button.css({background:Color(bookConfig.toolbarColor).rgba(bookConfig.ToolBarAlpha)}));for(var t=0;t<this.buttons.length;t++){var i=this.buttons.get(t);i==this.buttons.find("sound").get(0)&&bookConfig.BackgroundSoundURL&&(VolumeControlBar.config.direction=VolumeControlBar.DEFAULT,i.title=!1),"WeChatShareButton"==i.getClassName()&&global.WeChatShareImg.setDirection(TextBubble.LEFT),"TelephoneNumberButton"==i.getClassName()&&global.PcTelephoneNumberFrame.setDirection(TextBubble.LEFT),i.addTo(this.extended)}},getButtonsWidth:function(t){return 48*t}}).extend("ButtonQueue"),Class("MobileButtonQueue",{sort:function(t,i){t=this.edtNumber.width+2*this.edtNumber.space+4*this.buttonWidth,this.addPageButtons(t,(this.container.width-t)/2),this.buttons.each(function(t){t.addTo(this.extended)}.bind(this))}}).extend("ButtonQueue"),Class("PCToolbar",{initBar:function(){this.topBar=$('<div class="fbTopBar" id = "fbTopBar"></div>'),this.logoBar=$('<div class="logoBar" id = "logoBar"></div>'),this.extendRrrow=$("<div class='extendArrow' style='border-bottom: 7px solid "+this.color.rgba(this.topBarAlpha)+";'></div>"),this.leftBar=$("<div class='leftPageBar' ></div>"),this.rightBar=$("<div class='rightPageBar'></div>"),VolumeControlBar.config={color:this.color.toString(),iconColor:Color(bookConfig.iconColor).toString(),direction:VolumeControlBar.DEFAULT},this.parent.append(this.topBar).append(this.logoBar),bookType!=BookType.catalog_book&&(this.parent.append(this.leftBar),this.parent.append(this.rightBar)),this.initPageButtons(),bookConfig.flipshortcutbutton=!1},initPageButtons:function(){this.btnFirst=this.pickButton("first"),this.btnPrevious=this.pickButton("previous"),this.btnNext=this.pickButton("next"),this.btnLast=this.pickButton("last"),(rightToLeft?(this.btnNext.addTo(this.leftBar),this.btnNext.setPosition(0,10),this.btnLast.addTo(this.leftBar),this.btnLast.setPosition(0,59),this.btnPrevious.addTo(this.rightBar),this.btnPrevious.$button.css({right:"0",top:"10px"}),this.btnFirst.addTo(this.rightBar),this.btnFirst):(this.btnPrevious.addTo(this.leftBar),this.btnPrevious.setPosition(0,10),this.btnFirst.addTo(this.leftBar),this.btnFirst.setPosition(0,59),this.btnNext.addTo(this.rightBar),this.btnNext.$button.css({right:"0",top:"10px"}),this.btnLast.addTo(this.rightBar),this.btnLast)).$button.css({right:"0",top:"59px"}),this.initPageButton(this.btnFirst),this.initPageButton(this.btnPrevious),this.initPageButton(this.btnNext),this.initPageButton(this.btnLast)},resetButtonColor:function(){this._super();for(var t=[this.btnFirst,this.btnPrevious,this.btnNext,this.btnLast],i=0;i<t.length;i++){var e=t[i];e.resetImg(),e.color=Color(bookConfig.iconColor),e.fontColor=Color(bookConfig.iconFontColor),e.changeIconColor(bookConfig.iconColor),e.changeCaptionColor(bookConfig.iconFontColor)}},initPageButton:function(i){i.changeColor(),i.$button.attr("class","pageButton"),i.$button.css({background:this.color.rgba(bookConfig.ToolBarAlpha)}),i.$button.bind("mouseenter",function(t){i.$button.css({opacity:"0.7"})}.bind(this)),i.$button.bind("mouseleave",function(t){i.$button.css({opacity:"1"})}.bind(this))},setButtonTitle:function(t){var i=t.getClassName();"LastPageButton"==i||"NextPageButton"==i||"FirstPageButton"==i||"PreviousPageButton"==i?t.setTitle(""):"WeChatShareButton"==t.getClassName()?global.WeChatShareImg=new WeChatShare({parent:this.parent,color:"#fff",textColor:bookConfig.toolbarColor,margin:10,padding:10,direction:2,arrowHeight:12,arrowWidth:12}):"TelephoneNumberButton"==t.getClassName()?global.PcTelephoneNumberFrame=new PcTelephoneNumberBubble({parent:this.parent,color:t.fontColor,textColor:this.color,margin:4,padding:15,arrowHeight:8,arrowWidth:8}):(i=new SolidArrowTextBubble({parent:this.parent,text:t.caption,color:t.fontColor,textColor:this.color,margin:3,padding:6,direction:2,arrowHeight:4,arrowWidth:4}),t.setTitle(i))},initExtendedbar:function(){this.extendedBar=new PCExtendedBar(this.parent),global.moreBar=this.extendedBar,this.extendedBar.$bar.append(this.extendRrrow)},onResize:function(t,i){bookConfig.ToolBarVisible&&(null==t?this.parent.width():parseInt(t),i=null==i?this.parent.height():parseInt(i),t=this.leftBar.height(),this.leftBar.css({top:(i=(i-t)/2)+"px"}),this.rightBar.css({top:i+"px"}),this.resetButtonPosition(),bookConfig.appLogoIcon)&&this.logoBar.find("img")[0]&&this.logoBar.find("img").css({top:"0",left:"0"})},resetButtonPosition:function(){new PCButtonQueue({buttons:this.buttons,container:{topBar:this.topBar,body:this.buttonBar,width:this.buttonBarWidth},extended:this.extendedBar.$bar}).sort(),this.extendedBar.resize(this.buttonsInExtendedBar()),this.extendedBar.hide(),this.buttons.each(function(t){t.changeColor()}.bind(this))},getTopHeight:function(){return 0},getButtonBarWidth:function(){for(var t=0;t<this.buttons.length;t++){var i=this.buttons.get(t);i.$parent==this.buttonBar&&i.width()}return 80},afterButtonClick:function(t){this._super(t)},getButtonWidth:function(){for(var t=0;t<this.buttons.length;t++);},getWidth:function(){return 0},getLeftWidth:function(){return 0},getRightWidth:function(){return 0},show:function(){var t;!bookConfig.ToolBarVisible||this.isMoving||this.visible||(this._super(),isIE8()?(this.leftBar.css({display:"block"}),this.rightBar.css({display:"block"})):(t=transformCSS({tran:{x:0,y:0}}),animateOnce(this.leftBar,t,500),t=transformCSS({tran:{x:0,y:0}}),animateOnce(this.rightBar,t,500)))},hide:function(){var t;bookConfig.ToolBarVisible&&!this.isMoving&&this.visible&&(this._super(),isIE8()?(this.leftBar.css({display:"none"}),this.rightBar.css({display:"none"})):(t=transformCSS({tran:{x:-this.leftBar.width(),y:0}}),animateOnce(this.leftBar,t,500),t=transformCSS({tran:{x:this.rightBar.width(),y:0}}),animateOnce(this.rightBar,t,500)))},changeLanguage:function(){this.buttons.each(function(t){t.changeLanguage()}),this.resetBottomBarWidth()}}).extend("Toolbar"),Class("PCExtendedBar",{show:function(t){var i,e;1!=this.isMoving&&1!=this.visible&&(this.visible=this.isMoving=!0,this.$bar.css({right:"12px",top:t.top+42+"px"}),i=0,this.$bar.css({display:"block",opacity:0}),e=function(){i+=.1,this.$bar.css({opacity:i}),equals(i,1)&&(e.stop(),this.isMoving=!1)}.interval(this,40))},resize:function(t){for(var i=0;i<t.length;i++)t.get(i);this.width=72,this.height=72*t.length+10,this.height>=windowHeight-72?(this.height=windowHeight-72,this.width=3*this.width+40):this.width+=20,this.$bar.css({width:this.width+"px"})}}).extend("ExtendedBar"),Class({create:function(t,i,e){this.itemContent=t,this.dockMenuContent=i,this.index=e,this.item=$("<div class='thumbnailItem'></div>"),this.rect=$("<div class='thumbnailRect'></div>"),this.caption=$("<div class='dockMenuItemCaption'></div>"),this.captionAfter=$("<div class='dockMenuItemCaptionAfter'></div>"),this.itemContent.append(this.item),this.item.append(this.rect),this.item.append(this.caption),this.caption.after(this.captionAfter),this.initEvent()},initItem:function(t,i){this.dockMenu=new DockMenu(this.dockMenuContent,t,i),this.initCaption(t,i)},addPrev:function(){var t=$("<div class='dockMenuItem dockMenuItemShadow dockButton'></div>");t.append("<div></div>"),t.append("<img src='"+uiBaseURL+"slide_leftButton.png'/>"),t.click(function(){return thumbnail.gotoItemByIndex(this.index-1),!1}.bind(this)),this.dockMenu.addObj(t,"before")},addNext:function(){var t=$("<div class='dockMenuItem dockMenuItemShadow dockButton'></div>");t.append("<div></div>"),t.append("<img src='"+uiBaseURL+"slide_rightButton.png'/>"),t.click(function(){return thumbnail.gotoItemByIndex(this.index+1),!1}.bind(this)),this.dockMenu.addObj(t,"after")},initCaption:function(t,i){var e=BookInfo.getThumbnailPages();t=1==e[t].length?e[t][0]:Math.min(e[t][0],e[t][1]),i=1==e[i].length?e[i][0]:Math.max(e[i][0],e[i][1]),this.fromIndex=t,this.toIndex=i,1<t&&(rightToLeft?this.addNext():this.addPrev()),i<bookConfig.totalPageCount&&(rightToLeft?this.addPrev():this.addNext()),this.fromIndex!=this.toIndex?this.caption.html(rightToLeft?this.toIndex+"-"+this.fromIndex:this.fromIndex+"-"+this.toIndex):this.caption.html(this.fromIndex),$(this.caption).css({position:"absolute",height:"16px",top:"-30px","white-space":"nowrap",width:"auto","-webkit-transform":"translate(-50%, 0)","-moz-transform":"translate(-50%, 0)","-ms-transform":"translate(-50%, 0)","-o-transform":"translate(-50%, 0)",transform:"translate(-50%, 0)",left:"50%"}),$(this.caption).css({"margin-left":-$(this.caption).outerWidth()/2}),$(this.captionAfter).css({position:"absolute",top:"-5px",left:"50%","margin-left":"-8px","background-image":"url("+uiBaseURL+"span.png)"})},initEvent:function(){this.choosedColor="#505a60",this.item.bind(_event._enter,function(){this.rect.css("background","#ffffff")}.bind(this)),this.item.bind(_event._leave,function(){this.rect.css("background",this.choosedColor)}.bind(this)),this.item.bind(_event._end,function(){thumbnail.gotoItemByIndex(this.index)}.bind(this)),this.item.bind(_event._over,function(){this.caption.css("display","block"),this.captionAfter.css("display","block")}.bind(this)),this.item.bind(_event._leave,function(){this.caption.hide(),this.captionAfter.hide()}.bind(this))},show:function(){this.rect.css("background","#ffffff"),this.choosedColor="#ffffff",this.dockMenu.show()},hide:function(){this.rect.css("background","#505a60"),this.choosedColor="#505a60",this.dockMenu.hide()},clearHighLight:function(){this.dockMenu.clearHighLight()},setHighLight:function(t){this.dockMenu.setHighLight(t)},onResize:function(){this.dockMenu.resize()}})),CatalogThumbnailBar=Class({create:function(t){this.menu=$("<div class='menu'></div>"),this.initMenu(),t.append(this.menu)},initMenu:function(){this.visible=!1,this.height=170,this.dockMenuContent=$("<div class='dockMenuContent'></div>"),this.thumbnailItemContent=$("<div class='thumbnailItemContent'></div>"),this.dockMenuContent.css({width:windowWidth-50+"px"}),this.menu.append(this.dockMenuContent),this.menu.append(this.thumbnailItemContent),this.addItem()},addItem:function(){this.itemArray=[];var t=BookInfo.getThumbnailPages(),i=parseInt(t.length/10);0!=t.length%10&&(i+=1);for(var e=0;e<i;e++){var o=rightToLeft?i-e-1:e,s=new CatalogThumbnailItem(this.thumbnailItemContent,this.dockMenuContent,e);s.initItem(10*o,Math.min(10*(o+1)-1,t.length-1)),this.itemArray.push(s)}(this.highLightItem=this.currentItem=this.itemArray[rightToLeft?i-1:0])&&this.highLightItem.setHighLight(1),this.highLightItem&&this.highLightItem.show()},gotoItemByIndex:function(t){this.currentItem&&this.currentItem.index!==t&&(this.currentItem.hide(),this.itemArray[t].show(),this.currentItem=this.itemArray[t])},onResize:function(){var t=1,i=10*(140*bookConfig.largePageWidth/bookConfig.largePageHeight+10);for(origin=0,windowWidth-50<i&&(t=(windowWidth-50)/i,origin=parseInt(100*(1-(windowWidth-50)/i)/2)),this.dockMenuContent.css({"-webkit-transform":"scale3d("+t+","+t+",1)","-moz-transform":"scale3d("+t+","+t+",1)","-ms-transform":"scale3d("+t+","+t+",1)","-o-transform":"scale3d("+t+","+t+",1)",transform:"scale3d("+t+","+t+",1)","-webkit-transform-origin":"50% 100%","-moz-transform-origin":"50% 100%","-ms-transform-origin":"50% 100%","-o-transform-origin":"50% 100%","transform-origin":"50% 100%"}),this.dockMenuContent.css({width:windowWidth-50+"px"}),this.thumbnailItemContent.css({"-webkit-transform":"scale3d("+t+","+t+",1)","-moz-transform":"scale3d("+t+","+t+",1)","-ms-transform":"scale3d("+t+","+t+",1)","-o-transform":"scale3d("+t+","+t+",1)",transform:"scale3d("+t+","+t+",1)","-webkit-transform-origin":"50% 100%","-moz-transform-origin":"50% 100%","-ms-transform-origin":"50% 100%","-o-transform-origin":"50% 100%","transform-origin":"50% 100%"}),t=0;t<this.itemArray.length;t++)this.itemArray[t].onResize()},getOccuHeight:function(){return 110},transparent:function(){this.menu.animate({opacity:0,"z-index":-1},200)},noTransparent:function(){this.menu.animate({opacity:1,"z-index":10},200)},mergeAll:function(){},fissionAll:function(){},getShowStatu:function(){return this.visible},clearHighLight:function(){this.highLightItem&&this.highLightItem.clearHighLight()},setHighLight:function(t){for(var i=0;i<this.itemArray.length;i++)if(t<=this.itemArray[i].toIndex&&t>=this.itemArray[i].fromIndex){this.gotoItemByIndex(i),this.itemArray[i].setHighLight(t),this.highLightItem=this.currentItem;break}},fillContent:function(){this.setHighLight(this.highLightItem.index)},showOrHide:function(){!1===this.visible?this.show():this.hide(),catalogBook&&catalogBook.showOrHideLiteThumbnail()},show:function(){this.showing=this.visible=!0,this.menu.animate.delay(this.menu,100,[{bottom:-105+toolBar.getBottomHeight()+"px"},300])},hide:function(){this.menu.animate.delay(this.menu,100,[{bottom:-this.height+"px"},300]),this.showing=this.visible=!1},setPosition:function(){},getHeight:function(){return this.getTopHeight()+this.getBottomHeight()},getTopHeight:function(){return 0},getBottomHeight:function(){return 1==this.visible?110:0}}),GuidToolbar=Class({create:function(t){this.$bar=$("<div class='catalog_simple_bar'></div>"),this.initButtons(),this.initLogo(),this.changeLanguage(),this.resetButtons(),this.initEvent(),t.append(this.$bar)},initButtons:function(){this.numBtn=$("<div id='guidPageIndex' class='page_num'></div>"),this.thumBtn=$("<div id='thumb' class='button'></div>"),this.moreBtn=$("<div id='more' class='button'></div>"),this.fullscreenBtn=$("<div id='fullScreen' class='button'></div>"),this.searchBtn=$("<div id='search' class='button'></div>"),this.shareBtn=$("<div id='share' class='button'></div>"),this.toolBarIconUrl=uiBaseURL+"catalog_icon.png",this.thumBtn.addCssSprite(this.toolBarIconUrl,"thumb",38,38,catalogIconInfo),this.moreBtn.addCssSprite(this.toolBarIconUrl,"more",38,38,catalogIconInfo),this.fullscreenBtn.addCssSprite(this.toolBarIconUrl,"fullScreen",38,38,catalogIconInfo),this.searchBtn.addCssSprite(this.toolBarIconUrl,"search",38,38,catalogIconInfo),this.shareBtn.addCssSprite(this.toolBarIconUrl,"share",38,38,catalogIconInfo),this.thumBtn.enterToChange(this.toolBarIconUrl,"thumb",38,38,catalogIconInfo),this.moreBtn.enterToChange(this.toolBarIconUrl,"more",38,38,catalogIconInfo),this.fullscreenBtn.enterToChange(this.toolBarIconUrl,"fullScreen",38,38,catalogIconInfo),this.searchBtn.enterToChange(this.toolBarIconUrl,"search",38,38,catalogIconInfo),this.shareBtn.enterToChange(this.toolBarIconUrl,"share",38,38,catalogIconInfo),this.$bar.append(this.shareBtn),this.$bar.append(this.searchBtn),this.$bar.append(this.numBtn),this.$bar.append(this.thumBtn),this.$bar.append(this.moreBtn),this.$bar.append(this.fullscreenBtn)},changeLanguage:function(){this.shareBtn.attr("title",getLanguage("btnSocialShare","Share")),this.searchBtn.attr("title",getLanguage("btnSearch","Search")),this.thumBtn.attr("title",getLanguage("btnThumb","Thumbnails")),this.moreBtn.attr("title",getLanguage("btnMore","More")),this.fullscreenBtn.attr("title",getLanguage("btnFullscreen","Fullscreen"))},resetButtons:function(){this.iconWidth=38,this.numWidth=60,10<=bookConfig.totalPageCount&&(this.numWidth=80),100<=bookConfig.totalPageCount&&(this.numWidth=100),1e3<=bookConfig.totalPageCount&&(this.numWidth=125),1e4<=bookConfig.totalPageCount&&(this.numWidth=145);var t=12;this.numBtn.css({width:this.numWidth+"px",left:t+"px"}),t+=this.numWidth,bookConfig.ShareButtonVisible?(this.shareBtn.css({left:t+"px"}),t+=this.iconWidth):this.shareBtn.hide(),bookConfig.SearchButtonVisible?(this.searchBtn.css({left:t+"px"}),t+=this.iconWidth):this.searchBtn.hide(),bookConfig.ThumbnailsButtonVisible?(this.thumBtn.css({left:t+"px"}),t+=this.iconWidth):this.thumBtn.hide(),this.moreBtn.css({left:t+"px"}),t+=this.iconWidth,bookConfig.FullscreenButtonVisible?(this.fullscreenBtn.css({left:t+"px"}),t+=this.iconWidth):this.fullscreenBtn.hide(),this.$bar.css({width:t+7+"px"})},initEvent:function(){this.addResponseDom(),this.thumBtn.bind(_event._end,function(){thumbnail&&thumbnail.showOrHide()}),this.fullscreenBtn.bind(_event._end,readAsFullscreen),$(document).bind(fullScreenApi.fullScreenEventName,function(){this.changeFullscreenIcon(fullScreenApi.isFullScreen())}.bind(this)),this.searchBtn.bind(_event._end,function(){frmSearch&&frmSearch.showOrHide()}),this.shareBtn.bind(_event._end,function(){sharePanel&&sharePanel.showOrHide()});var i,e=5,o=(this.moreBtn.bind(_event._end,function(){catalogBook.hideGuidBarAndShowToolBar(),"complex"==catalogBook.mode&&(e=5,s(),t())}.bind(this)),!1),t=function(){if(!o){o=!0;for(var t=0;t<this.responseDomArray.length;t++)this.responseDomArray[t].bind(_event._over,function(){window.clearInterval(i)}),this.responseDomArray[t].bind(_event._leave,function(){e=5,s()})}}.bind(this),s=function(){window.clearInterval(i),i=window.setInterval(function(){--e<=0&&(catalogBook.hideToolBarAndShowGuidBar(),"simple"==catalogBook.mode?window.clearInterval(i):e=5)},1e3)}},addResponseDom:function(){this.responseDomArray=[],global.toolBar&&(global.toolBar&&toolBar.topBar&&this.responseDomArray.push(toolBar.topBar),global.toolBar&&toolBar.bottomBar&&this.responseDomArray.push(toolBar.bottomBar),global.toolBar&&toolBar.extendedBar.$bar&&this.responseDomArray.push(toolBar.extendedBar.$bar),toolBar.buttons.each(function(t){this.responseDomArray.push(t.$button)}.bind(this)))},changeFullscreenIcon:function(t){t?(this.fullscreenBtn.changeCssSprite(this.toolBarIconUrl,"exitFullScreen",35,35,catalogIconInfo),this.fullscreenBtn.attr("title",getLanguage("btnExitFullscreen","exitFullScreen")),this.fullscreenBtn.unbind(_event._down),this.fullscreenBtn.unbind(_event._enter),this.fullscreenBtn.unbind(_event._leave),this.fullscreenBtn.enterToChange(this.toolBarIconUrl,"exitFullScreen",35,35,catalogIconInfo)):(this.fullscreenBtn.changeCssSprite(this.toolBarIconUrl,"fullScreen",35,35,catalogIconInfo),this.fullscreenBtn.attr("title",getLanguage("btnFullscreen","Fullscreen")),this.fullscreenBtn.unbind(_event._down),this.fullscreenBtn.unbind(_event._enter),this.fullscreenBtn.unbind(_event._leave),this.fullscreenBtn.enterToChange(this.toolBarIconUrl,"fullScreen",35,35,catalogIconInfo))},show:function(){this.$bar.show(),this.logo&&this.logo.show()},hide:function(){this.$bar.hide(),this.logo&&this.logo.hide()},getHeight:function(){return 50},onResize:function(){},initLogo:function(){bookConfig.appLogoIcon&&(this.logo=$("<img src='"+bookConfig.appLogoIcon+"' class='catalog_logo'/>"),this.logo.css({left:bookConfig.logoPadding+"px",top:bookConfig.logoTop+"px",height:bookConfig.logoHeight+"px"}),this.logo.click(function(){var t=getLogoLink();return window.open(t[0],t[1]),!1}),tmpContainer.append(this.logo))}}),SlideThumbnailCell=Class({create:function(t){this.background=$("<div style='position:absolute;'></div>"),this.pageNum=$("<div style='position:absolute;'></div>"),this.img=$("<img />"),this.imgBac=$("<div></div>"),this.pageIndex=-1,this.height=115,this.width=95*bookConfig.largePageWidth/bookConfig.largePageHeight,this.imgHeight=this.imgWidth=-1,$(t).append(this.background),$(this.background).append(this.pageNum),$(this.background).css({position:"absolute",width:this.width+"px",height:this.height+"px",top:"0px"}),$(this.pageNum).css({width:this.width+"px",height:20,bottom:"-8px","line-height":"20px","text-align":"center","vertical-align":"middle",color:"#ffffff","font-size":"12px"}),$(this.imgBac).append(this.img),$(this.imgBac).css({position:"absolute"}),$(this.img).css({position:"absolute"}),$(this.img).addBorderShadow("#555555",0,2)},getPageIndex:function(){return this.pageIndex},getWidth:function(){return this.width},getHeight:function(){return this.height},setPosition:function(t,i,e){null==e&&(e=["left","top"]),$(this.background).css(e[0],t+"px"),$(this.background).css(e[1],i+"px")},onResize:function(t,i){$(this.background).css({width:t+"px",height:i+"px"}),this.onResizeImage(t,i)},onResizeImage:function(){$(this.img).css({width:this.width+"px",height:"95px"}),$(this.imgBac).css({width:this.width+"px",height:"95px"})},setImgPosition:function(t){switch(t){case"l":$(this.imgBac).css({left:"0px",right:"auto"});break;case"r":$(this.imgBac).css({right:"0px",left:"auto"});break;case"c":$(this.imgBac).css({left:(this.width-this.imgWidth)/2+"px",right:"auto"})}},setCaption:function(t){this.pageNum.html(t)},fillImage:function(t){this.pageIndex=t,this.img=$("<img/>"),$(this.background).append(this.imgBac),this.imgBac.empty(),$(this.imgBac).append(this.img),this.onResizeImage(this.width,this.height),this.pageNum.html("<b>"+t+"</b>");var i=this;getPageDir(this.pageCaption,"thumb",originTotalPageCount).then(function(t){$(i.img).attr("src",t)})},clearImage:function(t){$(this.imgBac).empty()},showBorder:function(){$(this.background).css({border:""})},hideBorder:function(){$(this.background)[0].style.border=""},getTextField:function(){return this.pageNum},hideTextField:function(){this.pageNum.hide()},showTextField:function(){this.pageNum.show()},showCell:function(t){$(this.background).css({display:t?"block":"none"})},onMouseUp:function(i,e){var o=this;$(this.background).bind(_event._end,function(t){e.call(i,o)}),$(this.background).bind(_event._enter,function(t){o.background.css({cursor:"pointer"})})},highLight:function(t){$(this.imgBac).css({border:"2px solid #ff8040"})},onMouseOver:function(){var i=this;$(this.imgBac).css({border:""}),$(this.imgBac).bind(_event._enter,function(t){i.imgBac.css({border:"2px solid #0080ff"})}),$(this.imgBac).bind(_event._leave,function(t){i.imgBac.css({border:""})})},clearMouseOver:function(){var i=this;$(this.imgBac).bind(_event._enter,function(t){i.imgBac.css({border:""})}),$(this.imgBac).bind(_event._leave,function(t){i.imgBac.css({border:""})})},onMouseOverUp:function(){var i=this;$(this.imgBac).bind(_event._enter,function(t){i.imgBac.css({border:"2px solid #0080ff"})}),$(this.imgBac).bind(_event._leave,function(t){i.imgBac.css({border:"2px solid #ff8040"})})},clearHighLight:function(){$(this.imgBac).css({border:""})}}),SlideThumbnailItem=Class({create:function(t,i){this.background=$("<div style='position:absolute;font-family:Arial,Tahoma;'></div>"),this.imageBac=$("<div style='position:absolute;'></div>"),this.pageNum=$("<div style='position:absolute;'></div>"),this.itemB=new SlideThumbnailCell(this.imageBac),this.itemA=new SlideThumbnailCell(this.imageBac),this.height=115,this.width=190*bookConfig.largePageWidth/bookConfig.largePageHeight,this.isMerge=this.isDoublePage=!0,this.pageIndex=i,this.fillImage=!1,this.mainColor="#000000",$(t).append(this.background),$(this.background).append(this.imageBac),$(this.background).append(this.pageNum),$(this.background).css({position:"absolute",width:this.width+"px",height:this.height+"px",top:"2px"}),$(this.imageBac).css({position:"absolute",width:this.width+"px",height:95}),$(this.pageNum).css({width:this.width+"px",height:20,bottom:"-8px","line-height":"20px","text-align":"center","vertical-align":"middle",color:"#ffffff","font-size":"12px"}),(1!=i&&i!=totalPageCount?(this.itemA.setPosition(0,0,rightToLeft?["right","top"]:["left","top"]),this.itemB.setPosition(0,0,rightToLeft?["left","top"]:["right","top"]),this.itemB.onMouseUp(this,this.onItemMouseUp),this.itemA.pageIndex=i,this.itemB.pageIndex=i+1,this):(1!=i&&rightToLeft?this.itemA.setPosition(0,0,["right","top"]):this.itemA.setPosition(0,0),this.itemB.showCell(!1),this.setBorder(!1),this.itemA.pageIndex=i,this.itemA)).onMouseOver(),this.itemA.onMouseUp(this,this.onItemMouseUp),$(this.pageNum).hide()},getWidth:function(){return this.width},addImage:function(){this.fillImage||(this.itemA.fillImage(this.pageIndex),1!=this.pageIndex&&this.pageIndex!=totalPageCount&&this.itemB.fillImage(this.pageIndex+1),this.fillImage=!0,rightToLeft?$(this.pageNum).html(this.pageIndex+1+"-"+this.pageIndex):$(this.pageNum).html("<b>"+this.pageIndex+"-"+(this.pageIndex+1)+"</b>"))},clearImage:function(){this.itemA.clearImage(this.pageIndex),1!=this.pageIndex&&this.pageIndex!=totalPageCount&&this.itemB.clearImage(this.pageIndex+1),this.fillImage=!1},setPosition:function(t,i,e){null==e&&(e=["left","top"]),$(this.background).css(e[0],t+"px"),$(this.background).css(e[1],i+"px")},onResize:function(t,i){this.width=t,this.height=i,$(this.background).css({width:t+"px",height:i+"px"})},resetItem:function(){},fission:function(){1!=this.pageIndex&&this.pageIndex!=totalPageCount&&(this.setBorder(!1),this.onResize(this.width,this.height),this.itemA.setImgPosition("r"),this.itemB.setImgPosition("l"),this.showTextField(!1),this.isMerge=!1)},merge:function(){1!=this.pageIndex&&this.pageIndex!=totalPageCount&&(this.setBorder(!1),this.onResize(this.width,this.height),this.itemA.setImgPosition("r"),this.itemB.setImgPosition("l"),this.showTextField(!0),this.isMerge=!0)},showBorder:function(){$(this.imageBac).css({border:"1px solid #444444"})},hideBorder:function(){$(this.imageBac)[0].style.border=""},showTextField:function(t){var i=t?"none":"block";this.pageNum.css({display:t?"block":"none"}),this.itemA.getTextField().css({display:i}),this.itemB.getTextField().css({display:i})},setBorder:function(t){t?$(this.imageBac).css({border:"1px solid #444444"}):$(this.imageBac)[0].style.border="",this.itemA.hideBorder(),this.itemB.hideBorder()},onItemMouseUp:function(t){isThumbDrag||(t=t.getPageIndex(),gotoPageFun(t,!1,"thumbnail"),thumbnail&&thumbnail.setHighLight(t))},highLight:function(t){(this.isMerge?1==t||t==totalPageCount?(this.itemA.highLight("#ffffff"),this.itemA):($(this.imageBac).css({border:"2px solid #ff8040"}),this):t==this.pageIndex?(this.itemA.highLight("#ffffff"),this.itemA):(this.itemB.highLight("#ffffff"),this.itemB)).onMouseOverUp()},onMouseOver:function(){var i=this;$(this.imageBac).css({border:""}),$(this.imageBac).bind(_event._enter,function(t){i.imageBac.css({border:"2px solid #0080ff"})}),$(this.imageBac).bind(_event._leave,function(t){i.imageBac.css({border:""})})},onMouseOverUp:function(){var i=this;$(this.imageBac).bind(_event._enter,function(t){i.imageBac.css({border:"2px solid #0080ff"})}),$(this.imageBac).bind(_event._leave,function(t){i.imageBac.css({border:"2px solid #ff8040"})})},clearMouseOver:function(){var i=this;$(this.imageBac).bind(_event._enter,function(t){i.imageBac.css({border:""})}),$(this.imageBac).bind(_event._leave,function(t){i.imageBac.css({border:""})})},clearHighLight:function(){this.isMerge?1==this.pageIndex||this.pageIndex==totalPageCount?(this.itemA.onMouseOver(),this.itemB.onMouseOver()):(this.onMouseOver(),this.itemA.clearMouseOver(),this.itemB.clearMouseOver()):(this.itemA.onMouseOver(),this.itemB.onMouseOver(),this.clearMouseOver()),this.itemA.clearHighLight(),this.itemB.clearHighLight()}}),isThumbDrag=!1,SlideThumbnailBar=Class({create:function(t){this.width=windowWidth,this.height=135,this.contentHeight=120,this.mainColor="#888888",this.thumbArray=[],this.mouseDown=this.showing=!1,this.scrollBoxX=this.mouseDownX=-1,this.lastMoveX=(windowWidth-this.width+20)/2-1,this.lastMoveTime=-1,this.mergeing=this.moveLeft=!1,this.pageIndex=this.currentCellIndex=1,this.createThumbItemFalg=!1,this.oldMode=this.currentMedo=0,this.initPanel(t)},initPanel:function(t){this.background=$("<div id='slide_thumbnail'></div>"),this.contentBox=$("<div></div>"),this.contentBac=$("<div></div>"),this.scrollBox=$("<div></div>"),this.openButton=$("<div id='slide_open_button'></div>"),$(this.background).css({width:"100%",bottom:-this.height,position:"absolute",height:this.height,"z-index":100}),$(this.contentBac).css({width:"100%",bottom:-this.height,position:"absolute",height:this.height,"z-index":100}),this.scrollBox.css({position:"absolute",height:this.contentHeight}),this.contentBox.css({width:"100%",position:"absolute",bottom:"1px",height:"100%",left:10,top:(this.height-this.contentHeight)/2,overflow:"hidden",opacity:"0.9"}),this.openButton.css({width:"47px",height:"20px",background:bookConfig.thumbnailColor,"border-radius":"5px 5px 0px 0px",margin:"-20px auto",position:"relative","padding-top":"-16px",cursor:"pointer","text-align":"center"}),this.openButton.append("<img style='margin-top:5px;' src='"+uiBaseURL+"arrow-up.png'/>"),$(this.contentBac).css({background:bookConfig.thumbnailColor}),isNaN(bookConfig.thumbnailAlpha)||""==bookConfig.thumbnailAlpha||null==bookConfig.thumbnailAlpha||null==bookConfig.thumbnailAlpha?isBelowIE9()||$(this.contentBac).css({opacity:.3}):isBelowIE9()||$(this.contentBac).css({opacity:bookConfig.thumbnailAlpha/100}),$(t).append(this.contentBac),$(t).append(this.background),$(this.background).append(this.contentBox),$(this.contentBox).append(this.scrollBox),$(this.contentBac).append(this.openButton),this.openButton.bind(_event._end,this.showOrHide.bind(this))},getPageIndex:function(){return this.pageIndex},setPageIndex:function(t){this.pageIndex=t},getHeight:function(){return this.height},onResize:function(){this.width=windowWidth;var t,i=$(this.contentBox).width(),e=$(this.scrollBox).width();e<i?$(this.scrollBox).css({left:(i-e)/2+"px"}):((t=0<(t=$(this.scrollBox).offset().left)?0:t)<i-e&&(t=i-e),$(this.scrollBox).css({left:t+"px"}))},setPosition:function(t,i,e){null==e&&(e=["left","top"]),$(this.background).css(e[0],t+"px"),$(this.background).css(e[1],i+"px"),$(this.contentBac).css(e[0],t+"px"),$(this.contentBac).css(e[1],i+"px")},addItem:function(){for(var t=0;t<=originTotalPageCount;){var i=new SlideThumbnailItem(this.scrollBox,0==t?1:t);i.getWidth(),i.setPosition(this.thumbArray.length*(i.getWidth()+15)+5,2.5),this.thumbArray.push(i),t+=2}$(this.scrollBox).css({width:this.thumbArray.length*(i.getWidth()+15)+10+"px"})},resetItemPosition:function(){for(var t=0,i=this.thumbArray.length,e=0;e<i;e++)var o=this.thumbArray[e],s=o.getWidth()/2+20+(i-1)*(o.getWidth()+15),t=rightToLeft?0==e?(t=s-5-o.getWidth()/2,o.setPosition(t,2.5),t-15-o.getWidth()):(o.setPosition(t,2.5),t-o.getWidth()-15):0==e?(o.setPosition(5,2.5),o.getWidth()/2+20):(o.setPosition(t,2.5),t+o.getWidth()+15);$(this.scrollBox).css({width:s})},mergeAll:function(){this.currentMedo=2,this.showing&&this.createThumbItemFalg&&this.currentMedo!=this.oldMode&&(this.repositionDouble(),this.oldMode=2),this.mergeing=!0},fissionAll:function(){this.currentMedo=1,this.showing&&this.createThumbItemFalg&&this.currentMedo!=this.oldMode&&(this.repositionSingle(),this.oldMode=1),this.mergeing=!1},repositionDouble:function(){for(var t=0;t<this.thumbArray.length;t++)this.thumbArray[t].merge();this.resetItemPosition(),this.clearHighLight(this.getPageIndex()),this.setHighLight(this.getPageIndex())},repositionSingle:function(){for(var t=0;t<this.thumbArray.length;t++)this.thumbArray[t].fission();this.resetItemPosition(),this.clearHighLight(this.getPageIndex()),this.setHighLight(this.getPageIndex())},getShowStatu:function(){return this.showing},setShowStatu:function(t){this.showing=t},showOrHide:function(){this.showing?this.hide():this.show()},show:function(){this.showing=!0,this.createThumbItemFalg&&this.currentMedo!=this.oldMode&&1===this.currentMedo&&this.repositionSingle(),this.createThumbItemFalg&&this.currentMedo!=this.oldMode&&2===this.currentMedo&&this.repositionDouble(),this.createThumbItemFalg||(this.createThumbItemFalg=!0,this.addItem(),1===this.currentMedo?this.repositionSingle():this.repositionDouble(),this.initEvent(),this.onResize(),this.setHighLight(this.getPageIndex()),this.fillNearByImages(0)),this.oldMode=this.currentMedo,$(this.background).animate({bottom:0},300),$(this.contentBac).animate({bottom:0},300),this.openButton.empty().append("<img style='margin-top:5px;' src='"+uiBaseURL+"arrow-down.png'/>")},hide:function(){$(this.background).animate({bottom:-135},300),$(this.contentBac).animate({bottom:-135},300),this.openButton.empty().append("<img style='margin-top:5px;' src='"+uiBaseURL+"arrow-up.png'/>"),this.showing=!1},getOccuHeight:function(){return 120},initEvent:function(){var e=this;this.background.bind(_event._down,function(t){return!1}),$(this.contentBox).bind(_event._down,function(t){return e.mouseDown=!0,isThumbDrag=!1,t=isTouch?t.originalEvent.touches:[t],e.mouseDownX=t[0].pageX,e.scrollBoxX=$(e.scrollBox).offset().left,!1}),$(this.contentBox).bind(_event._move,function(t){var i;e.mouseDown&&(t=isTouch?t.originalEvent.touches:[t],i=e.mouseDownX-t[0].pageX,20<Math.abs(i)&&(isThumbDrag=!0),$(e.contentBox).width()>$(e.scrollBox).width()||((i=0<(i=e.scrollBoxX-i-(windowWidth-e.width+20)/2)?0:i)<$(e.contentBox).width()-$(e.scrollBox).width()&&(i=$(e.contentBox).width()-$(e.scrollBox).width()),$(e.scrollBox).css({left:i+"px"}),e.moveLeft=e.lastMoveX>t[0].pageX,e.lastMoveX=t[0].pageX,e.lastMoveTime=(new Date).getTime()))}),$(this.contentBox).bind(_event._end,function(t){e.mouseDown=!1,(new Date).getTime()-e.lastMoveTime<100&&-1!=e.lastMoveTime&&(t=e.moveLeft?-30:30,e.tweener($(e.scrollBox).offset().left-(windowWidth-e.width+20)/2,t,10))}),$(this.contentBox).bind("mouseleave",function(t){e.mouseDown=!1})},setHighLight:function(t){var i,e,o;this.currentCellIndex=t,this.setPageIndex(t),this.createThumbItemFalg&&(o=Math.floor(t/2),originTotalPageCount<t||(this.thumbArray[o].highLight(t),this.clearHighLight(o),$(this.contentBox).width()>$(this.scrollBox).width()?$(this.scrollBox).css({left:($(this.contentBox).width()-$(this.scrollBox).width())/2+"px"}):(t=$(this.scrollBox).offset().left-(windowWidth-self.width+20)/2,i=$(this.contentBox).width(),e=rightToLeft?(this.thumbArray.length-(o-1))*(this.thumbArray[o].getWidth()+5)+5:(o-1)*(this.thumbArray[o].getWidth()+5)+5,o=this.thumbArray[o].getWidth(),this.tweener(t,-(e+t-(i-o)/2)/6,6))))},clearHighLight:function(t){if(this.createThumbItemFalg)for(var i=0;i<this.thumbArray.length;i++)i!=t&&this.thumbArray[i].clearHighLight()},tweener:function(t,i,e){var o=function(t,i){for(var e=i/2,o=(t-t/4)/e,s=Array(i),n=0;n<i;n++)s[n]=n<e?t-(e-n)*o:t+(n-e+1)*o;return s.reverse()}(i,e),s=t,n=0,a=this,h=window.setInterval(function(){s+=o[n],(s=0<(s=++n==e?t+i*e:s)?0:s)<$(a.contentBox).width()-$(a.scrollBox).width()&&(s=$(a.contentBox).width()-$(a.scrollBox).width()),$(a.scrollBox).css({left:s+"px"}),e<=n&&(window.clearInterval(h),a.fillNearByImages(s))},30)},fillNearByImages:function(t){if(this.createThumbItemFalg){var i=Math.ceil((this.background.width()-t)/65)+2;if(this.background.width()>this.scrollBox.width()?(t=0,i=originTotalPageCount+1):t=0==t?0:Math.ceil(-t/100),t=Math.max(Math.ceil(t/2),0),i=Math.min(i,originTotalPageCount+1),0<t)for(var e=0;e<t;e++)this.thumbArray[e]&&this.thumbArray[e].clearImage();for(e=t;e<Math.ceil(i/2);e++)t=rightToLeft?this.thumbArray.length-e-1:e,this.thumbArray[t]&&this.thumbArray[t].addImage()}}}),homeButtonEvent=(Class("PCSlideToolbar",{create:function(t){this.parent=t,this.initToolBar(),this.initGuidBar(),this.initLogo()},initGuidBar:function(){this.leftBar=$("<div style='z-index:5;position:absolute;cursor:pointer;width:50px;height:50px;top:50%;opacity:0.7;margin-top:-25px;'></div>"),this.rightBar=$("<div class='slideBar'></div>"),this.leftBar.css({left:bookConfig.leftMargin,"background-image":"url("+uiBaseURL+"slide_prev_page.png)","background-repeat":"no-repeat","background-position":"center","background-size":"18px 18px","background-color":bookConfig.toolbarColor,"border-radius":"5px"}),this.rightBar.css({right:bookConfig.rightMargin,"background-image":"url("+uiBaseURL+"slide_next_page.png)","background-repeat":"no-repeat","background-position":"center","background-size":"18px 18px","background-color":bookConfig.toolbarColor,"border-radius":"5px"}),this.parent.append(this.leftBar),this.parent.append(this.rightBar),rightToLeft?(this.leftBar.bind(_event._end,function(){nextPageFun("slid bar")}),this.rightBar.bind(_event._end,function(){previousPageFun("slid bar")}),this.leftBar.attr({title:getLanguage("btnNextPage","Next")}),this.rightBar.attr({title:getLanguage("btnPrePage","Previous")})):(this.leftBar.bind(_event._end,function(){previousPageFun("slid bar")}),this.rightBar.bind(_event._end,function(){nextPageFun("slid bar")}),this.leftBar.attr({title:getLanguage("btnPrePage","Previous")}),this.rightBar.attr({title:getLanguage("btnNextPage","Next")})),this.rightBar.bind(_event._down,function(){this.rightBar.css({opacity:"0.5"})}.bind(this)),this.rightBar.bind(_event._end+" "+_event._leave,function(){this.rightBar.css({opacity:"0.7"})}.bind(this)),this.leftBar.bind(_event._down,function(){this.leftBar.css({opacity:"0.5"})}.bind(this)),this.leftBar.bind(_event._end+" "+_event._leave,function(){this.leftBar.css({opacity:"0.7"})}.bind(this))},initToolBar:function(){this.toolbarBac=$("<div class='slideToolbar'></div>"),this.fullscreenBtn=$("<img src='"+uiBaseURL+"slide-fullscreen.png'/>"),this.homeBtn=$("<img src='"+uiBaseURL+"slide-home.png'/>"),bookConfig.ShareButtonVisible&&(this.shareBtn=$("<img src='"+uiBaseURL+"slide-share.png'/>")),this.parent.append(this.toolbarBac),this.toolbarBac.append(this.fullscreenBtn),this.toolbarBac.append(this.homeBtn),this.toolbarBac.append(this.shareBtn),this.toolbarBac.css("background-color",bookConfig.toolbarColor),this.shareBtn&&this.shareBtn.bind(_event._end,function(){return sharePanel.showOrHide(),!1}),this.homeBtn.bind(_event._end,function(){return homeButtonEvent(),!1}),this.fullscreenBtn.bind(_event._end,function(){return readAsFullscreen(),!1}),$(document).bind(fullScreenApi.fullScreenEventName,function(){this.changeFullscreenIcon(fullScreenApi.isFullScreen())}.bind(this)),this.fullscreenBtn.attr("title",getLanguage("btnFullscreen","Enter fullscreen")),this.homeBtn.attr("title",getLanguage("btnGoToHome","Home")),this.shareBtn&&this.shareBtn.attr("title",getLanguage("btnSocialShare","Share"));var t=this.toolbarBac.width();this.toolbarBac.css({"margin-left":-t/2+"px"})},changeFullscreenIcon:function(){fullScreenApi.isFullScreen()?(this.fullscreenBtn.attr("src",uiBaseURL+"slide-exitFullscreen.png"),this.fullscreenBtn.attr("title",getLanguage("btnExitFullscreen","Exit fullscreen"))):(this.fullscreenBtn.attr("src",uiBaseURL+"slide-fullscreen.png"),this.fullscreenBtn.attr("title",getLanguage("btnFullscreen","Enter fullscreen")))},hide:function(){},show:function(){},getLogoHeight:function(){return 0},getHeight:function(){return 0},getTopHeight:function(){return 0},getBottomHeight:function(){return 0},getLeftWidth:function(){return 0},getRightWidth:function(){return 0},getWidth:function(){return 0},setButtonPosition:function(){},initLogo:function(){bookConfig.appLogoIcon&&""!=bookConfig.appLogoIcon&&(this.logo=$("<img src='"+bookConfig.appLogoIcon+"'/>"),this.logo.css({position:"absolute",left:bookConfig.logoPadding+"px",top:bookConfig.logoTop+"px",height:bookConfig.logoHeight+"px",cursor:"pointer","z-index":"3"}),this.logo.click(function(){BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"logoImage","logo"]);var t=getLogoLink();return window.open(t[0],t[1]),!1}),this.parent.append(this.logo))}}),function(){var t;"%first page%"==bookConfig.HomeURL.toLowerCase()?firstPageFun(firstPageFun):null!=bookConfig.HomeURL&&""!=bookConfig.HomeURL&&(t=bookConfig.HomeURL,t=getRealURL(t),window.open(t,bookConfig.OpenWindow))}),hexcase=0,b64pad="",chrsz=8;function compareov(){var t=Date.parse(new Date);return orgt(t)===vldt(t)}function orgt(t){return binl2hex(core_hx(str2binl(t),t.length*chrsz))}function vldt(t){return binl2hex(core_hx(str2binl(t),t.length*chrsz))}function core_hx(t,i){t[i>>5]|=128<<i%32,t[14+(i+64>>>9<<4)]=i,i=1732584193;for(var e=-271733879,o=-1732584194,s=271733878,n=0;n<t.length;n+=16){var a=i,h=e,r=o,g=s;i=hx_ff(i,e,o,s,t[n+0],7,-680876936),s=hx_ff(s,i,e,o,t[n+1],12,-389564586),o=hx_ff(o,s,i,e,t[n+2],17,606105819),e=hx_ff(e,o,s,i,t[n+3],22,-1044525330),i=hx_ff(i,e,o,s,t[n+4],7,-176418897),s=hx_ff(s,i,e,o,t[n+5],12,1200080426),o=hx_ff(o,s,i,e,t[n+6],17,-1473231341),e=hx_ff(e,o,s,i,t[n+7],22,-45705983),i=hx_ff(i,e,o,s,t[n+8],7,1770035416),s=hx_ff(s,i,e,o,t[n+9],12,-1958414417),o=hx_ff(o,s,i,e,t[n+10],17,-42063),e=hx_ff(e,o,s,i,t[n+11],22,-1990404162),i=hx_ff(i,e,o,s,t[n+12],7,1804603682),s=hx_ff(s,i,e,o,t[n+13],12,-40341101),o=hx_ff(o,s,i,e,t[n+14],17,-1502002290),i=hx_gg(i,e=hx_ff(e,o,s,i,t[n+15],22,1236535329),o,s,t[n+1],5,-165796510),s=hx_gg(s,i,e,o,t[n+6],9,-1069501632),o=hx_gg(o,s,i,e,t[n+11],14,643717713),e=hx_gg(e,o,s,i,t[n+0],20,-373897302),i=hx_gg(i,e,o,s,t[n+5],5,-701558691),s=hx_gg(s,i,e,o,t[n+10],9,38016083),o=hx_gg(o,s,i,e,t[n+15],14,-660478335),e=hx_gg(e,o,s,i,t[n+4],20,-405537848),i=hx_gg(i,e,o,s,t[n+9],5,568446438),s=hx_gg(s,i,e,o,t[n+14],9,-1019803690),o=hx_gg(o,s,i,e,t[n+3],14,-187363961),e=hx_gg(e,o,s,i,t[n+8],20,1163531501),i=hx_gg(i,e,o,s,t[n+13],5,-1444681467),s=hx_gg(s,i,e,o,t[n+2],9,-51403784),o=hx_gg(o,s,i,e,t[n+7],14,1735328473),i=hx_hh(i,e=hx_gg(e,o,s,i,t[n+12],20,-1926607734),o,s,t[n+5],4,-378558),s=hx_hh(s,i,e,o,t[n+8],11,-2022574463),o=hx_hh(o,s,i,e,t[n+11],16,1839030562),e=hx_hh(e,o,s,i,t[n+14],23,-35309556),i=hx_hh(i,e,o,s,t[n+1],4,-1530992060),s=hx_hh(s,i,e,o,t[n+4],11,1272893353),o=hx_hh(o,s,i,e,t[n+7],16,-155497632),e=hx_hh(e,o,s,i,t[n+10],23,-1094730640),i=hx_hh(i,e,o,s,t[n+13],4,681279174),s=hx_hh(s,i,e,o,t[n+0],11,-358537222),o=hx_hh(o,s,i,e,t[n+3],16,-722521979),e=hx_hh(e,o,s,i,t[n+6],23,76029189),i=hx_hh(i,e,o,s,t[n+9],4,-640364487),s=hx_hh(s,i,e,o,t[n+12],11,-421815835),o=hx_hh(o,s,i,e,t[n+15],16,530742520),i=hx_ii(i,e=hx_hh(e,o,s,i,t[n+2],23,-995338651),o,s,t[n+0],6,-198630844),s=hx_ii(s,i,e,o,t[n+7],10,1126891415),o=hx_ii(o,s,i,e,t[n+14],15,-1416354905),e=hx_ii(e,o,s,i,t[n+5],21,-57434055),i=hx_ii(i,e,o,s,t[n+12],6,1700485571),s=hx_ii(s,i,e,o,t[n+3],10,-1894986606),o=hx_ii(o,s,i,e,t[n+10],15,-1051523),e=hx_ii(e,o,s,i,t[n+1],21,-2054922799),i=hx_ii(i,e,o,s,t[n+8],6,1873313359),s=hx_ii(s,i,e,o,t[n+15],10,-30611744),o=hx_ii(o,s,i,e,t[n+6],15,-1560198380),e=hx_ii(e,o,s,i,t[n+13],21,1309151649),i=hx_ii(i,e,o,s,t[n+4],6,-145523070),s=hx_ii(s,i,e,o,t[n+11],10,-1120210379),o=hx_ii(o,s,i,e,t[n+2],15,718787259),e=hx_ii(e,o,s,i,t[n+9],21,-343485551),i=safe_add(i,a),e=safe_add(e,h),o=safe_add(o,r),s=safe_add(s,g)}return[i,e,o,s]}function hx_cmn(t,i,e,o,s,n){return safe_add(bit_rol(safe_add(safe_add(i,t),safe_add(o,n)),s),e)}function hx_ff(t,i,e,o,s,n,a){return hx_cmn(i&e|~i&o,t,i,s,n,a)}function hx_gg(t,i,e,o,s,n,a){return hx_cmn(i&o|e&~o,t,i,s,n,a)}function hx_hh(t,i,e,o,s,n,a){return hx_cmn(i^e^o,t,i,s,n,a)}function hx_ii(t,i,e,o,s,n,a){return hx_cmn(e^(i|~o),t,i,s,n,a)}function safe_add(t,i){var e=(65535&t)+(65535&i);return(t>>16)+(i>>16)+(e>>16)<<16|65535&e}function bit_rol(t,i){return t<<i|t>>>32-i}function str2binl(t){for(var i=[],e=(1<<chrsz)-1,o=0;o<t.length*chrsz;o+=chrsz)i[o>>5]|=(t.charCodeAt(o/chrsz)&e)<<o%32;return i}function binl2hex(t){for(var i=hexcase?"0123456789ABCDEF":"0123456789abcdef",e="",o=0;o<4*t.length;o++)e+=i.charAt(t[o>>2]>>o%4*8+4&15)+i.charAt(t[o>>2]>>o%4*8&15);return e}var windowWidth=0,windowHeight=0,originTotalPageCount,totalPageCount,isTouch=!1,bookContainer,tmpContainer,slideBook,singleSlideBook,catalogBook,singleCatalogBook,flipBook,singlePageBook,flipShotButton,toolBar,printBody,helpBody,aboutBody,sharePanel,annotationPannel,videoGallery,photoGallery,languagePanel,frmSearch,frmShare,frmTableOfContent,bookmark,thumbnail,googleID,noteCookie,textRemark,signature,annotationShapes,QRcode,QRbutton,moreBar,pageIndexTextField,resizeBookAfterFlip=!1,flipAudio,auto_player,hardPageEnable,uiBaseURL,phoneBaseURL,soundBaseURL,browserType,bookType=0,rightToLeft=!1,isFlipPdf=!1;